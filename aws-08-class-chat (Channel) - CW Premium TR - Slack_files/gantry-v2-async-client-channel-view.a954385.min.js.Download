(()=>{var Si=Object.defineProperty;var s=(Y,i)=>Si(Y,"name",{value:i,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-async-client-channel-view"],{"+Lz1":function(Y,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"b",function(){return l}),e.d(i,"c",function(){return u});var a=e("DwFS");const t=Object(a.a)("Add function auths");t.meta={name:"createAction",key:"createActionaddFunctionAuths",description:"Add function auths"};const l=Object(a.a)("Reset function auths");l.meta={name:"createAction",key:"createActionresetFunctionAuths",description:"Reset function auths"};const u=Object(a.a)("Set default auth token");u.meta={name:"createAction",key:"createActionsetDefaultAuthToken",description:"Set default auth token"}},"+l1W":function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-ko-KR-36126cb.gif"},"/2Yp":function(Y,i,e){"use strict";e.d(i,"a",function(){return c});var a=e("9oTK"),t=e.n(a),l=e("SQ0V"),u=e("qRCo");const c=Object(l.c)("Start Function OAuth",function(){var g=Object(a.coroutine)(function*(b,S,v){let{appId:T,providerKey:I,functionId:d,workflowId:f,reason:C="start_function_auth"}=v;const N=(yield b(Object(u.a)({appId:T,providerKey:I,functionId:d,workflowId:f,reason:C}))).authorization_url;window.open(N,"_blank","popup,noopener,noreferrer")});return function(b,S,v){return g.apply(this,arguments)}}());c.meta={name:"createThunk",key:"createThunkstartFunctionAuth",description:"Start Function OAuth"}},"/vXU":function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("SQ0V"),u=e("3l96"),c=e("zxER"),g=e("itAW"),b=e("H8zP"),S=e("/Hvu");const v={location:"search"},T=s(C=>{let{triggerId:j,uiPage:N}=C;const O=Object(c.c)(L=>Object(g.f)(L,{triggerId:j},!0)),M=Object(S.a)({trigger:O});return M?t.a.createElement(b.default,{shortcutInfo:M,hermesLinkTriggerUIContext:v,uiPage:N}):null},"WorkflowModal");T.displayName="WorkflowModal";var I=T;const d=Object(l.c)("Handles user click on workflow item in explorer view",(C,j,N)=>{let{e:O,triggerId:M,uiPage:L}=N;O==null||O.preventDefault(),C(Object(u.a)({name:"workflow-item-modal",element:t.a.createElement(I,{triggerId:M,uiPage:L})}))});d.meta={name:"createThunk",key:"createThunkhandleWorkflowItemClick",description:"Handles user click on workflow item in explorer view"};var f=i.a=d},"17wV":function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-ja-JP-fe83200.gif"},"1ILc":function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("Cfcg"),u=e("BHdc"),c=e("WIr4"),g=e("vSIF"),b=e("ktUG"),S=e("gq0b"),v=e("2vQQ"),T=e("fLNI"),I=e("TUDT"),d=e("RVJP"),f=e("uZL6"),C=e("E3dU"),j=e("ISSR"),N=e("IXzp"),O=e("FVdo"),M=e("Yv4i"),L=e("9MPI"),k=e("Yauy"),F=e("XXd4"),ee=e("QcWC"),G=Object(f.a)(h=>Object(d.d)(h,"adoption_instant_slack")==="treatment",h=>Object(d.d)(h,"adoption_instant_slack_move_session")==="on",h=>Object(ee.a)(h),(h,E)=>{const P=Object(L.a)(h,E==null?void 0:E.id,M.a);return P==null?void 0:P.enabled},(h,E)=>!Object(F.a)(h,E),(h,E)=>Object(k.db)(E),(h,E,P,K,ae,se)=>({experimentAdoptionInstantSlackGroupTreatment:h,experimentAdoptionInstantSlackMoveSessionGroupOn:E,isInstantSlackInviteeSession:P,isInstantSlackChannel:K,isHostTeam:ae,isChannelMember:se})),x=e("3vtZ"),U=e("PX9a"),H=e("AxFX"),p=e("EAKl"),_;(function(h){h.AvatarStack="avatar_stack",h.ShareQuip="share_quip",h.QuipDivider="quip_divider",h.CloseQuip="close_quip",h.CloseTile="close_tile",h.Call="call",h.RefreshAllUnreads="refresh_all_unreads",h.DetachedWindow="detached_window",h.ChannelSpace="channel_space",h.InstantSlackEndConversation="instant_slack_end_conversation",h.InstantSlackSaveConversation="instant_slack_save_conversation",h.Huddle="huddle",h.RecordChannel="record_channel",h.SummarizeChannel="summarize_channel"})(_||(_={}));var R=Object(f.a)((h,E)=>{let{id:P}=E;return Object(O.b)(h,P)},(h,E)=>{let{id:P}=E;return Object(j.a)(Object(C.d)(h,P))},(h,E)=>{let{id:P}=E;return Object(N.h)(h,Object(C.d)(h,P))},(h,E)=>{let{id:P}=E;return G(h,Object(C.d)(h,P)||void 0)},(h,E)=>{let{id:P}=E;return Object(x.e)(h,Object(C.d)(h,P))},h=>Object(N.f)(h),(h,E)=>{let{id:P}=E;return Object(U.b)(h)&&Object(H.a)(P)},h=>Object(p.d)(h),(h,E,P,K,ae,se,ue,je)=>{const be=[],ze=[O.a.Channel,O.a.MPDM,O.a.DM].includes(h);if(h===O.a.Unknown)return[];const{isChannelMember:Qe,isHostTeam:Je,experimentAdoptionInstantSlackGroupTreatment:Ge,experimentAdoptionInstantSlackMoveSessionGroupOn:Oe,isInstantSlackChannel:ft,isInstantSlackInviteeSession:Kt}=K;(h===O.a.Channel||h===O.a.MPDM)&&!E&&!Kt&&be.push(_.AvatarStack),ae&&be.push(_.Huddle);const Ht=P&&se&&!ae;!ze&&Ht&&be.push(_.Call),h===O.a.Channel&&Ge&&Qe&&Je&&ft&&be.push(_.InstantSlackEndConversation);const ea=h===O.a.Channel&&Kt&&ft;return Oe&&ea&&be.push(_.InstantSlackSaveConversation),je&&(h===O.a.Channel||h===O.a.MPDM||h===O.a.DM)&&be.push(_.SummarizeChannel),ze&&(Ht&&be.push(_.Call),be.push(_.ChannelSpace)),h===O.a.Channel&&ue&&be.push(_.RecordChannel),be[be.length-1]===_.QuipDivider&&be.pop(),be}),w=e("orxu"),Q=e("HKlo"),re=e("Trx9"),de=e("nNoG"),Ne=e("JoR1"),ye=e("SpKr");function le(h){const E=Object(Ne.u)(h,"seen_a11y_pref_setup_coachmark"),P=Object(ye.a)(h)>=30;return Object(d.d)(h,"exp_a11y_education_coachmark")==="on"&&!E&&P}s(le,"isUserEligibleForA11yPrefsSetupCoachmark");var De=e("HkGY"),Ae=e("nFQW"),Ie=e("nWdO"),He=e("CnKg"),We=e("6Ng/"),Me=e("iLjr"),Xe=e("c+5m"),Ct=e("+4XL"),Pt=e("4KfL"),qe=e("zxER"),Tt=e("/MKj"),Ze=e("tYiI"),ta=e("t0jf"),Et=e("gVOt"),Rt=e("x6tY"),Xt=e("gWIG"),ya=e("Bz4R"),da=e("lpXb"),Ka=e("NK7x"),ia=e("dmdh"),fa=e("oEDn"),ca=e("ZobM"),Qt=e("6R8Z"),$t=e("Tsh7"),Bt=e("AwEi"),Gt=e("/qcS"),_t=e("9WTs"),ot=e("yz5U"),qt=e("ItXa"),jt=e("1DMY"),aa=e("sgFo"),it=e("LRQ2"),ga=e("W7ht"),kt=e("5BbJ"),yt=e("wY8X"),ba=e("rnop"),xa=e("ZlCs"),nt=e("RcBX"),pt=e("pFNT"),Ye=e("g/kD"),ge=e("rYD8");function It(h){let{id:E}=h;const P=Object(qe.c)(se=>Object(C.d)(se,E)),K=Object(Et.a)(P),ae=Object(nt.a)(P);return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-view_header__avatar"},t.a.createElement(pt.c,{userId:K,size:pt.a.small,showBadge:!1,isInteractive:!1,showPresence:!0})),t.a.createElement("span",{className:"p-view_header__truncated_text"},t.a.createElement(ge.a,{className:"p-view_header__member_name",id:K,showMemberNameIfHidden:!0})),ae&&t.a.createElement(fa.a,{inline:!0,type:"hourglass","data-qa":"view_header_pending_icon"}),t.a.createElement(Ye.a,{memberId:K,className:"p-view_header__custom_status",noText:!0,tooltip:!1}))}s(It,"DMTitle"),It.displayName="DMTitle";var Fe=It,St=e("KuM7"),na=e("cd9r"),Jt=e("vJtL"),sa=e("fujP");const Nt=new de.b("classic_nav"),Wt=s(()=>t.a.createElement("div",{className:"p-ia__view_header__title","data-qa":"ia_view_header_threads"},Nt.t("Threads")),"AllThreadsHeader");Wt.displayName="AllThreadsHeader";var Ot=Wt;function oa(h){let{id:E}=h;const P=Object(S.b)(E),K=Object(qe.c)(ae=>Object(Jt.a)(P==null?void 0:P.label)?P==null?void 0:P.label(ae):void 0);return E==="Vall_threads"?t.a.createElement(Ot,null):Object(sa.a)(P)?null:P.header?t.a.createElement(t.a.Fragment,null,P.header({className:"p-ia__view_header__page_header"})):t.a.createElement("span",{className:"p-view_header__truncated_text"},K)}s(oa,"PageTitle"),oa.displayName="PageTitle";var za=oa,tn=e("aBhT"),$a=e("oHyA"),mn=e("Skui"),Ya=e("I0j/"),Cn=e("37+L"),Nn=e("G0eX"),Qa=e("5eP/"),Vt=e("Atq3");const Lt=new de.b("menu"),Da=s(h=>{let{item:E,dispatch:P,externalWorkspace:K,isViewingFromHome:ae,canCurrentUserOpenCommunityAdminDashboard:se,canUserCreateSlackConnectWorkspaceInvites:ue,communityAdminDashboardUrl:je,window:be,dataQa:Ue,experimentExternalWorkspacePilotV2GroupOn:ze}=h;const Qe=Object(de.k)(Object(Nn.h)(K));switch(E){case"manage_external_workspace":return ze?[]:se?je?[{label:Lt.t("{workspaceName} settings",{workspaceName:Qe}),click:()=>be.open(je,"_blank"),dataQa:Ue}]:[]:[];case"invite_to_slack_connect_workspace":return ze?[]:ue?[{label:Lt.t("Invite to {workspaceName}",{workspaceName:Qe}),click:()=>P(Object($a.a)({id:K.id})),dataQa:Ue}]:[];case"leave_slack_connect_workspace":return ze?[]:[{label:Lt.t("Leave Workspace"),click:()=>P(Object(mn.a)({id:K.id})),danger:!0,dataQa:Ue}];case"navigate_to_workspace_in_external_connections_browser":return ze?ae?[{label:ze?Lt.t("Go to full workspace"):"",click:()=>P(Object(Ya.a)({...Object(Cn.b)(K.id),options:{forceTab:Qa.b}})),dataQa:Ue}]:[]:[];default:return Object(Vt.a)(E)}},"getExternalWorkspaceActionMenuItems");var Ja=e("WSQ4"),Ca=e("i2Y+"),ra=e("3S9f"),ct=e("c+dP"),Dt=e("beVI");function Mt(){return Mt=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var P=arguments[E];for(var K in P)Object.prototype.hasOwnProperty.call(P,K)&&(h[K]=P[K])}return h},Mt.apply(this,arguments)}s(Mt,"_extends");const zt=["manage_external_workspace","invite_to_slack_connect_workspace","navigate_to_workspace_in_external_connections_browser","leave_slack_connect_workspace"],Ve=s(h=>{let{workspaceId:E,isViewingFromHome:P,experimentExternalWorkspacePilotV2GroupOn:K,...ae}=h;const se=Object(Tt.i)(),ue=Object(qe.c)(Je=>Object(Ca.a)(Je,E)),je=Object(qe.c)(Je=>Object(ra.a)(Je,E)),be=Object(qe.c)(Je=>Object(Dt.e)(Je,E)),Ue=Object(qe.c)(Je=>Object(Dt.s)(Je,E)),{window:ze}=Object(a.useContext)(Ja.a);if(!Ue)return null;const Qe=zt.map(Je=>Da({item:Je,dispatch:se,externalWorkspace:Ue,isViewingFromHome:P,canCurrentUserOpenCommunityAdminDashboard:ue,canUserCreateSlackConnectWorkspaceInvites:je,communityAdminDashboardUrl:be,window:ze,experimentExternalWorkspacePilotV2GroupOn:K})).flat();return t.a.createElement(ct.a,Mt({},ae,{template:Qe}))},"ExternalWorkspaceActionsMenu");Ve.displayName="ExternalWorkspaceActionsMenu";var At=e("mQiU"),ha=e("aLDO"),la=e("qDEp"),ma=e("hUMe"),Ia=e("F0YV"),Ua=e("NfYe"),Re=e("2VFn"),me={actionsIcon:"actionsIcon__GwRx7",hostTeamName:"hostTeamName__TnMtv"};function ce(){return ce=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var P=arguments[E];for(var K in P)Object.prototype.hasOwnProperty.call(P,K)&&(h[K]=P[K])}return h},ce.apply(this,arguments)}s(ce,"workspace_title_extends");const _e=new de.b("view-header"),Ce=s(h=>{let{id:E}=h;const P=Object(qe.c)(Ua.g),K=Object(qe.c)(Ue=>Object(Dt.s)(Ue,E)),ae=Object(qe.c)(Ue=>Object(ha.a)(Ue,K)),{activeTab:se}=Object(a.useContext)(At.a),ue=se===Re.f.Home,je=!P||P&&ue,be=Object(a.useCallback)(Ue=>t.a.createElement(Ve,ce({workspaceId:E,isViewingFromHome:ue,experimentExternalWorkspacePilotV2GroupOn:P},Ue)),[P,ue,E]);return t.a.createElement("div",{className:"display_flex align_items_center full_width"},t.a.createElement("div",{className:"flex_one margin_right_50"},_e.rt("About")),ae||je?t.a.createElement("div",{className:"display_flex align_items_center"},ae&&t.a.createElement("div",{className:"display_flex align_items_center margin_right_100"},t.a.createElement(Ia.b,{id:ae,className:"margin_right_50"}),t.a.createElement("span",{className:me.hostTeamName},t.a.createElement(tn.a,{lines:1,withTooltip:!0},_e.rt("Hosted by {hostTeamName}",{hostTeamName:t.a.createElement(ma.a,{id:ae}),fallbackHash:"b181a5a42772471933dc95dce6181c2025e91b61",fallbackHashNs:"events"})))),je?t.a.createElement(ct.e,{renderMenu:be,position:"bottom-left"},t.a.createElement(la.d,{className:me.actionsIcon},t.a.createElement(ca.a,{name:"ellipsis-vertical",size:"20",variation:"filled"}))):null):null)},"WorkspaceTitle");Ce.displayName="WorkspaceTitle";var Ee=e("+gmx");const Se={CHANNEL_NAME_BUTTON:"channel_name_button",CHANNEL_NAME:"channel_name"},fe=new de.b("channel_details"),et={uiStep:b.UiStep.VIEW_HEADER_BIG_BUTTON_CLICK,onClick:{enableClogAction:!0}};function dt(h){let{id:E,displayName:P,teamName:K,topic:ae,customStatusText:se,customStatusEmoji:ue,huddleChannelId:je,viewType:be,isMuted:Ue,memberIdFromIm:ze,file:Qe,isTemplate:Je,shoutyWorkspaceNameIsEnabled:Ge,experimentShoutyWorkspaceNamePrefGroupOn:Oe}=h;const ft=Object(qe.c)(aa.W),Kt=Object(Tt.i)(),Ht=Object(a.useCallback)(()=>{Kt(Object(_t.a)({id:E}))},[Kt,E]),[Za,ea]=Object(a.useState)(!1),La=Object(a.useCallback)(Ma=>{ea(Ma)},[ea]),qa=Object(qe.c)(Ma=>Object(p.o)(Ma)?Object(Ee.N)(Ma,{channelId:E}):!1);let Wa=null;qa?Wa=t.a.createElement("span",{className:"p-view_header__digest_icon"},t.a.createElement(ca.a,{size:"inherit",inline:!0,name:"slack-ai"})):Ue&&(Wa=t.a.createElement(fa.a,{className:"p-view_header__bell",type:"bell-slash",size:"inherit"}));let va,an=P;switch(be){case O.a.Channel:va=t.a.createElement(xa.a,{id:E,onTruncate:La,hideTitleSuffix:!0,inViewHeader:!0});break;case O.a.DM:va=t.a.createElement(Fe,{id:E,statusEmoji:ue}),se&&(an=`${P} ${ue} ${se}`);break;case O.a.MPDM:va=t.a.createElement(St.a,{id:E,shouldTruncate:!0,showTooltip:!0});break;case O.a.App:va=t.a.createElement(na.a,{id:E});break;case O.a.Page:va=t.a.createElement(za,{id:E});break;case O.a.Doc:va=t.a.createElement(ba.a,{id:E,showFallbackView:!0});break;case O.a.AboutWorkspace:va=t.a.createElement(Ce,{id:E});break;case O.a.Unknown:default:va=t.a.createElement("span",{className:"p-view_header__unknown"});break}const _a=be===O.a.Channel||be===O.a.DM||be===O.a.MPDM||be===O.a.App&&!Object(Ze.a)(E),Sa=Object(a.useCallback)(Ma=>{let{children:Va}=Ma;return _a?t.a.createElement(jt.a,{header:!0,id:E},Va):Va},[_a,E]);if(be===O.a.Doc&&!Object(Rt.ac)(Qe,{includeTempQuipDocs:!0}))return null;if(_a){const Ma=t.a.createElement(Qt.a,{"aria-label":an,onClick:Ht,className:Object(u.default)("p-view_header__big_button",`p-view_header__big_button--${be}`),autoClogProps:et,"data-qa":Se.CHANNEL_NAME_BUTTON},t.a.createElement("div",{className:"p-view_header__title","data-qa":Se.CHANNEL_NAME},va,Wa,t.a.createElement("div",{className:"align_self_center margin_right_25_negative"},t.a.createElement(ca.a,{name:"caret-down"}))));if(se||ue||je){let nn;return(se||ue)&&(nn=t.a.createElement(t.a.Fragment,null,ue&&ze&&t.a.createElement(yt.a,{emoji:ue,memberId:ze,emojiSize:Gt.a.SMALL,showTooltips:!1}),se&&ze&&t.a.createElement(ot.a,{memberId:ze,className:"c-custom_status__tooltip margin_left_25",emojiSize:Gt.a.SMALL,text:se}),t.a.createElement(qt.a,{className:"c-custom_status__expiration",memberId:ze}))),ft&&je&&(nn=t.a.createElement(t.a.Fragment,null,t.a.createElement(ga.a,{channelId:je}),t.a.createElement(it.a,{channelId:je,className:"c-custom_status__tooltip margin_left_25"}))),t.a.createElement(Sa,null,t.a.createElement($t.d,{tip:nn,position:"top",maxWidth:"large",delay:0},Ma))}let Va=null;const yn=Oe&&Ge;if(Oe&&Ge&&(Va=fe.rt("{channelName} is in<br></br>{workspaceName}",{channelName:P,workspaceName:K})),be===O.a.Channel&&P){const nn=t.a.createElement("div",{className:Object(u.default)("p-view_header__big_button__tooltip",{"p-view_header__big_button__tooltip--centered":yn})},t.a.createElement("div",{className:"p-view_header__big_button__tooltip_header"},fe.t("Get channel details",{fallbackHash:"c24b99e67159d5644446fa5eefb7b4f48c179889",fallbackHashNs:"menu"})),yn&&t.a.createElement("span",{className:"p-view_header__big_button__tooltip_subheader"},Va),Za&&!yn&&t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-view_header__big_button__tooltip_name"},P),ae&&t.a.createElement("div",{className:"p-view_header__big_button__tooltip_topic"},t.a.createElement(Bt.a,{noSpecials:!0,noLinking:!0,text:ae}))));return t.a.createElement(Sa,null,t.a.createElement($t.d,{tip:nn,position:"bottom",maxWidth:"large",delay:$t.a},Ma))}return t.a.createElement(Sa,null,Ma)}return t.a.createElement("div",{className:Object(u.default)("p-view_header__big_button--inactive",`p-view_header__big_button--${be}`,"p-view_header__big_button",{"p-view_header__big_button--template":Je})},t.a.createElement("div",{className:"p-view_header__title","data-qa":Se.CHANNEL_NAME},va))}s(dt,"ViewHeaderBigButton"),dt.displayName="ViewHeaderBigButton";const mt=s((h,E)=>{let{id:P}=E;var K;const ae=Object(C.d)(h,P),se=Object(O.b)(h,P),ue=se===O.a.Channel||se===O.a.DM||se===O.a.MPDM;let je,be,Ue,ze;se===O.a.DM&&(je=Object(Et.a)(ae),be=je?Object(ya.a)(h,je):void 0,Ue=je?Object(Xt.a)(h,je):void 0,ze=je?Object(da.a)(h,je):void 0);let Qe,Je;if(se===O.a.Doc){const Kt=Object(He.i)(P).fileIdOrQuipThreadId;Qe=Kt?Object(ia.e)(h,Kt):void 0,Je=Object(Rt.yb)(Qe)}const Ge=Object(ta.a)(h,{channel:ae}),Oe=Object(kt.a)(h,{channel:ae,xwsAlpha:!0});var ft;return{displayName:ue&&(ft=Object(k.t)(h,ae,{imIncludeAtSign:!1}))!==null&&ft!==void 0?ft:"",teamName:Oe,topic:ae==null||(K=ae.topic)===null||K===void 0?void 0:K.value,customStatusText:be,customStatusEmoji:Ue,huddleChannelId:ze,viewType:se,isMuted:Object(Ka.b)(h,P),memberIdFromIm:je,file:Qe,isTemplate:Je,shoutyWorkspaceNameIsEnabled:Ge,experimentShoutyWorkspaceNamePrefGroupOn:Object(d.d)(h,"shouty_workspace_name_pref")==="on"}},"mapStateToProps");var Le=Object(l.a)(mt)(dt),Be=e("CMvH"),Zt=e("pzLM"),X=e("5IZy"),W=e("9C2q"),Z=e("E97Y"),q=e("8Ioz");const z=new de.b("classic_nav");let pe=s(class extends a.Component{onClick(E){const P=E.target;P&&P.tagName==="A"||this.props.readOnly||this.containerRef.current&&P&&!this.containerRef.current.contains(P)||(this.props.openChannelTopicDialog({channelId:this.props.channelId}),this.props.clogger.track(b.EventId.CLASSIC_NAV,{contexts:{ui_context:{action:"CLICK",ui_component:"CHANNEL_HEADER",ui_element:"NAV_CHANNEL_TOPIC"}}}))}render(){const{topic:E,readOnly:P,hasKeyboardFocus:K,hasKeyboardFocusWithin:ae,isImOrMpim:se}=this.props;if(P&&!E)return null;const ue=se?z.t("Edit topic"):z.t("Edit channel topic",{fallbackHash:"5301648dcf6b53cefc9ed52999aaa92d4603cae0"}),je=E?t.a.createElement(Bt.a,{text:E,className:"p-classic_nav__model__title__info__topic__content",emojiSize:Gt.a.SMALL,noJumbomoji:!0,noHighlights:!0}):t.a.createElement("div",{className:"p-classic_nav__model__title__info__topic__content"},z.t("Add a topic")),be=Object(u.default)({"p-classic_nav__model__title__info__item":!0,"p-classic_nav__model__title__info__topic":!0,"p-classic_nav__model__title__info__topic--empty":!E,"p-classic_nav__model__title__info__topic--readonly":P,"p-classic_nav__model__title__info__topic--focus-within":ae||K},this.props.className),Ue=P?null:t.a.createElement(la.d,{"aria-label":ue,className:"p-classic_nav__model__title__info__topic__edit",onClick:this.onClick},z.t("Edit"));return t.a.createElement(t.a.Fragment,null,t.a.createElement(la.d,{className:be,onClick:this.onClick,onFocus:this.props.onFocus,onBlur:this.props.onBlur},t.a.createElement("div",{className:"p-classic_nav__model__title__info__topic__text",ref:this.props.textRef},je)),Ue)}constructor(E){super(E),this.onClick=this.onClick.bind(this),this.containerRef=t.a.createRef()}},"ModelInfoTopic");pe.displayName="ModelInfoTopic";const xe=s((h,E)=>{let{channelId:P}=E;const K=Object(C.d)(h,P);return{topic:K&&K.topic&&K.topic.value,readOnly:!Object(Zt.a)(h,P),clogger:Object(X.a)({state:h}),isImOrMpim:Object(Z.h)(K)}},"model_info_topic_mapStateToProps"),we=s(h=>({openChannelTopicDialog:function(){for(var E=arguments.length,P=new Array(E),K=0;K<E;K++)P[K]=arguments[K];return h(Object(q.a)(...P))}}),"mapDispatchToProps");var rt=Object(W.a)(Object(l.a)(xe,we)(pe));function lt(h){let{id:E}=h;const P=Object(qe.c)(Je=>Object(O.b)(Je,E)),K=Object(qe.c)(Je=>{var Ge;const Oe=Object(C.d)(Je,E);return Oe==null||(Ge=Oe.topic)===null||Ge===void 0?void 0:Ge.value}),[ae,se]=Object(a.useState)(),[ue,je]=Object(a.useState)(),[be,Ue]=Object(a.useState)(!1),ze=Object(a.useCallback)(Je=>{let{offset:Ge}=Je;se({width:Ge.width,height:Ge.height})},[]),Qe=Object(a.useCallback)(Je=>{let{scroll:Ge}=Je;je({width:Ge.width,height:Ge.height})},[]);return Object(a.useEffect)(()=>{!ae||!ue||Ue(ue.width>ae.width||ue.height>ae.height)},[ae,ue]),K?t.a.createElement(Be.a,{offset:!0,onResize:ze},Je=>{let{measureRef:Ge}=Je;return t.a.createElement("div",{className:Object(u.default)("p-view_header__topic_container",{"p-view_header__topic_container--truncated":be,"p-view_header__topic_container--dm_topic":P===O.a.DM||P===O.a.MPDM}),ref:Ge},t.a.createElement(Be.a,{scroll:!0,onResize:Qe},Oe=>{let{measureRef:ft}=Oe;return t.a.createElement(rt,{channelId:E,className:"p-view_header__topic",textRef:ft})}))}):null}s(lt,"ViewHeaderTopic");var st=e("fuYn"),Pe=e("kFoU"),vt=e("iUFw"),Ft=e("ZJyv"),ut=e("SSy4");const Ha=new de.b("app_home");function wa(h){let{channelId:E}=h;const P=Object(Tt.i)(),K=Object(qe.c)(ue=>Object(st.a)(ue,{channelId:E})),ae=Object(qe.f)(ue=>{const je=Object(st.b)(ue,{channelId:E});return Object(Dt.u)(ue,je)}),se=Object(a.useCallback)(ue=>{P(Object(Ft.a)({channelId:E,teamId:ue}))},[P,E]);return!K||!ae||ae.length<=1?null:t.a.createElement("div",{className:"p-view_header__app_home_context_container justify_content_end"},t.a.createElement(ut.a,{teamsList:ae,handleTeamSelected:se,selectedTeamId:K,label:Ha.t("Use app with settings from\u2026")},t.a.createElement(vt.d,{type:"outline"},t.a.createElement(Pe.a,{id:K}),t.a.createElement(ca.a,{name:"caret-down",inline:!0}))))}s(wa,"ViewHeaderAppHomeContextTeam"),wa.displayName="ViewHeaderAppHomeContextTeam";var rn=wa,Pa=e("RzYE"),pa=e("vdkW"),Tn=e("LaoO"),un=e("kpbN"),ja=e("n7UZ"),ln=e("7lBi"),Hn=e("a5bm"),Ga=e("2IFS");function hn(){return t.a.createElement("div",{className:"p-quip_title__actions__divider"})}s(hn,"QuipDividerAction");var pn=e("38Q6"),ns=e("Icre");const Dn=new de.b("slack-docs"),_n=s(h=>{let{onClose:E}=h;const P=Dn.t("Close");return t.a.createElement($t.d,{tip:P,position:"bottom"},t.a.createElement(Ae.a,{icon:"times",onClick:E,"aria-label":P}))},"CloseQuipAction");_n.displayName="CloseQuipAction";const gt={onClose:()=>Object(ns.a)({})};var cn=Object(l.a)(null,gt)(_n),ss=e("YxAP"),os=e("7+Lm"),vn=e("uVZW"),fn=e("rq2v"),vs=e("q6Tz"),wn=e("SQ0V"),Gs=e("VUud");const Rn=Object(wn.c)("Mark the current in-product coachmark as seen",(h,E,P)=>{const K=E();if(!Object(os.c)(K,vn.g.IN_PRODUCT_COACHMARK,P.channelId))return;const ae={notification:P.notification,action:P.action,reason:"set-coachmark-as-seen"};P.step&&(ae.step=P.step),P.channelId&&(ae.channelId=P.channelId),h(Object(Gs.a)(ae))});Rn.meta={name:"createThunk",key:"createThunksetInProductCoachmarkAsSeen",description:"Mark the current in-product coachmark as seen"};var fs=Rn,Ta=e("UXvI");const Vs=1e3,Es=["keydown","pointerdown","pointermove","scroll"],Os={passive:!0};function ht(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Vs,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Es,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;const[K,ae]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{const se=s(()=>setTimeout(ae,h,!0),"scheduleInactive");let ue=se();const je=Object(Ta.a)(()=>{ue&&(ae(!1),clearTimeout(ue)),ue=se()},h*.1);return E.forEach(be=>P.addEventListener(be,je,Os)),()=>{je.cancel(),E.forEach(be=>P.removeEventListener(be,je)),ue&&clearTimeout(ue)}},[h,P,E]),K}s(ht,"useSetUserInactivity");var Ra=e("thso"),Ba=e("ZKjC"),En=e("xXk5");const{getObjectById:gs}=En.c,qo=Object(Ba.b)(h=>Object(Ra.b)(h.recentlyJoinedChannels));qo.meta={name:"createSelector",key:"createSelectorgetRecentlyJoinedChannels",description:h=>Object(Ra.b)(h.recentlyJoinedChannels)};var po=e("stxl"),er=e("1lBt"),tr=e("7LcW"),ar=e("sjOx");function zs(){return zs=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var P=arguments[E];for(var K in P)Object.prototype.hasOwnProperty.call(P,K)&&(h[K]=P[K])}return h},zs.apply(this,arguments)}s(zs,"channel_invite_suggestions_coachmark_container_extends");const{IN_PRODUCT_COACHMARK:bs}=vn.g,vo={spaceName:bs,notifications:{[vn.h.CHANNEL_INVITE_SUGGESTIONS_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"ElD4")))}}};var ka;(function(h){h[h.ValidateClientSide=0]="ValidateClientSide",h[h.Prerender=1]="Prerender",h[h.Ineligible=2]="Ineligible",h[h.Render=3]="Render",h[h.Dismiss=4]="Dismiss"})(ka||(ka={}));const{CHANNEL_INVITE_SUGGESTIONS_COACHMARK:Aa}=vn.h,{CLICK:Gn,DISMISS:Ys}=vn.f,nr=36e5,xs=1728e5,ke=new Map,fo=s(h=>{const E=ke.get(h);return!E||Date.now()-E>nr},"isCacheInvalid");let rs=0;const Cs=s(h=>{let{channelId:E,offsetY:P=15}=h;const K=Object(Tt.i)(),ae=Object(a.useRef)(E),[se,ue]=Object(a.useState)(ka.ValidateClientSide);ae.current!==E&&(ae.current=E,ue(ka.ValidateClientSide));const je=ht(2e3),be=Object(qe.c)(po.c),Ue=Object(qe.c)(er.b),ze=Object(qe.c)(Ht=>Object(tr.b)(Ht,ar.x.OMNISWITCHER)),Qe=Object(qe.c)(Ht=>!!gs(Ht,E)),Je=Object(qe.c)(Ht=>Object(os.d)(Ht,bs,E)),Ge=Object(qe.c)(Ht=>Object(os.c)(Ht,bs,E)===Aa),Oe=Object(a.useCallback)(()=>{ue(ka.Dismiss),K(Object(_t.a)({id:E,defaultTab:ss.a.Members})),K(fs({notification:Aa,action:Gn,channelId:E}))},[K,E]),ft=Object(a.useCallback)(()=>{ue(ka.Dismiss),K(fs({notification:Aa,action:Ys,channelId:E}))},[K,E]);Object(a.useEffect)(()=>{if(se===ka.ValidateClientSide){const Ht=Date.now()-rs>xs;!Qe||!Ht?ue(ka.Ineligible):fo(E)?(ke.set(E,Date.now()),K(Object(vs.c)({event:{type:vn.e.REQUEST_SPACES,spaces:[bs]},channelId:E})),ue(ka.Prerender)):ue(Ge?ka.Prerender:ka.Ineligible)}else if(se===ka.Prerender){if(!Je)return;Ge?je&&!be&&!Ue&&!ze&&(rs=Date.now(),ue(ka.Ineligible)):ue(ka.Ineligible)}},[K,E,se,Qe,be,Ue,ze,je,Ge,Je]);const Kt=se===ka.Render;return t.a.createElement(fn.c,zs({},vo,{showCoachmark:Kt,offsetY:P,onPrimaryClick:Oe,onClose:ft,channelScopedId:E}))},"ChannelInviteSuggestionsCoachmarkContainer");Cs.displayName="ChannelInviteSuggestionsCoachmarkContainer",Cs.clearTimestamps=()=>{ke.clear(),rs=0};var sr=t.a.memo(Cs),Eo=e("hC3S"),Qs=e("9oTK"),Oo=e("m8R6"),go=e("2XU3"),Js=e("WCk1"),ls=e("s4P+"),or=e("pjW8");const bo={NotAllowed:"not_allowed",ChannelNotFound:"channel_not_found",NotOwner:"not_owner",Ratelimited:"ratelimited",MethodNotSupportedForChannelType:"method_not_supported_for_channel_type",InvalidArguments:"invalid_arguments"},Ts=Object(Js.a)("instantSlack.endSession generated fetcher",function(){var h=Object(Qs.coroutine)(function*(E,P,K){try{const ae=["reason"],se=Object(Oo.a)(K,ae),ue=Object(or.b)(se);return yield E(Object(go.apiCall)({method:"instantSlack.endSession",args:ue,reason:K.reason}))}catch(ae){throw Object(ls.a)({getState:P}).error(`API call to instantSlack.endSession
				with reason ${K.reason} failed, initiated by generated fetcher`),ae}});return function(E,P,K){return h.apply(this,arguments)}}());Ts.meta={name:"createFetcher",key:"createFetcherinstantSlackEndSessionFetcher",description:"instantSlack.endSession generated fetcher"};var yr=e("ksz/");const Co=Object(wn.c)("Ends an Instant Slack channel",function(){var h=Object(Qs.coroutine)(function*(E,P,K){let{channelId:ae}=K;const se=P(),ue=M.a,{invite_url:je}=Object(L.a)(se,ae,ue);if(!(yield E(Ts({channel:ae,reason:"instant-slack"}))).ok)return!1;const Ue={enabled:!1,invite_url:je};return E(Object(yr.b)({channelId:ae,pref:ue,value:Ue})),!0});return function(E,P,K){return h.apply(this,arguments)}}());Co.meta={name:"createThunk",key:"createThunkendInstantSlack",description:"Ends an Instant Slack channel"};var To=Co,_o=e("9Gfp"),rr=e("ZvM9"),yo=e("mpbA"),_s=e("dz36"),Io=e("HFwV"),Po=e("ueJG"),jo=e("Ey9B"),lr=e("/Rv1"),Zs=e("Pk/n"),is=e("GrOs"),cs=e("uiBO");function ir(h){var E;const P=Object(is.b)();return!!(h&&(P==null?void 0:P.viewType)===cs.c.Record&&(P==null||(E=P.params)===null||E===void 0?void 0:E.recordId)===h)}s(ir,"useFlexpaneForRecordIsOpen");function cr(h){const E=Object(Tt.i)(),P=ir(h),K=Object(a.useCallback)(()=>{h&&E(P?Object(lr.a)():Object(Zs.a)({recordId:h}))},[E,P,h]);return[P,K]}s(cr,"useToggleRecordFlexpane");var Xs=e("uHVm"),On=e("2jZb"),Ao={record_channel_header_button:"record_channel_header_button__HKrIZ"};function Ln(){return Ln=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var P=arguments[E];for(var K in P)Object.prototype.hasOwnProperty.call(P,K)&&(h[K]=P[K])}return h},Ln.apply(this,arguments)}s(Ln,"record_channel_header_button_extends");const dr=new de.b("recordchannels"),ys=s(h=>{let{channelId:E}=h;const P=Object(qe.c)(je=>Object(C.d)(je,E)),K=Object(qe.c)(U.b),[ae,se]=cr(Object(On.a)(P));if(!K)return null;const ue=Object(Xs.b)(Object(On.d)(P));return t.a.createElement(la.d,{"aria-label":dr.t("Open record channel info"),onClick:se,className:Object(u.default)(Ao.record_channel_header_button,"p-toggle_channel_space_action_button",ae&&"p-toggle_channel_space_action_button--active")},t.a.createElement(ca.a,Ln({},ue,{size:"18",inline:!0,variation:void 0})))},"RecordChannelHeaderButton");ys.displayName="RecordChannelHeaderButton";var mr=ys,So=e("cvlP"),xn=e("v5z3"),Mo=e("IaLB"),$s=e("kBpe"),ur=e("3uxa"),hr=e("aHgF");function Vn(){return Vn=Object.assign||function(h){for(var E=1;E<arguments.length;E++){var P=arguments[E];for(var K in P)Object.prototype.hasOwnProperty.call(P,K)&&(h[K]=P[K])}return h},Vn.apply(this,arguments)}s(Vn,"view_header_actions_extends");const Un=new de.b("classic_nav"),zn=10;function No(h){let{id:E,viewActions:P,experimentAdoptionInstantSlackGroupTreatment:K,experimentAdoptionInstantSlackInviteeGroupOn:ae,instantSlackChannelPrefs:se,showFiveAvatarsInstack:ue,showPresenceInAvatarStack:je,shouldHideChannelCanvas:be,teamId:Ue,userId:ze,experimentNativeAiGlobalEntrypointGroupOn:Qe,showUsecaseOnboardingHuddleCoachmark:Je}=h;var Ge;const Oe=Object(a.useContext)(Ga.a);var ft;const Kt=(ft=Object(Hn.a)(Oe==null||(Ge=Oe.layout)===null||Ge===void 0?void 0:Ge.width,ln.m))!==null&&ft!==void 0?ft:"",Ht=Object(Tt.i)(),Za=Object(a.useCallback)(()=>{Ht(To({channelId:E}))},[Ht,E]),ea=Object(a.useCallback)(()=>{if(!Ue)return;const _a=new URL(se.invite_url).pathname.split("/")[2];Ht(Object(yo.a)({sig:_a,context:"shared_invite_accept",reason:"instant-slack-move-session"})).then(Sa=>{Object(_s.f)({userId:ze,teamId:Ue,channelId:E}),Object(rr.a)({inviteId:Sa.invite.id,inviteSig:_a,isDm:!1,openInNewWindow:!1,redirectQueryParams:`${_s.a}=1`})})},[Ht,ze,Ue,E,se]),La=Object(qe.c)(_a=>Object(Mo.ob)(_a,{tip:xn.f.Huddles})),qa=Object(qe.c)(Mo.m),Wa=[xn.f.Huddles],va=Object($s.i)()?b.UiComponentName.PROGRESSIVE_DISCLOSURE_HUDDLES_DESKTOP:b.UiComponentName.PROGRESSIVE_DISCLOSURE_HUDDLES_WEB;if(!P.length)return null;const an=P.map(_a=>{switch(_a){case _.Call:return t.a.createElement(pa.a,{key:_.Call,channelId:E});case _.AvatarStack:return t.a.createElement(re.a,{clogImpression:!0,eventId:b.EventId.AVATAR_STACK,key:_.AvatarStack},t.a.createElement(Pa.a,{key:_.AvatarStack,channelId:E,showFiveAvatars:ue,showPresence:je,showIconOnly:Qe}),t.a.createElement(sr,{channelId:E}));case _.RefreshAllUnreads:return t.a.createElement(un.a,{key:_.RefreshAllUnreads,shouldIncludeLabel:!1});case _.CloseQuip:return t.a.createElement(cn,{key:_.CloseQuip});case _.QuipDivider:return t.a.createElement(hn,{key:_.QuipDivider});case _.DetachedWindow:return t.a.createElement(Tn.a,{key:_.DetachedWindow,view:E,className:"p-ia__view_header__button p-ia__view_header__button--detach_window margin_left_50",containerOrigin:"secondary"});case _.ChannelSpace:return be?null:t.a.createElement(pn.b,{id:E,key:_.ChannelSpace});case _.InstantSlackEndConversation:return K?t.a.createElement(Ie.c,{tip:Un.t("Ending a conversation will remove all external people and archive the channel.",{fallbackHash:"df497a5fa1060b88488cee92045e7f70cddba9d6"}),key:_.InstantSlackEndConversation},t.a.createElement(vt.d,{type:vt.c.danger,size:vt.b.small,onClick:Za,className:"margin_right_100"},Un.t("End Instant Conversation"))):null;case _.InstantSlackSaveConversation:return ae?t.a.createElement(vt.d,{type:vt.c.primary,size:vt.b.small,key:"save-conversation",onClick:ea},Un.t("Save Conversation")):null;case _.Huddle:{const Sa=t.a.createElement(Io.a,{key:_.Huddle,channelId:E,subtype:Po.a.ChannelHeader});return La?t.a.createElement(So.c,{tips:Wa,uiComponentVariant:qa?xn.e.SomeoneJoins:xn.e.NobodyJoins,uiComponentName:va},Sa):Je?t.a.createElement(fn.c,Vn({},ur.d),Sa):Sa}case _.RecordChannel:return t.a.createElement(mr,{key:_.RecordChannel,channelId:E});case _.SummarizeChannel:return t.a.createElement(Eo.a,{channelId:E,key:_.SummarizeChannel});default:return null}});return t.a.createElement("div",{className:`p-view_header__actions ${Kt}`},an)}s(No,"view_header_actions_ViewHeaderBigButton"),No.displayName="ViewHeaderBigButton";const Do=s((h,E)=>{let{id:P}=E;var K;const ae=(K=Object(C.d)(h,P))!==null&&K!==void 0?K:void 0,se=ae?Object(ja.b)(h,ae):!1,ue=Object(Dt.g)(h),je=Object(_o.a)(h),be=Object(jo.a)(h),Ue=!!(be&&be<zn),ze=Object(d.d)(h,"channel_header_avatar_online"),Qe=Object(d.d)(h,"channel_header_avatar_online_rollout")==="on",Je=Ue&&(ze==="treatment5"||ze==="treatment"||Qe),Ge=Ue&&(ze==="treatment5"||Qe);return{channel:ae,isUserExternalLimited:se,viewActions:R(h,{id:P}),experimentAdoptionInstantSlackGroupTreatment:Object(d.d)(h,"adoption_instant_slack")==="treatment",experimentAdoptionInstantSlackInviteeGroupOn:Object(d.d)(h,"adoption_instant_slack_invitee")==="on",instantSlackChannelPrefs:Object(L.a)(h,P,M.a),teamId:(ue==null?void 0:ue.id)||null,userId:je,showPresenceInAvatarStack:Je,showFiveAvatarsInstack:Ge,experimentNativeAiGlobalEntrypointGroupOn:Object(p.d)(h),showUsecaseOnboardingHuddleCoachmark:Object(hr.i)(h)}},"view_header_actions_mapStateToProps");var qs=Object(l.a)(Do)(No);function Us(h){let{recordType:E}=h;const P=Object(Xs.b)(E);return t.a.createElement("span",{className:"p-record_type_badge"},t.a.createElement("span",{className:"padding_right_25"},t.a.createElement(ca.a,{name:P.name})),E)}s(Us,"BaseRecordTypeBadge"),Us.displayName="BaseRecordTypeBadge";const Is=Object(a.memo)(Us);function Ro(h){let{channelId:E}=h;const P=Object(qe.c)(K=>{const ae=Object(C.d)(K,E);return Object(On.d)(ae)});return P?t.a.createElement(Is,{recordType:P}):null}s(Ro,"ViewHeaderRecordType"),Ro.displayName="ViewHeaderRecordType";var Ps=e("UmHn"),pr=e("XWEI"),Yn=e("somW"),eo=e("BQ/v"),Lo=e("l1I1"),Ir=e("tfcd"),ds=e("uNaj"),gn=e("BfA7"),Bs=e("B/ED"),Pn=e("6dQg"),xo=e("0E+F"),to=e("N2FK");const he=new de.b("view-header");let D=s(class extends t.a.Component{componentDidMount(){const{isSidebarOpen:E,isUserEligibleForA11yCoachmark:P}=this.props;P&&!E&&setTimeout(()=>this.setState(()=>({shouldRenderA11yPrefsSetupCoachmark:!0})),1e3)}componentDidUpdate(E){const{isSidebarOpen:P}=this.props;E.isSidebarOpen!==P&&this.state.shouldRenderA11yPrefsSetupCoachmark&&this.closeA11yPrefsSetupCoachmark()}closeA11yPrefsSetupCoachmark(){this.setState(()=>({shouldRenderA11yPrefsSetupCoachmark:!1}))}renderContent(){const{id:E,hideActions:P,hideTopic:K,shouldShowSidebarToggle:ae=!1,isInstantSlackInviteeSession:se=!1,viewType:ue,showQuipActivityHistoryHeader:je,shouldHideChannelCanvas:be,viewCanBeClosed:Ue,fileId:ze,shouldShowSidebarToggleButton:Qe,experimentScAwarenessHighVizBadgeGroupOn:Je}=this.props,Ge=t.a.createElement(I.a,null);if(je){const Kt=Object(ds.a)().params.entityId,{versionId:Ht}=Object(He.i)(Kt);return t.a.createElement(We.a,{versionId:Ht})}const Oe=he.t("Close",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a",fallbackHashNs:"generic_dialog"});return t.a.createElement(t.a.Fragment,null,(Qe||ae)&&Ge,t.a.createElement("div",{className:"p-view_header__text"},!se&&t.a.createElement(t.a.Fragment,null,t.a.createElement(Le,{id:E}),Je&&t.a.createElement(to.a,{channelId:E}),t.a.createElement(Bs.a,{id:ze})),Object(H.a)(E)&&t.a.createElement(Ro,{channelId:E}),!se&&!K&&t.a.createElement(lt,{id:E}),ue===O.a.App&&t.a.createElement(rn,{channelId:E})),!P&&t.a.createElement(qs,{id:E,shouldHideChannelCanvas:be}),Ue&&t.a.createElement(Ie.c,{key:_.CloseTile,tip:Oe,position:"bottom-right",delay:Ie.a,hideFromScreenReader:!0},t.a.createElement(Ae.a,{icon:"times",onClick:this.closeViewHeader,"aria-label":Oe,className:"p-ia__view_header__button p-ia__view_header__button--close"})))}render(){const{bookmarksEnabled:E,hideHeader:P,id:K,viewType:ae,channelSpaceLayout:se,experimentInsetDesignGroupOn:ue,isSecondaryShowing:je,container:be,columnWidth:Ue,experimentViewHeaderOverflowBordersGroupOn:ze,hideBorder:Qe,view:Je,experimentSolutionGuideGroupTreatment:Ge}=this.props;if(P||K===Ps.a.Empty)return null;const Oe=!E,ft=Ue&&Ue<g.j*1.6,Kt=ze&&(Qe||K===Ps.a.Drafts||K===Ps.a.Sent||K===Ps.a.ScheduledMessages||Ge&&K===Ps.a.SolutionGuide||(Je==null?void 0:Je.viewType)===cs.c.AppSpace),Ht=Object(u.default)("p-view_header","p-view_header--tiles",{"p-view_header--with-bookmarks-bar":E,"p-view_header--without-bookmarks-bar":Oe,"p-view_header--solid":O.a.Doc===ae||Oe,"p-view_header--with-channel-canvas":se===Xe.a.PRIMARY,"p-view_header--inset":ue,"p-view_header--inset--secondary_showing":ue&&je,"p-view_header--narrow":ft,"p-view_header--without-bottom-border":Kt}),ea=he.t("Primary view actions"),La=t.a.createElement(De.b,{key:K,"aria-label":ea,ref:this.containerRef,className:Ht,"data-qa":"view_header"},this.renderContent());let qa=t.a.createElement(re.a,{eventId:b.EventId.VIEW_HEADER,clogImpression:!1,disableAutoReferringUiContext:!0},t.a.createElement(w.a,{listeners:this.focusTransitionListeners},La));if(Object(pr.a)(K)){const Wa=Object(Lo.a)(K)?"QuipHeaderView":void 0,va=be?Object(eo.a)({viewContainer:be}):Object(eo.a)({});Wa&&(qa=t.a.createElement(Yn.a,{id:Wa,index:va},qa))}return qa}constructor(E){super(E),this.containerRef=t.a.createRef(),this.focus=P=>{var K;return(P==null?void 0:P.container)===Re.k.Sidebar?!1:((K=this.containerRef.current)===null||K===void 0||K.focus(),!0)},this.closeViewHeader=()=>{var P,K;(K=(P=this.props).closeView)===null||K===void 0||K.call(P)},this.state={shouldRenderA11yPrefsSetupCoachmark:!1},Object(c.a)(this,["closeA11yPrefsSetupCoachmark","focus"]),this.focusTransitionListeners={[Q.c.VIEW_HEADER]:this.focus}}},"ViewHeader");D.displayName="ViewHeader";const ne=s((h,E)=>{let{id:P,container:K,windowId:ae,getSiblingView:se}=E;var ue,je;const be=P||((je=(ue=se(h,{container:Re.k.Primary}))===null||ue===void 0?void 0:ue.id)!==null&&je!==void 0?je:""),Ue=Object(S.b)(be);let ze=!1;Ue!=null&&Ue.isChannelHeaderHidden&&(ze=Ue.isChannelHeaderHidden(h));const Qe=be===v.a,Ge=Object(ds.a)().params.entityId,{fileIdOrQuipThreadId:Oe}=Object(He.i)(P),ft=Object(Pn.a)(Oe)?Oe:void 0,Kt=Object(xo.a)(h,{container:K,windowId:ae});return{bookmarksEnabled:Object(T.c)(h,P),isAllUnreadsPage:Qe,showQuipActivityHistoryHeader:!!Object(Pt.a)(h)&&Object(Ir.a)(Ge),hideHeader:ze,isUserEligibleForA11yCoachmark:le(h),viewType:Object(O.b)(h,P),isInstantSlackInviteeSession:Object(ee.a)(h),channelSpaceLayout:Object(Me.b)(h,P)||void 0,experimentInsetDesignGroupOn:Object(d.d)(h,"inset_design")==="on",viewCanBeClosed:Kt,fileId:ft,experimentViewHeaderOverflowBordersGroupOn:Object(d.d)(h,"view_header_overflow_borders")==="on",experimentScAwarenessHighVizBadgeGroupOn:Object(d.d)(h,"sc_awareness_high_viz_badge")==="on",experimentSolutionGuideGroupTreatment:Object(Ct.f)(h)}},"view_header_mapStateToProps");var ve=i.a=Object(Ga.b)(Object(gn.a)(Object(l.a)(ne)(D)))},"1z69":function(Y,i,e){"use strict";e.d(i,"c",function(){return t}),e.d(i,"d",function(){return l}),e.d(i,"b",function(){return u}),e.d(i,"a",function(){return c});var a=e("uVZW");const t={[a.h.USECASE_ONBOARDING_CHANNEL_COACHMARK]:1,[a.h.USECASE_ONBOARDING_APPS_COACHMARK]:2,[a.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK]:2,[a.h.USECASE_ONBOARDING_HUDDLE_COACHMARK]:2},l=2,u=400,c="p-usecase_onboarding_coachmark_tractor_channel_coachmark"},"3K9K":function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("tZQI"),u=e("ZIxB"),c=e("fcWg"),g=e("nNoG");function b(){return b=Object.assign||function(I){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var C in f)Object.prototype.hasOwnProperty.call(f,C)&&(I[C]=f[C])}return I},b.apply(this,arguments)}s(b,"_extends");const S=new g.b("shared_workspaces"),v=s(I=>{let{option:d,isActive:f}=I;var C,j;const N={id:d==null||(C=d.entity)===null||C===void 0?void 0:C.id,isActive:f,isDisabled:!!(d!=null&&d.inviteExceptionReason),secondaryContent:t.a.createElement("span",null,(d==null?void 0:d.inviteExceptionReason)||d.secondaryContent||"")};if(!(d==null||(j=d.entity)===null||j===void 0)&&j.isEmail){const O="label"in d?d.label:d.entity.id;return t.a.createElement(c.a,b({},N,{email:O}))}return t.a.createElement(u.a,b({},N,{showPresence:!0,showAvatar:!0}))},"UserMultiSelectRow");v.displayName="UserMultiSelectRow";const T=s(I=>{let{selectedEntities:d,onSelectedItemsChange:f}=I;const C=Object(a.useCallback)((N,O)=>t.a.createElement("div",{className:"display_flex full_width"},t.a.createElement(v,{option:N,isActive:O.isActive})),[]),j=Object(a.useMemo)(()=>({allowEmptyQuery:!0,allowEmptyQueryRemoteSearch:!0,tiered:!0,limit:12,returnMetadata:!1,entities:{members:{includeSlackbot:!1,includeSelf:!1,includeDeleted:!1,matchEmailField:!0,includeFromAnotherTeam:!0,onlyExternal:!1,includeExternal:!0,includeAllExternal:!0},emails:!0},sort:{frecency:!0,explain:!1,source:"user-multi-select"}}),[]);return t.a.createElement(l.e,{focusOnMount:!0,selectId:"user-select-invite-to-shared-workspace",selectedOptions:d,renderOption:C,onSelectedItemsChange:f,searcherOptions:j,size:"large",width:"100%",optionsRowHeight:32,placeholderText:S.t("Search for members"),emptyStateMessage:()=>S.t("No matches found"),ariaLabel:S.t("Members from external workspaces to invite")})},"UserMultiSelect");T.displayName="UserMultiSelect",i.a=T},"3uxa":function(Y,i,e){"use strict";e.d(i,"b",function(){return u}),e.d(i,"a",function(){return c}),e.d(i,"c",function(){return g}),e.d(i,"d",function(){return b});var a=e("q1tI"),t=e.n(a),l=e("uVZW");const u={spaceName:l.g.WELCOME_SPACE,notifications:{[l.h.USECASE_ONBOARDING_CHANNEL_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"GUMB")))}}},c={spaceName:l.g.WELCOME_SPACE,notifications:{[l.h.USECASE_ONBOARDING_APPS_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"qISS")))}}},g={spaceName:l.g.WELCOME_SPACE,notifications:{[l.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"LR2U")))}}},b={spaceName:l.g.WELCOME_SPACE,notifications:{[l.h.USECASE_ONBOARDING_HUDDLE_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"FlVn")))}}}},"4Pyn":function(Y,i,e){Y.exports=e.p+"channels_static-2adb243.png"},"59jt":function(Y,i,e){"use strict";var a=e("9qRH");e.d(i,"a",function(){return a.a});var t=e("CowY");e.d(i,"b",function(){return t.a})},"6I59":function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-9897cea.png"},"6Ng/":function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("wd/R"),u=e.n(l),c=e("zxER"),g=e("4KfL"),b=e("UbkG"),S=e("Enx8"),v=e("Nng1"),T=e("mQiU"),I=e("BHdc"),d=e("nNoG"),f=e("qyo3");const C=new d.b("slack-docs"),j=s(N=>{let{versionId:O,className:M}=N;const L=!!Object(c.c)(g.a),{windowId:k}=Object(a.useContext)(T.a),F=Object(c.c)(U=>Object(b.b)(U,k,O)),ee=Object(c.c)(U=>F!=null&&F.author?Object(S.a)(U,F==null?void 0:F.author):void 0);if(!L||!O)return null;const oe=u()(F==null?void 0:F.createdMs),G=C.rt("{author}, {date} at {time}",{author:ee,date:Object(v.a)(oe,L),time:oe.format("h:mm A")}),x=Object(I.default)("p-activity_history_header",M);return t.a.createElement("div",{className:x},t.a.createElement("div",{className:"p-activity_history_header__right"},F&&t.a.createElement("div",{className:"p-activity_history_header__info"},G)))},"QuipActivityHistoryHeader");j.displayName="QuipActivityHistoryHeader",i.a=j},"7Cdh":function(Y,i,e){Y.exports=e.p+"shared-channel-banner-45519df.svg"},"7iET":function(Y,i,e){"use strict";e.d(i,"a",function(){return T});var a=e("9oTK"),t=e.n(a),l=e("q1tI"),u=e.n(l),c=e("zxER"),g=e("59jt"),b=e("HYbo"),S=e("a7YP"),v=e("xa3j");function T(I){let{appId:d,functionId:f,providerKey:C,providerName:j,authTokens:N,onAddOAuth:O,onSelectOAuth:M}=I;var L;const k=Object(c.c)(S.v),F=Object(l.useCallback)(Object(a.coroutine)(function*(){yield O({appId:d,functionId:f,providerKey:C})}),[d,f,C,O]),ee=Object(l.useCallback)(function(){var oe=Object(a.coroutine)(function*(G){yield M({appId:d,functionId:f,providerKey:C,externalTokenId:G})});return function(G){return oe.apply(this,arguments)}}(),[d,f,C,M]);return u.a.createElement("div",{className:"p-third_party_auth__picker"},k?u.a.createElement(v.a,{functionId:f,providerKey:C,providerName:j,onAddOAuth:F,onSelectOAuth:ee}):u.a.createElement(g.a,{hasValidOAuth:!!N.length,loadingStatus:b.a.FINISHED,onUpdateOAuth:F,providerName:j,userId:(L=N[0])===null||L===void 0?void 0:L.externalUserId}))}s(T,"ThirdPartyAuthAccountPicker"),T.displayName="ThirdPartyAuthAccountPicker"},"7jQe":function(Y,i,e){Y.exports=e.p+"calendar-1@2x-a0d0550.png"},"7njD":function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("zxER"),c=e("Trx9"),g=e("zEKE"),b=e("Qy8E"),S=e("eJPC"),v=e("PAox"),T=e("GiOu"),I=e("ktUG"),d=e("ZobM"),f=e("69o4"),C=e("uVZW"),j=e("i9jZ"),N=e("/0Xg"),O=e("iUFw"),M=e("s9Q6"),L=e("nNoG");const k=new L.b("trials_highlight_paid_features"),F={elementName:"create_canvas",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},ee={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},oe={elementName:"upgrade",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},G=s(U=>{let{isEligibleForTrial:H}=U;const p=Object(l.i)(),_=Object(u.c)(M.i),V=Object(a.useCallback)(le=>{p(Object(b.a)({source:S.a.CANVAS_PAGE_EMPTY_STATE_FREEMIUM,inTile:Object(j.d)(le)}))},[p]),R=Object(a.useCallback)(()=>{p(Object(f.a)({spaceName:C.g.CHANNEL_CANVAS_FOOTER,action:C.f.DISMISS}))},[p]),w=Object(a.useCallback)(()=>{p(Object(v.a)({uiComponentVariant:I.UiComponentVariant.CANVAS_NUX_COACHMARK}))},[p]),Q=_?t.a.createElement(d.a,{name:"sparkles",variation:"filled","data-qa":"canvas_nux_coachmark_sparkles"}):t.a.createElement(T.c,{className:"p-canvas_nux_coachmark__header_pro_badge","data-qa":"canvas_nux_coachmark_pro_badge"}),re=t.a.createElement("div",{className:"p-canvas_nux_coachmark__header"},t.a.createElement("span",{className:"p-canvas_nux_coachmark__header_icon"},Q),k.t("Create unlimited canvases")),de=t.a.createElement("div",{className:"p-canvas_nux_coachmark__content"},k.t("Every conversation has a built-in canvas, but you can also create your own. Jot down ideas, or collaborate on proposals\u2014the sky is the limit.")),Ne=s(()=>{const le=Object(N.w)({entryPoint:"canvas_nux_coachmark",feature:N.j.UNLIMITED_CANVAS});return _?t.a.createElement(O.a,{"data-qa":"canvas_nux_coachmark_trial_cta",type:"primary",onClick:V,autoClogProps:F},k.t("Create Canvas")):H?t.a.createElement(O.a,{className:"p-canvas_nux_coachmark__cta","data-qa":"canvas_nux_coachmark_trial_eligible_cta",type:"primary",onClick:w,autoClogProps:ee},k.t("Try It")):t.a.createElement(O.a,{"data-qa":"canvas_nux_coachmark_trial_ineligible_cta",href:le,type:"outline",autoClogProps:oe},k.t("See Upgrade Options"))},"getPrimaryCTA");Ne.displayName="getPrimaryCTA";const ye=s(()=>_?I.UiComponentVariant.TRIAL_TEAM:H?I.UiComponentVariant.TRIAL_ELIGIBLE:I.UiComponentVariant.TRIAL_INELIGIBLE,"getUiComponentVariant");return t.a.createElement(c.a,{eventId:I.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:I.UiComponentName.CANVAS_NUX_COACHMARK,uiComponentVariant:ye(),clogImpression:!0},t.a.createElement(g.a,{heading:re,primaryCTA:Ne(),customIcon:t.a.createElement(t.a.Fragment,null),useRoundedCorners:!1,onDismiss:R},de))},"CanvasNUXCoachmark");G.displayName="CanvasNUXCoachmark";var x=i.default=G},"8Rho":function(Y,i,e){Y.exports=e.p+"calendar-1-71560bc.png"},"8Wv3":function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("Trx9"),c=e("9oTK"),g=e("0FX9"),b=e.n(g),S=e("Lgge"),v=e("nNoG"),T=e("O86Y"),I=e("zxER"),d=e("9Gfp");const f=new v.b("mobile_app_promos"),C=s(x=>{let{eventId:U}=x;const H=Object(v.m)(),[p,_]=Object(a.useState)(),V=Object(I.c)(d.a),R=Object(I.c)(T.g);let w="www.slack.com/download";H!=="en-US"&&(w=w.replace("/download",`/intl/${H}/downloads`));const Q=Object(a.useCallback)(function(){var Ne=Object(c.coroutine)(function*(ye){return new S.a(le=>{le(b.a.toDataURL(`${ye}?src=qr_code&event_id=${U}&user_id=${V}&team_id=${R}`))})});return function(ye){return Ne.apply(this,arguments)}}(),[U,V,R]),re=Object(a.useCallback)(Object(c.coroutine)(function*(){const Ne=yield Q(w);_(Ne)}),[w,Q]);Object(a.useEffect)(()=>{re()},[re]);const de=f.t("Scan the code below with your mobile device and we\u2019ll take you to where you need to go to download the app.",{fallbackHash:"81faf152a5d90c4d186098bc214e5dfbc8795218"});return t.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action"},t.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action_copy--wrapper"},de),t.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action--wrapper"},p&&t.a.createElement("img",{alt:f.t("Quick Response (QR) code to download the Slack mobile app"),className:"p-mobile_download_modal__qr_code_action--image","data-qa":"qr-download-link-image",src:p})))},"QrCodeAction");C.displayName="QrCodeAction";var j=C,N=e("YUBf"),O=e("7JUD"),M=e("ktUG"),L=e("+kJ4"),k=e("UQe9"),F=e.n(k);const ee=new v.b("mobile_app_promos"),oe=s(x=>{let{eventId:U}=x;const H=Object(l.i)(),p=Object(a.useCallback)(()=>H(Object(L.a)()),[H]),_=ee.t("Download the Slack mobile app"),V=ee.t("Hands holding a mobile phone");let R=null;const w=Object(a.useCallback)(()=>{p(),R==null||R({action:M.UiAction.CLOSE,elementName:"close_download_mobile_modal"})},[p,R]);return t.a.createElement(u.a,{eventId:U,uiStep:M.UiStep.QR_CODE_DOWNLOAD_MODAL,trackClogRef:Q=>{R=Q}},t.a.createElement(O.a,{contentLabel:_,closeModal:w,isOpen:!0,centered:!0,dataQa:"mobile-download-modal",className:"p-mobile_download_modal",describedby:"mobile-download-modal-described-by-label"},t.a.createElement(N.i,null,t.a.createElement("div",{className:"p-mobile_download_modal__img_wrapper"},t.a.createElement("img",{className:"p-mobile_download_modal__header_img",alt:V,src:F.a}))),t.a.createElement(N.d,null,t.a.createElement(N.l,{title:_}),t.a.createElement(N.e,{className:"p-mobile_download_modal__content_section"},t.a.createElement("span",{hidden:!0,id:"mobile-download-modal-described-by-label"},ee.t("Scan QR code")),t.a.createElement(j,{eventId:U})))))},"MobileDownloadModal");oe.displayName="MobileDownloadModal";var G=i.a=oe},"9+Yh":function(Y,i,e){"use strict";e.d(i,"a",function(){return v});var a=e("9oTK"),t=e.n(a),l=e("m8R6"),u=e("2XU3"),c=e("WCk1"),g=e("s4P+"),b=e("pjW8");const S={FeatureNotEnabled:"feature_not_enabled",WorkspaceNotFound:"workspace_not_found",EmailInvalid:"email_invalid",OperationNotAllowed:"operation_not_allowed",CouldNotCreateInvite:"could_not_create_invite",ActiveInvite:"active_invite",AlreadyInWorkspace:"already_in_workspace",RestrictedAction:"restricted_action"},v=Object(c.a)("externalWorkspaces.invites.sendByEmail generated fetcher",function(){var T=Object(a.coroutine)(function*(I,d,f){try{const C=["reason"],j=Object(l.a)(f,C),N=Object(b.b)(j);return yield I(Object(u.apiCall)({method:"externalWorkspaces.invites.sendByEmail",args:N,reason:f.reason}))}catch(C){throw Object(g.a)({getState:d}).error(`API call to externalWorkspaces.invites.sendByEmail
				with reason ${f.reason} failed, initiated by generated fetcher`),C}});return function(I,d,f){return T.apply(this,arguments)}}());v.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesInvitesSendByEmailFetcher",description:"externalWorkspaces.invites.sendByEmail generated fetcher"}},"9qRH":function(Y,i,e){"use strict";e.d(i,"a",function(){return O});var a=e("q1tI"),t=e.n(a),l=e("BHdc"),u=e("ZobM"),c=e("K2b1"),g=e("qDEp"),b=e("i9y5"),S=e("P8PK"),v=e("HYbo"),T=e("WMzb");function I(){return I=Object.assign||function(M){for(var L=1;L<arguments.length;L++){var k=arguments[L];for(var F in k)Object.prototype.hasOwnProperty.call(k,F)&&(M[F]=k[F])}return M},I.apply(this,arguments)}s(I,"_extends");const d=new c.b("workflow_builder"),f="p-oauth_account_picker",C=s(M=>`${f}__${M}`,"getBemClassName"),j={button:C("button"),checkIconContainer:C("check-icon-container"),container:C("container"),iconContainer:C("icon-container"),label:C("label"),labelContainer:C("label-container"),labelSubContainer:C("label-sub-container"),spinner:C("spinner"),subLabel:C("sub-label")},N=s(M=>{switch(M){case"default":return t.a.createElement(u.a,{"data-qa":"oauth-account-picker-link-icon",name:"link"});case"none":return null;default:return null}},"getIcon");N.displayName="getIcon";function O(M){let{providerName:L,userId:k,hasValidOAuth:F=!1,loadingStatus:ee=v.a.NOT_STARTED,icon:oe="default",className:G,onUpdateOAuth:x,renderButton:U}=M;const H=Object(T.a)(),p=Object(S.a)(),_=Object(a.useMemo)(()=>N(oe),[oe]),V=Object(a.useCallback)(()=>{const ye={"aria-describedby":p,className:j.button,onClick:x};switch(ee){case v.a.NOT_STARTED:case v.a.IN_FLIGHT:return{...ye,disabled:!0,children:t.a.createElement(t.a.Fragment,null,t.a.createElement("span",null,d.rt("Loading")),t.a.createElement(b.a,{className:j.spinner,size:"small",inline:!0}))};case v.a.FINISHED:return F?{...ye,type:"outline","aria-label":d.t("Switch accounts",{fallbackHash:"9a3b6dc750393b46788d0b92e334e53bc16a458b",fallbackHashNs:"workflow_builder"}),children:d.rt("Switch Accounts",{fallbackHash:"9a3b6dc750393b46788d0b92e334e53bc16a458b",fallbackHashNs:"workflow_builder"})}:{...ye,children:d.rt("Connect")};case v.a.ERROR:return{...ye,disabled:!0,children:d.rt("Connect")};default:return{...ye,disabled:!0,children:d.rt("Connect")}}},[F,p,ee,x]),R=Object(a.useCallback)(()=>{const ye=V();return U?U(ye):t.a.createElement(g.f,I({},ye))},[V,U]),w=Object(a.useCallback)(()=>{const ye=d.rt("Connect your {providerName} account",{providerName:L}),le=d.rt("Connect your account"),De=L?ye:le;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{id:p,className:j.labelContainer},t.a.createElement("span",{className:j.label},De),t.a.createElement("span",{className:j.subLabel},d.rt("External authentication is required"))),R())},[L,p,R]),Q=Object(a.useCallback)(()=>{const ye=d.rt("{providerName} account connected",{providerName:L}),le=d.rt("Account connected"),De=L?ye:le;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{id:p,className:j.labelContainer},t.a.createElement("div",{className:j.labelSubContainer},t.a.createElement("span",{className:j.label},De),t.a.createElement("span",{className:j.checkIconContainer},t.a.createElement(u.a,{name:"check-circle",color:"green",size:"18"}))),t.a.createElement("span",{className:j.subLabel},k)),R())},[L,p,k,R]),re=Object(a.useCallback)(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{id:p,className:j.labelContainer},t.a.createElement("span",{className:j.label},d.rt("Fetching account details\u2026"))),R()),[p,R]),de=Object(a.useCallback)(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{id:p,className:j.labelContainer},t.a.createElement("span",{className:j.label},d.rt("Failed to fetch account details."))),R()),[p,R]),Ne=Object(a.useCallback)(()=>{switch(ee){case v.a.NOT_STARTED:case v.a.IN_FLIGHT:return re();case v.a.FINISHED:return F?Q():w();case v.a.ERROR:return de();default:return H.error(`Unsupported LoadingStatus ${ee}`),de()}},[F,ee,H,Q,de,re,w]);return t.a.createElement("div",{className:Object(l.default)(j.container,G)},_&&t.a.createElement("div",{className:j.iconContainer},_),Ne())}s(O,"OAuthAccountPicker"),O.displayName="OAuthAccountPicker"},"A/zn":function(Y,i,e){"use strict";e.d(i,"g",function(){return I}),e.d(i,"d",function(){return j}),e.d(i,"c",function(){return O}),e.d(i,"e",function(){return L}),e.d(i,"h",function(){return k}),e.d(i,"a",function(){return ee}),e.d(i,"i",function(){return G}),e.d(i,"f",function(){return U}),e.d(i,"b",function(){return H});var a=e("XIp8"),t=e("UrBK"),l=e("gPPH"),u=e("DzIv"),c=e("g/Lm");const g=new Map([[t.a.ReactionAdded,{read:(p,_)=>{var V,R;if(!((V=p.filter)===null||V===void 0)&&V.root&&"inputs"in p.filter.root){var w,Q;return(w=p.filter)===null||w===void 0||(Q=w.root)===null||Q===void 0?void 0:Q.inputs.map(Ne=>Ne.statement.split(" == ")[1].replace(/'/g,""))}if(!((R=p.filter)===null||R===void 0)&&R.root&&"statement"in p.filter.root){var re,de;return[(re=p.filter)===null||re===void 0||(de=re.root)===null||de===void 0?void 0:de.statement.split(" == ")[1].replace(/'/g,"")]}return[]},write:(p,_,V)=>{if(Array.isArray(p)&&p.length)return{version:1,root:p.length===1?{statement:`{{data.${V}}} == '${p[0]}'`}:{operator:"OR",inputs:p.map(R=>({statement:`{{data.${V}}} == '${R}'`}))}}}}],[t.a.ChannelCreated,{read:(p,_)=>{var V,R;if(!((V=p.filter)===null||V===void 0)&&V.root&&"inputs"in p.filter.root){var w,Q;return(w=p.filter)===null||w===void 0||(Q=w.root)===null||Q===void 0?void 0:Q.inputs.map(Ne=>Ne.statement.split(" CONTAINS ")[1].replace(/'/g,""))}if(!((R=p.filter)===null||R===void 0)&&R.root&&"statement"in p.filter.root){var re,de;return(re=p.filter)===null||re===void 0||(de=re.root)===null||de===void 0?void 0:de.statement.split(" CONTAINS ")[1].replace(/'/g,"")}return""},write:(p,_,V)=>{if(p)return{version:1,root:{statement:`{{data.${V}}} CONTAINS '${p}'`}}}}],[t.a.ListRecordUpdated,{read:c.b,write:c.c}]]);var b=e("Qm7m"),S=e("AHZv"),v=e("417x"),T;const I=s(p=>{var _;return(T=p==null||(_=p.config)===null||_===void 0?void 0:_.name)!==null&&T!==void 0?T:""},"getTriggerName"),d=s(p=>Object(u.a)(p),"getTriggerInputParameters"),f=s(p=>{var _;return p==null||(_=p.config)===null||_===void 0?void 0:_.inputs},"getConfiguredInputs"),C=s(p=>{var _;return p==null||(_=p.config)===null||_===void 0?void 0:_.event},"getConfiguredEvent"),j=s(p=>{var _,V;return p==null||(_=p.config)===null||_===void 0||(V=_.event)===null||V===void 0?void 0:V.eventType},"getEventType");var N;const O=s(p=>{var _,V;return(N=p==null||(_=p.config)===null||_===void 0||(V=_.event)===null||V===void 0?void 0:V.channelIds)!==null&&N!==void 0?N:[]},"getChannels");var M;const L=s(p=>{var _,V;return(M=p==null||(_=p.config)===null||_===void 0||(V=_.event)===null||V===void 0?void 0:V.listId)!==null&&M!==void 0?M:""},"getListId"),k=s((p,_)=>{var V,R;return(R=(V=g.get(p.eventType))===null||V===void 0?void 0:V.read(p,_))!==null&&R!==void 0?R:null},"getValueFromFilter"),F=s(function(p){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{eventType:V,event:R,channelIds:w,teamIds:Q}=Object(v.a)(_),re={eventType:p??V,filter:_==null?void 0:_.filter,teamIds:Q,channelIds:w,...R};if(p===t.a.ReactionAdded)return{...re,eventType:t.a.ReactionAdded};if(p===t.a.ListRecordCreated||p===t.a.ListRecordUpdated){const de={...re,listId:w!=null&&w[0]?`F${w==null?void 0:w[0].slice(1)}`:void 0};return delete de.channelIds,de}return{...re}},"createEvent"),ee=s(p=>{let{srcData:_={},subtype:V}=p;const R=V??(_==null?void 0:_.event_type);var w,Q,re,de;return{id:(w=_.id)!==null&&w!==void 0?w:Object(l.a)(),type:b.SLACK_EVENT,config:{name:(Q=_.name)!==null&&Q!==void 0?Q:"",description:(re=_.description)!==null&&re!==void 0?re:void 0,inputs:(de=_.inputs)!==null&&de!==void 0?de:{},inputParameters:d(R),event:F(R,_)}}},"createSlackEventTrigger"),oe=s((p,_,V)=>{var R;return(R=g.get(p.eventType))===null||R===void 0?void 0:R.write(_,p,V)},"setFilterValue"),G=s((p,_,V)=>{const R=Object(a.a)(p),w=C(R),{eventType:Q}=w;return Q===t.a.ListRecordUpdated&&_.name==="listId"&&(w.filter=void 0),_.isFilter?w.filter=oe(w,V,_.name):(_.name==="channelIds"||_.name==="teamIds")&&Array.isArray(V)?w[_.name]=Object(S.b)(V)?V:void 0:(_.name==="metadataEventType"||_.name==="listId")&&typeof V=="string"&&(w[_.name]=V),R},"setConfiguredParameterValue");var x;const U=s(p=>(x=k(p,"reaction"))!==null&&x!==void 0?x:[],"getReactions"),H=s(p=>k(p,"channel_name"),"getChannelNameContains")},AHZv:function(Y,i,e){"use strict";e.d(i,"a",function(){return a}),e.d(i,"b",function(){return t});const a=s(l=>!!l.length,"isNonEmptyArray"),t=s(l=>l.length===0?!1:l.every(u=>typeof u=="string"),"isNonEmptyArrayOfStrings")},AHcl:function(Y,i,e){"use strict";e.d(i,"a",function(){return $t});var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("hbEN"),c=e("BHdc"),g=e("LK2A"),b=e("zrD9"),S=e("WSQ4"),v=e("+9Uj"),T=e("y7XB"),I=e("rnop"),d=e("iODX"),f=e("zxER"),C=e("ojBQ"),j=e("x6tY"),N=e("dmdh"),O=e("wKGu"),M=e("HpvR"),L=e("hisJ"),k=e("mQiU"),F=e("BcBz"),ee=e("B/ED"),oe=e("hBut"),G=e("4KfL"),x=e("somW"),U=e("NqZR"),H=e("SwdH"),p=e("UH+u"),_=e("I0j/"),V=e("37+L"),R=e("2VFn"),w=e("uiBO"),Q=e("6Ng/"),re=e("HkGY"),de=e("nNoG"),Ne=e("oKV2"),ye=e("iy1k"),le=e("PxW5"),De=e("Lgge"),Ie=s(class{setDelegate(_t){this.delegate=_t}openInlineCommentsThread(_t){return this.openCommentsThread(_t.commentThreadId,_t)}tearDown(){}closeCommentsThread(){}openCommentsThread(_t,ot){return this.onOpenCommentsThread(_t,ot),De.a.resolve(!0)}delegateCommentsThreadDidClose(_t,ot){var qt;(qt=this.delegate)===null||qt===void 0||qt.commentsThreadDidClose(_t,ot)}constructor(_t){this.onOpenCommentsThread=_t.onCommentThreadOpened}},"SimpleCommentsUiProvider"),He=e("D1k6"),We=e("BpRo"),Me=e("u0bz"),Xe=e("wXOV"),Ct=e("t+4i"),Pt=e("QygJ"),Tt=s((Gt,_t,ot)=>{const qt=Object(a.useRef)(null),{currentlyOpenSlackThreadId:jt}=Object(Ct.b)({fileId:Gt,initialScrollPosition:void 0}),aa=Object(Pt.a)(jt);var it;const ga=Object(f.c)(pt=>(it=Object(Xe.a)(pt,Gt))!==null&&it!==void 0?it:""),kt=Object(l.j)(),{dispatch:yt}=kt,ba=Object(a.useCallback)((pt,Ye)=>{let{focusTarget:ge}=Ye;yt(Object(He.a)({focusTarget:ge,entityId:_t,quipCommentThreadId:pt}))},[yt,_t]),xa=Object(a.useCallback)(pt=>{var Ye;const ge=kt.dispatch(Object(We.a)({commentThreadId:pt,fileId:Gt}));if((Ye=qt.current)===null||Ye===void 0||Ye.delegateCommentsThreadDidClose(pt,ge),ge){var It;(It=Me.b.get(kt.getState()))===null||It===void 0||It.onCommentThreadDeleted(ga,pt)}},[ga,kt,Gt]),nt=Object(a.useCallback)(()=>{const pt=s(function(Ye){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};yt(Object(_.a)(Object(V.db)({entityId:_t,commentThreadId:Ye}))),ba(Ye,ge)},"setThreadId");return qt.current=new Ie({onCommentThreadOpened:pt}),qt.current},[yt,_t,ba]);return Object(a.useEffect)(()=>{aa&&aa!==jt&&(xa(aa),ot())},[jt,xa,ot,aa]),nt},"useCommentsUiProvider"),Ze=e("gast"),ta=e("FgD2"),Et=e("Zw6N"),Rt=e("kN6v"),Xt=e("l1I1"),ya=e("NV6F"),da=e("lIpX"),Ka=e("/46j"),ia=e("PVw+");const fa=new de.b("quip_view"),ca={COMMENT_STREAM:"comment_stream",COMMENT_THREAD:"comment_thread",ACTIVITY_HISTORY:"activity_history"};function Qt(Gt){let{id:_t}=Gt;var ot,qt,jt,aa;const{window:it,windowId:ga}=Object(a.useContext)(S.a),kt=Object(l.i)(),{view:yt,windowId:ba,getSiblingView:xa}=Object(a.useContext)(k.a),nt=Object(f.c)(z=>xa(z,{container:R.k.Secondary})),pt=_t||Object(le.e)(yt),Ye=yt==null||(ot=yt.params)===null||ot===void 0?void 0:ot.versionId,ge=yt==null||(qt=yt.params)===null||qt===void 0?void 0:qt.sequence,It=Object(H.a)(),Fe=(nt==null?void 0:nt.id)===ca.COMMENT_THREAD||(nt==null?void 0:nt.id)===ca.COMMENT_STREAM,St=Object(O.a)(),na=!!Object(f.c)(G.a),Jt=Object(f.f)(z=>Object(L.b)(z,ga)),sa=Object(f.c)(Ze.a),Wt=Object(f.c)(z=>Object(C.a)(z,pt))||pt,{fileId:Ot}=Object(M.b)(Wt),oa=Object(f.c)(z=>Ot?Object(N.e)(z,Ot):null);var za;const tn=Object(f.c)(z=>(za=Object(Ka.b)(z,Ot))!==null&&za!==void 0?za:!0),[$a,mn]=Object(a.useState)(),[Ya,Cn]=Object(a.useState)(!1),[Nn,Qa]=Object(a.useState)(!1),[Vt,Lt]=Object(a.useState)(!1),[Da,Ja]=Object(a.useState)(!1),[Ca,ra]=Object(a.useState)(null),[ct,Dt]=Object(a.useState)(!1),Mt=Object(a.useRef)(null),zt=Object(a.useRef)(null);var Ve;const At=(Ve=Object(Rt.a)((jt=Mt.current)===null||jt===void 0?void 0:jt.textSectionOverlayShowing))!==null&&Ve!==void 0?Ve:!0,ha=Object(ya.L)(Ot),la=ha!==void 0,ma=!!Object(Rt.a)(ha==null?void 0:ha.deleted),Ia=Object(a.useCallback)(()=>{(nt==null?void 0:nt.viewType)===w.c.QuipCommentThread&&Ye&&ge&&kt(Object(_.a)(Object(V.ab)(pt)))},[nt==null?void 0:nt.viewType,Ye,ge,pt,kt]),Ua=Tt(Ot,pt,Ia),Re=Object(a.useCallback)(()=>{Object(p.a)({clogger:St,fileId:pt,open:Fe}),kt(Object(_.a)(Object(V.cb)(pt,Jt)))},[St,pt,Fe,Jt,kt]),me=Object(a.useCallback)(z=>{if(z===g.TemplateTriggerType.BLANK_PAGE&&Qa(!0),Object(ta.b)(z)){const pe=sa.find(xe=>xe.template_name===z);if(pe){if(Ja(!0),Lt(!0),Object(Xt.b)(Ot)){ra(z);return}kt(Object(Et.a)({templateFileId:pe.id,targetFileId:Ot,title:pe.title,isStandaloneCanvas:!0})).finally(()=>{Lt(!1)})}}},[Ot,sa,kt]);Object(a.useEffect)(()=>{!Object(Xt.b)(Ot)&&Ca&&(me(Ca),ra(null))},[Ot,me,Ca]),Object(a.useEffect)(()=>{!At&&Da&&Ja(!1)},[At,Da]);const ce=Object(a.useMemo)(()=>({fileId:Ot,focus:()=>{var z,pe;return(z=Mt.current)===null||z===void 0||(pe=z.docEditor)===null||pe===void 0?void 0:pe.focusEditor()},focusSection:z=>{var pe,xe;return(pe=Mt.current)===null||pe===void 0||(xe=pe.docEditor)===null||xe===void 0?void 0:xe.focusSection(z)}}),[Ot,Mt]),_e=Object(a.useCallback)(z=>{var pe;const xe=z.target.getAttribute("data-format");xe==="start-thread"||xe==="open-thread"||xe==="link"||(pe=ce.focus)===null||pe===void 0||pe.call(ce)},[ce]),Ce=Object(a.useCallback)(()=>{var z,pe,xe;mn((xe=zt==null||(z=zt.current)===null||z===void 0||(pe=z.parentElement)===null||pe===void 0?void 0:pe.getBoundingClientRect())===null||xe===void 0?void 0:xe.width)},[]);Object(a.useEffect)(()=>{const z=Object(u.a)(Ce,150);return it.addEventListener("resize",z),()=>it.removeEventListener("resize",z)},[Ce,it]),Object(a.useEffect)(()=>{Ye&&ge&&(Cn(!1),kt(Object(F.c)({windowId:ba,versionId:Ye})))},[kt,Ye,ge,Cn,ba]);const Ee=Object(j.yb)(oa),Se=Ee?500:400,fe=na&&Ye&&ge,{enableSectionNavigation:et,sectionIndex:dt}=Object(U.c)(U.b.Header,!1),{sectionIndex:mt,enableSectionNavigation:Le}=Object(U.c)(U.b.EmptyCanvasTemplateOptions,!1),[Be,Zt]=Object(a.useState)(!Ee),X=Object(a.useCallback)(()=>{Zt(!Be)},[Be]),W=s(()=>{if(!oa||!Object(j.ac)(oa)||Ya)return t.a.createElement(Ne.b,{isLoadingHistory:Ya,fileId:oa==null?void 0:oa.id});let z;return fe?z=t.a.createElement(Q.a,{className:"p-quip_popout__header",versionId:Ye}):z=t.a.createElement(re.b,{"aria-label":fa.t("Canvas Actions"),className:"p-quip_popout__header"},t.a.createElement("div",{className:"p-quip_popout__title"},t.a.createElement(I.a,{id:Wt}),t.a.createElement(ee.a,{id:Ot})),!ct&&t.a.createElement(d.a,{id:Wt,titleRef:zt,onCommentStreamClick:Re,shouldTruncate:$a?$a<Se:!1,onEditTemplate:X,isTemplateInEditMode:Be,setIsTemplateInEditMode:Zt,docEmbed:Mt.current,setIsLoadingUseTemplate:Dt})),t.a.createElement(x.a,{id:"QuipHeaderView",index:dt,enableSectionNavigation:et},z)},"headerContents");if(W.displayName="headerContents",Object(j.h)(oa)&&!(ge||Ye)){var Z;return It.warn("QUIP","QuipView was incorrectly used to render a channel canvas. Render a QuipChannelSpaceView instead."),t.a.createElement(da.a,{id:pt,isTile:!0,lastReadTs:yt==null||(Z=yt.params)===null||Z===void 0?void 0:Z.lastReadTs})}const q=!Ee&&At&&!Nn&&!Vt&&!Da&&la&&!ma&&tn;return t.a.createElement(v.a.Provider,{value:ce},t.a.createElement(b.a,{onFocusedElementRemoved:_e},t.a.createElement("div",{role:"presentation",className:"p-quip_popout"},(Vt||ct)&&t.a.createElement(oe.a,null),!Vt&&t.a.createElement("div",{className:Object(c.default)("p-quip_popout__doc",{"p-quip_popout__doc--has-thread":Fe})},t.a.createElement(T.a,{id:Wt,variant:"short"},W()),t.a.createElement(T.a,{id:Wt},t.a.createElement("div",{className:Object(c.default)("p-quip_popout__embed",{hidden:ct})},q&&t.a.createElement(x.a,{id:U.a.EmptyCanvasTemplateOptions,index:mt,enableSectionNavigation:Le},t.a.createElement(ta.a,{onTemplateSelection:me,channel:null,fileId:Ot,isStandaloneCanvas:!0,docEmbed:Mt.current})),t.a.createElement(ye.a,{ref:Mt,entityId:Wt,versionId:Ye,sequence:ge,getCommentsUiProvider:Ua,isTemplateOverlayShowing:q,lastReadTs:yt==null||(aa=yt.params)===null||aa===void 0?void 0:aa.lastReadTs})))))))}s(Qt,"QuipView"),Qt.displayName="QuipView";function $t(Gt){let{id:_t}=Gt;const{view:ot}=Object(a.useContext)(k.a);return t.a.createElement(T.a,{id:_t||ot.id},t.a.createElement(Qt,{id:_t}))}s($t,"QuipViewWithErrorBoundary");function Bt(){return t.a.createElement($t,null)}s(Bt,"renderQuipView"),Bt.displayName="renderQuipView"},ALk5:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("nNoG"),u=e("ktUG"),c=e("/0Xg"),g=e("uVZW"),b=e("AKIH"),S=e("Trx9"),v=e("Sid4"),T=e("vDCl"),I=e("Tevt"),d=e("8Rho"),f=e.n(d),C=e("7jQe"),j=e.n(C);const N=new l.b("repackaging_announcement"),O={notification:g.h.REPACKAGING_ANNOUNCEMENT_BANNER},M=s(k=>{let{repackagingStartDate:F}=k;const ee=Object(b.a)(F,!1,{shortenDay:!0}),oe=N.t("Messages older than {limitInDays} days will be hidden",{limitInDays:c.h}),G=t.a.createElement(t.a.Fragment,null,N.rt("Starting <strong>{priceLockInDate}</strong>, instead of separate limits for messages and file size, you\u2019ll be able to access all of your messages and files from the most recent {limitInDays} days.",{limitInDays:c.h,priceLockInDate:ee,fallbackHash:"0f5737e1672f3b4b7a9ba43389c232d5c08586fb"}),t.a.createElement("span",{className:"p-repackaging_announcement_banner__body_line_two"},N.rt("<a>Read about this change</a>, and about new features coming your way.",{"<a>":U=>{let{text:H}=U;return t.a.createElement(I.a,{"data-qa":"repackaging_announcement_banner_link",href:"https://slack.com/blog/news/pricing-and-plan-updates"},H)}}))),x=t.a.createElement("img",{alt:N.t("calendar"),srcSet:`${f.a} 1x, ${j.a} 2x`});return t.a.createElement(S.a,{clogImpression:!0,eventId:u.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:u.UiComponentName.REPACKAGING_ANNOUNCEMENT_BANNER},t.a.createElement(v.b,{headingText:oe,icon:x,theme:T.b.NONE,bodyText:G,notificationPrefs:O}))},"RepackagingAnnouncementBanner");M.displayName="RepackagingAnnouncementBanner";var L=i.default=M},BZp1:function(Y,i,e){"use strict";e.d(i,"a",function(){return M}),e.d(i,"b",function(){return L});var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("zxER"),c=e("Z0Cl"),g=e("+l5E"),b=e("d/FZ"),S=e("Yauy"),v=e("G0eX"),T=e("beVI"),I=e("MRve"),d=e("Cyb+"),f=e("u0LO"),C=e("UIhb"),j=e("E3dU");const N=15,O=3,M=s(F=>{const ee=Object(l.i)();return Object(a.useCallback)(()=>{ee(Object(I.b)({component:F,type:f.a.Dismiss,reason:"slack-connect-dm-banner"}))},[ee,F])},"useDismissBanner"),L=s((F,ee)=>{const oe=Object(l.i)(),[G,x]=Object(a.useState)(!0),U=Object(u.c)(T.g),H=Object(u.c)(Q=>Object(C.a)(Q,F)),p=Object(u.c)(Q=>Object(d.a)(Q,ee,f.a.Dismiss)),_=Object(u.c)(Q=>Object(d.c)(Q,ee,f.a.Dismiss)),V=Object(u.c)(Q=>{const re=Object(j.d)(Q,F);return Object(S.f)(re)});if(Object(a.useEffect)(()=>{oe(Object(I.a)({interactions:[{component:ee,type:f.a.Dismiss}],reason:"slack-connect-dm-banner"})).then(()=>{x(!1)})},[oe,ee]),Object(v.M)(U)||G||p>=O||V<_)return!1;const R=Object(c.a)(H,Q=>!Object(b.a)(Q));let w=0;return R.forEach(Q=>{w+=1+Object(g.J)(Q)}),!(w<N)},"useShouldRenderBanner"),k={MIN_CHANNEL_MESSAGES_COUNT:N,MAX_SCDM_BANNER_DISMISSALS:O}},CowY:function(Y,i,e){"use strict";e.d(i,"a",function(){return j});var a=e("9oTK"),t=e("q1tI"),l=e.n(t),u=e("BHdc"),c=e("qDEp"),g=e("YUBf"),b=e("ZobM"),S=e("9qRH"),v=e("HYbo"),T=e("K2b1"),I=e("jWAO");function d(){return d=Object.assign||function(O){for(var M=1;M<arguments.length;M++){var L=arguments[M];for(var k in L)Object.prototype.hasOwnProperty.call(L,k)&&(O[k]=L[k])}return O},d.apply(this,arguments)}s(d,"_extends");const f=new T.b("oauth_account_picker"),C={modalListItem:"p-oauth_account_select_modal__list_item"};function j(O){let{selectedAuth:M,providerName:L,onClose:k,onSelectOAuth:F,onAddOAuth:ee,useOAuthTokenState:oe}=O;const G=oe(),[x,U]=Object(t.useState)(null),[H,p]=Object(t.useState)(null),[_,V]=Object(t.useState)(v.a.FINISHED),[R,w]=Object(t.useState)(M==null?void 0:M.externalTokenId);Object(t.useEffect)(()=>{for(const Me of G)if(Me.isDefault){w(Me.externalTokenId);return}},[G]);const Q=Object(t.useCallback)(Object(a.coroutine)(function*(){try{p(null),V(v.a.IN_FLIGHT),yield ee()}catch(Me){p(Me)}finally{V(v.a.FINISHED)}}),[ee]),re=Object(t.useCallback)(function(){var Me=Object(a.coroutine)(function*(Xe){try{p(null),U(Xe),yield F(Xe),U(null),k()}catch(Ct){p(Ct),U(null)}});return function(Xe){return Me.apply(this,arguments)}}(),[F,k]),de=Object(t.useCallback)(Object(a.coroutine)(function*(){R&&(yield re(R))}),[R,re]),Ne=f.rt("Select"),ye=Object(t.useCallback)((Me,Xe)=>{const Ct=R===Me;return l.a.createElement(c.a,d({size:"small",type:"outline",role:"radio","aria-checked":Ct,"aria-disabled":!!x||Ct},Xe),Ne)},[x,R,Ne]),le=(G==null?void 0:G.length)>0,De=Object(t.useCallback)(Me=>l.a.createElement(c.a,d({},Me,{type:le?"outline":"primary"})),[le]),Ae=f.rt("Accounts"),Ie=Object(t.useMemo)(()=>l.a.createElement("div",{id:"oauth-account-select-modal-heading"},Ae),[Ae]),He=f.rt("Connect a new account",{fallbackHash:"205759f15379d4c11ff5322209afff2f74cf4661",fallbackHashNs:"oauth_account_picker"}),We=le?f.t("Or, connect a new account"):He;return l.a.createElement(g.a,{centered:!0,closeModal:k},l.a.createElement(g.i,null,l.a.createElement(g.l,{title:Ie})),l.a.createElement(g.d,null,le?l.a.createElement(g.e,null,l.a.createElement("h3",null,f.rt("Select an account")),l.a.createElement("ul",{className:Object(u.default)("no_bullets","margin_0"),"aria-labelledby":"oauth-account-select-modal-heading",role:"radiogroup"},G==null?void 0:G.map(Me=>{let{externalUserId:Xe,externalTokenId:Ct}=Me;return l.a.createElement(N,{key:Ct,externalUserId:Xe,externalTokenId:Ct,isSelected:R===Ct,onSelectOAuth:w,renderButton:ye})}))):null,l.a.createElement(g.e,null,l.a.createElement("h3",{className:"margin_bottom_100"},We),l.a.createElement(S.a,{loadingStatus:_,providerName:L,hasValidOAuth:!1,onUpdateOAuth:Q,renderButton:De})),l.a.createElement(g.e,null,H&&l.a.createElement(I.d,{level:"error",className:"margin_top_100"},f.t("There was an error connecting your account. Try again.")))),l.a.createElement(g.g,null,l.a.createElement(g.h,null,l.a.createElement(g.c,{"data-qa":"oauth-account-select-modal-cancel",type:"outline"},f.rt("Cancel")),l.a.createElement(c.c,{"data-qa":"oauth-account-select-modal-save",type:"primary",loading:!!x,disabled:!R,onClick:de},f.t("Save",{fallbackHash:"efc007a393f66cdb14d57d385822a3d9e36ef873",fallbackHashNs:"channel_sidebar"})))))}s(j,"OAuthAccountSelectModal"),j.displayName="OAuthAccountSelectModal";function N(O){let{externalUserId:M,externalTokenId:L,isSelected:k,onSelectOAuth:F,renderButton:ee}=O;const oe=Object(t.useCallback)(()=>{F(L)},[L,F]),G=`oauth-account-select-modal-option-${M}`;return l.a.createElement("li",{className:Object(u.default)(C.modalListItem,"margin_bottom_0","display_flex","align_items_center","justify_content_between","padding_top_50","padding_bottom_50")},l.a.createElement("span",{id:G,className:"display_flex align_items_center"},M,k&&l.a.createElement("span",{className:"margin_left_25"},l.a.createElement(b.a,{name:"check-circle",color:"green",size:"18"}))),ee(L,{onClick:oe,"aria-labelledby":G}))}s(N,"OAuthSelectItem"),N.displayName="OAuthSelectItem"},"D+av":function(Y,i,e){"use strict";e.d(i,"a",function(){return u});var a=e("SQ0V"),t=e("YbH7"),l=e("A26L");const u=Object(a.c)("Calls quip.getCanvasCollection and gets all the collections and sets the redux store",(c,g)=>c(Object(t.a)({reason:"canvas_organization_prototype_3"})).then(b=>{c(Object(l.a)({fileIds:b.file_ids}))}));u.meta={name:"createThunk",key:"createThunkgetAndSetCollections",description:"Calls quip.getCanvasCollection and gets all the collections and sets the redux store"}},DzIv:function(Y,i,e){"use strict";e.d(i,"b",function(){return c}),e.d(i,"a",function(){return g});var a=e("UrBK"),t=e("vIgB"),l=e("nNoG");const u=new l.b("workflow_builder"),c={getTitle:()=>u.t("Choose how to start the workflow",{fallbackHash:"25242dffe7c0126525f9e58ffcb6126aa72ecf9b"}),getDescription:()=>"Slack event trigger description",getIsEnabled:()=>!1,getIcon:b=>{switch(b){case a.a.ReactionAdded:return"emoji";case a.a.UserJoinedChannel:return"user-add";default:return"user"}}},g=s(b=>{const S={[a.a.ReactionAdded]:[{type:t.f.Reaction,name:"reaction",title:u.t("Emoji reactions",{fallbackHash:"1e53b9849fee217c9f8f82ee3f561e933d867a8e"}),is_required:!0,isFilter:!0},{type:t.f.Array,items:{type:t.f.SlackTypesChannelId},name:"channelIds",title:u.t("Channels",{fallbackHash:"43e988b1153b06840f3818c3b5de6db2a3aab293"}),is_required:!0,maxItems:20}],[a.a.UserJoinedChannel]:[{type:t.f.Array,items:{type:t.f.SlackTypesChannelId},name:"channelIds",title:u.t("Channels",{fallbackHash:"43e988b1153b06840f3818c3b5de6db2a3aab293"}),is_required:!0,maxItems:20}],[a.a.ChannelCreated]:[{type:t.f.Array,items:{type:t.f.SlackTypesTeamId},name:"teamIds",title:u.t("Select workspaces",{fallbackHash:"83c1bbc375b7d0ac8d622af1896869dba1867f7b"}),is_required:!0},{type:t.f.String,isFilter:!0,name:"channel_name",title:u.t("Channel Name contains",{fallbackHash:"5b8d97f62835cae8ad5adb2bade60d98db86fa85"}),is_required:!1}],[a.a.ListRecordCreated]:[{type:t.f.SlackTypesListId,name:"listId",title:u.t("Select a List",{fallbackHash:"074b26ac2de089b3e83bcea6c5f3accc0cae2eca",fallbackHashNs:"lists"}),is_required:!0}],[a.a.ListRecordUpdated]:[{type:t.f.SlackTypesListId,name:"listId",title:u.t("Select a List",{fallbackHash:"074b26ac2de089b3e83bcea6c5f3accc0cae2eca",fallbackHashNs:"lists"}),is_required:!0},{type:t.f.String,name:"filter",title:u.t("Field",{fallbackHash:"fd6294adde442e65458da9640beeafed76f7f66a"}),is_required:!1,isFilter:!0},{type:t.f.String,isFilter:!0,name:"topLevelFilterOperator",title:u.t("Column match logic",{fallbackHash:"5b8d97f62835cae8ad5adb2bade60d98db86fa85"}),is_required:!1}]};var v;return(v=S[b])!==null&&v!==void 0?v:[]},"getSlackEventInputParameters")},EN2b:function(Y,i,e){"use strict";e.d(i,"a",function(){return U});var a=e("q1tI"),t=e.n(a),l=e("zxER"),u=e("/MKj"),c=e("9Gfp"),g=e("SQ0V"),b=e("nNoG"),S=e("3l96"),v=e("beVI"),T=e("YUBf"),I=e("hUMe"),d=e("TUw0"),f=e("CD4m"),C=e("fNJk"),j=e("gYGr"),N=e("lx3m"),O=e("+kJ4"),M=e("AdTA"),L=e("ZobM"),k=e("Tsh7"),F=e("sGEr"),ee=e.n(F);function oe(){return oe=Object.assign||function(H){for(var p=1;p<arguments.length;p++){var _=arguments[p];for(var V in _)Object.prototype.hasOwnProperty.call(_,V)&&(H[V]=_[V])}return H},oe.apply(this,arguments)}s(oe,"_extends");const G=new b.b("slack_connect_hub"),x=s(H=>{let{workspaceId:p,entities:_}=H;const V=Object(u.i)(),R=Object(l.c)(c.h),w=Object(l.c)(le=>Object(v.e)(le,p)),Q=Object(a.useCallback)(()=>V(Object(O.a)()),[V]),re=Object(a.useCallback)(()=>{R?V(Object(M.a)({invitationsTabId:N.c.sent})):window.open(`${w}/invitations`)},[w,V,R]),de=Object(a.useCallback)(()=>t.a.createElement("div",{className:"margin_50"},t.a.createElement(L.a,{name:"paper-plane",variation:"large",size:"24"})),[]),Ne=s(le=>t.a.createElement("div",{className:"display_flex align_items_center margin_bottom_75"},t.a.createElement("div",{className:"p-shared_workspace_sent_invitation_success_modal__entity"},le.entity.isEmail?t.a.createElement(f.d,{avatar:de,size:"medium",text:t.a.createElement(f.c,{className:"bold margin_left_50"},le.entity.value)}):t.a.createElement(d.b,{id:le.entity.id,useShortMode:!0,showPresence:!1,isDraftContext:!1,showStatus:!1,showSubtext:!1})),t.a.createElement(k.d,{tip:le.entity.isEmail?G.t("They\u2019re not on Slack yet, but you can still message them (they\u2019ll be able to see all direct messages sent to them once they\u2019ve joined)."):G.t("An admin may need to review this invitation.")},t.a.createElement(L.a,{name:"info"}))),"renderEntity"),ye=_.length>1;return t.a.createElement(T.b,{"data-qa":C.d.Modal},t.a.createElement(T.j,{alt:"Slack Connect Workspace Sent Invitation Illustration",src:ee.a,height:196,width:520}),t.a.createElement(T.i,{"data-qa":C.d.Header},t.a.createElement(T.l,{title:ye?G.t("Your invitations are on the way"):G.t("An invitation is on the way"),className:"break_word","data-qa":C.d.TitleBar})),t.a.createElement(T.d,{className:"margin_0","data-qa":C.d.Content},t.a.createElement(T.e,null,t.a.createElement("div",{className:"margin_0 margin_bottom_150 break_word"},ye?G.rt("These people will receive an invitation to join {workspace}.",{workspace:t.a.createElement(I.a,{id:p})}):G.rt("This person will receive an invitation to join {workspace}.",{workspace:t.a.createElement(I.a,{id:p})})),t.a.createElement("div",{className:"margin_bottom_75"},t.a.createElement("strong",null,G.t("Invitations pending acceptance"))),_.map(le=>Ne(le)),t.a.createElement(j.a,{onClick:re,text:G.t("Manage Invitations"),className:"margin_top_100"}))),t.a.createElement(T.g,{"data-qa":C.d.Footer},t.a.createElement(T.h,{"data-qa":C.d.FooterActions},t.a.createElement(T.c,{"data-qa":C.d.CloseButton,type:"primary",onClick:Q},G.t("OK")))))},"SharedWorkspaceSentInvitationSuccessModal");x.displayName="SharedWorkspaceSentInvitationSuccessModal";const U=Object(g.c)("Opens the Slack Connect Workspace Leave Confirmation Modal",(H,p,_)=>{H(Object(S.a)({element:t.a.createElement(x,oe({},_)),isStackable:!1}))});U.meta={name:"createThunk",key:"createThunkopenSharedWorkspaceSentInvitationSuccessModal",description:"Opens the Slack Connect Workspace Leave Confirmation Modal"}},Ei7s:function(Y,i,e){"use strict";var a=e("SQ0V"),t=e("VUud"),l=e("u4cD"),u=e("uVZW");const c=Object(a.c)("Close the message pane banner",(g,b,S)=>{g(Object(t.a)({action:u.f.DISMISS,reason:"close-banner",...S})),g(Object(l.d)({spaceName:u.g.MESSAGE_PANE}))});c.meta={name:"createThunk",key:"createThunkcloseBanner",description:"Close the message pane banner"},i.a=c},ElD4:function(Y,i,e){"use strict";e.r(i),e.d(i,"ChannelInviteSuggestionsCoachmark",function(){return v});var a=e("q1tI"),t=e.n(a),l=e("nNoG"),u=e("zlyu"),c=e("RUo5"),g=e("ktUG");const b=new l.b("channel_header"),S={elementName:g.UiComponentName.CHANNEL_INVITE_SUGGESTIONS_COACHMARK,uiComponentName:g.UiComponentName.CHANNEL_INVITE_SUGGESTIONS_COACHMARK,onClick:{enableClogAction:!0}},v=s(T=>{let{offsetY:I=15,showCoachmark:d,onPrimaryClick:f,onClose:C,UNSAFE_parentSelector:j}=T;const N=t.a.createElement(u.a,{isOpen:d,primaryCallToActionText:b.t("Add People"),onClickPrimaryButton:f,closeCoachmark:C,offsetY:I,arrowPosition:90,orientation:"bottom-left",autoClogProps:S,isMegaphoneCoachmark:!1,UNSAFE_parentSelector:j},t.a.createElement("h3",null,b.t("Is anyone missing from the conversation?")),t.a.createElement("p",null,b.t("You can add more people to the channel to make sure no one misses a beat.")));return d?t.a.createElement(c.b,{coachmarkElement:N,orientation:"bottom-left"}):null},"ChannelInviteSuggestionsCoachmark");v.displayName="ChannelInviteSuggestionsCoachmark",i.default=v},F1Sp:function(Y,i,e){"use strict";e.d(i,"b",function(){return f}),e.d(i,"a",function(){return C});var a=e("q1tI"),t=e.n(a),l=e("wd/R"),u=e.n(l),c=e("WP6X"),g=e("ffkt"),b=e("a7YP"),S=e("A/mR"),v=e("nNoG"),T=e("zxER"),I=e("JoR1");const d=new v.b("workflow_builder"),f=s((j,N,O)=>{let M;const L=N.isoWeekday(),k=Object(c.d)(L),F=Object(c.g)(Object(c.i)(N,!0),O);switch(j){case g.b.FREQUENCY_DAILY:M=d.t("and repeats daily");break;case g.b.FREQUENCY_WEEKDAYS:M=d.t("and repeats every weekday");break;case g.b.FREQUENCY_WEEKLY:M=d.t("and repeats weekly on {dayOfWeek}",{dayOfWeek:k,fallbackHash:"5d46544a0c0a5d3319a351b8d3c453ba8939804f"});break;case g.b.FREQUENCY_MONTHLY_NTH_DAY:M=F(L);break;case g.b.FREQUENCY_YEARLY:M=d.t("and repeats annually");break;case g.b.FREQUENCY_HOURLY:case g.b.FREQUENCY_MONTHLY:case g.b.FREQUENCY_CUSTOM:M=d.t("and repeats on a custom schedule");break;default:M=""}return M},"getHumanReadableFrequencyType"),C=s(j=>{let{trigger:N}=j;const O=Object(T.c)(ee=>Object(I.u)(ee,"time24")),{schedule:M}=N.config,L=Object(S.q)(Object(c.b)(M.startTime,M.timezone),{excludeYear:!0,uncapitalizedRelativeDay:!0}),k=u()(M.startTime),F=Object(T.c)(b.r);return t.a.createElement("span",null,d.rt("Starts {humanReadableDate} at {humanReadableTime} {repeat}",{humanReadableDate:L,humanReadableTime:k.format(O?"HH:mm":"h:mm A"),repeat:f(Object(g.c)(M),k,F)}))},"HermesScheduledTriggerSummary");C.displayName="HermesScheduledTriggerSummary"},F2y5:function(Y,i,e){"use strict";var a=e("wpDl"),t=Object(a.a)("floor");i.a=t},FgD2:function(Y,i,e){"use strict";e.d(i,"b",function(){return w});var a=e("q1tI"),t=e.n(a),l=e("hbEN"),u=e("Trx9"),c=e("ktUG"),g=e("nNoG"),b=e("ZobM"),S=e("E97Y"),v=e("LK2A"),T=e("zxER"),I=e("ZMRP"),d=e("khnw"),f=e("7ibc"),C=e("NV6F"),j=e("/MKj"),N=e("BHdc"),O=e("WSQ4"),M=e("2IFS"),L=e("oSkh"),k=e("rZ8V"),F=e("GWPn"),ee=e("JoR1"),oe=e("T1zM"),G=e("SCQg"),x=e("s9Q6"),U=e("kN6v"),H=e("i5Ig"),p=e("AArn");const _=new g.b("slack-docs");var V;(function(Ae){Ae.LINK="help_center_link"})(V||(V={}));var R;(function(Ae){Ae.CANNED_CHANNEL_OVERVIEW="ChannelOverviewTemplate",Ae.CANNED_WEEKLY_SYNC="WeeklySyncTemplate",Ae.CANNED_EMPLOYEE_ONBOARDING="EmployeeOnboardingTemplate",Ae.CANNED_MONTHLY_NEWSLETTER="MonthlyNewsletterTemplate",Ae.CANNED_AGENDA="AgendaTemplate",Ae.CANNED_SHARED_RESOURCES="SharedResourcesTemplate",Ae.CANNED_OOO_COVERAGE="OOOCoveragePlanTemplate"})(R||(R={}));const w=s(Ae=>Object.values(R).includes(Ae),"isCannedTemplateTriggerType"),Q=38,re=20,de=150,Ne=["smart-cards",v.TemplateTriggerType.BLANK_PAGE,...Object.values(R)],ye=s(Ae=>Ne.includes(Ae),"isAllowedTemplateTrigger"),le=s(Ae=>{let{onTemplateSelection:Ie,channel:He,fileId:We,isStandaloneCanvas:Me,onTemplateFromGallerySelection:Xe,docEmbed:Ct}=Ae;const Pt=Object(j.i)(),qe=Object(a.useRef)(null),Tt=Object(S.h)(He),Ze=Object(T.c)(f.n),{files:ta}=Object(G.a)(),{window:Et}=Object(a.useContext)(O.a),Rt=Object(a.useContext)(p.a),[Xt,ya]=Object(a.useState)(null),[da,Ka]=Object(a.useState)(null),[ia,fa]=Object(a.useState)(null),ca=Object(T.c)(k.q),Qt=Object(T.c)(x.i);var $t;const Bt=Object(T.c)(ge=>($t=Object(ee.u)(ge,"seen_canvas_template_new_badge_channel_canvas"))!==null&&$t!==void 0?$t:!1);var Gt;const _t=(Gt=Object(U.a)(Ct==null?void 0:Ct.hasHeaderImage))!==null&&Gt!==void 0?Gt:!1,ot=Object(a.useCallback)(ge=>!!(ta!=null&&ta.find(It=>It.template_name===ge)),[ta]),qt=Object(a.useCallback)(()=>{Pt(Object(C.p)({source:"CanvasTemplateOptions",channelId:(He==null?void 0:He.id)||"",fileId:Me?We:"",onTemplateFromGallerySelection:Xe})),!Me&&!Bt&&Pt(Object(oe.f)({pref:"seen_canvas_template_new_badge_channel_canvas",value:!0}))},[Pt,He==null?void 0:He.id,Me,We,Xe,Bt]),jt=Object(a.useCallback)(ge=>{Ie(ge),!Me&&!Bt&&w(ge)&&Pt(Object(oe.f)({pref:"seen_canvas_template_new_badge_channel_canvas",value:!0}))},[Ie,Me,Bt,Pt]),aa=Object(a.useRef)(null),it=Object(a.useCallback)(ge=>{var It;let Fe;if(Me||(Fe=Tt?"dm":"channel"),(It=qe.current)===null||It===void 0||It.track({action:c.UiAction.CLICK,label:ge,canvasType:Me?"standalone":"channel-canvas",canvasTemplateType:"canned",canvasTemplateLabel:ge,uiComponentVariant:Fe}),ye(ge))jt(ge);else if(ge==="help_center_link"){var St;(St=qe.current)===null||St===void 0||St.track({action:c.UiAction.CLICK,label:ge}),qt()}},[Me,jt,qt,Tt]),ga=Object(a.useCallback)(ge=>{it(ge.id)},[it]),kt=Object(a.useCallback)(ge=>{ge.keyCode===d.e&&(ge.preventDefault(),ge.id&&it(ge.id))},[it]),yt=Object(a.useCallback)(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"ellipsis-horizontal",variation:"filled",size:"20"}),_.t("More"),!Bt&&!Me&&t.a.createElement(F.a,{className:"p-canvas_template_options__callout"},_.t("NEW"))),[Bt,Me]),ba=Object(a.useCallback)((ge,It)=>{let{key:Fe}=It,St;return Fe==="help_center_link"?St=yt():Fe===v.TemplateTriggerType.BLANK_PAGE?St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"canvas-content",size:"20"}),_.t("Blank canvas")):Fe==="smart-cards"?St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"magic-wand",size:"20"}),Ze?_.t("Make me one!"):"Make me one!"):Fe===R.CANNED_EMPLOYEE_ONBOARDING?St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"heart",size:"20"}),_.t("Employee onboarding")):Fe===R.CANNED_MONTHLY_NEWSLETTER?St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"megaphone",size:"20"}),_.t("Newsletter")):Fe===R.CANNED_CHANNEL_OVERVIEW?St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"rocket",size:"20"}),_.t("Channel overview")):Fe===R.CANNED_WEEKLY_SYNC?St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"calendar",size:"20"}),_.t("Weekly sync")):Fe===R.CANNED_AGENDA?St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"checkbox",size:"20"}),_.t("Agenda")):Fe===R.CANNED_SHARED_RESOURCES?St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"link",size:"20"}),_.t("Shared resources")):Fe===R.CANNED_OOO_COVERAGE&&(St=t.a.createElement(t.a.Fragment,null,t.a.createElement(b.a,{name:"notifications-off",size:"20"}),_.t("Out of office coverage"))),t.a.createElement("div",{className:"p-canvas_template_options__buttons__button"},St)},[yt,Ze]);Object(a.useEffect)(()=>{if(Rt){var ge;aa==null||(ge=aa.current)===null||ge===void 0||ge.focus()}},[]);const xa=Object(a.useMemo)(()=>{const ge=[v.TemplateTriggerType.BLANK_PAGE,...Ze?["smart-cards"]:[]];return Me?(ot(R.CANNED_EMPLOYEE_ONBOARDING)&&ge.push(R.CANNED_EMPLOYEE_ONBOARDING),ot(R.CANNED_MONTHLY_NEWSLETTER)&&ge.push(R.CANNED_MONTHLY_NEWSLETTER),ot(R.CANNED_WEEKLY_SYNC)&&ge.push(R.CANNED_WEEKLY_SYNC),ot(R.CANNED_OOO_COVERAGE)&&ge.push(R.CANNED_OOO_COVERAGE)):Tt?(ot(R.CANNED_AGENDA)&&ge.push(R.CANNED_AGENDA),ot(R.CANNED_SHARED_RESOURCES)&&ge.push(R.CANNED_SHARED_RESOURCES),ot(R.CANNED_WEEKLY_SYNC)&&ge.push(R.CANNED_WEEKLY_SYNC)):(ot(R.CANNED_CHANNEL_OVERVIEW)&&ge.push(R.CANNED_CHANNEL_OVERVIEW),ot(R.CANNED_WEEKLY_SYNC)&&ge.push(R.CANNED_WEEKLY_SYNC),ot(R.CANNED_SHARED_RESOURCES)&&ge.push(R.CANNED_SHARED_RESOURCES)),ge.push("help_center_link"),ge},[Ze,Tt,ot,Me]),nt=Object(a.useCallback)(()=>{if(!Xt||!da)return H.b;var ge;return{display:"block",marginLeft:0,marginTop:re,left:Xt.left-da.left,top:Xt.top-da.top+Xt.height+((ge=ia==null?void 0:ia.height)!==null&&ge!==void 0?ge:0)}},[Xt,da,ia]),pt=Object(a.useMemo)(()=>Object(l.a)(()=>{var ge,It,Fe,St;const na=(It=Et==null||(ge=Et.document)===null||ge===void 0?void 0:ge.querySelector(".editor-default-section-text-overlay.text-section"))===null||It===void 0?void 0:It.getBoundingClientRect();na&&ya(na);const Jt=(St=Et==null||(Fe=Et.document)===null||Fe===void 0?void 0:Fe.querySelector(".document.parts-screen"))===null||St===void 0?void 0:St.getBoundingClientRect();Jt&&Ka(Jt);let sa=null;if(Qt&&Me){var Nt,Wt,Ot;sa=(Ot=(Wt=Et==null||(Nt=Et.document)===null||Nt===void 0?void 0:Nt.querySelector(".p-upgrades_alert_banner"))===null||Wt===void 0?void 0:Wt.getBoundingClientRect())!==null&&Ot!==void 0?Ot:null}fa(sa)},de),[Me,Qt,Et==null?void 0:Et.document]);Object(a.useEffect)(()=>(Et.addEventListener("resize",pt),()=>{Et.removeEventListener("resize",pt),pt.cancel()}),[pt,Et]);const Ye=Object(a.useContext)(M.a);return Object(a.useEffect)(()=>{pt()},[pt,Ye,_t]),t.a.createElement(u.a,{eventId:c.EventId.QUIP_CHANNEL_CANVAS_TEMPLATES,fileId:We,clogImpression:!0,channelId:(He==null?void 0:He.id)||"",trackClogRef:ge=>{qe.current={track:ge}}},t.a.createElement("div",{className:Object(N.default)("p-canvas_template_options","p-canvas_template_options--absolute"),style:nt(),role:"group","aria-label":_.t("New Canvas")},t.a.createElement("div",{className:"p-canvas_template_options__header"},_.t("Get Started")),t.a.createElement("div",{className:Object(N.default)("p-canvas_template_options__buttons",{"p-canvas_template_options__buttons--ia4":ca})},t.a.createElement(L.a,{disableHeight:!0},ge=>{let{width:It}=ge;return t.a.createElement(I.b,{keys:xa,ref:aa,height:xa.length*Q,width:It,rowRenderer:ba,onItemKeyDown:kt,onItemClick:ga,"aria-label":_.t("Templates")})}))))},"CanvasTemplateOptions");le.displayName="CanvasTemplateOptions";var De=i.a=le},Fhhg:function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("zxER"),c=e("E3dU"),g=e("9068"),b=e("TsqY"),S=e("SQ0V"),v=e("gJbv"),T=e("q6Tz"),I=e("uVZW"),d=e("s9Q6"),f=e("y/Pn");const C=Object(S.c)("Send the Megaphone event CHANNEL_OPEN",(m,n,o)=>{let{channelId:r}=o;const y=n(),B=Object(c.d)(y,r);if(!Object(f.a)(B))return;const A=Object(v.c)(y),J=A===v.a.TREATMENT_1,$=A===v.a.TREATMENT_2,te=J||$,ie=Object(d.i)(n());te&&m(Object(T.f)({event:{type:I.e.CHANNEL_OPEN,channelId:r},isTeamOnTrial:ie}))});C.meta={name:"createThunk",key:"createThunkchannelOpenedEvent",description:"Send the Megaphone event CHANNEL_OPEN"};var j=C,N=e("V4NK"),O=e("I+Wo");function M(m,n){return Object(O.a)(m,n,!0)}s(M,"sortedLastIndex");var L=M,k=e("bPB8"),F=e("zmn3"),ee=e("CpTu"),oe=e("vPIQ"),G=e("qAkX"),x=e("fujP"),U=e("Cfcg"),H=e("G4qV"),p=e("EsgF"),_=e("i5Ig"),V=e("Pw4T"),R=e("s4P+"),w=e("5IZy"),Q=e("RVJP"),re=e("XZo2"),de=e("ZqOP"),Ne=e("60Ys"),ye=e("jB41"),le=e("2XL1"),De=e("3mmX"),Ae=e("RV0M"),Ie=e("QKJg"),He=e("2VFn");const We=Object(S.c)("clear the highlight timestamp from the redux store",(m,n,o,r)=>{let{channelId:y,container:B}=o;const{container:A,windowId:J,activeTab:$,shouldUseNavigate:te}=r(Ae.a);if(te){if(!y||!A||A!==B)return;J===He.e?m(Object(Ie.j)({windowId:He.e,tab:$,container:A,uiState:{[y]:{highlightTs:null,highlightLazy:null}}})):m(Object(Ie.j)({windowId:J,container:A,uiState:{[y]:{highlightTs:null,highlightLazy:null}}}));return}m(Object(le.b)())});We.meta={name:"createThunk",key:"createThunkclearMessagePaneHighlightTs",description:"clear the highlight timestamp from the redux store"};var Me=We,Xe=e("Xf7J"),Ct=e("NK7x"),Pt=e("6CnZ"),qe=e("S1JE"),Tt=e("B1/X"),Ze=e("UIhb"),ta=e("ciPa"),Et=e("9Gfp"),Rt=e("Wn1n"),Xt=e("JGaU"),ya=e("W/Or"),da=e("HPAj"),Ka=e("34VX"),ia=e("I27i"),fa=e("W29z"),ca=e("zm5I"),Qt=e("YBS9"),$t=e("2IFS"),Bt=e("+l5E"),Gt=e("ivZv"),_t=e("TA7N"),ot=e("B+uu"),qt=e("XXd4"),jt=e("ISSR"),aa=e("vfvl"),it=e("Yauy"),ga=e("G0eX"),kt=e("beVI"),yt=e("E97Y");const ba=s((m,n)=>{const o="1612310400";return!!(Object(it.f)(n)>o&&Object(f.a)(n)&&!Object(yt.h)(n)&&!Object(f.b)(n)&&!Object(jt.a)(n)&&!Object(aa.a)(n)&&Object(ga.K)(Object(kt.g)(m))&&Object(qt.a)(m,n))},"maybeShowUnfurledJoiners");var xa=e("BfA7"),nt=e("fLNI"),pt=e("ko5w"),Ye=e("g05w"),ge=e("pZC0"),It=e("j7fZ"),Fe=e("xcHN"),St=e("mzZe"),na=e("yxNq"),Jt=e("O86Y"),sa=e("GlHf"),Nt=e("2um6"),Wt=e("ZKjC");const Ot=Object(Wt.b)((m,n)=>{var o,r;return(m==null||(o=m.channelsMeta)===null||o===void 0||(r=o.convertToPrivateChannel)===null||r===void 0?void 0:r[n])||!1});Ot.meta={name:"createSelector",key:"createSelectorgetIsChannelConversionInProgress",description:(m,n)=>{var o,r;return(m==null||(o=m.channelsMeta)===null||o===void 0||(r=o.convertToPrivateChannel)===null||r===void 0?void 0:r[n])||!1}};var oa=e("HJPt");function za(m){let{state:n,rolledMessages:o,channelId:r,currentUserId:y}=m;const B=Object(oe.a)(o,A=>{if(Object(Gt.a)(n,{ts:A.ts,channelId:r})){const J=Object(Bt.n)(A),$=J&&J.hasLink;return!Object(Bt.fb)(A,y)&&(Object(Bt.Q)(A)||Object(Bt.P)(A)||$)}return!1});return B?B.ts:null}s(za,"getLatestThreadableMessageTsWithAttachmentOrLink");var tn=e("ccuj");function $a(m){let{rolledMessages:n}=m;const o=Object(oe.a)(n,r=>!!Object(tn.a)(r));return o?o.ts:null}s($a,"getLatestMessageTsWithThread");function mn(m){let{state:n,rolledMessages:o,channelId:r}=m;const y=Object(oe.a)(o,B=>Object(Gt.a)(n,{ts:B.ts,channelId:r}));return y?y.ts:null}s(mn,"getLatestMessageTsEligibleForThread");var Ya=e("USm0");function Cn(m){let{rolledMessages:n,currentUserId:o,teamId:r,experimentRichTextGroupOn:y}=m;const B=Object(oe.a)(n,A=>Object(Bt.fb)(A,o)||A.subtype?!1:Object(Ya.a)(A,o,[],r,{ignoreAtHereMentions:!0,ignoreHighlightWords:!0,ignoreAtEveryoneMentions:!0,ignoreAtChannelMentions:!0},y));return B?B.ts:null}s(Cn,"getLatestUserMessageTsWithMention");var Nn=e("6Mvn");function Qa(m){let{state:n,rolledMessages:o,currentUserId:r}=m;const y=Object(oe.a)(o,B=>Object(Bt.fb)(B,r)||B.subtype?!1:Object(Nn.a)(n,B));return y?y.ts:null}s(Qa,"getLatestMessageTsEligibleForReaction");var Vt=e("IaLB"),Lt=e("v5z3"),Da=e("QbPB"),Ja=e("qLhO"),Ca=e("n0Pp"),ra=e("ytio"),ct=e("dmdh"),Dt=e("tUtw"),Mt=e("4YJR"),zt=e("Muja"),Ve=e("ifKl"),At=e("BHdc"),ha=e("mYQK"),la=e.n(ha),ma=e("lhZz");const Ia=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"dELU"))),Ua=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"cuvd"))),Re=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"u0ou"))),me=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"HPr9"))),ce=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"J17o"))),_e=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"Zi3E"))),Ce=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"oe+B"))),Ee=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"ALk5"))),Se=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"nZ5K"))),fe=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"XDr/")));var dt={spaceName:I.g.MESSAGE_PANE,notifications:{[I.h.EDUCATION_TEAM_DISCOUNT]:{component:Ia},[I.h.ESC_TRIAL]:{component:Ua},[I.h.JAPAN_SEND_BUTTON]:{component:Re},[I.h.LOCAL_DISCOUNT_AWARENESS]:{component:me},[I.h.MESSAGE_LIMIT_APPROACHING]:{component:ce},[I.h.MESSAGE_LIMIT_JUST_REACHED]:{component:_e},[I.h.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO]:{component:Ce},[I.h.REPACKAGING_ANNOUNCEMENT_BANNER]:{component:Ee},[I.h.TRIAL_THREE_DAYS_LEFT]:{component:Se},[I.h.SUPPORT_UPGRADE_DECISION_SHARED_CHANNEL_BANNER]:{component:fe}}};const mt=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"Y40X")));var Le={spaceName:I.g.WELCOME_SPACE,notifications:{[I.h.IA4_NFX_EDUCATION]:{component:mt}}},Be=e("DmfU"),Zt=e("tstp"),X=e("SpyO"),W=e("rCFu"),Z=e("uKXT"),q=e("U28S");const z=100,pe=1e3,xe=300,we=1e3,rt=500,lt=60;let st=s(class{isEnabled(){return this.isEnabledForClientStats()||this.isEnabledForPRQMetrics()}rafHandler(){this.isEnabledForClientStats()&&this.rafHandlerForClientStats(),this.isEnabledForPRQMetrics()&&this.rafHandlerForPRQMetrics(),this.isEnabled()&&window.requestAnimationFrame(this.rafHandler)}resetCountersForClientStats(){this.beachballs=0,this.frameRates=[],this.stutters=0,this.lastRafHandlerTimeForClientStats=window.performance.now(),this.fpsIndex=0,this.fpsStartTime=null}rafHandlerForClientStats(){if(!this.isEnabledForClientStats())return;const n=window.performance.now(),o=n-this.lastRafHandlerTimeForClientStats;if(this.lastRafHandlerTimeForClientStats=n,o>pe?(this.beachballs+=1,this.beachballsTotal+=1):o>z&&(this.stutters+=1,this.stuttersTotal+=1),this.fpsIndex===0&&(this.fpsStartTime=n),this.fpsIndex+=1,this.fpsIndex===xe){const r=(n-this.fpsStartTime)/1e3,y=Math.floor(this.fpsIndex/r);this.fpsIndex=0,this.frameRates.push(y)}}startClientStats(){this.isEnabled()||window.requestAnimationFrame(this.rafHandler),this.enabledForClientStats=!0,this.resetCountersForClientStats()}stopClientStats(){this.enabledForClientStats=!1}storeClientStats(){const n=Object(V.a)();if(n.count("stutters",this.stutters),n.count("beachballs",this.beachballs),!Object(x.a)(this.frameRates)){const o=Object(Z.a)(this.frameRates);let r;const y=this.frameRates.sort(),B=Math.floor(y.length/2);y.length%2===1?r=y[B]:r=(y[B-1]+y[B])/2,n.store("fps_min",o),n.store("fps_median",r)}this.stutters=void 0,this.beachballs=void 0,this.frameRates=void 0}isEnabledForClientStats(){return!!this.enabledForClientStats}getTotalBeachballCount(){return this.beachballsTotal}getTotalStutterCount(){return this.stuttersTotal}resetCountersForPRQMetrics(){this.histJankyWindows={},this.histFrameRenderTime={},this.durationMs=0,this.lastRafHandlerTimeForPRQMetrics=void 0,this.nextJankyWindowSampleIntervalNumber=1,this.framesInPreviousJankyWindowSample=0,this.framesInCurrentJankyWindowSample=0}recordJankyWindows(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(o<1)return;const r=Math.max(lt-n,0);this.histJankyWindows[r]=(this.histJankyWindows[r]||0)+o}sampleJankyWindows(){const n=Object(q.d)(this.durationMs,9)>rt*this.nextJankyWindowSampleIntervalNumber,o=Math.floor(this.durationMs/rt),r=o-this.nextJankyWindowSampleIntervalNumber;n&&(this.durationMs>=we&&(this.recordJankyWindows(0,r-1),this.recordJankyWindows(this.framesInCurrentJankyWindowSample,r>0?1:0),this.recordJankyWindows(this.framesInCurrentJankyWindowSample+this.framesInPreviousJankyWindowSample)),this.nextJankyWindowSampleIntervalNumber=o+1,this.framesInPreviousJankyWindowSample=r>0?0:this.framesInCurrentJankyWindowSample,this.framesInCurrentJankyWindowSample=0),this.framesInCurrentJankyWindowSample+=1}rafHandlerForPRQMetrics(){if(!this.isEnabledForPRQMetrics())return;const n=window.performance.now();if(typeof this.lastRafHandlerTimeForPRQMetrics>"u"){this.lastRafHandlerTimeForPRQMetrics=n;return}const o=n-this.lastRafHandlerTimeForPRQMetrics,r=Object(q.d)(Math.round(o,0),2);this.histFrameRenderTime[r]=(this.histFrameRenderTime[r]||0)+1,this.lastRafHandlerTimeForPRQMetrics=n,this.durationMs+=o,this.sampleJankyWindows()}startPRQMetrics(){this.isEnabled()||window.requestAnimationFrame(this.rafHandler),this.enabledForPRQMetrics=!0,this.resetCountersForPRQMetrics()}stopPRQMetrics(){this.enabledForPRQMetrics=!1}isEnabledForPRQMetrics(){return!!this.enabledForPRQMetrics}getPRQMetrics(){return{durationMs:Math.round(this.durationMs),histJankyWindows:this.histJankyWindows,histFrameRenderTime:this.histFrameRenderTime}}constructor(){this.enabledForPRQMetrics=!1,this.enabledForClientStats=!1,this.resetCountersForClientStats(),this.resetCountersForPRQMetrics(),this.beachballsTotal=0,this.stuttersTotal=0,this.rafHandler=this.rafHandler.bind(this)}},"ResponsivenessMetrics");st.instance=null;function Pe(){return st.instance===null&&(st.instance=new st),st.instance}s(Pe,"getDefaultInstance");const vt=Pe().startClientStats.bind(st.instance),Ft=Pe().stopClientStats.bind(st.instance),ut=Pe().storeClientStats.bind(st.instance),Ha=Pe().isEnabledForClientStats.bind(st.instance),wa=Pe().getTotalBeachballCount.bind(st.instance),rn=Pe().getTotalStutterCount.bind(st.instance),Pa=Pe().startPRQMetrics.bind(st.instance),pa=Pe().stopPRQMetrics.bind(st.instance),Tn=Pe().isEnabledForPRQMetrics.bind(st.instance),un=Pe().getPRQMetrics.bind(st.instance);var ja=e("ktUG"),ln=e("qMw6"),Hn=e("AkM1"),Ga=e("vJtL"),hn=e("mkut"),pn=e("F294"),ns=e("OZf9"),Dn=e("yIs4"),_n=e("NFsq"),gt=e("Fsnq"),cn=e("RQuH"),ss=e("F2y5"),os=e("wpDl"),vn=Object(os.a)("ceil"),fn=vn,vs=e("pHS2"),wn=e("ukIz"),Gs=e("UXvI"),Rn=e("hbEN"),fs=e("wd/R"),Ta=e.n(fs),Vs=e("oSkh"),Es=e("NBUf"),Os=e("rEgV"),ht=e("A/mR"),Ra=e("xXOU"),Ba=e("mLC8"),En=e("j0Mw"),gs=e("QKxg"),qo=e("haNl"),po=e("Lgge"),er=e("KQ0X"),tr=e("LpvA"),ar=e("rIJ2"),zs=e("cqtq"),bs=e("38Ns"),vo=e("HmUJ"),ka=e("WxSN"),Aa=e("nNoG"),Gn=e("/0Xg"),Ys=e("Trx9"),nr=e("/qcS"),xs=e("Tevt");const ke=new Aa.b("message_pane_foreword"),fo={onClick:{enableClogAction:!0},elementName:"learn_more",isPrimaryCTA:!0};let rs=s(class extends a.PureComponent{render(){const{clientTheme:n,withBookmarksBar:o}=this.props,r=Object(Gn.w)({entryPoint:"limited_history_alert",feature:Gn.j.UNLIMITED_MESSAGES}),y=Object(At.default)("p-message_pane__limited_history_alert",{[`p-message_pane__limited_history_alert--${n}`]:n!=="light","p-message_pane__limited_history_alert--with-bookmarks-bar":o});return t.a.createElement(Ys.a,{eventId:ja.EventId.GROWTH_PRICING,uiComponentName:ja.UiComponentName.LIMITED_HISTORY_ALERT,clogImpression:!0},t.a.createElement("div",{className:y},t.a.createElement(nr.b,{text:":speech_balloon:",emojiSize:nr.a.MEDIUM,className:"p-message_pane__limited_history_speech_emoji"}),"\xA0",ke.rt("<b>There\u2019s more to this conversation.</b> To see and search this conversation\u2019s full history, upgrade to one of our paid plans."),"\xA0",t.a.createElement(xs.a,{href:r,target:"_blank",rel:"noopener noreferrer",autoClogProps:fo},ke.t("Learn More"))))}},"LimitedHistoryAlert");rs.displayName="LimitedHistoryAlert",rs.defaultProps={clientTheme:"light",withBookmarksBar:!1};var Cs=rs,sr=e("kumq"),Eo=e("ttFx"),Qs=e("8HS2"),Oo=e("k1/1"),go=e("+RFF"),Js=e("K7S6"),ls=e("kBd7"),or=e("orxu"),bo=e("gz6s"),Ts=e("HKlo"),yr=e("j3hA"),Co=e("7bnc"),To=e("lo9x"),_o=e("MoKx"),rr=e("LvvF"),yo=e("aHgF");function _s(){return _s=Object.assign||function(m){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(m[r]=o[r])}return m},_s.apply(this,arguments)}s(_s,"_extends");let Io=s(class extends a.Component{markMsgUnread(n){const{channel:o,ts:r}=n;this.props.setUnreadPoint({channelId:o,unreadTs:r})}render(){return t.a.createElement(_o.a,_s({},this.props,{markMsgUnread:this.markMsgUnread}))}constructor(n){super(n),this.markMsgUnread=this.markMsgUnread.bind(this)}},"MessageWrapper");Io.displayName="MessageWrapper";function Po(m){return{setUnreadPoint:n=>{let{channelId:o,unreadTs:r}=n;return m(Object(Tt.a)({channelId:o,unreadTs:r}))}}}s(Po,"mapDispatchToProps");function jo(m,n){return{isSenderHidden:Object(rr.b)(m,n.msg.user),experimentUsecaseOnboardingGroupTreatment:Object(yo.e)(m)}}s(jo,"mapStateToProps");var lr=Object(To.a)(Object(U.a)(jo,Po)(Io)),Zs=e("UnJt"),is=e("JoAr"),cs=e("FWtP"),ir=e("Yqz7"),cr=e("kRU7"),Xs=e("icpA"),On=e("psHO"),Ao=e("6R8Z"),Ln=e("c+dP"),dr=e("cVbZ"),ys=e("YUBf"),mr=e("+kJ4");const So=new Aa.b("message-list");let xn=s(class extends a.Component{onDateChange(n){var o,r,y,B;const A=Ta()(n,"YYYY-MM-DD").format("X");(r=(o=this.props).jumpToTimestamp)===null||r===void 0||r.call(o,A),(B=(y=this.props).closeModal)===null||B===void 0||B.call(y)}render(){const n=this.props.channel&&this.props.channel.created?Ta()(this.props.channel.created,"X").format("YYYY-MM-DD"):void 0;return t.a.createElement(ys.a,{maxWidth:358,closeModal:this.props.closeModal,contentLabel:So.t("Jump to a specific date")},t.a.createElement(ys.i,null,t.a.createElement(ys.l,{title:So.t("Jump to a specific date")})),t.a.createElement(ys.d,{className:"p-jump_to_date_modal__content"},t.a.createElement(dr.a,{key:"date-picker",disableDatesBefore:n,disableDatesAfter:Ta()().format("YYYY-MM-DD"),onDateChange:this.onDateChange})))}constructor(n){super(n),this.onDateChange=this.onDateChange.bind(this)}},"JumpToDateModal");xn.displayName="JumpToDateModal";const Mo=s((m,n)=>{let{channelId:o}=n;return{channel:Object(c.d)(m,o)}},"jump_to_date_modal_mapStateToProps"),$s=s(m=>({closeModal:()=>m(Object(mr.a)())}),"jump_to_date_modal_mapDispatchToProps");var ur=Object(U.a)(Mo,$s)(xn),hr=e("3l96"),Vn=e("ZobM"),Un=e("3kjJ");const zn=new Aa.b("message-list"),No="MOST_RECENT";function Do(m){let{dividerDate:n,channelLatestMessageDate:o,channelCreatedDate:r,channelHasYesterday:y}=m;const B=Ta()(),A=Ta()().subtract(1,"day"),J=Object(Un.a)(n.toDate(),A.toDate()),$=Object(Un.a)(n.toDate(),r.toDate()),te=Object(Un.a)(B.toDate(),o.toDate()),ie=Object(Un.a)(o.toDate(),A.toDate()),Te=Ta()().subtract(1,"week").startOf("week"),tt=Ta()().subtract(1,"month").startOf("month"),at=Ta()(o).isAfter(Te),bt=Ta()(o).isAfter(tt);let wt=zn.t("Most recent"),Ea=No;te&&(wt=zn.t("Today"),Ea=Ta()().startOf("day").format("X")),ie&&(Ea=Ta()().subtract(1,"days").startOf("day").format("X"),wt=zn.t("Yesterday"));const Oa=[];return Oa.push({label:wt,timestamp:Ea}),!J&&!ie&&y&&Oa.push({label:zn.t("Yesterday"),timestamp:A.startOf("day").format("X")}),at&&Oa.push({label:zn.t("Last week"),timestamp:Te.format("X")}),bt&&Oa.push({label:zn.t("Last month"),timestamp:tt.format("X")}),$||Oa.push({label:zn.t("The very beginning"),timestamp:r.unix().toFixed(6)}),Oa}s(Do,"dayDividerJumperMenuOptions");function qs(){return qs=Object.assign||function(m){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(m[r]=o[r])}return m},qs.apply(this,arguments)}s(qs,"day_divider_jumper_extends");const Us=new Aa.b("message-list"),Is=s(m=>{let{date:n,channelId:o,sticky:r=!0,jumpToTimestamp:y=Ve.a,channelCreatedTime:B,latestMessage:A="",hasYesterday:J,openModal:$=Ve.a,isDisabled:te}=m;const ie=s(Ea=>{const Oa=Do({dividerDate:Ta()(n),channelLatestMessageDate:Ta.a.unix(parseInt(A,10)),channelCreatedDate:Ta.a.unix(B),channelHasYesterday:J}),Fa=[t.a.createElement(Ln.c,{key:"menu-item-header",label:Us.t("Jump to\u2026")})];return Oa.forEach(Xa=>{Fa.push(t.a.createElement(Ln.b,{label:Xa.label,onSelected:()=>{y(Xa.timestamp)}}))}),t.a.createElement(Ln.f,qs({},Ea),Fa,t.a.createElement(Ln.d,null),t.a.createElement(Ln.b,{label:Us.t("Jump to a specific date"),onSelected:()=>{$({element:t.a.createElement(ur,{channelId:o,jumpToTimestamp:y})})}}))},"renderMenu");ie.displayName="renderMenu";const Te=n/1e3,tt=Object(is.a)(Te,"{day_divider_pretty}"),at=Object(At.default)("c-message_list__day_divider__label","c-message_list__day_divider__label--jump_to_date",{"c-message_list__day_divider__label--non_sticky":!r,"c-message_list__day_divider__label--disabled":te}),bt=Object(At.default)("margin_left_25",{display_none:te}),wt=Us.t("Jump to date",{fallbackHash:"288a688737367ddf02810e053e4385e5be1fde70",fallbackHashNs:"classic_nav"});return t.a.createElement("div",{className:at,"data-qa":"day-divider-label"},t.a.createElement(Ln.e,{position:"bottom-left",renderMenu:ie,offsetY:5,isDisabled:te},t.a.createElement(Ao.a,{className:"c-message_list__day_divider__label__pill","aria-label":wt},tt,t.a.createElement("span",{className:bt},t.a.createElement(Vn.a,{name:"caret-down",inline:!0})))))},"DayDividerJumper");Is.displayName="DayDividerJumper";const Ro=s(m=>({openModal:function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return m(Object(hr.a)(...o))}}),"day_divider_jumper_mapDispatchToProps");var Ps=Object(U.a)(null,Ro)(Is),pr=e("VS5W"),Yn=e("Cr5z"),eo=e("Yv4i"),Lo=e("QcWC"),Ir=e("9MPI"),ds=e("c1EY"),gn=e("OPL4");const Bs=Object(cs.a)(function(m){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];const y=Object(ee.a)(o,A=>A.type==="message"&&(A.ts||"")>m);if(y)return y.ts;const B=Object(oe.a)(o,A=>A.type==="message"&&(A.ts||"")<m);return B?B.ts:null},2),Pn=Oo.b,xo=go.a,to=new Aa.b("message-list"),he=40,D=28,ne="MESSAGE-LIST",ve=24*60*60*1e3,h={ABOVE:1,VISIBLE:2,BELOW:3},E="0000000000.000001",P=s(m=>`${Math.floor(m/1e3)}.000000`,"formatTimestampForRequest"),K=Object(cs.a)(m=>m.reduce((n,o)=>{const{ts:r,type:y}=o;return y!=="message"||!r||(n[r]=!0),n},{}));let ae=s(class extends tr.a{getInstantSlackChannelPrefs(){const{channelId:n,experimentAdoptionInstantSlackGroupTreatment:o,isInstantSlackInviteeSession:r,instantSlackChannelPrefs:y,fetchAndUpsertInstantSlackChannelPrefThunk:B}=this.props;(o||r)&&!y&&n&&B(n)}componentDidMount(){const{hasKeyboardFocus:n,highlightTs:o,doneHighlighting:r}=this.props;n&&o&&r&&r(),this.getInstantSlackChannelPrefs()}componentDidUpdate(n){const{channelId:o,timestamps:r}=this.props;r!==n.timestamps&&(this.hasYesterday=this.getHasYesterday()),this.keyToScrollTo&&this.list&&(this.list.scrollToKey(this.keyToScrollTo,{lazy:this.lazyScroll}),this.keyToScrollTo=null),this.maybeFocusOnTimestamp(),this.props.focusRequestedTs&&this.props.setFocusRequestedTs&&this.props.setFocusRequestedTs();const y=this.props.isLoading||this.props.isLoadingOlder;Object(Ga.a)(this.onJump)&&!y&&this.props.timestamps&&this.props.timestamps.length&&(this.onJump(),this.onJump=null),!!n.isFileExpanding&&!this.props.isFileExpanding?this.layout.setStickToBottom(!1):this.layout.setStickToBottom(!!(this.props.reachedEnd||this.props.prevReachedEnd)),this.onListScrolled(),o!==n.channelId&&this.props.clearPersistentKeys&&(this.props.clearPersistentKeys(),this.getInstantSlackChannelPrefs()),this.switchingChannels&&o===n.channelId&&(this.switchingChannels=!1)}shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved(){return!this.switchingChannels}getFocusTransitionListeners(n,o){for(var r=arguments.length,y=new Array(r>2?r-2:0),B=2;B<r;B++)y[B-2]=arguments[B];return{[Ts.c.MESSAGE_PANE_MESSAGE_LIST]:A=>{const{id:J}=A||{},{focusNearestSurroundingMessage:$,focusOnlyIfWasRecentlyFocused:te,ts:ie,focusHistoryState:Te,focusLastVisibleMessageInView:tt,focusMostRecentMessage:at}=(A==null?void 0:A.uiState)||{};if(J!==o)return!1;const bt=(Te==null?void 0:Te.lastFocusTs)||ie;return!bt&&!tt&&!at||$&&!Bs(bt,...y)||te&&bt!==n.getInitialActiveItem()?!1:(this.transitionFocusToMessage(A),!0)}}}getListProps(n,o,r,y,B,A,J,$,te,ie,Te,tt,at,bt,wt){const Ea=this.groupTimestampsByDay(y),Oa=Object(hn.a)(Ea).sort(),Fa=[],Xa=[],Rs=[],ws=this.findTimestampClosestToStartTs(),ts=B;let Na=ws,Yo=null;J&&(Xa.push(E),Fa.push({type:"foreword",ts:E}),this.shouldShowLimitedHistoryAlert()&&(Xa.push("limited_history"),Fa.push({type:"limited_history"})));const Lr=(Object(pn.a)(y)||"")<=A||J;return Object(ns.a)(Oa,(Qo,xr)=>{const as=parseInt(Qo,10),_r=Ea[Qo],ho=`${Qo}.${$}`,ps=Lr&&Object(pn.a)(_r)===ts;ps&&(Yo=Fa.length,r===A&&(Na=ho)),Fa.push({type:"dayDividerLabel",day:as,showDayDividerAsUnread:ps}),te&&Rs.push({key:ho,index:Xa.length}),Xa.push(ho),(xr>0||J||tt)&&(Fa.push({type:"dayDivider",day:as,showDayDividerAsUnread:ps,...ps&&{firstUnreadTs:ts},channelId:$}),Xa.push(`${Qo}divider`)),!tt&&!at&&xr===0&&wt&&(Xa.push("loading"),Fa.push({type:"loading"}));let Jo;Object(ns.a)(_r,(Ls,Zo)=>{if(Lr&&Zo!==0&&Ls===ts){Yo=Fa.length;const yl="unreadDivider";Xa.push(yl),Fa.push({type:"unread",day:as,firstUnreadTs:ts,channelId:$}),r===A&&(Na=ts)}Fa.push({type:"message",ts:Ls,previousMessageTs:Jo,day:{ts:as}}),Xa.push(Ls),Jo=Ls})}),J&&r&&r<(Object(pn.a)(y)||"")&&(Na=E),bt&&!wt&&!ie&&!Te&&(Xa.push("loadingSpinner"),Fa.push({type:"loadingSpinner"})),{keys:Xa,rows:Fa,stickyItems:Rs,anchor:Na,unreadIndex:Yo,firstVisibleUnreadTs:ts,startTs:ws}}getUnrelatedUpdateProps(n,o,r,y,B,A,J){for(var $=arguments.length,te=new Array($>7?$-7:0),ie=7;ie<$;ie++)te[ie-7]=arguments[ie];return{firstVisibleUnreadTs:n,isGhostLastRead:o,highlightTs:r,lastTimestamp:Object(G.a)(te),reachedEnd:y,isLimited:B,isSlackbotIm:A,useStickyDayDividers:J}}transitionFocusToMessage(n){const{isBannerVisible:o}=this.props,{ts:r,focusHistoryState:y,focusLastVisibleMessageInView:B,focusNearestSurroundingMessage:A,focusMostRecentMessage:J}=(n==null?void 0:n.uiState)||{},$=(y==null?void 0:y.lastFocusTs)||r;if(J){this.scrollToMostRecentMessage(!0);return}if(B){this.list.focusLastItemInView(!0);return}if(A){this.list.focusOnKey(Bs($,...this.rows));return}const te=o?this.ANCHOR_OFFSET:0;this.jumpToTimestamp({ts:$,offset:te,onJump:()=>{this.list.setActiveItem($),this.list.scrollToKey($,{lazy:this.lazyScroll})}})}maybeFocusOnTimestamp(){const{timestampToJumpTo:n}=this.state;if(!n)return;const{channelId:o,latest:r,transitionFocusTo:y}=this.props;let B=!1,A=n===r?n:this.getTimestampOfFirstMessageForDay(`${n*1e3}`);A||(A=`${n*1e3}`,B=!0),y&&y({focusKey:Ts.c.MESSAGE_PANE_MESSAGE_LIST,focusMetadata:{id:o,uiState:{ts:A,focusNearestSurroundingMessage:B}}}),this.setState(()=>({timestampToJumpTo:null}))}maybeFocusOnLastVisibleMessage(n){const{focusLastVisibleMessageInChannel:o}=this.props;o&&n.focusLastVisibleMessageInChannel!==o&&(this.list.focusLastItemInView(),this.props.setFocusLastVisibleMessageInChannel(!1))}findTimestampClosestToStartTs(){const{startTs:n,timestamps:o}=this.props;return!o||!o.length?!1:n?Object(ee.a)(o,r=>r>=n):null}focus(){this.list.focus()}blur(){this.list.blur()}setListRef(n){this.list=n}jumpToUnread(n){const{lastReadTs:o,firstUnreadTs:r,hasKeyboardFocus:y}=this.props,B=n&&n.type==="keydown"&&y,A=Object(Dn.a)(this.unreadIndex)&&this.keys[this.unreadIndex];if(A){B?this.list.focusOnKey(r):this.list.scrollToKey(A);return}this.jumpToTimestamp({ts:o||"",onJump:()=>{this.props.hasKeyboardFocus&&this.list.setActiveItem(this.props.firstUnreadTs)}})}jumpToDate(n){const o=n||this.props.latest;this.jumpToTimestamp({ts:o||"",offset:0,onJump:()=>{this.setState(()=>({timestampToJumpTo:o}))}})}isAtBottom(){if(!this.list)return!1;const n=this.list.getScrollTop(),o=this.layout.getTotalHeight(),r=this.height;return n+r>=Math.floor(o)-(this.STICKY_EPSILON||0)}getUnreadLinePlacement(){var n;if(typeof this.unreadIndex!="number")return this.props.latest&&this.props.lastReadTs&&this.props.lastReadTs>this.props.latest?h.BELOW:h.ABOVE;if(!this.list)return h.ABOVE;let o;((n=this.rows[this.unreadIndex])===null||n===void 0?void 0:n.type)==="dayDividerLabel"&&(o=this.list.getScrollTop()-he/2);const{start:r,end:y}=this.list.getVisibleRange(o);return this.unreadIndex<r?h.ABOVE:this.unreadIndex<y?h.VISIBLE:h.BELOW}getVisibleRows(n){if(!this.list)return[];const{start:o,end:r}=this.list.getVisibleRange(void 0,n);return this.rows.slice(o,r)}getScrollmarkForFocusedItem(n){const o=n===E?(this.props.timestamps||[])[0]:n;return{mark:n,offset:this.layout.getTop(o)-this.list.getScrollTop()}}getScrollmark(n){let{force:o=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.list||!this.layout)return null;const r=this.state.hasKeyboardFocus?this.list.getActiveItem():this.previouslyActiveItem;if(this.previouslyActiveItem=null,r){const{mark:$,offset:te}=this.getScrollmarkForFocusedItem(r);return Object(R.a)({teamId:this.props.teamId}).info(ne,`getScrollmark reason:${n} channelId:${this.props.channelId} state.hasKeyboardFocus:${this.state.hasKeyboardFocus} props.hasKeyboardFocus:${this.props.hasKeyboardFocus} initialActiveItem:${r} mark:${$} offset:${te}`),{mark:$,offset:te}}const y=this.list.getScrollTop();if(!o&&this.layout.shouldStickToBottom(y))return Object(R.a)({teamId:this.props.teamId}).info(ne,`getScrollmark reason:${n} channelId:${this.props.channelId} at end`),null;const B=this.props.timestamps,A=this.layout.findAnchor(B||[],B||[],y+this.ANCHOR_OFFSET),J=this.layout.getTop(A||"")-y;return Object(R.a)({teamId:this.props.teamId}).info(ne,`getScrollmark reason:${n} channelId:${this.props.channelId} mark:${A} offset:${J}`),{mark:A,offset:J}}onScroll(){this.useAnchor=!1,this.layout.setAnchor(!1),this.debouncedOnListScrolled(),this.props.onScroll&&this.props.onScroll()}onSelectionChange(n){this.node&&this.setState(()=>({isSelecting:n}))}isFocusableItem(n){const o=this.rows[n.index];return o?!!{message:!0,foreword:!0,dayDividerLabel:!0,unread:!0}[o.type]:!1}onListScrolled(){const n=this.getVisibleRows(!1),o=this.getVisibleRows(!0);Object(zt.a)(n,this.visibleRows)&&Object(zt.a)(o,this.partiallyVisibleRows)||(this.visibleRows=n,this.partiallyVisibleRows=o,this.props.onVisibleRowsChanged&&this.props.onVisibleRowsChanged(n,o))}onShiftPageUp(){const n=this.getTimestampOfPrevDay();if(!n)return;const{hasKeyboardFocus:o}=this.state;if(this.list.isScrolledToTop()&&this.props.reachedStart&&o){this.list.setActiveItem(this.getTimestampOfFirstMessageForDay(n));return}const r=P(n),y=this.props.isBannerVisible?this.ANCHOR_OFFSET:D;this.jumpToTimestamp({ts:r,offset:y,onJump:()=>{const B=this.getTimestampOfFirstMessageForDay(n);o&&this.list.setActiveItem(B),this.list.scrollToKey(B,{lazy:this.lazyScroll})}})}onShiftPageDown(){const n=this.getTimestampOfNextDay();if(!n)return;const{hasKeyboardFocus:o}=this.state;if(this.list.isScrolledToBottom()&&this.props.reachedEnd&&o){this.list.setActiveItem(this.getTimestampOfFirstMessageForDay(n));return}const r=P(n),y=this.props.isBannerVisible?this.ANCHOR_OFFSET:D;this.jumpToTimestamp({ts:r,offset:y,onJump:()=>{const B=this.getTimestampOfFirstMessageForDay(n);o&&this.list.setActiveItem(B),this.list.scrollToKey(B,{lazy:this.lazyScroll})}})}onEnd(){const n=this.state.hasKeyboardFocus;return this.scrollToMostRecentMessage(n),!1}onArrowKeyRight(){const{channelId:n,timestamps:o,blurredMessages:r,dispatchNavigateToThread:y}=this.props,B=this.list.getActiveItem();!B||Object(_n.a)(r,B)||!Object(_n.a)(o,B)||!n||y({channelId:n,ts:B})}onItemArrowKeyDown(n){const o=n.id,r=this.rows[this.rows.length-1];if(!(r&&o===r.ts))return;const{transitionFocusTo:y}=this.props;n.preventDefault(),y&&y({focusKey:Ts.c.MESSAGE_PANE_MESSAGE_INPUT})}onItemEnterKeyDown(n){let{id:o,target:r}=n;const y=this.keys.indexOf(o),B=this.rows[y];if(!(B&&B.type==="dayDividerLabel"))return;const J=r.querySelector("button");J&&(J.focus(),J.click())}onItemContextMenu(n,o,r){let{hasKeyboardFocus:y}=r;const{clogger:B}=this.props;Object(cr.a)(n)&&this.isMessageRow(o)&&(n.preventDefault(),B.track(ja.EventId.MSG_ACTIONS_CONTEXT_MENU,{contexts:{ui_context:{action:ja.UiAction.CONTEXT_MENU,ui_properties:{view_context:ln.a.MESSAGE_PANE,client_has_keyboard_focus:y}}}}))}onItemFocusEnter(n){let{id:o}=n;this.props.updateFocusHistoryState({lastFocusTs:o})}renderContextMenuForItem(n,o){const{rollups:r,channelId:y,blurredMessages:B}=this.props,A=r?r[n||""]:void 0,{targetBounds:J,onCloseRequested:$}=o;return Object(_n.a)(B,n)?($(),null):t.a.createElement(ir.a,{ts:n,channelId:y||"",messageContainerType:ln.a.MESSAGE_PANE,rollup:A,targetBounds:J,onCloseRequested:$})}onItemKeyDown(n){const{key:o}=n;if(o==="ArrowDown"){this.onItemArrowKeyDown(n);return}o==="Enter"&&this.onItemEnterKeyDown(n)}onFocusEnter(n){this.setState(()=>({hasKeyboardFocus:n.isKeyboardFocus}),()=>{this.props.onFocusEnter&&this.props.onFocusEnter(n)})}onFocusLeave(n){this.state.hasKeyboardFocus&&(this.previouslyActiveItem=n.activeItem),this.setState(()=>({hasKeyboardFocus:!1}),()=>{this.props.onFocusLeave&&this.props.onFocusLeave(n)})}onMessageMount(n){Object(qo.i)(n)}scrollToMostRecentMessage(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{reachedEnd:o,timestamps:r}=this.props,y=o?(r||[])[(r?r.length:0)-1]:"",B=this.rows,A=B[B.length-1];if((A&&A.type)==="foreword"){var $;($=this.list)===null||$===void 0||$.focusLastItemInView();return}this.jumpToTimestamp({ts:y,onJump:()=>{if(!n)return;const te=this.rows,ie=te[te.length-1];(ie&&ie.type)==="message"&&(this.list.setActiveItem(ie.ts),this.list.scrollToKey(ie.ts,{lazy:this.lazyScroll}))}})}scrollToOffset(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];this.list&&this.list.scrollToOffset(...o)}shouldShowLimitedHistoryAlert(){const{isLimited:n,isSlackbotIm:o}=this.props;return n&&o}requestHistory(){let{oldest:n,latest:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=this.viewLoadLastChannelId!==this.props.channelId,y=this.props.requestHistory?this.props.requestHistory({oldest:n,latest:o}):po.a.resolve();y&&r&&(this.viewLoadLastChannelId=this.props.channelId,this.viewLoadFetchStatus=W.b,y.tap(()=>{this.viewLoadFetchStatus=W.a}).tapCatch(()=>{this.viewLoadFetchStatus=W.c}))}requestAround(){if(this.state.isLoading)return!1;if(this.props.reachedEnd)return this.requestOlder();if(this.props.reachedStart)return this.requestNewer();Object(R.a)({teamId:this.props.teamId}).info(ne,`requestAround channelId: ${this.props.channelId} isLoading: ${this.state.isLoading} timestamps: ${Object(gt.a)(this.props.timestamps)} reachedStart: ${this.props.reachedStart} reachedEnd: ${this.props.reachedEnd}`);const{oldest:n,latest:o,timestamps:r,startTs:y}=this.props;if(Object(x.a)(r)&&!y)return this.requestHistory({});const B=n||r&&Object(pn.a)(r)||y,A=o||r&&Object(G.a)(r)||y,J=this.requestHistory({latest:B,oldest:A});return J&&this.setState(()=>({isLoading:!0,isLoadingOlder:!1})),J}requestOlder(){if(this.state.isLoading)return!1;const{oldest:n,timestamps:o,startTs:r}=this.props,y=n||o&&Object(pn.a)(o)||r,B=this.requestHistory({latest:y});return B&&this.setState(()=>({isLoading:!0,isLoadingOlder:!0})),B}requestNewer(){if(this.state.isLoading)return!1;const{latest:n,timestamps:o,startTs:r}=this.props,y=n||o&&Object(G.a)(o)||r,B=this.requestHistory({oldest:y});return B&&this.setState(()=>({isLoading:!0,isLoadingOlder:!1})),B}renderMessage(n,o){let{key:r,hasFocus:y,itemId:B,isInView:A,hasContextMenu:J}=o;const{ts:$,previousMessageTs:te}=n;Object(Zs.d)($||"")&&this.props.closeAndReportNotificationReadSpan({timestamp:$||""}),Object(Zs.d)($||"")&&this.props.closeAndReportNotificationReadSpan({timestamp:$||""});const ie=Object(G.a)(this.props.timestamps),Te=!this.props.hasKeyboardFocus&&$&&$===this.props.highlightTs,tt=A&&this.props.hasKeyboardFocus,bt=$&&$===this.props.ariaAnnounceMessageTs&&this.props.makeMessageSummary?this.props.makeMessageSummary({ts:$,channelId:this.props.channelId,hideTimestamp:!0}):null;if(this.scrollMetricsGatheringEnabled){this.messagesRendered[n.ts||""]=!0;const wt=Object(hn.a)(this.messagesRendered).length;wt%this.loadingHistoriesPerHowManyMessages===0&&this.debounceBatchMessagesSeen(),wt%this.loadingHistoriesPerHowManyMessagesHighEnd===0&&this.debounceBatchMessagesSeenHighEnd()}return t.a.createElement(Yn.a,{listKey:r||"",setPersistentKey:this.props.setPersistentKey},wt=>{let{setRowPersistence:Ea}=wt;return t.a.createElement(lr,{channelId:this.props.channelId,teamId:this.props.teamId,ts:$,key:$,prevTs:te,focused:y,renderActionsOffscreen:tt,theme:this.props.theme,rollup:this.props.rollups?this.props.rollups[$||""]:void 0,parentId:B,isLast:$===ie,showingContextBar:this.props.showingContextBar,highlight:Te,clearHighlight:this.props.doneHighlighting,ariaAnnounceText:bt,clearAriaAnnounceMessageTs:this.props.clearAriaAnnounceMessageTs,onMediaPlaybackInProgressChanged:Ea,onMount:this.onMessageMount,isInView:A,hasContextMenu:J,shouldFadeInOnTrialStart:this.props.unlockMessages,onMessageLimitTrialStart:this.props.onMessageLimitTrialStart})})}renderForeword(){const{canPostInChannel:n,isLimited:o,onMessageLimitTrialStart:r,isFloatingTrialStartBannerVisible:y}=this.props;return t.a.createElement(ka.a,{key:"message-list-foreword",channelType:this.props.channelType,channelId:this.props.channelId||"",clientTheme:this.props.clientTheme,isLimited:o,showUnfurledJoiners:this.props.showUnfurledJoiners,canPostInChannel:n,onMessageLimitTrialStart:r,isFloatingTrialStartBannerVisible:y})}renderRow(n){let{key:o,hasFocus:r,itemId:y,isInView:B,hasContextMenu:A}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const J=this.rows[n];if(!J||!J.type)return null;switch(J.type){case"message":return this.renderMessage(J,{key:o,hasFocus:r,itemId:y,isInView:B,hasContextMenu:A});case"dayDividerLabel":return t.a.createElement(Ps,{key:J.day,date:J.day,sticky:this.props.useStickyDayDividers,channelId:this.props.channelId,jumpToTimestamp:this.jumpToDate,getTimestampOfFirstMessageForDay:this.getTimestampOfFirstMessageForDay,channelCreatedTime:this.props.channelCreatedTime||0,hasYesterday:this.hasYesterday,latestMessage:this.props.latest,isUnread:J.showDayDividerAsUnread});case"dayDivider":return t.a.createElement(On.a,{key:J.day,date:J.day,isUnread:J.showDayDividerAsUnread,ghost:this.props.isGhostLastRead,unreadMarkerKey:this.props.channelId,unreadTs:J==null?void 0:J.firstUnreadTs,channelId:J.channelId});case"unread":return t.a.createElement(Xs.a,{key:`unread=${this.props.lastReadTs}`,ghost:this.props.isGhostLastRead,unreadMarkerKey:this.props.channelId});case"loading":return this.debounceCountHistoryLoadSeen(),t.a.createElement(Qs.a,{channelId:this.props.channelId||""});case"loadingSpinner":return t.a.createElement(Eo.a,null);case"foreword":return this.renderForeword();case"limited_history":var $;return t.a.createElement(Cs,{clientTheme:this.props.clientTheme,withBookmarksBar:($=this.props)===null||$===void 0?void 0:$.experimentIaBookmarksHideShowGroupTreatment});default:return null}}getAriaLabelForRow(n){let{index:o,includeDate:r}=n;const{channelId:y,makeMessageSummary:B,hasKeyboardFocus:A}=this.props;if(!A||!B)return;const J=this.rows[o];if(!J||!J.type||J.type!=="message")return;const{ts:$,previousMessageTs:te,day:ie}=J,Te=this.props.rollups?this.props.rollups[$]:void 0;return B({channelId:y,ts:$,previousMessageTs:te,day:ie,rollup:Te,viewContext:ln.a.MESSAGE_PANE,includeDate:r})}isMessageRow(n){return K(this.rows)[n||""]}UNSAFE_componentWillReceiveProps(n){if(n.channelId!==this.props.channelId&&(this.viewLoadFetchStatus=W.c),this.setState(o=>n.isLoading===o.isLoading&&n.isLoadingOlder===o.isLoadingOlder?null:(Object(R.a)({teamId:this.props.teamId}).info(ne,`componentWillReceiveProps isLoading: ${n.isLoading} isLoadingOlder: ${n.isLoadingOlder} timestamps: ${Object(gt.a)(n.timestamps)}`),{isLoading:n.isLoading,isLoadingOlder:n.isLoadingOlder})),n.channelId!==this.props.channelId||n.startTs!==this.props.startTs||n.highlightTs&&n.highlightTs!==this.props.highlightTs||(n.timestamps||[]).length&&!(this.props.timestamps||[]).length){this.useAnchor=!0;const o=n.startTs,r=this.props.timestamps,y=n.timestamps,B=Ta.a.unix(this.props.channelCreatedTime||0).unix().toFixed(6);if((Object(cn.a)(o,Object(ss.a)(Object(pn.a)(r)),fn(Object(G.a)(r)))||o===B)&&n.channelId===this.props.channelId){const A=Object(oe.a)(y,J=>J<=(n.startTs||""));this.keyToScrollTo=A||o,this.lazyScroll=n.highlightLazy,this.useAnchor=!1}}n.channelId!==this.props.channelId&&(this.heightCache&&this.heightCache.invalidate(),this.list&&this.list.resetRendered&&this.list.resetRendered(),Object(R.a)({teamId:this.props.teamId}).info(ne,`Switching channels: ${n.channelId} timestamps: ${Object(gt.a)(n.timestamps)}`),this.switchingChannels=!0),n.lastReadTs!==this.props.lastReadTs&&(this.unreadIndex=null)}groupTimestampsByDay(n){return Object(vs.a)(n,o=>Object(bs.a)(o))}getTimestampsForDays(n){return Object(hn.a)(this.groupTimestampsByDay(n)).sort()}getTimestampOfDayClosestToTop(){const{start:n}=this.list.getVisibleRange(),o=this.rows[n];if(o){if(o.type==="dayDivider"||o.type==="dayDividerLabel")return o.day.toString();if(o.type==="message")return o.day.ts.toString()}}getStartTimestampForDayNavigation(){return this.state.hasKeyboardFocus?Object(bs.a)(this.list.getInitialActiveItem()):this.getTimestampOfDayClosestToTop()}getTimestampOfPrevDay(){const n=this.getStartTimestampForDayNavigation(),o=this.getTimestampOfFirstMessageForDay(n);if(!o||o&&!this.list.isItemInView(o))return n;const r=this.getTimestampsForDays(this.props.timestamps||[]),B=Object(wn.a)(r,n)-1;return r[B]}getTimestampOfNextDay(){const n=this.getStartTimestampForDayNavigation(),o=this.getTimestampsForDays(this.props.timestamps||[]),r=Object(wn.a)(o,n),y=o[r+1];return y||(parseInt(n,10)+ve).toString()}getTimestampOfFirstMessageForDay(n){const o=this.getTimestampsForDays(this.props.timestamps||[]),r=Object(wn.a)(o,n);if(r<0||r===0&&!this.props.reachedStart)return;const B=this.groupTimestampsByDay(this.props.timestamps||[])[n];return B?B[0]:void 0}getHasYesterday(){const{timestamps:n}=this.props;if(!n||n.length===0)return!1;const o=Object(ht.r)(Object(G.a)(n));if(Object(Es.a)(o))return!0;if(!Object(Os.a)(o))return!1;const r=Object(ht.r)(Object(pn.a)(n));return!Object(Os.a)(r)}jumpToTimestamp(n){let{ts:o,offset:r,onJump:y}=n;Object(Ga.a)(y)&&(this.onJump=y),this.props.jumpToTimestamp&&this.props.jumpToTimestamp({ts:o,offset:r}),this.props.setFocusRequestedTs&&this.props.setFocusRequestedTs(o)}getSeparatorLabel(n){let{rowType:o,showDayDividerAsUnread:r,date:y}=n;if(o==="unread")return to.t("Start of unread messages.",{fallbackHash:"12062cb2685ccc8bba0f778ab3ebe9b4db056a5b"});const B=Object(is.a)(y/1e3,"{day_divider_pretty}");return r?to.t("{date} Start of unread messages. Press enter to select a date to jump to.",{date:B,fallbackHash:"89fbf7e22ea495b603f376338a72541f346409a0"}):to.t("{date} Press enter to select a date to jump to.",{date:B})}getPropsForItem(n){let{index:o,isInitialFocusInRange:r}=n;const y=this.rows[o],B=y&&y.type;if(!B)return;const A=B==="dayDividerLabel",J=B==="dayDivider",te=A||B==="unread",ie=te?this.getSeparatorLabel({rowType:B,showDayDividerAsUnread:y.showDayDividerAsUnread,date:y.day}):this.getAriaLabelForRow({index:o,includeDate:!!r});let Te;if(B==="message"){const{channelId:tt,container:at}=this.props,bt=y==null?void 0:y.ts;Te=this.props.makeAriaLabelledByForMessage({channelId:tt,ts:bt,container:at})}return{...J&&{role:"presentation"},...te&&{"aria-roledescription":to.t("separator")},...Te?{"aria-labelledby":Te}:{"aria-label":ie}}}render(){if(this.props.isOffline&&Object(x.a)(this.props.timestamps))return t.a.createElement(sr.a,null);let n,o,r,y;({keys:this.keys,rows:this.rows,stickyItems:o,anchor:n,unreadIndex:this.unreadIndex,firstVisibleUnreadTs:r,startTs:y}=this.getListProps(!!this.props.isLimited,!!this.props.isSlackbotIm,this.props.startTs||"",this.props.timestamps||[],this.props.firstUnreadTs||"",this.props.lastReadTs||"",!!this.props.reachedStart,this.props.channelId||"",!!this.props.useStickyDayDividers,!!this.props.reachedEnd,!!this.props.prevReachedEnd,this.state.degraded,this.state.isSelecting,!!this.state.isLoading,!!this.state.isLoadingOlder)),this.layout.setAnchor(this.useAnchor&&n,this.useAnchor&&this.props.startTsOffset),!this.useAnchor&&this.keyToScrollTo&&Object(Dn.a)(this.props.startTsOffset)&&(this.layout.anchorOffset=this.props.startTsOffset);const B=this.props.hasKeyboardFocus?void 0:this.props.highlightTs,A=this.getUnrelatedUpdateProps(r,!!this.props.isGhostLastRead,B||"",!!this.props.reachedEnd,!!this.props.isLimited,!!this.props.isSlackbotIm,!!this.props.useStickyDayDividers,...this.props.timestamps||[]),J=this.state.degraded?xo:Pn,$=(()=>{if(this.state.isLoading)return null;const ie=this.rows[this.rows.length-1],Te=ie&&ie.type;return this.props.startTs===E||y===!1&&Te==="foreword"?E:y===null&&Te==="message"?ie.ts:r||y||null})(),te=!!this.props.timestamps&&!!this.props.timestamps.length;return t.a.createElement(or.a,{listeners:this.getFocusTransitionListeners(this.list,this.props.channelId||"",...this.rows)},t.a.createElement(gs.a,{label:Ba.a.ChannelSwitch,id:Object(er.a)({teamId:this.props.teamId,channelId:this.props.channelId||""}),visible:te,upToDate:te&&(this.viewLoadFetchStatus!==W.b||this.viewLoadFetchStatus===W.a),requiredSync:this.viewLoadFetchStatus===W.b,viewName:"chat"}),t.a.createElement(En.a,{visible:te,upToDate:te&&(this.viewLoadFetchStatus!==W.b||this.viewLoadFetchStatus===W.a),requiredSync:this.viewLoadFetchStatus===W.b,viewName:"chat"}),t.a.createElement(Vs.a,null,ie=>{let{width:Te,height:tt}=ie;if(Te===0||tt===0){if(this.list){const wt=this.getScrollmark();wt?this.layout.setAnchor(wt.mark,wt.offset):this.layout.setAnchor(null)}return null}Te!==this.width&&(this.heightCache&&this.heightCache.invalidate(),this.width=Te),this.height=tt;const at=Object(At.default)("c-message_list c-message_list--floating",{"c-message_list--context_bar_showing":this.props.showingContextBar,"c-message_list--dark":this.props.clientTheme==="dark"});let bt=0;return this.props.experimentIaBookmarksHideShowGroupTreatment&&this.props.isBookmarksVisible&&(bt=yr.a),t.a.createElement(J,{ref:this.setListRef,className:at,id:this.listId,"aria-label":this.props["aria-label"],height:tt,width:Te,keys:this.keys,persistentKeys:this.props.persistentKeys,rowRenderer:this.renderRow,layout:this.layout,stickyItems:o,stickyOffsetTop:bt,stickyOffsetTopAnimated:this.props.experimentIaBookmarksHideShowGroupTreatment,stickyZIndex:199,loadAround:this.requestAround,loadPre:this.requestOlder,loadPost:this.requestNewer,isLoading:this.state.isLoading,reachedStart:this.props.reachedStart,reachedEnd:this.props.reachedEnd||this.props.prevReachedEnd,fadeScrollbar:!0,onScroll:this.onScroll,onSelectionChange:this.onSelectionChange,onEnd:this.onEnd,onFocusEnter:this.onFocusEnter,onFocusLeave:this.onFocusLeave,keyCommands:this.keyCommands,useGlobalKeyboardShortcuts:this.props.useGlobalKeyboardShortcuts,disableKeyboardShortcuts:this.props.overlayIsOpen,isFocusableItem:this.isFocusableItem,unrelatedUpdateProps:A,initialActiveItem:$,getPropsForItem:this.getPropsForItem,isOffline:this.props.isOffline,onItemKeyDown:this.onItemKeyDown,onItemContextMenu:this.onItemContextMenu,onItemFocusEnter:this.onItemFocusEnter,renderContextMenuForItem:this.renderContextMenuForItem,shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved:this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved,onOverflow:this.props.onOverflow})}))}constructor(n){super(n);const o=Object(Js.a)();this.state={degraded:o,isLoading:!!n.isLoading,isLoadingOlder:!!n.isLoadingOlder,isSelecting:!1,hasKeyboardFocus:!1,isFileExpanding:!1,timestampToJumpTo:null};const{ANCHOR_OFFSET:r,STICKY_EPSILON:y,heightCache:B,layout:A}=Object(pr.a)({clientTheme:n.theme||"",shouldExcludeFirstItemFromGravity:()=>!1,shouldStickToBottom:!!(!n.isFileExpanding||n.reachedEnd||n.prevReachedEnd),shouldUseDegradedList:o});if(this.ANCHOR_OFFSET=r,this.STICKY_EPSILON=y,this.heightCache=B,this.layout=A,this.keys=[],this.rows=[],this.visibleRows=[],this.partiallyVisibleRows=[],this.unreadIndex=null,this.list=null,this.useAnchor=!0,this.keyToScrollTo=null,this.width=0,this.hasRenderedOneMessage=!1,this.hasYesterday=this.getHasYesterday(),this.getListProps=Object(cs.a)(this.getListProps,2),this.getUnrelatedUpdateProps=Object(cs.a)(this.getUnrelatedUpdateProps),this.requestAround=this.requestAround.bind(this),this.requestOlder=this.requestOlder.bind(this),this.requestNewer=this.requestNewer.bind(this),this.requestHistory=this.requestHistory.bind(this),this.renderRow=this.renderRow.bind(this),this.setListRef=this.setListRef.bind(this),this.getAriaLabelForRow=this.getAriaLabelForRow.bind(this),this.getPropsForItem=this.getPropsForItem.bind(this),this.onScroll=this.onScroll.bind(this),this.onListScrolled=this.onListScrolled.bind(this),this.onFocusEnter=this.onFocusEnter.bind(this),this.onFocusLeave=this.onFocusLeave.bind(this),this.onItemKeyDown=this.onItemKeyDown.bind(this),this.onItemFocusEnter=this.onItemFocusEnter.bind(this),this.debouncedOnListScrolled=Object(zs.a)(this.onListScrolled,150),this.isFocusableItem=this.isFocusableItem.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.focus=this.focus.bind(this),this.transitionFocusToMessage=this.transitionFocusToMessage.bind(this),this.maybeFocusOnTimestamp=this.maybeFocusOnTimestamp.bind(this),this.getFocusTransitionListeners=Object(cs.a)(this.getFocusTransitionListeners.bind(this),2),this.onShiftPageUp=this.onShiftPageUp.bind(this),this.onShiftPageDown=this.onShiftPageDown.bind(this),this.onEnd=this.onEnd.bind(this),this.onArrowKeyRight=this.onArrowKeyRight.bind(this),this.onMessageMount=this.onMessageMount.bind(this),this.jumpToDate=this.jumpToDate.bind(this),this.scrollToOffset=Object(Gs.a)(this.scrollToOffset.bind(this),200),this.onItemContextMenu=this.onItemContextMenu.bind(this),this.renderContextMenuForItem=this.renderContextMenuForItem.bind(this),this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved=this.shouldUpdateFocusIfPreviouslyFocusedItemWasRemoved.bind(this),this.switchingChannels=!1,this.messagesRendered={},this.loadingHistoriesSeen=0,this.loadingHistoriesSeenHighEnd=0,this.loadingHistoriesPerHowManyMessages=84,this.loadingHistoriesPerHowManyMessagesHighEnd=500,this.scrollMetricsGatheringEnabled=Object(ar.a)(1)||this.props.featureTinyspeck,this.scrollMetricsGatheringEnabled){const J=Object(ma.getStateByTeamId)(n.teamId),$=Object(V.d)({state:J});this.debounceBatchMessagesSeen=Object(Rn.a)(()=>{$.store("modern_history_load_seen_per_84_messages",this.loadingHistoriesSeen,{allow_zero:!0}),this.loadingHistoriesSeen=0},1e3),this.debounceBatchMessagesSeenHighEnd=Object(Rn.a)(()=>{$.store("modern_history_load_seen_per_500_messages",this.loadingHistoriesSeenHighEnd,{allow_zero:!0}),this.loadingHistoriesSeenHighEnd=0},1e3)}this.keyCommands=[{keys:["shift+pagedown"],handler:this.onShiftPageDown},{keys:["shift+pageup"],handler:this.onShiftPageUp},{keys:["right"],handler:this.onArrowKeyRight}],this.debounceCountHistoryLoadSeen=Object(Rn.a)(()=>{this.loadingHistoriesSeen+=1,this.loadingHistoriesSeenHighEnd+=1},1e3),this.viewLoadFetchStatus=W.c,this.viewLoadLastChannelId=null}},"MessageList");ae.displayName="MessageList",ae.defaultProps={timestamps:[],requestHistory:()=>po.a.resolve(),isGhostLastRead:!1,setUnreadPoint:Ve.a,isFileExpanding:!1,isLoading:!1,isLoadingOlder:!1,reachedStart:!1,reachedEnd:!1,prevReachedEnd:!1,onScroll:Ve.a,onVisibleRowsChanged:Ve.a,doneHighlighting:Ve.a,clearAriaAnnounceMessageTs:Ve.a,closeAndReportNotificationReadSpan:Ve.a,isLimited:!1,isSlackbotIm:!1,useStickyDayDividers:!0,theme:"light",featureTinyspeck:!1,jumpToTimestamp:Ve.a,isScreenReaderEnabled:!1,onFocusEnter:Ve.a,onFocusLeave:Ve.a,isBannerVisible:!1,setFocusRequestedTs:Ve.a,canStartOrOpenThread:Ve.a,telemeter:{store:Ve.a,measure:Ve.a},isOffline:!1,clientTheme:"light",focusLastVisibleMessageInChannel:!1,setFocusLastVisibleMessageInChannel:Ve.a,setFocusMessageInput:Ve.a,showingContextBar:!1,channelCreatedTime:null,hasKeyboardFocus:!1,canPostInChannel:!0,persistentKeys:[],setPersistentKey:Ve.a,clearPersistentKeys:Ve.a,showUnfurledJoiners:!1,overlayIsOpen:!1,useGlobalKeyboardShortcuts:!0,onMessageLimitTrialStart:Ve.a,unlockMessages:!1};const se=s((m,n)=>{let{channelId:o}=n;return{focusLastVisibleMessageInChannel:!!Object(re.c)(m),showingContextBar:!!Object(vo.a)(m,o),channelCreatedTime:Object(it.f)(Object(c.d)(m,o)),isBookmarksVisible:Object(pt.g)(m,o),experimentIaBookmarksHideShowGroupTreatment:o?!!Object(nt.c)(m,o):!1,overlayIsOpen:Object(fa.g)(m),experimentAdoptionInstantSlackGroupTreatment:Object(Q.d)(m,"adoption_instant_slack")==="treatment",isInstantSlackInviteeSession:Object(Lo.a)(m),instantSlackChannelPrefs:o?!!Object(Ir.a)(m,o,eo.a):void 0,clogger:Object(w.a)({state:m})}},"message_list_mapStateToProps"),ue=s(m=>({setFocusLastVisibleMessageInChannel:n=>m(Object(le.j)(n)),setFocusMessageInput:n=>m(Object(le.k)(n)),closeAndReportNotificationReadSpan:n=>m((o,r)=>Object(Zs.a)(r(),n)),fetchAndUpsertInstantSlackChannelPrefThunk:n=>m(Object(eo.b)({channelId:n})),updateFocusHistoryState:n=>m(Object(ds.b)(n)),makeAriaLabelledByForMessage:n=>{let{channelId:o,ts:r,container:y}=n;return m(Object(gn.a)({channelId:o,ts:r,container:y}))},dispatchNavigateToThread:n=>m(Object(Co.a)(n))}),"message_list_mapDispatchToProps"),je={FOREWORD_TS:E},be=ae,Ue=Object(xa.a)(be),ze=Object(Yn.b)(Ue),Qe=Object(ls.a)(Object(bo.a)(ze)),Je=Object(Ra.b)(Qe,{name:"MessageList"});var Oe=Object(U.a)(se,ue,null,{forwardRef:!0})(Je),ft=Oe,Kt=e("rq2v"),Ht=e("sK3r"),Za=e("beWg"),ea=e("u0LO"),La=e("dHXs"),qa=e("iUFw"),Wa=e("cj00"),va=e.n(Wa),an=e("PA8C"),_a=e.n(an),Sa=e("BZp1"),Ma=e("tVK8");const Va=new Aa.b("trial_slack_connect_awareness"),yn={onClick:{enableClogAction:!0},elementName:"learn_more"},nn={onClick:{enableClogAction:!0},elementName:"start_free_trial",isPrimaryCTA:!0},Qn=s(m=>{let{channelId:n}=m;const o=ea.c.SlackConnectDmTrialOfferBanner;if(!Object(Sa.b)(n,o))return null;const y=t.a.createElement("img",{alt:"",srcSet:`${va.a} 1x, ${_a.a} 2x`}),B=Va.rt("With a free, {trialDuration}-day trial of a Slack\u2019s Pro plan, you can work with external people not just one-on-one, but also as a team in channels. Give it a go \u2014 no credit card required.",{trialDuration:30,fallbackHash:"4ea3867685721a2fd4e82c793f920f8b43182716"}),A=t.a.createElement(La.a,{"data-qa":"slack_connect_dm_trial_offer_banner-start_trial",autoClogProps:nn,reason:"slack_connect_dm_trial_offer_banner",context:Za.a.scdmFreeStartTrialBanner,promoType:Gn.q.PaidFeatureTrial,promoSubtype:Gn.p.SharedChannels},Va.t("Start Trial")),J=t.a.createElement(qa.a,{type:"outline","data-qa":"slack_connect_dm_trial_offer_banner-learn_more",href:"/connect",autoClogProps:yn},Va.t("Learn More"));return t.a.createElement(Ys.a,{eventId:ja.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:ja.UiComponentName.SLACK_CONNECT_DM_TRIAL_OFFER_BANNER,clogImpression:!0},t.a.createElement(Ma.a,{uiComponent:o,heading:Va.t("Bring both your teams into the same room"),image:y,bodyContent:B,"data-qa":"slack_connect_dm_trial_offer_banner",primaryCTA:A,secondaryCTA:J}))},"SlackConnectDMTrialOfferBanner");Qn.displayName="SlackConnectDMTrialOfferBanner";var js=Qn,ao=e("GVvR"),Bn=e("/cL/");const In=new Aa.b("trial_slack_connect_awareness"),Jn={onClick:{enableClogAction:!0},elementName:"learn_more"},ms={onClick:{enableClogAction:!0},elementName:"upgrade",isPrimaryCTA:!0},kn=s(m=>{let{channelId:n}=m;const o=Object(Sa.b)(n,ea.c.SlackConnectDmTrialIneligibleBanner),r=Object(u.c)(kt.g);if(!o)return null;const y=t.a.createElement("img",{alt:"",srcSet:`${va.a} 1x, ${_a.a} 2x`}),B=In.rt("On a paid plan, you can add as many people as you need to a channel, even if they\u2019re not from {teamName}.",{teamName:Object(ga.h)(r)}),A=t.a.createElement(Bn.a,{"data-qa":"slack_connect_dm_trial_ineligible_banner-upgrade",autoClogProps:ms},In.t("See Upgrade Options")),J=t.a.createElement(qa.a,{type:"outline","data-qa":"slack_connect_dm_trial_ineligible_banner-learn_more",href:"/connect",autoClogProps:Jn},In.t("Learn More"));return t.a.createElement(Ys.a,{eventId:ja.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:ja.UiComponentName.SLACK_CONNECT_DM_TRIAL_INELIGIBLE_BANNER,clogImpression:!0},t.a.createElement(Ma.a,{uiComponent:ea.c.SlackConnectDmTrialIneligibleBanner,heading:In.t("Loop in the rest of your team \u2014 and theirs, too"),image:y,bodyContent:B,"data-qa":"slack_connect_dm_trial_ineligible_banner",primaryCTA:A,secondaryCTA:J}))},"SlackConnectDMTrialIneligibleBanner");kn.displayName="SlackConnectDMTrialIneligibleBanner";var xt=kn,jn=e("stkM");const Zn=s(m=>{let{channelId:n}=m;const o=Object(l.i)(),r=Gn.q.PaidFeatureTrial,y=Gn.p.SharedChannels,B=Object(u.c)(Te=>Object(ga.H)(Object(kt.g)(Te))),A=Object(u.c)(Te=>Object(d.c)(Te,r,y)),J=Object(u.c)(Te=>Object(d.b)(Te,r,y)),[$,te]=Object(a.useState)(!1);Object(a.useEffect)(()=>{o(Object(jn.a)({campaignType:r,campaignSubType:y,context:Ht.b.slackConnectDMBanner,reason:"slack_connect_dm_banner"}))},[o,r,y]),Object(a.useEffect)(()=>{B||te(!0)},[B]),Object(a.useEffect)(()=>{te(!1)},[n]);let ie=null;return B?J||(A?ie=t.a.createElement(js,{channelId:n}):ie=t.a.createElement(xt,{channelId:n})):ie=t.a.createElement(ao.b,{channelId:n,showTrialStartedVersion:$}),ie},"SlackConnectDMBannerContainer");Zn.displayName="SlackConnectDMBannerContainer";var us=Zn,Yt=e("GNR7");const Wn=s(m=>{const n=Object(u.c)(B=>Object(Yt.a)(B,m)!==null),o=Object(u.c)(B=>Object(Yt.E)(B,m)),[r,y]=Object(a.useState)(o);return Object(a.useEffect)(()=>{n?o&&y(!0):y(!1)},[n,o]),o||r},"useWasUserEverInActiveHuddleInChannel");var Uo=e("cvlP"),dn=e("mQiU"),no=e("DneB"),ks=e("QygJ"),Bo=e("3vtZ"),An=e("+CZ0"),Sn=e("gj2Z");const Xn=Object(Wt.b)((m,n,o,r,y,B)=>{const A=Object(Vt.h)(m);return(A==null?void 0:A.tip)!==Lt.f.Huddles||Object(Dt.b)(m,r)?!1:Object(Yt.a)(m,r)!==null&&!o&&A.state!==Lt.g.Success?!0:B===r?!1:A.state===Lt.g.Success?!0:A.state===Lt.g.Explainer?!n:!Object(Sn.a)(m,{channelId:r,getSiblingView:y,wasUserEverInActiveHuddleInCurrentChannel:o})||n});Xn.meta={name:"createSelector",key:"createSelectorshouldDismissHuddlesTip",description:(m,n,o,r,y,B)=>{const A=Object(Vt.h)(m);return(A==null?void 0:A.tip)!==Lt.f.Huddles||Object(Dt.b)(m,r)?!1:Object(Yt.a)(m,r)!==null&&!o&&A.state!==Lt.g.Success?!0:B===r?!1:A.state===Lt.g.Success?!0:A.state===Lt.g.Explainer?!n:!Object(Sn.a)(m,{channelId:r,getSiblingView:y,wasUserEverInActiveHuddleInCurrentChannel:o})||n}};var so=e("xO6X");function Ws(){return Ws=Object.assign||function(m){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(m[r]=o[r])}return m},Ws.apply(this,arguments)}s(Ws,"with_huddles_tip_extends");const sn=s(m=>{const n=Object(a.memo)(Object(a.forwardRef)((o,r)=>{const{getSiblingView:y}=Object(a.useContext)(dn.a),B=Object(l.i)(),A=Object(ks.a)(o.channelId),J=Object(no.b)(An.g),$=Object(Bo.E)(J);var te;const ie=Wn((te=o.channelId)!==null&&te!==void 0?te:""),Te=Object(u.c)(Oa=>Object(Sn.a)(Oa,{channelId:o.channelId,getSiblingView:y,wasUserEverInActiveHuddleInCurrentChannel:ie})),tt=Object(u.c)(Oa=>Object(Vt.d)(Oa,{tip:Lt.f.Huddles})),at=Object(u.c)(Vt.W);var bt;const wt=Object(u.c)(Oa=>Xn(Oa,$,ie,(bt=o.channelId)!==null&&bt!==void 0?bt:"",y,A)),Ea=Te&&tt;return Object(a.useEffect)(()=>{at&&(Ea?B(Object(Da.a)({tip:Lt.f.Huddles,tipState:Lt.g.Flag})):wt&&(B(Object(Mt.k)(null)),B(Object(so.a)({delay:Uo.b}))))},[B,at,wt,Ea]),t.a.createElement(m,Ws({},o,{ref:r}))}));return n.displayName=`withHuddlesTip(${m.displayName})`,n},"withHuddlesTip");sn.displayName="withHuddlesTip";var oo=e("wuDf"),As=e("Ph7z"),ro=e("TZ1i"),lo=e("rm53"),ko=e("OvM9"),Ss=e("ax9K"),Wo=e("khjP"),Fo=e("P1uz"),Ut=e("xisU"),$n=e("WIr4"),Fs=e("kBpe"),io=e("RB1+"),Fn=e("U3SE"),Ko=e("cYXZ"),Ms=e("gPPH"),qn=e("qDEp");const Ho=new Aa.b("messages");function wo(m){let{jumpToRecent:n}=m;return t.a.createElement("div",{className:"p-archives_banner"},t.a.createElement(qn.d,{className:"p-archives_banner__jump",onClick:n,"data-qa":"archives_banner"},t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(Vn.a,{inline:!0,name:"arrow-down"})),Ho.t("Latest messages",{fallbackHash:"f7b7a48cdb86656094ebbba2551928988e3630d4"})))}s(wo,"ArchivesBanner");var hs=e("gSGL"),Go=e("C59p"),vr=e("pu3F"),Ns=e("gpLM"),es=e("nWdO"),bn=e("DPHH"),en=e("khnw");const $e=new Aa.b("messages");let on=s(class extends a.Component{onKeyDown(n){const o=[en.e,en.o];Object(_n.a)(o,n.keyCode)&&this.props.jumpOrMark(n)}render(){const{known:n,displayCount:o,opacity:r,unreadPlacement:y,jumpOrMark:B,markAsRead:A}=this.props,J=n?"":"+";let $=o;!n&&$>10&&($=Math.floor($/10)*10);let te=$e.t("{count, plural, =1 {#{certainty} new message} other {#{certainty} new messages}}",{certainty:J,count:$});(!$||$===1&&!n)&&(te=$e.t("New messages"));let ie="",Te=t.a.createElement(t.a.Fragment,null);Object(Fs.i)()&&(Object(Fs.p)()?ie=$e.t("\u2318J"):ie=$e.t("Ctrl+J"),Te=t.a.createElement(t.a.Fragment,null,t.a.createElement(bn.a,{label:bn.b.CmdOrCtrl,tooltip:!0,className:"margin_left_25"}),t.a.createElement(bn.a,{label:"J",tooltip:!0})));const tt=t.a.createElement(t.a.Fragment,null,t.a.createElement("br",null),t.a.createElement(bn.a,{label:"esc",tooltip:!0})),at=y===h.ABOVE?"arrow-up":"arrow-down",bt=Object(At.default)("p-message_pane__unread_banner p-message_pane__banner");return t.a.createElement("div",{className:bt},t.a.createElement("div",{className:"p-message_pane__unread_banner__banner"},t.a.createElement(es.c,{tip:$e.rt("Jump {jumpShortcutKeys}",{jumpShortcutKeys:Te}),position:"bottom",delay:es.a},t.a.createElement(qn.d,{className:"p-message_pane__unread_banner__msg",onMouseDown:B,onKeyDown:this.onKeyDown,style:{opacity:r},"aria-label":$e.t("Jump to first unread message ({jumpShortcut})",{jumpShortcut:ie})},t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(Vn.a,{inline:!0,name:at})),te)),t.a.createElement(es.c,{tip:$e.rt("Mark as read {markAsReadShorcutKeys}",{markAsReadShorcutKeys:tt}),position:"bottom",delay:es.a},t.a.createElement(qn.d,{className:"p-message_pane__unread_banner__close_icon",onClick:A,"aria-label":$e.t("Mark as read (esc)")},t.a.createElement(Vn.a,{inline:!0,name:"close"})))))}constructor(n){super(n),this.onKeyDown=this.onKeyDown.bind(this)}},"UnreadBannerButtons");on.displayName="UnreadBannerButtons";var Mn=on;const fr=1e3,Wr=80,Er={ABOVE:1,VISIBLE:2,BELOW:3};let Ks=s(class extends a.PureComponent{static getDerivedStateFromProps(n,o){return o.hasUnreads&&!n.hasUnreads?null:{hasUnreads:n.hasUnreads,displayCount:n.displayCount,since:n.since,unreadPlacement:n.unreadPlacement,opacity:1}}componentDidUpdate(n,o){if(n.channelId!==this.props.channelId&&this.animation&&this.animation.cancel(),o.hasUnreads&&!this.props.hasUnreads){const r=fr,y=this.props.ghost?r:0;this.startFade(y)}}componentWillUnmount(){this.animation&&this.animation.cancel()}onAnimationEnd(){this.setState(()=>({hasUnreads:!1,opacity:1}),()=>{this.props.onHide&&this.props.onHide()})}onAnimationTick(n){let{value:o,nextTick:r}=n;this.animation&&(this.setState(()=>({opacity:o})),r())}jumpOrMark(n){this.state.unreadPlacement===Er.VISIBLE?this.markAsRead(n):(this.props.jumpToUnread&&this.props.jumpToUnread(n),this.props.transitionFocusToPrimaryView&&this.props.transitionFocusToPrimaryView(),n.preventDefault())}markAsRead(n){n.stopPropagation(),Object(R.b)().action("UNREAD-BANNER",`Mark ${this.props.channelId} read`),this.props.markMostRecentMsgRead&&this.props.channelId&&this.props.markMostRecentMsgRead({channelId:this.props.channelId,reason:vr.N.CLICKED}),this.animation&&this.animation.cancel(),this.onAnimationEnd(),this.props.transitionFocusToPrimaryView&&this.props.transitionFocusToPrimaryView()}startFade(n){this.animation=Object(Go.a)({delay:n,fromValue:1,toValue:0,duration:Wr,easing:"easeInQuad",onTick:this.onAnimationTick,onComplete:this.onAnimationEnd})}render(){const{hasUnreads:n,since:o,displayCount:r,unreadPlacement:y,opacity:B}=this.state,{known:A,channelId:J}=this.props;return!n||!o||!(Object(hs.a)(o)?Math.floor(parseFloat(o)):Math.floor(o))||y===Er.VISIBLE?null:t.a.createElement(Mn,{known:A,displayCount:r,opacity:B,unreadPlacement:y,jumpOrMark:this.jumpOrMark,markAsRead:this.markAsRead,channelId:J})}constructor(n){super(n),this.startFade=this.startFade.bind(this),this.onAnimationTick=this.onAnimationTick.bind(this),this.onAnimationEnd=this.onAnimationEnd.bind(this),this.jumpOrMark=this.jumpOrMark.bind(this),this.markAsRead=this.markAsRead.bind(this),this.animation=null,this.state={hasUnreads:n.hasUnreads,displayCount:n.displayCount,since:n.since,unreadPlacement:n.unreadPlacement,opacity:1}}},"UnreadBanner");Ks.displayName="UnreadBanner",Ks.defaultProps={displayCount:0,unreadPlacement:Er.VISIBLE};const Fr={transitionFocusToPrimaryView:()=>Object(Ns.b)()};var Or=Object(U.a)(null,Fr)(Ks),Kr=e("aha9"),Hr=e("oEDn"),Pr=e("n3Fi");const co=Object(S.c)("User has dismissed search in-product education",m=>{m(Object(Pr.b)())});co.meta={name:"createThunk",key:"createThunksearchInProductEducationDismiss",description:"User has dismissed search in-product education"};var wr=e("ZE3X"),Vo=e("blur");const Hs=new Aa.b("search");let Kn=s(class extends a.PureComponent{isVisible(){return this.props.showSearchScrollbackTip}onClickBannerContent(n){const{channelForCurrentInFilterQuery:o,openFromScrollSearchTipBanner:r,clogger:y}=this.props;n.stopPropagation(),n.preventDefault(),y.track(ja.EventId.SEARCH_SCROLL_TIP_CLICK,{channel_id:o==null?void 0:o.id}),r()}onClose(n){const{channelForCurrentInFilterQuery:o,recordLastDismissedScrollSearchTooltipTimestamp:r,incrementScrollerSearchInProductEducationDismissalCount:y,searchInProductEducationDismiss:B,clogger:A,refocusList:J}=this.props;n.stopPropagation(),n.preventDefault(),A.track(ja.EventId.SEARCH_SCROLL_TIP_DISMISS,{channel_id:o==null?void 0:o.id}),r(),y(),B(),J==null||J()}onEscape(n){n.key==="Escape"&&this.onClose(n)}focus(){var n,o;(n=this.searchTipButtonRef)===null||n===void 0||(o=n.current)===null||o===void 0||o.focus()}render(){const{showSearchScrollbackTip:n}=this.props;return n&&t.a.createElement("div",{className:"p-message_pane__search_tip_banner",role:"dialog",onKeyDown:this.onEscape,"aria-label":Hs.t("Tip",{fallbackHash:"9713cc83f3030948afaff535d9c5e6e77ea1a83f",fallbackHashNs:"slack-docs"}),"data-qa":"search_tip_banner"},t.a.createElement(qn.d,{ref:this.searchTipButtonRef,className:"p-message_pane__search_tip_banner_content",onClick:this.onClickBannerContent,"aria-label":Hs.t("Try {command} f to search this channel",{command:bn.b.CmdOrCtrl,fallbackHash:"0e225cdd2f07078969c6226d1587e3ba3957da36"})},Hs.rt("<strong>Tip</strong>: Try {command} {f} to search this channel",{command:t.a.createElement(bn.a,{label:bn.b.CmdOrCtrl,slim:!0}),f:t.a.createElement(bn.a,{label:"F",slim:!0})})),t.a.createElement(es.c,{tip:Hs.t("Close"),position:"bottom"},t.a.createElement(qn.d,{className:"p-message_pane__search_tip_banner_action","aria-label":Hs.t("Close"),onClick:this.onClose},t.a.createElement(Hr.a,{inline:!0,type:"times-small"}))))}constructor(n){super(n),Object($n.a)(this,["onClose","onEscape","onClickBannerContent","focus"]),this.searchTipButtonRef=t.a.createRef()}},"SearchTipBanner");Kn.displayName="SearchTipBanner";const jr=s(m=>({showSearchScrollbackTip:Object(de.b)(m),clogger:Object(w.a)({state:m}),channelForCurrentInFilterQuery:Object(Kr.a)(m)}),"search_tip_banner_mapStateToProps"),Ar={searchInProductEducationDismiss:co,openFromScrollSearchTipBanner:wr.h,incrementScrollerSearchInProductEducationDismissalCount:Vo.f,recordLastDismissedScrollSearchTooltipTimestamp:Vo.l};var gr=Object(U.a)(jr,Ar,null,{forwardRef:!0})(Kn),mo=e("i9y5");const Vr=new Aa.b("mpdm_audience_expansion");var Yr=Object(a.memo)(()=>Object(u.c)(oa.a)?t.a.createElement("div",{className:"c-message_list__pill_banner"},t.a.createElement("div",{className:"c-message_list__pill_banner__label"},t.a.createElement(mo.a,{className:"c-message_list__pill_banner__label_icon",color:"blue",size:"medium"}),t.a.createElement("span",{className:"c-message_list__pill_banner__label_text"},Vr.t("Converting, this might take awhile\u2026")))):null),Qr=e("cu33"),br=e("jTDL"),Jr=e("u4cD"),fl=e("k7gI");const Sr=s(m=>{let{onMessageLimitTrialStart:n}=m;Object(l.i)()(Object(Jr.b)({spaceName:I.g.MESSAGE_PANE}));const r=Object(a.useCallback)(y=>{y.animationName==="fade"&&n({showFloatingTrialStartBanner:!1})},[n]);return t.a.createElement("div",{className:"p-message_pane_banner__container",onAnimationEnd:r},t.a.createElement(br.default,{className:Object(At.default)("p-message_pane_banner","p-message_limit_floating_trial_banner"),margins:!1,uiStep:ja.UiStep.LIMITED_HISTORY_TRIAL_START}))},"LimitedHistoryFloatingTrialStartBanner");Sr.displayName="LimitedHistoryFloatingTrialStartBanner";var Zr=Sr;function zo(){return zo=Object.assign||function(m){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(m[r]=o[r])}return m},zo.apply(this,arguments)}s(zo,"message_pane_extends");const Xr=new Aa.b("message-list");class uo extends a.PureComponent{componentDidMount(){this.recordAndTrackTimeToVisible(),this.bindKeyEventListeners(),document.hasFocus()?this.recordSessionFrameStats():window.addEventListener("focus",this.recordSessionFrameStats)}UNSAFE_componentWillReceiveProps(n){const o=this.props.channelId;if(this.setState(J=>{const $=this.getUnreadLinePlacement();if(!n.isLoading&&!Object(x.a)(n.timestamps)){const te=n.reachedEnd===!1&&!n.prevReachedEnd;if(te!==J.showingArchiveBanner)return{...J,unreadPlacement:$,showingArchiveBanner:te}}return J.unreadPlacement!==$?{...J,unreadPlacement:$}:J}),this.setState(J=>{const $=this.getUnreadBannerDisplayCount(),te=!!($&&$>0);return{...J,showingUnreadBanner:te}}),o&&n.channelId!==o){try{this.messageImpressionLogger.flushAllVisibleMessages()}catch($){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",$)}const J=this.list&&this.list.getScrollmark("channel_change");if(!this.props.isChildWindow){var r,y;(y=(r=this.props).saveScrollmark)===null||y===void 0||y.call(r,{channelId:o,scrollmark:J})}if(this.props.isConversationViewsEnabled&&this.props.isChildWindow&&this.props.windowId!==He.e&&J){var B,A;(A=(B=this.props).maybeSaveChildWindowScrollmark)===null||A===void 0||A.call(B,{windowId:this.props.windowId||"",container:this.props.container,channelId:o,scrollmark:J})}this.historyRateLimiter.reset(),this.recordAndTrackTimeToUsable(ja.TimingStatus.ABANDONED),this.state.caughtError&&this.setState(()=>({caughtError:!1}))}n.teamId!==this.props.teamId&&this.attachMessageImpressionsLogger(n.teamId,n.clogger)}componentDidUpdate(n){if(this.props.isProgressiveDisclosureEnabled&&this.props.latest&&this.props.latest!==n.latest){if(this.props.latestMessageTsForProgressiveDisclosureReacjiFlag&&this.props.isEligibleToUpdateReacjiAnchoredMessageTs){var o,r;(r=(o=this.props).setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip)===null||r===void 0||r.call(o,this.props.latestMessageTsForProgressiveDisclosureReacjiFlag)}else if(this.props.latestMessageTsForProgressiveDisclosureThreadsFlag&&this.props.isEligibleToUpdateThreadsAnchoredMessageTs){var y,B;(B=(y=this.props).setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip)===null||B===void 0||B.call(y,this.props.latestMessageTsForProgressiveDisclosureThreadsFlag)}}if(this.list){var A,J;const at=this.isUnreadLineVisible();(J=(A=this.props).setUnreadLineVisibility)===null||J===void 0||J.call(A,at)}(this.props.reachedStart===!0&&this.props.reachedEnd===!0||this.props.timestamps&&this.props.timestamps.length>0)&&this.recordAndTrackTimeToUsable(ja.TimingStatus.COMPLETED);const{channelId:$,experimentCheckChannelConnectivityForDmsGroupOn:te,isShared:ie,teamId:Te,type:tt}=this.props;te&&$&&Te&&$!==n.channelId&&ie&&(tt==="im"||tt==="mpim")&&Object(Be.a)(Te,$)}componentDidCatch(n){this.setState(()=>({caughtError:!0})),this.props.logger.error("MessagePane componentDidCatch:",n,"message_pane_componentDidCatch")}componentWillUnmount(){var n,o;const r=this.list&&this.list.getScrollmark("unmount"),y=this.props.channelId;if(!this.props.isChildWindow){var B,A;(A=(B=this.props).saveScrollmark)===null||A===void 0||A.call(B,{channelId:y||"",scrollmark:r})}if(this.props.isConversationViewsEnabled&&this.props.isChildWindow&&this.props.windowId!==He.e&&r){var J,$;($=(J=this.props).maybeSaveChildWindowScrollmark)===null||$===void 0||$.call(J,{windowId:this.props.windowId||"",container:this.props.container,channelId:y||"",scrollmark:r})}this.sendSessionFrameStats(),window.removeEventListener("focus",this.recordSessionFrameStats),this.unbindKeyEventListeners(),(o=(n=this.props).setMessagePaneHasUnmounted)===null||o===void 0||o.call(n,!0);try{this.messageImpressionLogger.flushAllVisibleMessages()}catch(te){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",te)}}onKeyDown(n){var o;const{key:r,shiftKey:y}=n,{overlayIsOpen:B,channelId:A,hasKeyboardFocus:J,firstUnreadTs:$,sendMessageToAnnouncerAPI:te}=this.props;if(B)return;const ie=this.list,Te=this.list.list,tt=Xr.t("No unread messages",{fallbackHash:"dd7561b8a510f9c5ea7f80eba593dbaa668fbf72",fallbackHashNs:"reminders"});if(r==="j"&&Object(Fs.i)()&&Object(Fn.a)(n)){!$&&te&&te({assertive:!0,message:tt,uuid:Object(Ms.a)()});const Oa=Te==null?void 0:Te.getActiveItem();J&&!Oa&&this.focus(),this.list.jumpToUnread(n);return}const at=(o=this.searchTipBannerRef)===null||o===void 0?void 0:o.current;if(r==="ArrowUp"&&(at!=null&&at.isVisible())){at==null||at.focus();return}if(J)return;const bt=ln.a.MESSAGE_PANE,wt=Object(io.a)({viewContext:bt,channelId:A});if(wt&&wt.hasFocus()&&wt.isEmpty()){if(r==="PageUp"){y?ie.onShiftPageUp(n):Te.onKeyDownPageUp(n);return}if(r==="PageDown"){y?ie.onShiftPageDown(n):Te.onKeyDownPageDown(n);return}if(r==="Home"){Te.onKeyDownHome(n);return}r==="End"&&Te.onKeyDownEnd(n)}}onUnreadBannerHide(){this.setState(()=>({showingUnreadBanner:!1}))}onVisibleRowsChanged(n,o){var r,y;if(!this.list)return;const B=this.getUnreadLinePlacement();this.setState(()=>({unreadPlacement:B}));const A=this.isUnreadLineVisible();(y=(r=this.props).setUnreadLineVisibility)===null||y===void 0||y.call(r,A);try{this.messageImpressionLogger.setCurrentlyVisibleMessages((o||[]).filter(Te=>Te.type==="message").map(Te=>({ts:Te.ts,channel:this.props.channelId})))}catch(Te){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",Te)}if(this.list.isAtBottom()){var J,$;($=(J=this.props).searchInProductEducationReset)===null||$===void 0||$.call(J)}if(this.props.showUnfurledJoiners&&!this.props.hasSeenUnfurledJoinersForeword&&((o||[]).some(Te=>Te.type==="foreword")||n.some(Te=>Te.type==="foreword"))){var te,ie;(ie=(te=this.props).setHasSeenUnfurledJoinersForeword)===null||ie===void 0||ie.call(te,!0)}}getUnreadBannerDisplayCount(){const{timestamps:n,lastReadTs:o,unreadCount:r,reachedEnd:y}=this.props;return n&&n.length&&y?n.filter(B=>B>(o||0)).length:r||void 0}getUnreadLinePlacement(){var n;return!(!((n=this.props.timestamps)===null||n===void 0)&&n.length)&&!this.props.unreadCountKnown||!this.list?h.VISIBLE:this.list.getUnreadLinePlacement()}setListRef(n){this.list=n}attachMessageImpressionsLogger(n,o){if(this.messageImpressionLogger)try{this.messageImpressionLogger.flushAllVisibleMessages()}catch(r){this.props.logger.error("message_pane_unable_log_message_impressions","MessagePane unable to log message impressions",r)}this.messageImpressionLogger=new Wo.a({teamId:n,clogger:o,messageViewLocation:Fo.a.CHANNEL})}bindKeyEventListeners(){document.addEventListener("keydown",this.onKeyDown,!1)}unbindKeyEventListeners(){document.removeEventListener("keydown",this.onKeyDown,!1)}blur(){this.list.blur()}focus(){this.list.focus()}isUnreadLineVisible(){const{isGhostLastRead:n,unreadCount:o,reachedEnd:r,isLoading:y}=this.props;return y?!1:!!(!n&&this.list.getUnreadLinePlacement()===h.VISIBLE||!o&&r&&this.list.isAtBottom())}jumpToMostRecent(){var n,o;(o=(n=this.props).jumpToTimestamp)===null||o===void 0||o.call(n,{ts:null})}jumpToUnread(n){this.list.jumpToUnread(n)}recordAndTrackTimeToUsable(n){if(this.props.bootInFlight){this.staleTimestamps||(this.staleTimestamps=this.props.timestamps);return}if(Object.keys(this.prqMetrics.usableVisible).length===0)return;if(this.props.windowLastBlurEvent!==0){this.prqMetrics.usableVisible={};return}if(!Object(X.b)(Object(ma.getStateForClientStore)()))return;Object(ma.dispatchForClientStore)(Object(Zt.b)(!1));const o=this.props.telemeter.measure("navigationStart","prq_time_to_usable",null,{return_unprocessed:!0}).unprocessed;this.props.telemeter.store(`prq_time_to_usable_${this.props.bootType}`,o),(this.staleTimestamps?!Object(zt.a)((this.props.timestamps||[]).sort(),this.staleTimestamps.sort()):!1)&&this.props.telemeter.count("prq_time_to_usable_required_sync"),Object(W.g)(o,"APP_ICON",!0,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId,n),this.prqMetrics.usableVisible={},this.props.logger.info("PERF",`Logged time to usable (TTU): ${o}`)}recordAndTrackTimeToVisible(){var n,o;if(this.props.hasMessagePaneUnmounted&&!this.props.bootInFlight)return;if(this.props.windowLastBlurEvent!==0){this.prqMetrics.usableVisible={};return}if(!Object(X.c)(Object(ma.getStateForClientStore)()))return;Object(ma.dispatchForClientStore)(Object(Zt.c)(!1));const r=this.props.telemeter.measure("navigationStart","prq_time_to_visible",null,{return_unprocessed:!0}).unprocessed;this.props.telemeter.store(`prq_time_to_visible_${this.props.bootType}`,r),this.prqMetrics.usableVisible={[this.props.channelId||""]:r},Object(W.h)(r,"APP_ICON",!1,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId),(o=(n=this.props).setMessagePaneHasUnmounted)===null||o===void 0||o.call(n,!0),this.props.logger.info("PERF",`Logged time to visible (TTV): ${r}`)}recordSessionFrameStats(){window.removeEventListener("focus",this.recordSessionFrameStats),window.addEventListener("blur",this.sendSessionFrameStats),window.addEventListener("beforeunload",this.sendSessionFrameStats),Object(W.e)(this.props.teamId,this.props.enterpriseId,ja.EventId.PRQ_SESSION_FRAME_STATS)&&Pa()}requestHistory(n){let{oldest:o,latest:r}=n;var y,B;const{channelId:A,type:J,reachedStart:$,reachedEnd:te,logger:ie}=this.props;if($&&te)return!1;let Te=o,tt=r;if(tt&&$){if(!Te)return!1;tt=null}if(Te&&te){if(!tt)return!1;Te=null}if(this.historyRateLimiter.isRequestPending({oldest:o,latest:r}))return!1;if(this.historyRateLimiter.shouldPreventHistoryRequest({oldest:o,latest:r}))return this.beaconedRateLimit?ie.warn("MESSAGE_PANE",`message_pane_request_rate_limited ${A} ${o}_${r}`):(ie.error({channelId:A,latestTs:tt,oldestTs:Te},"message_pane_request_rate_limited"),this.beaconedRateLimit=!0),!1;this.beaconedRateLimit=!1;const at="message-pane/requestHistory",bt=(B=(y=this.props).fetchHistory)===null||B===void 0?void 0:B.call(y,{channelId:A||"",type:J||"",oldest:Te,latest:tt,reason:at});return bt&&this.historyRateLimiter.logHistoryRequest({oldest:Te,latest:tt,promise:bt}),bt}sendSessionFrameStats(){if(window.addEventListener("focus",this.recordSessionFrameStats),window.removeEventListener("blur",this.sendSessionFrameStats),window.removeEventListener("beforeunload",this.sendSessionFrameStats),!Tn())return;pa();const n=un();n.durationMs!==0&&Object(W.f)(n.durationMs,n.histFrameRenderTime,n.histJankyWindows,this.props.teamId,this.props.enterpriseId,this.props.sessionId,this.props.currentUserId)}renderArchivesBanner(){return this.state.showingArchiveBanner?t.a.createElement(wo,{jumpToRecent:this.jumpToMostRecent}):null}renderDegradedBanner(){return t.a.createElement(Hn.a,null,t.a.createElement(Qr.a,null))}renderMessagePaneBanner(){const{channelId:n,isExternalIm:o,isWelcomeDmTipOpen:r}=this.props,y=o?t.a.createElement(us,{channelId:n||""}):null;return this.state.showFloatingTrialStartBanner?t.a.createElement(Zr,{onMessageLimitTrialStart:this.onMessageLimitTrialStart}):y||!r&&t.a.createElement(Kt.c,zo({},dt,{channelId:n||"",onTrialStart:this.onMessageLimitTrialStart}))}renderWelcomeSpace(){return this.props.isChildWindow?null:t.a.createElement(Kt.c,zo({},Le))}renderSearchScrollbackTip(){return t.a.createElement(gr,{ref:this.searchTipBannerRef,refocusList:this.focus})}renderUnreadBanner(){const{unreadCount:n,unreadCountKnown:o,lastReadTs:r,channelId:y,isGhostLastRead:B,markMostRecentMsgRead:A,isArchived:J,showSearchScrollbackTip:$,isChannelConversionInProgress:te}=this.props;return J||$||te?null:t.a.createElement(Or,{channelId:y||void 0,hasUnreads:!!(n&&n>0),displayCount:this.getUnreadBannerDisplayCount(),known:o,since:r,ghost:B,unreadPlacement:this.state.unreadPlacement,jumpToUnread:this.jumpToUnread,markMostRecentMsgRead:A,onHide:this.onUnreadBannerHide})}renderConvertingBanner(){const{isChannelConversionInProgress:n}=this.props;return n?t.a.createElement(Yr,null):null}renderMessageList(){const{type:n,channelDisplayName:o,isShared:r,isOrgShared:y,isYou:B,isMuted:A,hasUnreads:J,hasDraft:$,isArchived:te,unreadCount:ie,badgeCount:Te,canPostInChannel:tt,isFileExpanding:at,clientTheme:bt,showSearchScrollbackTip:wt,isDegradedMode:Ea,isChannelConversionInProgress:Oa,showUnfurledJoiners:Fa}=this.props,Xa=(!J||this.state.unreadPlacement===h.VISIBLE)&&!this.ieOrEdge&&!wt&&!Ea&&!Oa,Rs=Object(ko.a)({type:n,displayName:o,isShared:r,isOrgShared:y,isYou:B,isMuted:A,hasUnreads:J,hasDraft:$,isArchived:te,unreadCount:ie,badgeCount:Te,canPost:tt,isSelected:!1,userActive:!1,isTyping:!1}),ws=Object(Fe.f)(this.props.currentThreadKey||void 0,ln.a.THREAD);return t.a.createElement(ft,{ref:this.setListRef,channelId:this.props.channelId||void 0,"aria-label":Rs,timestamps:this.props.timestamps,startTs:this.props.startTs||void 0,startTsOffset:this.props.startTsOffset||void 0,highlightTs:this.props.highlightTs||void 0,highlightLazy:this.props.highlightLazy,ariaAnnounceMessageTs:this.props.ariaAnnounceMessageTs||void 0,focusRequestedTs:this.props.focusRequestedTs,requestHistory:this.requestHistory,lastReadTs:this.props.lastReadTs,isGhostLastRead:this.props.isGhostLastRead,rollups:this.props.rollups||void 0,isLoading:this.props.isLoading,isLoadingOlder:this.props.isLoadingOlder,setUnreadPoint:this.props.setUnreadPoint,reachedStart:this.props.reachedStart,reachedEnd:this.props.reachedEnd,prevReachedEnd:this.props.prevReachedEnd,oldest:this.props.oldest,latest:this.props.latest,onVisibleRowsChanged:this.onVisibleRowsChanged,doneHighlighting:this.props.clearHighlightTs,clearAriaAnnounceMessageTs:this.props.clearAriaAnnounceMessageTs,channelType:this.props.type,isLimited:this.props.isLimited,blurredMessages:this.props.blurredMessages,isSlackbotIm:this.props.isSlackbotIm,useStickyDayDividers:Xa,theme:this.props.theme,channelSessionId:this.props.channelSessionId||void 0,firstUnreadTs:this.props.firstUnreadTs||void 0,messageContainerType:ln.a.MESSAGE_PANE,featureTinyspeck:this.props.featureTinyspeck,teamId:this.props.teamId||void 0,enterpriseId:this.props.enterpriseId||void 0,sessionId:this.props.sessionId||void 0,windowLastFocusEvent:this.props.windowLastFocusEvent||void 0,currentUserId:this.props.currentUserId||void 0,jumpToTimestamp:this.props.jumpToTimestamp,makeMessageSummary:this.props.makeMessageSummary,isScreenReaderEnabled:this.props.isScreenReaderEnabled,isBannerVisible:this.state.showingUnreadBanner,setFocusRequestedTs:this.props.setFocusRequestedTs,showThreadIfThreadable:this.props.isPerKeyThreadMetadataOn?this.props.metadataShowThreadIfThreadable:this.props.showThreadIfThreadable,currentThreadKey:this.props.currentThreadKey||void 0,canStartOrOpenThread:this.props.canStartOrOpenThread,threadListId:ws,isFileExpanding:at,isOffline:this.props.isOffline,clientTheme:bt,canPostInChannel:tt,showUnfurledJoiners:Fa,useGlobalKeyboardShortcuts:!0,onMessageLimitTrialStart:this.onMessageLimitTrialStart,unlockMessages:this.state.unlockMessages,isFloatingTrialStartBannerVisible:this.state.showFloatingTrialStartBanner,onOverflow:this.props.onOverflow})}onMessageLimitTrialStart(n){let{showFloatingTrialStartBanner:o,unlockMessages:r}=n;this.setState(y=>({...y,showFloatingTrialStartBanner:o,unlockMessages:r}))}render(){if(this.state.caughtError)return null;if(this.props.unavailableTeamId)return t.a.createElement(Ss.a,{channelId:this.props.channelId,unavailableTeamId:this.props.unavailableTeamId});if(!this.props.channelId||this.props.isSpaceshipFileChannel||this.props.isListFileChannel)return null;const{experimentIaBookmarksHideShowGroupTreatment:n,isBookmarksVisible:o}=this.props,r=Object(At.default)("p-message_pane p-message_pane--classic-nav","p-message_pane--scrollbar-float-adjustment",{"p-message_pane--ie":this.ieOrEdge,"p-message_pane--with-bookmarks-bar":n,"p-message_pane--with-bookmarks-bar-open":n&&o}),y=Object(At.default)("p-message_pane__top_banners",{"p-message_pane__top_banners--with-bookmarks-bar":n,"p-message_pane__top_banners--with-bookmarks-bar-open":n&&o}),B=Object(At.default)("p-message_pane__banners_with_bookmarks_bar",{"p-message_pane__banners_with_bookmarks_bar--open":o});return t.a.createElement("div",{ref:this.messagePaneRef,className:r,"data-qa":"message_pane"},t.a.createElement("div",{className:y},t.a.createElement(oo.a,null),t.a.createElement(As.a,{destinationId:this.props.channelId}),this.renderDegradedBanner(),this.renderUnreadBanner(),this.renderConvertingBanner(),this.renderSearchScrollbackTip()),n?t.a.createElement("div",{className:B},this.renderMessagePaneBanner()):this.renderMessagePaneBanner(),this.renderWelcomeSpace(),this.renderMessageList(),this.renderArchivesBanner())}constructor(n){super(n),this.list=null,Object($n.a)(this,["onKeyDown","onVisibleRowsChanged","onUnreadBannerHide","setListRef","requestHistory","jumpToMostRecent","jumpToUnread","focus","renderSearchScrollbackTip","sendSessionFrameStats","recordSessionFrameStats","onMessageLimitTrialStart"]),this.messagePaneRef=t.a.createRef(),this.searchTipBannerRef=t.a.createRef(),this.state={showingArchiveBanner:!1,showingUnreadBanner:!1,unreadPlacement:h.VISIBLE,showFloatingTrialStartBanner:!1,unlockMessages:!1},this.historyRateLimiter=new Ut.a,this.prqMetrics={usableVisible:{}},this.ieOrEdge=la.a.msie||la.a.msedge,this.attachMessageImpressionsLogger(n.teamId,n.clogger)}}s(uo,"message_pane_BaseMessagePane"),uo.displayName="BaseMessagePane",uo.defaultProps={logger:{error:Ve.a},clogger:{track:Ve.a},channelDisplayName:void 0,type:"channel",isExternalIm:!1,theme:"light",timestamps:[],reachedStart:!1,reachedEnd:!1,prevReachedEnd:!1,oldest:void 0,latest:void 0,fetchHistory:Ve.a,lastReadTs:void 0,isGhostLastRead:!1,unreadCount:0,unreadCountKnown:!1,startTs:null,startTsOffset:null,highlightTs:null,ariaAnnounceMessageTs:null,highlightLazy:void 0,focusRequestedTs:void 0,rollups:null,isLoading:!1,isLoadingOlder:!1,setUnreadPoint:Ve.a,markMostRecentMsgRead:Ve.a,setUnreadLineVisibility:Ve.a,clearHighlightTs:Ve.a,clearAriaAnnounceMessageTs:Ve.a,jumpToTimestamp:Ve.a,saveScrollmark:Ve.a,maybeSaveChildWindowScrollmark:Ve.a,isArchived:!1,isLimited:!1,isSlackbotIm:!1,overlayIsOpen:!1,channelSessionId:null,firstUnreadTs:null,featureTinyspeck:!1,teamId:null,enterpriseId:null,sessionId:null,hasMessagePaneUnmounted:!1,setMessagePaneHasUnmounted:Ve.a,currentUserId:null,isShared:!1,isOrgShared:!1,isYou:!1,isMuted:!1,hasUnreads:!1,hasDraft:!1,badgeCount:0,windowLastBlurEvent:null,windowLastFocusEvent:null,makeMessageSummary:void 0,isScreenReaderEnabled:!1,setFocusRequestedTs:Ve.a,showThreadIfThreadable:Ve.a,metadataShowThreadIfThreadable:Ve.a,currentThreadKey:void 0,canStartOrOpenThread:Ve.a,unavailableTeamId:"",canPostInChannel:!0,searchInProductEducationReset:Ve.a,bootInFlight:!1,bootType:null,isFileExpanding:!1,isOffline:!1,clientTheme:"light",isProgressiveDisclosureEnabled:!1,latestMessageTsForProgressiveDisclosureReacjiFlag:void 0,isEligibleToUpdateReacjiAnchoredMessageTs:!0,latestMessageTsForProgressiveDisclosureThreadsFlag:void 0,isEligibleToUpdateThreadsAnchoredMessageTs:!0,showSearchScrollbackTip:!1,isDegradedMode:!1,isChannelConversionInProgress:!1,showUnfurledJoiners:!1,hasSeenUnfurledJoinersForeword:!1,setHasSeenUnfurledJoinersForeword:Ve.a,isBookmarksVisible:!1,isSpaceshipFileChannel:!1,isListFileChannel:!1,experimentIaBookmarksHideShowGroupTreatment:!1,isConversationViewsEnabled:!1,maybeShowProgressiveDisclosureTip:Ve.a,setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip:Ve.a,hasKeyboardFocus:!1,sendMessageToAnnouncerAPI:Ve.a,isChildWindow:!1,windowId:He.e,container:null,isWelcomeDmTipOpen:!1,experimentCheckChannelConnectivityForDmsGroupOn:!1};var $r=Object(Ko.a)(Object(bo.a)(Object(lo.a)(sn(Object(ro.a)(uo,{updateStore:m=>{let{instance:n,dispatch:o}=m;const r=n.list&&n.list.getScrollmark("with_serialization");o(Object(Xe.a)({channelId:n.props.channelId,scrollmark:r}))}}))))),qr=e("y8dB"),el=e("i9jZ"),tl=e("LrWZ"),Mr=e("l2Je"),Cr=e("XnQF");const Nr=Object(S.c)("Save the child window scrollmark when the user moves away from the view",(m,n,o)=>{let{windowId:r,container:y,channelId:B,scrollmark:A}=o;var J,$;const te=n(),ie=Object(Cr.b)(te,{windowId:r}),Te=Object(Cr.c)(te,{windowId:r}),tt=Object(Cr.a)(te,{windowId:r});if(ie>0){var at;if(Object(tl.a)(Te))return;const Ea=tt[Te];if((Ea==null||(at=Ea.primary)===null||at===void 0?void 0:at.id)!==B)return;m(Object(Mr.g)({windowId:r,index:Te,viewParams:{startTs:A==null?void 0:A.mark,startTsOffset:A==null?void 0:A.offset}}));return}const bt=tt[0],wt=tt[1];if((bt==null||(J=bt.primary)===null||J===void 0?void 0:J.id)===B){m(Object(Ie.i)({windowId:r,container:y,params:{startTs:A==null?void 0:A.mark,startTsOffset:A==null?void 0:A.offset}}));return}(wt==null||($=wt.primary)===null||$===void 0?void 0:$.id)===B&&m(Object(Mr.g)({windowId:r,index:1,viewParams:{startTs:A==null?void 0:A.mark,startTsOffset:A==null?void 0:A.offset}}))});Nr.meta={name:"createThunk",key:"createThunkmaybeSaveChildWindowScrollmark",description:"Save the child window scrollmark when the user moves away from the view"};var al=e("HVk8"),nl=e("uVdA"),Tr=e("v7mh"),ua=e("lLIM"),sl=e("OaiI"),ol=e("uiBO");const Dr=Object(H.b)(p.a,na.a),Rr=17,Ke=Dr([m=>m,(m,n)=>n,(m,n,o)=>o],(m,n,o)=>{let{timestamps:r,start:y,end:B,reachedStart:A,reachedEnd:J,prevReachedEnd:$}=m;if(!J&&!$&&r&&r.length-L(r,o)<Rr)return{messages:[],rollups:{},reachedStart:!1,reachedEnd:!1};var te;const ie=r.map(at=>(te=n[at])!==null&&te!==void 0?te:{ts:at,isUnknown:!0}).filter(at=>!Object(g.b)(at)&&!Object(Bt.gb)(at)),{rollups:Te,messages:tt}=Object(qr.a)(ie);return{messages:tt,timestamps:Object(k.a)(Object(F.a)(tt,at=>at==null?void 0:at.ts)),rollups:Te,reachedStart:A,reachedEnd:J,prevReachedEnd:$,oldest:y,latest:B}});function Ds(m){let{state:n,channelId:o,timestamps:r,rollups:y,lastReadTs:B}=m;const A=Object(Et.a)(n);return Object(ee.a)(r,J=>{const te=Object(Ze.b)(n,o,J,!1);return te?y[J]?Object.values(y[J]).map(at=>at.ts).filter(al.a).map(at=>Object(Ze.b)(n,o,at)).some(at=>Object(_t.a)(at,B,A)):Object(_t.a)(te,B,A):!1})}s(Ds,"getFirstUnreadTs");function rl(m){let{state:n,rolledMessages:o}=m;const r=Object(oe.a)(o,y=>{if(y!=null&&y.isUnknown)return!1;const B=Object(ot.a)(y),A=Object(Qt.a)(n,B);return A?!!A.length:!1});return r?r.ts:null}s(rl,"getLatestMessageTsWithReactions");const Nl=s((m,n)=>{var o,r;const{shouldUseNavigate:y,container:B,getSiblingView:A,isChildWindow:J}=n,$=y?A(m,{container:B??He.k.Primary}):void 0;let te;($==null?void 0:$.viewType)===ol.c.AiApp?te=n.channelId:te=y&&$?$.id:n.channelId||Object(Rt.a)(m);const ie=Object(c.d)(m,te),Te=Object(Et.i)(m,"feature_tinyspeck"),tt=Object(Et.a)(m),at=Object(Jt.g)(m),bt=Object(Jt.d)(m),wt=Object(re.b)(m),Ea=Object(re.f)(m),Oa=Object(sa.i)(m),Fa=Object(sa.j)(m),Xa=Object(Fe.b)(m,{shouldUseNavigate:y,getSiblingView:A}),Rs=Object(V.d)({state:m}),ws=Object(R.a)({state:m}),ts=Object(w.a)({state:m}),Na=Object(Ja.a)(m),Yo=Object(sa.c)(m),Lr=Object(nl.a)(m);if(!ie)return{featureTinyspeck:Te,currentUserId:tt,teamId:at,enterpriseId:bt,sessionId:wt,hasMessagePaneUnmounted:Ea,windowLastBlurEvent:Oa,windowLastFocusEvent:Fa,telemeter:Rs,logger:ws,clogger:ts,bootInFlight:Na,bootType:Yo};const Qo=Object(Dt.b)(m,te),xr=!!(te&&Object(Dt.c)(m,te));let as=Object(it.z)(m,ie),_r=!1;const ho=y&&B?(o=A(m,{container:B}))===null||o===void 0||(r=o.uiState)===null||r===void 0?void 0:r.ghostLastRead:Object(re.e)(m);ho&&ho!==as&&(as=ho,_r=!0);let ps,Jo,Ls,Zo;if(n.columnIdentifier==="inspector"||n.shouldUseNavigate){var il,cl;if(ps=J?n.startTs:n.startTs||((il=Object(re.r)(m,te))===null||il===void 0?void 0:il.mark),Jo=J?n.startTsOffset:n.startTsOffset||((cl=Object(re.r)(m,te))===null||cl===void 0?void 0:cl.offset),n.shouldUseNavigate){var dl,ml,ul,hl;Ls=$==null||(dl=$.uiState)===null||dl===void 0||(ml=dl[te])===null||ml===void 0?void 0:ml.highlightTs,Zo=$==null||(ul=$.uiState)===null||ul===void 0||(hl=ul[te])===null||hl===void 0?void 0:hl.highlightLazy}else Ls=n.highlightTs,Zo=n.highlightLazy}else ps=Object(re.l)(m),Jo=Object(re.m)(m),Ls=Object(re.k)(m),Zo=Object(re.j)(m);const di=Object(re.i)(m),mi=Object(it.R)(ie),Il=Object(Pt.j)(m,te,as),ui=Il&&Il.reachedEnd,hi=Object(re.b)(m),pi=Object(ta.a)(m),Ur=Object(Pt.h)(m,te,ps||void 0),vi=!1,fi=Object(Ze.d)(m,te||"",Ur&&Ur.timestamps?Ur.timestamps:[],vi),{timestamps:pl,messages:Xo,rollups:vl,reachedStart:Ei,reachedEnd:Oi,prevReachedEnd:gi,oldest:bi,latest:Ci}=Ke(Ur,fi,ps);(Object(yt.l)(ie)&&!Object(it.db)(ie)||Object(jt.a)(ie))&&(as=Object(G.a)(pl));const Ti=Ds({state:m,channelId:te||"",timestamps:pl||[],rollups:vl,lastReadTs:as||""}),_i=Object(Nt.j)(m);let Pl;Object(it.tb)(m,ie)&&(Pl=Object(it.Q)(m,ie));const yi=Object(ge.a)(ie)&&!!Object(ct.i)(m,ie,!0),Ii=Object(sl.isListsEnabled)(m)&&Object(ge.a)(ie)&&!!Object(ct.h)(m,ie,!0),Pi=Object(ra.a)(m);let jl,Al=!0,Sl,Ml=!0;if(Object(Vt.W)(m)&&Object(it.db)(ie)){if(Object(Vt.d)(m,{tip:Lt.f.Threads})){const $o=$a({rolledMessages:Xo}),Br=$o?null:za({state:m,rolledMessages:Xo,channelId:te||"",currentUserId:tt});let kr;Object(Vt.fb)(m)===Lt.f.Threads&&(kr=mn({state:m,rolledMessages:Xo,channelId:te||""})),jl=$o||Br||kr}if(Object(Vt.ob)(m,{tip:Lt.f.Threads})&&(Al=!1),Object(Vt.d)(m,{tip:Lt.f.Reacji})){const $o=Cn({rolledMessages:Xo,currentUserId:tt,teamId:at||"",experimentRichTextGroupOn:Lr}),Br=$o?null:rl({state:m,rolledMessages:Xo}),kr=!$o&&!Br?Qa({state:m,rolledMessages:Xo,currentUserId:tt}):null;Sl=$o||Br||kr}}Object(Vt.ob)(m,{tip:Lt.f.Reacji})&&(Ml=!1);const ji=Object(pt.g)(m,te),Ai=Object(nt.c)(m,te||"");return{isFileExpanding:Pi,channelId:te,type:Object(yt.d)(ie),isExternalIm:Object(It.a)(ie),channelDisplayName:Object(it.t)(m,ie,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}),timestamps:pl,reachedStart:Ei,reachedEnd:Oi,prevReachedEnd:gi,oldest:bi,latest:Ci,lastReadTs:as,isGhostLastRead:_r,unreadCount:mi,unreadCountKnown:ui,startTs:ps,startTsOffset:Jo,highlightTs:Ls,ariaAnnounceMessageTs:di,highlightLazy:Zo,focusRequestedTs:Object(re.d)(m),rollups:Object(x.a)(vl)?_.b:vl,isArchived:Object(jt.a)(ie),isLoading:Qo,isLoadingOlder:xr,isLimited:!!(te&&Object(Pt.g)(m,te)),blurredMessages:Object(Pt.d)(m,te),isSlackbotIm:Object(it.pb)(ie),overlayIsOpen:Object(fa.g)(m),channelSessionId:hi,theme:pi,firstUnreadTs:Ti,featureTinyspeck:Te,teamId:at,enterpriseId:bt,sessionId:wt,hasMessagePaneUnmounted:Ea,windowLastBlurEvent:Oa,windowLastFocusEvent:Fa,currentUserId:tt,badgeCount:Object(c.c)(m,ie),isShared:Object(f.a)(ie),isOrgShared:Object(Ye.a)(ie),isMuted:!!(te&&Object(Ct.b)(m,te)),hasUnreads:!!Object(it.R)(ie),hasDraft:!!(te&&Object(it.v)(m,te)),isScreenReaderEnabled:_i,currentThreadKey:Xa,unavailableTeamId:Pl,canPostInChannel:!!(te&&Object(St.b)(m,te)),telemeter:Rs,logger:ws,clogger:ts,bootInFlight:Na,bootType:Yo,isOffline:!Object(ia.d)(m),clientTheme:Object(ca.a)(m),isProgressiveDisclosureEnabled:Object(Vt.W)(m),latestMessageTsForProgressiveDisclosureReacjiFlag:Sl,isEligibleToUpdateReacjiAnchoredMessageTs:Ml,latestMessageTsForProgressiveDisclosureThreadsFlag:jl,isEligibleToUpdateThreadsAnchoredMessageTs:Al,showSearchScrollbackTip:Object(de.b)(m),isDegradedMode:Object(Ca.l)(m),isChannelConversionInProgress:!!(te&&Object(oa.a)(m)&&Ot(m,te)),showUnfurledJoiners:ba(m,ie),hasSeenUnfurledJoinersForeword:Object(re.g)(m),isBookmarksVisible:ji,isSpaceshipFileChannel:yi,isListFileChannel:Ii,experimentIaBookmarksHideShowGroupTreatment:Ai,isConversationViewsEnabled:Object(el.a)(m),isPerKeyThreadMetadataOn:Object(da.a)(m),isWelcomeDmTipOpen:Object(ua.d)(m),experimentCheckChannelConnectivityForDmsGroupOn:Object(Q.d)(m,"check_channel_connectivity_for_dms")==="on"}},"connected_message_pane_mapStateToProps");function Dl(m,n){let{shouldUseNavigate:o,windowId:r,container:y,activeTab:B}=m;return(A,J)=>{if(o&&y)if(r===He.e){var $;const ie=Object(Tr.h)(J(),{tab:B,container:y}),Te=ie==null||($=ie.uiState)===null||$===void 0?void 0:$.unreadLineVisible;Te!==n&&(Object(R.a)({getState:J}).info("CHECK-UNREADS",`unreadLineVisible updated in main window container ${y}: ${Te} -> ${n}`),A(Object(Ie.j)({windowId:He.e,tab:B,container:y,uiState:{unreadLineVisible:n}})))}else{var te;const ie=Object(Tr.d)(J(),{windowId:r,container:y}),Te=ie==null||(te=ie.uiState)===null||te===void 0?void 0:te.unreadLineVisible;Te!==n&&(Object(R.a)({getState:J}).info("CHECK-UNREADS",`unreadLineVisible updated in child window ${r} container ${y}: ${Te} -> ${n}`),A(Object(Ie.j)({windowId:r,container:y,uiState:{unreadLineVisible:n}})))}else{const ie=Object(re.u)(J());ie!==n&&(Object(R.a)({getState:J}).info("CHECK-UNREADS",`unreadLineVisible updated: ${ie} -> ${n}`),A(Object(le.u)(n)))}}}s(Dl,"checkAndSetUnreadLineVisibility");const Rl=s(m=>(n,o)=>Object(Gt.a)(o(),m),"canStartOrOpenThreadStateWrapper"),Ll=Object(H.a)(m=>m,(m,n)=>n.shouldUseNavigate,(m,n)=>n.windowId,(m,n)=>n.container,(m,n)=>n.activeTab,(m,n)=>n.view,(m,n,o,r,y,B)=>({fetchHistory:A=>m(Object(ye.a)(A)),setUnreadPoint:A=>m(Object(Tt.a)(A)),markMostRecentMsgRead:A=>m(Object(qe.a)(A)),setUnreadLineVisibility:A=>m(Dl({shouldUseNavigate:n,windowId:o,container:r,activeTab:y},A)),clearHighlightTs:()=>m(Me({channelId:B==null?void 0:B.id,container:r})),clearAriaAnnounceMessageTs:()=>m(Object(le.a)()),jumpToTimestamp:A=>m(Object(De.a)({...A})),saveScrollmark:A=>m(Object(Xe.a)(A)),setMessagePaneHasUnmounted:A=>m(Object(le.q)(A)),makeMessageSummary:A=>m(Object(Ka.a)(A)),setFocusRequestedTs:A=>m(Object(le.l)(A)),canStartOrOpenThread:A=>m(Rl(A)),showThreadIfThreadable:A=>m(Object(Xt.a)(A)),metadataShowThreadIfThreadable:A=>m(Object(ya.a)(A)),searchInProductEducationReset:()=>m(Object(Ne.a)()),setHasSeenUnfurledJoinersForeword:A=>m(Object(le.n)(A)),maybeShowProgressiveDisclosureTip:A=>m(Object(Da.a)(A)),setProgressiveDisclosureLastMessageTsForMegaphoneControlledTip:A=>m(Object(Mt.H)(A)),maybeSaveChildWindowScrollmark:A=>m(Nr(A))}));var xl=Object($t.b)(Object(xa.a)(Object(U.a)(Nl,Ll)($r))),Ul=xl,Bl=e("sqfg"),kl=e("1ILc"),Wl=e("PPXB"),Fl=e("A4Vb"),Kl=e("RcB+"),Hl=e("mcZN"),El={nonexistent:"nonexistent__SW6p6",nonexistentMessage:"nonexistentMessage__lKrIr"};const wl=new Aa.b("flexpane");function Gl(){return t.a.createElement("div",{className:El.nonexistent},t.a.createElement("div",{className:El.nonexistentMessage},t.a.createElement(Vn.a,{name:"lock",variation:"filled",size:"inherit"}),t.a.createElement("p",null,wl.t("You do not have access to this channel",{fallbackHash:"aa2a08d2afa23e5f0a3fbe6e6ed494979fd09160",fallbackHashNs:"workspace_apps_manage"}))))}s(Gl,"NonExistentChannel");var Vl=e("AHcl"),zl=e("CnKg"),Yl=e("2uWu"),Ql=e("AxFX"),Jl=e("hjzp"),Zl=e("h0BU");const Xl=s(m=>{const n=Object(l.i)();Object(a.useEffect)(()=>{m&&!Object(it.jb)(m)&&Object(it.db)(m)&&Object(yt.n)(m)&&n(Object(Zl.a)({channel:m,reason:"viewed-record-channel"}))},[n,m])},"useEnsureRecordChannelIsOpen");var $l=e("SlSJ"),ql=e("NKJ2"),ei=e("WSQ4"),Ol=e("TGBA"),ti=e("cSZH"),ai=e("itAW"),ni=e("sOnb"),si=e("NV6F"),oi=e("/Hvu"),ri=e("srzd"),li=e("Vh3S"),gl={container:"container__g7xaH",pillContainer:"pillContainer__2CFu9"};const bl=s(m=>{let{bookmark:n,index:o,channelId:r}=m;const{shortcutId:y,appId:B}=n,A=Object(u.c)(te=>!y||!B||!Object(ni.a)(y)?null:Object(ai.f)(te,{triggerId:y})),J=Object(u.c)(te=>{var ie;return!(A==null||(ie=A.workflow)===null||ie===void 0)&&ie.workflow_id?Object(ri.a)(te,A.workflow.workflow_id):void 0});if(!A||!y||A!=null&&A.error)return null;const $=Object(oi.a)({trigger:A,workflow:J});return Object(si.K)({shortcutInfo:$,channelId:r,children:t.a.createElement("div",{role:"presentation",className:gl.pillContainer},t.a.createElement(li.a,{index:o,key:n.id,bookmark:n,channelId:r,displayVertical:!1,isLoading:!1,canAddBookmarks:!1,experimentReorderBookmarkPinnnedMsgGroupTreatment:!1,isGrabbed:!1,isLastBookmark:!1,onKeyDown:Ve.a,handleReorderBookmarkAndSync:Ve.a}))})},"WorkflowAccessPill");bl.displayName="WorkflowAccessPill";var ii=e("Unm3"),ci=e("WY9I"),Cl=e("Kw9m");const Tl=s(m=>{let{channelId:n}=m;const o=Object(u.c)(Cl.b),r=Object(u.c)(Cl.a),y=Object(u.c)(ie=>Object(pt.b)(ie,{channelId:n})),B=Object(u.c)(ie=>!r&&o?!0:o&&r?Object(ii.a)(ie,ci.a.WORKFLOWACCESS):!1),A=y&&Object(Ol.a)(y).length>0&&y.error,J=!!y&&!A&&Object(Ol.a)(y).length>0,$=Object(ti.o)(y),te=!A&&J&&y&&$;return o&&B?t.a.createElement("div",{className:gl.container},J&&te&&te.filter(ie=>ie.type==="shortcut").map((ie,Te)=>t.a.createElement(bl,{bookmark:ie,index:Te,key:ie.id,channelId:n}))):null},"WorkflowAccessBannerContainer");Tl.displayName="WorkflowAccessBannerContainer";function ll(){return ll=Object.assign||function(m){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(m[r]=o[r])}return m},ll.apply(this,arguments)}s(ll,"channel_extends");function _l(m){const n=Object(l.i)(),{windowId:o}=Object(a.useContext)(ei.a),[r,y]=Object(a.useState)(!1);Object(a.useEffect)(()=>{n(j({channelId:m.channelId}))},[n,m.channelId]);const B=Object(u.c)(Na=>Object(Q.d)(Na,"canvas_sidebar_mix")==="on"),A=Object(u.c)(Na=>Object(v.c)(Na,!1,!1)),J=A===v.a.TREATMENT_1,$=A===v.a.TREATMENT_2,te=J||$,ie=Object(u.c)(Na=>Object(Q.d)(Na,"global_trial_entry_point",!1)==="treatment"),Te=te||ie,tt=m.channelId,at=Object(u.c)(Na=>tt?Object(nt.b)(Na,tt):!1),bt=Object(u.c)(Na=>Object(c.d)(Na,tt,!1)),wt=Object(u.c)(Na=>B&&bt?Object(Yl.a)(Na,bt):void 0),Ea=Object(u.c)(b.a),[Oa,Fa]=Object(a.useState)(!1),Xa=Object(a.useCallback)(Na=>{Fa(Na)},[]),Rs=Object(u.c)(Na=>Object(g.a)(Object(ql.c)(Na,{channelId:tt,windowId:o})));if(Xl(bt),B&&wt)return t.a.createElement(Vl.a,{id:Object(zl.h)({id:Object(Jl.b)(m.channelId)})});if(Object(yt.q)(bt)&&Object(Ql.a)(m.channelId))return t.a.createElement("div",{className:"display_flex flex_direction_column justify_content_center full_height"},t.a.createElement(mo.a,null));if(Object(g.b)(bt))return t.a.createElement(Gl,null);const ts=!(Oa&&r);return t.a.createElement(t.a.Fragment,null,!m.omitViewHeader&&t.a.createElement(kl.a,{id:m.channelId,hideBorder:ts}),!m.omitBookmarksBar&&at&&t.a.createElement(Wl.b,{subtype:"bookmarks",id:m.channelId,variant:"short"},t.a.createElement(Fl.a,{channelId:m.channelId,setIsBookmarksBarHidden:y})),Te&&t.a.createElement(Hl.a,{shouldShow:Ea}),t.a.createElement(N.b,{location:N.a.MESSAGE_PANE,channelId:m.channelId,disabled:Rs},t.a.createElement(Kl.b,null,t.a.createElement("div",{className:"p-workspace__primary_view_body"},t.a.createElement(Ul,{channelId:m.channelId,startTs:m.startTs,startTsOffset:m.startTsOffset,highlightTs:m.highlightTs,highlightLazy:m.highlightLazy,serializationKey:"message-pane",onOverflow:Xa})),t.a.createElement(Kt.c,ll({},$l.a,{channelScopedId:m.channelId})),t.a.createElement(Tl,{channelId:m.channelId}),t.a.createElement("div",{className:"workspace__primary_view_footer p-workspace__primary_view_footer--float"},t.a.createElement(Bl.a,{channelId:m.channelId})))))}s(_l,"Channel"),_l.displayName="Channel";var Mi=i.a=_l},FlVn:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("VP3E"),c=e("P7By"),g=e("aMUS"),b=e.n(g),S=e("1z69"),v=e("cD3f"),T=e("Jq9w"),I=e("03PU"),d=e("N0zA"),f=e("ktUG"),C=e("nNoG"),j=e("zxER"),N=e("eWGC"),O=e("uVZW"),M=e("JoR1"),L=e("aHgF"),k=e("W1Ru");const F=new C.b("usecase_onboarding"),ee="p-usecase_onboarding_coachmark__huddles_overlay",oe={eventId:f.EventId.NEWXP_TEAM_CREATE,elementName:O.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,elementType:f.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:O.g.WELCOME_SPACE,megaphoneNotificationName:O.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,clogImpression:!0},G=s(x=>{let{children:U}=x;const H=Object(l.i)(),p=Object(j.c)(He=>!!Object(M.u)(He,"a11y_animations")),_=Object(j.c)(L.e),{openChannelCanvas:V}=Object(v.a)(),R=S.c[O.h.USECASE_ONBOARDING_HUDDLE_COACHMARK],w=Object(a.useCallback)(()=>t.a.createElement(T.a,{currentStep:R,totalSteps:S.d}),[R]),Q=Object(a.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-coachmark.json").then(e.t.bind(null,"5Qtj",3)),[]),re=Object(a.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__huddles"}),[]),de=Object(a.useMemo)(()=>p?t.a.createElement(c.a,{getAnimationImport:Q,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:re}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:b.a,className:"p-usecase_onboarding_coachmark_gif"}),[Q,p,re]);Object(a.useEffect)(()=>{H(Object(N.a)({notificationName:O.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,action:O.f.IMPRESSION}))},[H]);const{onAfterOpen:Ne}=Object(u.a)({className:S.a,highlightPadding:{left:-8},backgroundClassName:ee}),{isOpen:ye,closeCoachmark:le,renderCoachmark:De}=Object(d.a)(O.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,O.g.WELCOME_SPACE),Ae=Object(a.useCallback)(()=>{le(!0),_&&V()},[le,V,_]);if(!ye)return null;const Ie=De({arrowPosition:85,hero:de,title:F.t("Host team meetings right in Slack"),bodyText:F.rt("Huddles are the quickest way to meet with your team. Start a voice or video huddle from any conversation. <steps></steps>",{"<steps>":w}),closeCoachmark:Ae,onClickPrimaryButton:Ae,className:`p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__huddles ${S.a}`,primaryCallToActionText:F.t("Done"),ariaLabel:F.t("Huddles are the quickest way to meet with your team. Start a voice or video huddle from any conversation. {currentStep} of {totalSteps}",{currentStep:R,totalSteps:S.d}),autoClogProps:oe,width:S.b,offsetX:-300,closeBackgroundStyle:"dark",orientation:I.a.Right,onAfterOpen:Ne});return t.a.createElement(I.c,{coachmarkElement:Ie,orientation:"bottom"},U)},"UsecaseOnboardingHuddlesCoachmark");G.displayName="UsecaseOnboardingHuddlesCoachmark",i.default=G},GUMB:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("VP3E"),c=e("P7By"),g=e("4Pyn"),b=e.n(g),S=e("1z69"),v=e("Jq9w"),T=e("q0lC"),I=e("03PU"),d=e("N0zA"),f=e("Ccc1"),C=e("ktUG"),j=e("nNoG"),N=e("zxER"),O=e("E3dU"),M=e("q6Tz"),L=e("eWGC"),k=e("uVZW"),F=e("NgZ7"),ee=e("JoR1"),oe=e("aHgF"),G=e("W1Ru");const x=new j.b("usecase_onboarding"),U={eventId:C.EventId.NEWXP_TEAM_CREATE,elementName:k.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,elementType:C.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:k.g.WELCOME_SPACE,megaphoneNotificationName:k.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,clogImpression:!0},H=s(p=>{let{children:_}=p;var V;const R=Object(l.i)(),w=Object(N.c)(Xt=>!!Object(ee.u)(Xt,"a11y_animations")),Q=S.c[k.h.USECASE_ONBOARDING_CHANNEL_COACHMARK],re=Object(N.c)(T.h),de=Object(N.c)(Xt=>Object(F.a)(Xt,"use_case_onboarding_selection")),Ne=Object(N.c)(O.s),ye=Object(a.useCallback)(()=>{R(Object(M.c)({event:{type:k.e.REQUEST_SPACES,spaces:[k.g.WELCOME_SPACE]}}))},[R]),le=Object(a.useCallback)(()=>t.a.createElement(v.a,{currentStep:Q,totalSteps:S.d}),[Q]),De=Object(a.useCallback)(()=>e.e("gantry-v2-async-lottie-channels-coachmark.json").then(e.t.bind(null,"HZJ8",3)),[]),Ae=Object(a.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__channels"}),[]),Ie=Object(a.useMemo)(()=>w?t.a.createElement(c.a,{getAnimationImport:De,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:Ae}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:b.a,className:"p-usecase_onboarding_coachmark_gif"}),[De,w,Ae]);Object(a.useEffect)(()=>{R(Object(L.a)({notificationName:k.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,action:k.f.IMPRESSION}))},[R]);const{onAfterOpen:He}=Object(u.a)({className:S.a}),{isOpen:We,closeCoachmark:Me,renderCoachmark:Xe}=Object(d.a)(k.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,k.g.WELCOME_SPACE),Ct=Object(N.c)(oe.e),Pt=Object(a.useCallback)(()=>Me(!0),[Me]);if(!We)return null;const qe=t.a.createElement(f.a,{channelId:(V=Ne[0])===null||V===void 0?void 0:V.id,showTeam:!1});let Tt,Ze,ta,Et="";switch(de!=null&&de.length&&(Et=de.split("|")[0]),Et){case"meetings":{Tt=x.rt("Run meetings efficiently in {channelName}, your team\u2019s first channel",{channelName:qe}),Ze=x.rt("Channels keep all of your conversations focused \u2014 whether that\u2019s over messaging, audio or video. <steps></steps>",{"<steps>":le}),ta=x.t("Channels keep all of your conversations focused \u2014 whether that\u2019s over messaging, audio or video. {currentStep} of {totalSteps}",{currentStep:Q,totalSteps:S.d});break}case"connect":{Tt=x.rt("Stay aligned with clients in {channelName}, your first channel",{channelName:qe}),Ze=x.rt("Channels keep projects focused so your team and your customers stay on the same page. <steps></steps>",{"<steps>":le}),ta=x.t("Channels keep projects focused so your team and your customers stay on the same page. {currentStep} of {totalSteps}",{currentStep:Q,totalSteps:S.d});break}default:{Tt=x.rt("Stay aligned in {channelName}, your team\u2019s first channel",{channelName:qe}),Ze=x.rt("Channels keep projects focused by organizing conversations, keeping everyone on the same page. <steps></steps>",{"<steps>":le}),ta=Ct?x.t("Channels keep projects focused by organizing conversations, keeping everyone on the same page. {currentStep} of {totalSteps}",{currentStep:Q,totalSteps:S.d}):"";break}}re||(Tt=x.rt("Welcome to {channelName}, one of your team\u2019s first channels",{channelName:qe}));const Rt=Xe({arrowPosition:10,hero:Ie,title:Tt,bodyText:Ze,closeCoachmark:Pt,onClickPrimaryButton:ye,className:`p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__channels ${S.a}`,primaryCallToActionText:x.t("Next"),ariaLabel:ta,autoClogProps:U,width:S.b,offsetY:170,offsetX:-10,closeBackgroundStyle:"dark",onAfterOpen:He});return t.a.createElement(I.c,{coachmarkElement:Rt,orientation:"right"},_)},"UsecaseOnboardingChannelsCoachmark");H.displayName="UsecaseOnboardingChannelsCoachmark",i.default=H},GVvR:function(Y,i,e){"use strict";e.d(i,"a",function(){return _});var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("zxER"),c=e("nNoG"),g=e("ktUG"),b=e("u0LO"),S=e("G0eX"),v=e("7cRW"),T=e("beVI"),I=e("cyVs"),d=e("Cy/8"),f=e("Trx9"),C=e("qDEp"),j=e("iUFw"),N=e("eIwF"),O=e.n(N),M=e("fX6G"),L=e.n(M),k=e("cj00"),F=e.n(k),ee=e("PA8C"),oe=e.n(ee),G=e("BZp1"),x=e("tVK8");const U=new c.b("trial_slack_connect_awareness"),H={onClick:{enableClogAction:!0},elementName:"create_channel",isPrimaryCTA:!0},p={onClick:{enableClogAction:!0},elementName:"learn_more"},_=s(R=>{let{showTrialStartedVersion:w,currentTeamName:Q,onCreateASharedChannelClick:re}=R,de=`${O.a} 1x, ${L.a} 2x`;w||(de=`${F.a} 1x, ${oe.a} 2x`);const Ne=t.a.createElement("img",{alt:"",srcSet:de}),ye=w?U.t("Ta-da! Your trial\u2019s started"):U.t("Work with entire teams outside {teamName}",{teamName:Q}),le=w?U.t("You\u2019re all set to start working with teams at other companies in channels. Want to do this later? Just go to Slack Connect in your sidebar to get started."):U.t("Use Slack Connect for channels and loop everyone in to the conversation, no matter where they work. Give it a try while your team is on a trial."),De=t.a.createElement(C.f,{"data-qa":"slack_connect_dm_trial_banner-create_channel",onClick:re,autoClogProps:H},U.t("Create Slack Connect Channel")),Ae=t.a.createElement(j.a,{type:"outline","data-qa":"slack_connect_dm_trial_banner-learn_more",href:"/connect",autoClogProps:p},U.t("Learn More"));return t.a.createElement(f.a,{eventId:g.EventId.UPGRDEXP_TRIAL,uiComponentName:g.UiComponentName.SLACK_CONNECT_DM_TRIAL_BANNER,clogImpression:!0},t.a.createElement(x.a,{uiComponent:b.c.SlackConnectDmTrialBanner,heading:ye,image:Ne,bodyContent:le,"data-qa":"slack_connect_dm_trial_banner",primaryCTA:De,secondaryCTA:Ae}))},"SlackConnectDMTrialBanner");_.displayName="SlackConnectDMTrialBanner";const V=s(R=>{let{channelId:w,showTrialStartedVersion:Q}=R;const re=Object(l.i)(),de=Object(G.a)(b.c.SlackConnectDmTrialBanner),Ne=Object(a.useCallback)(()=>{re(Object(d.a)({createSharedChannel:!0,entryPoint:v.a.SlackConnectDmTrialBanner})),de()},[re,de]),ye=Object(u.c)(T.g),le=Object(S.h)(ye),De=Object(G.b)(w,b.c.SlackConnectDmTrialBanner);return!Object(I.a)()||!De?null:t.a.createElement(_,{channelId:w,showTrialStartedVersion:Q,currentTeamName:le,onCreateASharedChannelClick:Ne})},"ConnectedSlackConnectDmTrialBanner");V.displayName="ConnectedSlackConnectDmTrialBanner",i.b=V},H8zP:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("zxER"),u=e("YUBf"),c=e("qDEp"),g=e("5Yu9"),b=e("+kJ4"),S=e("itAW"),v=e("9068"),T=e("MvPG"),I=e("nNoG"),d=e("/MKj"),f=e("srzd"),C=e("ktUG"),j=e("BHdc"),N=e("H3/J"),O=e("CTEJ"),M=e("Ae9X");const L=s(X=>{let{className:W,shortcutInfo:Z}=X;const q=Object(a.useMemo)(()=>Z.title||t.a.createElement(O.a,{size:"large"}),[Z]),z=Object(a.useMemo)(()=>t.a.createElement(M.a,{shortcutInfo:Z}),[Z]),pe=Object(a.useMemo)(()=>t.a.createElement(N.a,{shortcutInfo:Z,size:56}),[Z]);return t.a.createElement(u.i,{className:Object(j.default)("p-workflow_details_modal__header",W)},t.a.createElement(u.l,{title:q,subtitle:z,icon:pe,className:"p-workflow_details_modal__header__title_bar",titleTextClassName:"p-workflow_details_modal__header__title",titleHeaderClassName:"p-workflow_details_modal__header__title_header"}))},"WorkflowModalHeader");L.displayName="WorkflowModalHeader";var k=L;const F=s(X=>{let{title:W}=X;return t.a.createElement("h3",{className:"p-workflow_details_modal__content__section__title"},W)},"WorkflowDetailsModalContentTitle");F.displayName="WorkflowDetailsModalContentTitle";const ee=s(X=>{let{children:W,title:Z,className:q,renderHeaderButton:z}=X;return t.a.createElement(u.e,{className:Object(j.default)("p-workflow_details_modal__content__section",q)},z==null?void 0:z("p-workflow_details_modal__content__section__header_button"),Z?t.a.createElement(F,{title:Z}):null,W)},"WorkflowDetailsModalContentSection");ee.displayName="WorkflowDetailsModalContentSection";var oe=ee,G=e("+FG2"),x=e("sGXp"),U=e("eM3y"),H=e("Zbwg"),p=e("vIgB");const _=s(X=>{let{id:W,icon:Z,title:q,secondary:z}=X;return t.a.createElement("div",{key:W,className:"p-workflow_steps__step"},t.a.createElement("div",{className:"p-workflow_steps__step__primary"},t.a.createElement("div",{className:"p-workflow_steps__step__icon"},Z),t.a.createElement("div",{className:"p-workflow_steps__step__title"},q)),z&&t.a.createElement("div",{className:"p-workflow_steps__step__secondary"},z))},"WorkflowStep");_.displayName="WorkflowStep";var V=_,R=e("ZobM"),w=e("Tevt"),Q=e("3l96"),re=e("Ccc1"),de=e("1DMY"),Ne=e("I0j/"),ye=e("37+L"),le=e("FFLn");const De=s(X=>{let{key:W,channelId:Z,variation:q="inline"}=X;const z=Object(d.i)(),pe=Object(a.useCallback)(()=>{z(Object(Ne.a)(Object(ye.n)(Z))),z(Object(b.a)({closeAll:!0}))},[Z,z]);switch(q){case"inline":return t.a.createElement(de.a,{id:Z},t.a.createElement(w.a,{onClick:pe},t.a.createElement(re.a,{channelId:Z,showTeam:!0,showDisambiguatingTeamName:!0})));case"medium":return t.a.createElement(le.a,{key:W,onClick:pe,channelId:Z,showTeam:!0});default:return null}},"LinkedChannelEntity");De.displayName="LinkedChannelEntity";const Ae=new I.b("hermes_shortcuts"),Ie=s(X=>{switch(X){case p.h.SendMessage:return t.a.createElement(R.a,{name:"message",size:"20",inline:!0});case p.h.SendDm:return t.a.createElement(R.a,{name:"direct-messages",size:"20",inline:!0});case p.h.OpenForm:return t.a.createElement(R.a,{name:"text-snippet",size:"20",inline:!0});case p.h.CreateChannel:return t.a.createElement(R.a,{name:"channel",size:"20",inline:!0});case p.h.ArchiveChannel:return t.a.createElement(R.a,{name:"archive",size:"20",inline:!0});case p.h.AddPin:return t.a.createElement(R.a,{name:"pin",size:"20",inline:!0});case p.h.UpdateChannelTopic:return t.a.createElement(R.a,{name:"megaphone",size:"20",inline:!0});case p.h.InviteUserToChannel:return t.a.createElement(R.a,{name:"email",size:"20",inline:!0});case p.h.CreateUsergroup:return t.a.createElement(R.a,{name:"user-groups",size:"20",inline:!0});default:return t.a.createElement(R.a,{name:"slack-logo",size:"20",inline:!0})}},"getBuiltinStepIcon");Ie.displayName="getBuiltinStepIcon";const He=s(X=>{let{step:W}=X;const Z=Object(d.i)(),{function:q,channelIds:z}=W,{callback_id:pe,title:xe}=q,we=Ie(pe),rt=Object(a.useMemo)(()=>t.a.createElement(u.b,null,t.a.createElement(u.i,null,t.a.createElement(u.l,{title:Ae.t("Channels")})),t.a.createElement(u.d,null,t.a.createElement(u.e,null,z.map(Pe=>t.a.createElement(De,{key:Pe,channelId:Pe,variation:"medium"})))),t.a.createElement(u.g,null,t.a.createElement(u.h,null,t.a.createElement(u.c,{type:"outline"},Ae.t("Close"))))),[z]),lt=Object(a.useCallback)(()=>{Z(Object(Q.a)({element:rt,isStackable:!0,name:"workflow-step-all-channels-modal"}))},[Z,rt]),st=s(()=>{const Pe=z.slice(0,3),vt=z.slice(3),Ft=Pe.map(ut=>t.a.createElement(De,{key:`${pe}-${ut}`,channelId:ut,variation:"inline"}));return vt.length&&Ft.push(t.a.createElement(w.a,{key:`${pe}-other-channels`,onClick:lt},Ae.t("{othersCount, plural, =1 {# other} other {# others}}",{othersCount:vt.length,fallbackHash:"0d5ef3542774c0f450eb1752a3c26a77789b0b8c",fallbackHashNs:"channel_details"}))),z.length?t.a.createElement("span",null,Object(I.h)(Ft)):null},"renderInputChannels");return st.displayName="renderInputChannels",t.a.createElement(V,{id:pe,title:xe,icon:we,secondary:st()})},"BuiltinWorkflowStep");He.displayName="BuiltinWorkflowStep";var We=He;function Me(){return Me=Object.assign||function(X){for(var W=1;W<arguments.length;W++){var Z=arguments[W];for(var q in Z)Object.prototype.hasOwnProperty.call(Z,q)&&(X[q]=Z[q])}return X},Me.apply(this,arguments)}s(Me,"_extends");const Xe=new I.b("hermes_shortcuts"),Ct=s(X=>{let{steps:W,stepRenderer:Z,...q}=X;const[z,pe]=Object(a.useState)(!0),xe=s(()=>{pe(!z)},"toggleCollapse");let we;if(W.length)if(W.length<=3)we=W.map(Z);else{const rt=z?3:void 0,lt=Xe.t("See all {number} actions",{number:W.length}),st=Xe.t("Collapse");we=t.a.createElement(t.a.Fragment,null,W.slice(0,rt).map(Z),t.a.createElement(w.a,{onClick:xe,className:"margin_top_50"},z?lt:st))}else return null;return t.a.createElement(oe,Me({},q),we)},"WorkflowStepsSection");Ct.displayName="WorkflowStepsSection";var Pt=Ct,qe=e("V/As"),Tt=e("4Ky9"),Ze=e("n3y5"),ta=e("pFNT"),Et=e("zZZw");const Rt=ta.a.verySmall,Xt=s(X=>{let{appSteps:W}=X;const{appId:Z,app:q,functions:z}=W,pe=Object(l.c)(st=>q||Object(Tt.a)(st,Z)),xe=(q==null?void 0:q.name)||pe.name||"",we=Object(a.useMemo)(()=>q?t.a.createElement(Ze.a,{image:Object(qe.b)(q,Rt),size:Rt,ariaLabel:q.name||void 0}):pe&&!Object(v.d)(pe)?t.a.createElement(Ze.a,{image:Object(qe.b)(pe,Rt),size:Rt,ariaLabel:pe.name||void 0}):t.a.createElement(U.a,{size:Rt}),[q,pe]),rt=Object(Et.a)(z.map(st=>st.title)),lt=Object(a.useMemo)(()=>t.a.createElement("span",{className:"italic"},rt),[rt]);return t.a.createElement(V,{id:Z,title:xe,icon:we,secondary:lt})},"ThirdPartyWorkflowSteps");Xt.displayName="ThirdPartyWorkflowSteps";var ya=Xt,da=e("pgVm"),Ka=e("9oTK"),ia=e("V3OF"),fa=e("SQ0V"),ca=e("1zCn"),Qt=e("+Lz1");const $t=Object(fa.c)("Fetches auth for workflow",function(){var X=Object(Ka.coroutine)(function*(W,Z,q){let{url:z,reason:pe="fetch_workflow_auth"}=q;const xe=yield W(Object(ca.a)({url:z,reason:pe}));return xe.ok?(W(Object(Qt.a)({auths:xe.auths})),xe.auths):[]});return function(W,Z,q){return X.apply(this,arguments)}}());$t.meta={name:"createThunk",key:"createThunkfetchWorkflowAuth",description:"Fetches auth for workflow"};var Bt=e("7iET"),Gt=e("cXcI");const _t=new I.b("hermes_shortcuts"),ot=s(X=>{let{workflowId:W,auths:Z}=X;const q=Object(l.c)(da.f),{onAddOAuth:z,onSelectOAuth:pe}=Object(Gt.a)({workflowId:W}),xe=Object(a.useMemo)(()=>({eventId:C.EventId.WORKFLOW_THIRD_PARTY_AUTH_MANAGE_OPEN,elementType:C.ElementType.MODAL,workflowId:W,clogImpression:!0}),[W]);return t.a.createElement(u.b,{autoClogProps:xe},t.a.createElement(u.i,null,t.a.createElement(u.l,{title:_t.t("Manage accounts",{fallbackHash:"f13c38e124fd38e5a61d6cc9edfa70307f429953"})})),t.a.createElement(u.d,null,t.a.createElement(u.e,null,t.a.createElement("p",null,q?_t.t("View or change the account you would like to use for each third-party action."):""),Z.map(we=>{let{appId:rt,functionId:lt,providerKey:st,providerName:Pe,validTokens:vt}=we;return t.a.createElement(Bt.a,{key:`${lt}-${st}`,appId:rt,functionId:lt,authTokens:vt,providerKey:st,providerName:Pe,onAddOAuth:z,onSelectOAuth:pe})}))),t.a.createElement(u.g,null,t.a.createElement(u.h,null,t.a.createElement(u.c,{type:"outline"},_t.t("Cancel")))))},"WorkflowThirdPartyAuthManageModal");ot.displayName="WorkflowThirdPartyAuthManageModal";const qt=Object(fa.c)("Open auth modal for workflow",(X,W,Z)=>{let{workflowId:q,auths:z}=Z;return X(Object(Q.a)({element:t.a.createElement(ot,{workflowId:q,auths:z}),isStackable:!0}))});qt.meta={name:"createThunk",key:"createThunkopenWorkflowThirdPartyAuthModal",description:"Open auth modal for workflow"};var jt=e("i9y5");const aa=new I.b("hermes_shortcuts");var it;(function(X){X.LOADING="loading",X.SUCCESS="success",X.ERROR="error"})(it||(it={}));const ga=s(X=>{let{className:W,url:Z,workflowId:q}=X;const z=Object(d.i)(),[pe,xe]=Object(a.useState)([]),[we,rt]=Object(a.useState)(it.LOADING),lt=Object(l.c)(da.e);Object(ia.a)(()=>{(function(){var Ft=Object(Ka.coroutine)(function*(){if(lt)try{const ut=yield z($t({url:Z,reason:"workflow_third_party_auth_manage_modal"}));xe(ut),rt(it.SUCCESS)}catch{rt(it.ERROR)}});return s(function(){return Ft.apply(this,arguments)},"fetchAuths")})()()});const st=Object(a.useCallback)(()=>{z(qt({workflowId:q,auths:pe}))},[z,q,pe]),Pe=Object(a.useMemo)(()=>({eventId:C.EventId.WORKFLOW_MANAGE_ACCOUNTS_CLICK,elementType:C.ElementType.BUTTON,workflowId:q,onClick:{enableClogAction:!0}}),[q]);return we===it.LOADING?t.a.createElement(jt.a,{className:W,size:"medium",color:"white"}):we===it.SUCCESS&&pe.length?t.a.createElement(c.f,{type:"outline",size:"small",onClick:st,autoClogProps:Pe,className:W,"aria-label":aa.t("Manage connected accounts",{fallbackHash:"f13c38e124fd38e5a61d6cc9edfa70307f429953"})},aa.t("Manage Accounts")):null},"WorkflowThirdPartyAuthManageButton");ga.displayName="WorkflowThirdPartyAuthManageButton";var kt=e("UEbG");const yt=new I.b("hermes_shortcuts"),ba=x.a.small,xa=s((X,W)=>t.a.createElement(We,{step:X,key:`key_builtin_step_${W}`}),"renderBuiltinStep"),nt=s((X,W)=>t.a.createElement(ya,{appSteps:X,key:`key_thirdparty_step_${W}`}),"renderThirdPartyStepsByApp"),pt=s(()=>t.a.createElement(oe,null,[1,2,3].map(X=>t.a.createElement("div",{className:"p-workflow_steps__step",key:X},t.a.createElement("div",{className:"p-workflow_steps__step__primary"},t.a.createElement("div",{className:"p-workflow_steps__step__icon"},t.a.createElement(U.a,{size:ba})),t.a.createElement("div",{className:"p-workflow_steps__step__title p-workflow_steps__step__title--loading_stub"}))))),"LoadingWorkflowSteps");pt.displayName="LoadingWorkflowSteps";const Ye=s(X=>{let{workflowId:W,url:Z}=X;const q=Object(l.c)(Pe=>W?Object(f.a)(Pe,W):null),z=Object(l.c)(da.e),pe=q!=null&&q.steps?q.steps:[],{workflowSteps:xe,isAnyFormWrappedFunctionLoading:we}=Object(kt.a)(pe),rt=Object(a.useMemo)(()=>xe.filter(Pe=>Pe.function.type===G.e.BUILTIN).reduce((Pe,vt)=>{var Ft;if(Pe[vt.function.callback_id]||(Pe[vt.function.callback_id]={function:vt.function,channelIds:[]}),!((Ft=vt.inputs.channel_id)===null||Ft===void 0)&&Ft.value){const ut=vt.inputs.channel_id.value;Object(H.a)(ut)&&!Pe[vt.function.callback_id].channelIds.some(Ha=>Ha===ut)&&Pe[vt.function.callback_id].channelIds.push(ut)}return Pe},{}),[xe]),lt=Object(a.useMemo)(()=>xe.filter(Pe=>Pe.function.type!==G.e.BUILTIN).reduce((Pe,vt)=>{var Ft;const ut=vt.function.app_id||((Ft=vt.function.app)===null||Ft===void 0?void 0:Ft.id);return ut&&(Pe[ut]||(Pe[ut]={appId:ut,app:vt.function.app,functions:[vt.function]}),Pe[ut].functions.some(Ha=>Ha.id===vt.function.id)||Pe[ut].functions.push(vt.function)),Pe},{}),[xe]),st=Object(a.useCallback)(Pe=>{if(!(!z||!W||!Z))return t.a.createElement(ga,{className:Pe,workflowId:W,url:Z})},[z,W,Z]);return Object(v.b)(q)?null:Object(v.c)(q)||we?t.a.createElement(pt,null):xe.length?t.a.createElement(t.a.Fragment,null,t.a.createElement(Pt,{title:yt.t("Slack actions"),steps:Object.values(rt),stepRenderer:xa}),t.a.createElement(Pt,{title:yt.t("Third-party actions"),steps:Object.values(lt),stepRenderer:nt,renderHeaderButton:st})):null},"WorkflowSteps");Ye.displayName="WorkflowSteps";var ge=Ye,It=e("O86Y"),Fe=e("tGCl"),St=e("2lPg"),na=e("IfcL"),Jt=e("046c"),sa=e("6VMj"),Nt=e("/qcS"),Wt=e("A/zn");const Ot=new I.b("hermes_shortcuts"),oa=s(X=>{let{event:W}=X;const Z=Object(Wt.f)(W),q=W.channelIds||[];return!Z.length||!q.length?null:t.a.createElement("span",null,Ot.rt("Starts when someone reacts with {emoji} in {channel}",{emoji:Object(I.h)(Z.map(z=>t.a.createElement(Nt.b,{key:`emoji-${z}`,text:z,emojiSize:"small",showTooltip:!0,isEmojiInlineWithText:!0})),{conj:"or",keyPrefix:"emoji"}),channel:Object(I.h)(q.map(z=>t.a.createElement(De,{key:`channel-${z}`,channelId:z})),{conj:"or",keyPrefix:"channel"})}))},"ReactionAddedEventTriggerSummary");oa.displayName="ReactionAddedEventTriggerSummary";const za=s(X=>{let{event:W}=X;const Z=Object(Wt.f)(W),q=W.channelIds||[];return!Z.length||!q.length?null:t.a.createElement("span",null,Ot.rt("Starts when someone removes {emoji} in {channel}",{emoji:Object(I.h)(Z.map(z=>t.a.createElement(Nt.b,{key:`emoji-${z}`,text:z,emojiSize:"small",showTooltip:!0,isEmojiInlineWithText:!0})),{conj:"or",keyPrefix:"emoji"}),channel:Object(I.h)(q.map(z=>t.a.createElement(De,{key:`channel-${z}`,channelId:z})),{conj:"or",keyPrefix:"channel"})}))},"ReactionRemovedEventTriggerSummary");za.displayName="ReactionRemovedEventTriggerSummary";var tn=e("WXkz"),$a=e("Y0qr"),mn=e("nttS"),Ya=e("8/D0"),Cn=e("sGZK"),Nn=e("hjzp"),Qa=e("fGfo");const Vt=new I.b("hermes_shortcuts"),Lt=s(X=>{var W,Z;const q=!((W=X.channelIds)===null||W===void 0)&&W[0]?Object(Nn.b)((Z=X.channelIds)===null||Z===void 0?void 0:Z[0]):void 0;return Object(l.c)(pe=>q?Object(tn.z)(pe,q):void 0)},"useListFromEvent"),Da=s(X=>{let{listId:W}=X;return t.a.createElement("span",{className:"p-workflow_trigger_summary__list_entity"},t.a.createElement(Cn.b,{id:W,shouldShowDetailText:!1}))},"InlineListEntity");Da.displayName="InlineListEntity";const Ja=s((X,W,Z)=>{let{field:q,value:z}=W;const pe=X.find(we=>we.id===q||we.key===q);if(!pe)return;const xe=pe.name;return z?pe.type===Ya.a.Checkbox?Z?Vt.t("{field} changes to {checkboxValue, select, 1 {is checked} other {is not checked}}",{field:xe,checkboxValue:z}):"":Z?Vt.rt("{field} changes to {value}",{field:xe,value:t.a.createElement(mn.a,{column:pe,value:pe.type===Ya.a.Number?+z:z,className:"vertical_align_middle"})}):"":Z?Vt.t("{field} changes",{field:xe}):""},"getHumanReadableListFilter");Ja.displayName="getHumanReadableListFilter";const Ca=s(X=>{let{event:W,experimentHermesEnableAutomatedTriggersListEventsGroupOn:Z}=X;const q=Lt(W);return q?t.a.createElement("span",null,Z?Vt.rt("Starts when an item is added in {listName}",{listName:t.a.createElement(Da,{listId:q.id})}):""):null},"ListRecordCreatedEventTriggerSummary");Ca.displayName="ListRecordCreatedEventTriggerSummary";const ra=s(X=>{let{event:W,experimentHermesEnableAutomatedTriggersListEventsGroupOn:Z}=X;const q=Lt(W);if(!q||!W.filter)return null;const z=Object($a.a)(W.filter),pe=Object(Qa.d)(q);if(!pe)return null;if(z.length===1)return t.a.createElement("span",{className:"p-workflow_trigger_summary--list_record_updated"},Z?Vt.rt("Starts when {filter} in {listName}",{filter:Ja(pe,z[0],Z),listName:t.a.createElement(Da,{listId:q.id})}):"");let xe=Z?Vt.rt("Starts when <strong>any</strong> of these fields are updated in {listName}",{listName:t.a.createElement(Da,{listId:q.id})}):"";return W.filter.root.operator==="AND"&&(xe=Z?Vt.rt("Starts when <strong>all</strong> of these fields are updated in {listName}",{listName:t.a.createElement(Da,{listId:q.id})}):""),t.a.createElement("span",{className:"p-workflow_trigger_summary--list_record_updated"},t.a.createElement("p",{className:"margin_bottom_50"},xe),t.a.createElement("ul",{className:"margin_top_25"},z.map(we=>t.a.createElement("li",{key:`filter-${we.field}-${we.value}`},Ja(pe,we,Z)))))},"ListRecordUpdatedEventTriggerSummary");ra.displayName="ListRecordUpdatedEventTriggerSummary";var ct=e("wd/R"),Dt=e.n(ct),Mt=e("JoR1"),zt=e("A/mR"),Ve=e("WP6X"),At=e("F1Sp"),ha=e("ffkt");const la=new I.b("hermes_shortcuts"),ma=s(X=>{let{schedule:W}=X;const Z=Object(l.c)(pe=>Object(Mt.u)(pe,"time24")),q=Object(zt.q)(Object(Ve.b)(W.startTime,W.timezone),{excludeYear:!0,uncapitalizedRelativeDay:!0}),z=Dt()(W.startTime);return t.a.createElement("span",null,la.rt("Starts {humanReadableDate} at {humanReadableTime} {repeat}",{humanReadableDate:q,humanReadableTime:z.format(Z?"HH:mm":"h:mm A"),repeat:Object(At.b)(Object(ha.c)(W),z,!0)}))},"ScheduledTriggerSummary");ma.displayName="ScheduledTriggerSummary";var Ia=e("a7YP");const Ua=s(X=>{let{event:W}=X;const Z=Object(l.c)(Ia.z);switch(Object(sa.d)(W.eventType)){case na.a.LIST_RECORD_CREATED:return Z?t.a.createElement(Ca,{event:W,experimentHermesEnableAutomatedTriggersListEventsGroupOn:Z}):null;case na.a.LIST_RECORD_UPDATED:return Z?t.a.createElement(ra,{event:W,experimentHermesEnableAutomatedTriggersListEventsGroupOn:Z}):null;case na.a.REACTION_ADDED:return t.a.createElement(oa,{event:W});case na.a.REACTION_REMOVED:return t.a.createElement(za,{event:W});default:return null}},"EventTriggerSummary");Ua.displayName="EventTriggerSummary";const Re=s(X=>{let{shortcutInfo:W}=X;switch(W.triggerType){case Jt.a.Scheduled:return t.a.createElement(ma,{schedule:W.schedule});case Jt.a.Event:return t.a.createElement(Ua,{event:W.event});default:return null}},"getWorkflowTriggerSummary");Re.displayName="getWorkflowTriggerSummary";var me=e("hFI+");const ce=new I.b("hermes_shortcuts"),_e=s(X=>{let{shortcutInfo:W,className:Z}=X;const q=Object(l.c)(It.i),{workflowId:z,description:pe,isWorkflowApp:xe,appCollaborators:we,owningTeamId:rt,shareUrl:lt}=W,st=s(()=>{if(q===rt){const vt=Object(me.a)({shortcutInfo:W,showIcon:!0});return vt?t.a.createElement(t.a.Fragment,null,t.a.createElement(F,{title:ce.t("{creatorsCount, plural, =1 {Creator} other {Creators}}",{creatorsCount:xe&&(we!=null&&we.length)?we.length:1})}),vt):null}return t.a.createElement(t.a.Fragment,null,t.a.createElement(F,{title:ce.t("Creator")}),t.a.createElement(St.a,{className:"p-workflow_details_modal__content__workflow_attribution",owningTeamId:W.owningTeamId,iconSize:14}))},"renderCreators");st.displayName="renderCreators";const Pe=s(()=>{const vt=Re({shortcutInfo:W});if(vt){let Ft;switch(W.triggerType){case Jt.a.Scheduled:Ft=ce.t("Schedule");break;case Jt.a.Event:Ft=ce.t("Event");break;default:Ft=""}return t.a.createElement(t.a.Fragment,null,t.a.createElement(F,{title:Ft}),vt)}return null},"renderTriggerSummary");return Pe.displayName="renderTriggerSummary",t.a.createElement(u.d,{className:Object(j.default)("p-workflow_details_modal__content",Z)},t.a.createElement(oe,null,pe&&t.a.createElement(t.a.Fragment,null,t.a.createElement(F,{title:ce.t("Description")}),t.a.createElement("span",null,pe)),Pe(),st()),t.a.createElement(ge,{workflowId:z,url:lt}),z&&t.a.createElement(Fe.a,{className:"margin_left_200",copyText:z,copyTooltip:ce.t("Copy Workflow ID")},ce.t("Workflow ID: {workflowId}",{workflowId:z})))},"WorkflowModalContent");_e.displayName="WorkflowModalContent";var Ce=_e,Ee=e("Py3g"),Se=e("u6cM"),fe=e("/Hvu"),et=e("cgVt"),dt=e("Lts7");const mt=new I.b("hermes_shortcuts"),Le=s(X=>{let{title:W,errorMessage:Z}=X;return t.a.createElement(u.b,null,t.a.createElement(u.i,null,t.a.createElement(u.l,{title:W||mt.t("Something\u2019s gone wrong",{fallbackHash:"8d886c0ba6f2b683daba5f19568a316226ce3e4c",fallbackHashNs:"workflow_builder"})})),t.a.createElement(u.d,{className:"p-workflow_details_modal__content--error"},t.a.createElement("div",null,Z||mt.t("Oops, there was an error loading this workflow.",{fallbackHash:"0f22693617cfdf6f87bca19764d0b987a04ce739",fallbackHashNs:"workflow_builder"}))),t.a.createElement(u.g,null,t.a.createElement(u.h,{className:"p-workflow_details_modal_footer_actions"},t.a.createElement(u.c,{type:"outline"},mt.t("Close")))))},"WorkflowDetailsErrorModal");Le.displayName="WorkflowDetailsErrorModal";const Be=s(X=>{let{hermesLinkTriggerUIContext:W,shortcutInfo:Z,uiPage:q}=X;const z=Object(d.i)(),{triggerId:pe}=Z,xe=q||(W==null?void 0:W.location)||"workflow_details_modal",we=Object(l.c)(Pa=>Object(S.f)(Pa,{triggerId:pe},!0)),rt=Object(l.c)(Pa=>{var pa;return!(we==null||(pa=we.workflow)===null||pa===void 0)&&pa.workflow_id?Object(f.a)(Pa,we.workflow.workflow_id):void 0}),lt=rt==null?void 0:rt.id,st=Object(Se.b)(we),Pe=Object(a.useMemo)(()=>Object(fe.a)({passedShortcutInfo:Z,trigger:we,workflow:rt}),[Z,we,rt]),vt=Object(et.a)({hermesLinkTriggerUIContext:W,shortcutInfo:Pe}),Ft=Object(a.useMemo)(()=>({eventId:C.EventId.WORKFLOW_DETAILS_OPEN,uiComponentName:C.UiComponentName.WORKFLOW_DETAILS_MODAL,appId:Pe.appId,workflowTriggerId:Pe.triggerId,workflowId:Pe.workflowId,clogImpression:!0,uiPage:xe}),[Pe,xe]),ut=Object(a.useMemo)(()=>({eventId:C.EventId.WORKFLOW_COPY_LINK_CLICK,elementType:C.ElementType.LINK,onClick:{enableClogAction:!0},uiPage:xe}),[xe]),Ha=Object(a.useCallback)(Pa=>{Pa==null||Pa.stopPropagation();const pa=lt?`/workflow/${lt}`:"";z(Object(dt.a)({source:"workflow-card",subPath:pa}))},[z,lt]),wa=Object(a.useCallback)(()=>{z(Object(b.a)())},[z]),rn=Object(a.useCallback)(()=>{z(Object(sa.a)({shortcutInfo:Pe}))},[z,Pe]);if(Object(v.b)(we))return t.a.createElement(Le,null);if(Object(v.c)(we))return t.a.createElement(g.a,null);if(we.error)switch(we.error){case T.a.TriggerNotFound:return t.a.createElement(Le,{title:mt.t("Workflow not found",{fallbackHash:"c7e0c3f6160b72f96d8280971a30f610a6fd98f8",fallbackHashNs:"workflow_builder"}),errorMessage:mt.t("This workflow no longer exists.",{fallbackHash:"0f22693617cfdf6f87bca19764d0b987a04ce739",fallbackHashNs:"workflow_builder"})});case T.a.AccessDenied:return t.a.createElement(Le,{title:mt.t("Permission denied",{fallbackHash:"d016004473e0e58d7682856755147e33256bb813",fallbackHashNs:"calls"}),errorMessage:mt.t("You don\u2019t have permissions to view workflow details.",{fallbackHash:"013d75f6210d67637a4f743ec0469d51246ce3a0"})});default:return t.a.createElement(Le,null)}return t.a.createElement(u.b,{autoClogProps:Ft},t.a.createElement("div",{className:"p-workflow_details_modal","data-qa":"workflow_details_modal"},t.a.createElement(k,{shortcutInfo:Pe}),t.a.createElement(Ce,{shortcutInfo:Pe}),t.a.createElement(u.g,{className:"p-workflow_details_modal__footer"},Object(sa.c)(Pe)&&t.a.createElement(w.a,{onClick:rn,autoClogProps:ut},mt.t("Copy workflow link")),t.a.createElement(u.h,{className:"p-workflow_details_modal_footer_actions"},vt&&t.a.createElement(c.f,{type:"outline",onClick:Ha},mt.t("Edit",{fallbackHash:"5301648dcf6b53cefc9ed52999aaa92d4603cae0",fallbackHashNs:"search"})),!st&&W&&t.a.createElement(Ee.b,{shortcutInfo:Pe,hermesLinkTriggerUIContext:W,onClick:wa,uiPage:xe})))))},"WorkflowDetailsModal");Be.displayName="WorkflowDetailsModal";var Zt=i.default=Be},HPr9:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("BHdc"),u=e("nNoG"),c=e("vMmh"),g=e("ktUG"),b=e("/0Xg"),S=e("uVZW"),v=e("Trx9"),T=e("Sid4");const I=new u.b("notification_banner"),d={elementName:"pricing"},f={elementName:"skip_for_now"},C={notification:S.h.LOCAL_DISCOUNT_AWARENESS,step:"hide"};let j=s(class extends a.PureComponent{getContent(){const{discountPercent:O,country:M}=this.props,L=Object(l.default)("p-message_pane_banner__header_icon",`p-message_pane_banner__header_icon--${M.toLowerCase()}`);return{headingText:t.a.createElement("div",null,t.a.createElement("div",{className:L}),I.rt("Get a {discountPercent}% discount on a paid plan",{discountPercent:O})),bodyText:I.rt("For a limited time, teams in {country} can get {discountPercent}% off when upgrading to a paid plan. Once you upgrade, your team will be able to see and search all past messages and files, add guests to your workspace, and more.",{country:c.a[M].name,discountPercent:O}),primaryCTAText:I.t("See Upgrade Options")}}render(){const{headingText:O,bodyText:M,primaryCTAText:L}=this.getContent();return t.a.createElement(v.a,{clogImpression:!0,eventId:g.EventId.GROWTH_LOCAL_DISCOUNT,uiComponentName:g.UiComponentName.LOCAL_DISCOUNT_AWARENESS_BANNER},t.a.createElement(T.b,{headingText:O,bodyText:M,primaryCTAText:L,primaryCTAHref:Object(b.w)(),primaryCTAClogProps:d,secondaryCTAText:I.t("Not Now"),secondaryCTAClogProps:f,notificationPrefs:C}))}},"LocalDiscountAwarenessBanner");j.displayName="LocalDiscountAwarenessBanner",i.default=j},HYbo:function(Y,i,e){"use strict";e.d(i,"a",function(){return a});var a;(function(t){t.NOT_STARTED="not_started",t.IN_FLIGHT="in_flight",t.FINISHED="finished",t.ERROR="error"})(a||(a={}))},IYUO:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-en-GB-c479ba7.gif"},Icre:function(Y,i,e){"use strict";var a=e("SQ0V"),t=e("ohbk"),l=e("a/vO"),u=e("lhZz"),c=e("l1I1"),g=e("XZo2"),b=e("Z9Nv"),S=e("Wn1n"),v=e("RV0M");const T=Object(a.c)("Go back from the document, usually happens when it is closed",(I,d,f,C)=>{if(!Object(c.a)(Object(S.a)(d())))return;const j=Object(l.a)(Object(u.getStateForClientStore)()),N=j&&j.find(O=>!!(O!=null&&O.primaryView)&&!Object(c.a)(O.primaryView));if(!N||!N.primaryView){const{shouldUseNavigate:O,getSiblingView:M}=C(v.a),L=Object(g.p)(d(),{shouldUseNavigate:O,getSiblingView:M});return I(Object(b.a)({id:L,replace_history_state:!0}))}return I(Object(t.a)({id:N.primaryView,teamId:N.teamId,routeParams:N.routeParams||{},replaceHistoryState:!0}))});T.meta={name:"createThunk",key:"createThunkgoBackFromDoc",description:"Go back from the document, usually happens when it is closed"},i.a=T},InNx:function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("zxER"),u=e("/MKj"),c=e("nNoG"),g=e("zm5I"),b=e("d/xU"),S=e("/0Xg"),v=e("ktUG"),T=e("7+Lm"),I=e("uVZW"),d=e("Trx9"),f=e("dHXs"),C=e("Sid4"),j=e("GR6R"),N=e("UAcp"),O=e("vDCl");const M=new c.b("trials_highlight_paid_features"),L={elementName:"trial_start",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},k={elementName:"learn_more"},F={elementName:"pricing"},ee=s(G=>{let{headingText:x,bodyText:U,clientTheme:H,imgDark:p,imgLight:_,isEligibleForMessageLimitTrial:V,notificationPrefs:R,openTrialModal:w,showUpgradeOptions:Q,trialStartCTAProps:re,uiComponentVariant:de,uiStep:Ne}=G;const ye=Object(S.w)({feature:S.j.UNLIMITED_MESSAGES});let le,De,Ae,Ie,He,We,Me;return V?(le=M.t("Start Free Trial"),Ie=f.a,De=L,He=M.t("Learn more"),We=k,Me=w):Q?(le=M.t("See Upgrade Options"),De=F,Ae=ye):(le=M.t("Learn More"),De=k,Ae=`https://${Object(b.p)()}/help/articles/115002422943`),t.a.createElement(d.a,{clogImpression:!0,eventId:v.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:v.UiComponentName.LIMITED_HISTORY_FLOATING_TRIAL_OFFER_BANNER,uiComponentVariant:de,uiStep:Ne},t.a.createElement(C.b,{bodyText:U,closeOnPrimaryCTAClick:!1,closeOnSecondaryCTAClick:!1,customPrimaryCTA:Ie,customPrimaryCTAProps:re,headingText:Object(N.b)(x),imgSrc:H==="light"?_:p,notificationPrefs:R,primaryCTAText:le,primaryCTAClogProps:De,primaryCTAHref:Ae,onSecondaryCTAClick:Me,secondaryCTAClogProps:We,secondaryCTAText:He,secondaryCTAUseLink:!0,theme:O.b.HORCHATA}))},"LimitedHistoryFloatingTrialOfferBanner");ee.displayName="LimitedHistoryFloatingTrialOfferBanner";const oe=s(G=>{let{bodyText:x,headingText:U,imgDark:H,imgLight:p,isEligibleForMessageLimitTrial:_,notificationName:V,onTrialStart:R,showUpgradeOptions:w,uiStep:Q}=G;const re=Object(u.i)(),de=Object(l.c)(g.a),ye=Object(l.c)(We=>Object(T.c)(We,I.g.SIDEBAR_MENU_HEADER)===I.h.GLOBAL_TRIAL_ENTRYPOINT_SIDEBAR_MENU_HEADER_CTA)?"outline":"primary";let le;_?le=v.UiComponentVariant.TRIAL_ELIGIBLE:w?le=v.UiComponentVariant.TRIAL_INELIGIBLE:le=v.UiComponentVariant.USER_NON_ADMIN;const De=Object(a.useCallback)(()=>re(Object(j.a)({uiComponentVariant:le,uiStep:Q})),[re,le,Q]),Ae=Object(a.useCallback)(()=>R({showFloatingTrialStartBanner:!0,unlockMessages:!0}),[R]),Ie=Object(a.useMemo)(()=>({onRequestComplete:Ae,reason:"limited_history_floating_trial_offer_banner",promoType:S.q.PaidFeatureTrial,promoSubtype:S.p.MessageLimit,type:ye}),[Ae,ye]),He=Object(a.useMemo)(()=>({notification:V}),[V]);return t.a.createElement(ee,{bodyText:x,clientTheme:de,headingText:U,imgDark:H,imgLight:p,isEligibleForMessageLimitTrial:_,notificationName:V,notificationPrefs:He,onTrialStart:R,openTrialModal:De,showUpgradeOptions:w,trialStartCTAProps:Ie,uiStep:Q,uiComponentVariant:le})},"ConnectedLimitedHistoryFloatingTrialOfferBanner");oe.displayName="ConnectedLimitedHistoryFloatingTrialOfferBanner",i.a=t.a.memo(oe)},J17o:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("nNoG"),u=e("o1uv"),c=e.n(u),g=e("WSvh"),b=e.n(g),S=e("InNx"),v=e("ktUG"),T=e("zxER"),I=e("gJbv");const d=new l.b("trials_highlight_paid_features"),f=s(C=>{let{isEligibleForMessageLimitTrial:j,daysUntilMessageLimit:N,notificationName:O,onTrialStart:M,showUpgradeOptions:L}=C;const k=Object(T.c)(oe=>Object(I.b)(oe,j,!0));let F;const ee=d.t("{daysUntilMessageLimit, plural, =1 {# day} other {# days}} left until some messages and files are hidden",{daysUntilMessageLimit:N});return j?F=d.t("Start a free, {trialDuration}-day trial to maintain a record of every conversation and decision.",{trialDuration:k}):L?F=d.t("Upgrade to a paid plan to maintain a record of every conversation and decision."):F=d.t("Upgrade to a paid plan for unlimited access to past decisions and discussions."),t.a.createElement(S.a,{bodyText:F,headingText:ee,isEligibleForMessageLimitTrial:j,imgDark:b.a,imgLight:c.a,notificationName:O,onTrialStart:M,showUpgradeOptions:L,uiStep:v.UiStep.LIMITED_HISTORY_APPROACHING_LIMIT})},"ApproachingMsgLimitBanner");f.displayName="ApproachingMsgLimitBanner",i.default=t.a.memo(f)},JEWL:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-pt-BR-e75fa5a.gif"},Jq9w:function(Y,i,e){"use strict";e.d(i,"a",function(){return g});var a=e("q1tI"),t=e.n(a),l=e("nNoG"),u=e("W1Ru");const c=new l.b("usecase_onboarding"),g=Object(a.memo)(b=>{let{currentStep:S,totalSteps:v}=b;return t.a.createElement("span",{className:"p-usecase_onboarding_coachmark__steps"},c.t("{currentStep} of {totalSteps}",{currentStep:S,totalSteps:v}))})},KLgx:function(Y,i,e){"use strict";e.d(i,"a",function(){return S}),e.d(i,"c",function(){return v}),e.d(i,"b",function(){return T});var a=e("ZKjC"),t=e("uZL6"),l=e("ZTSm"),u=e("c2Yl"),c=e("i5Ig"),g=e("rdha");const b=s(f=>f[u.a],"getFunctionAuthState"),S=Object(a.b)((f,C)=>{let{functionId:j,providerKey:N}=C;const O=Object(u.c)({functionId:j,providerKey:N});return b(f)[O]});S.meta={name:"createSelector",key:"createSelectorgetFunctionAuth",description:(f,C)=>{let{functionId:j,providerKey:N}=C;const O=Object(u.c)({functionId:j,providerKey:N});return b(f)[O]}};const v=Object(g.f)((f,C)=>C.map(j=>{let{functionId:N,providerKey:O}=j;return S(f,{functionId:N,providerKey:O})}).filter(l.a)),T=Object(t.a)(b,(f,C)=>{let{appId:j}=C;return j},(f,C)=>{let{functionId:j}=C;return j},(f,C,j)=>{const N=Object.values(f).filter(O=>O.appId===C&&O.functionId===j);return N.length?N:c.a}),I=Object(a.b)(f=>Object.values(b(f)).reduce((C,j)=>{var N;return C[j.appId]=(N=C[j.appId])!==null&&N!==void 0?N:[],C[j.appId].push(j),C},{}));I.meta={name:"createSelector",key:"createSelectorgetUserAuthsGroupedByAppId",description:f=>Object.values(b(f)).reduce((C,j)=>{var N;return C[j.appId]=(N=C[j.appId])!==null&&N!==void 0?N:[],C[j.appId].push(j),C},{})};const d=Object(a.b)((f,C)=>Object.values(b(f)).filter(j=>j.appId===C));d.meta={name:"createSelector",key:"createSelectorgetUserAuthsByAppId",description:(f,C)=>Object.values(b(f)).filter(j=>j.appId===C)}},L99M:function(Y,i,e){"use strict";e.d(i,"a",function(){return a});const a={LATEST_REPLY:"latest_reply",ARCHIVED:"archived",UNREAD:"unread"}},LR2U:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("VP3E"),c=e("P7By"),g=e("xtxb"),b=e.n(g),S=e("1z69"),v=e("cD3f"),T=e("Jq9w"),I=e("03PU"),d=e("N0zA"),f=e("ktUG"),C=e("nNoG"),j=e("zxER"),N=e("eWGC"),O=e("uVZW"),M=e("JoR1"),L=e("aHgF"),k=e("W1Ru");const F=new C.b("usecase_onboarding"),ee={eventId:f.EventId.NEWXP_TEAM_CREATE,elementName:O.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,elementType:f.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:O.g.WELCOME_SPACE,megaphoneNotificationName:O.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,clogImpression:!0},oe=s(G=>{let{children:x}=G;const U=Object(l.i)(),H=Object(j.c)(Ie=>!!Object(M.u)(Ie,"a11y_animations")),p=Object(j.c)(L.e),_=S.c[O.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK],{openChannelCanvas:V}=Object(v.a)(),R=Object(a.useCallback)(()=>t.a.createElement(T.a,{currentStep:_,totalSteps:S.d}),[_]),w=Object(a.useCallback)(()=>e.e("gantry-v2-async-lottie-external-coachmark.json").then(e.t.bind(null,"OfTl",3)),[]),Q=Object(a.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__external"}),[]),re=Object(a.useMemo)(()=>H?t.a.createElement(c.a,{getAnimationImport:w,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:Q}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:b.a,className:"p-usecase_onboarding_coachmark_gif"}),[w,H,Q]);Object(a.useEffect)(()=>{U(Object(N.a)({notificationName:O.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,action:O.f.IMPRESSION}))},[U]);const{onAfterOpen:de}=Object(u.a)({className:S.a,highlightPadding:{left:10,right:10,top:0,bottom:0}}),{isOpen:Ne,closeCoachmark:ye,renderCoachmark:le}=Object(d.a)(O.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,O.g.WELCOME_SPACE),De=Object(a.useCallback)(()=>{ye(!0),p&&V()},[ye,V,p]);if(!Ne)return null;const Ae=le({arrowPosition:30,hero:re,title:F.t("Keep track of your external connections"),bodyText:F.rt("To learn more about working in Slack with people from other companies, head to the External tab. <steps></steps>",{"<steps>":R}),closeCoachmark:De,onClickPrimaryButton:De,className:`p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__external ${S.a}`,primaryCallToActionText:F.t("Done"),ariaLabel:F.t("To learn more about working in Slack with people from other companies, head to the External tab. {currentStep} of {totalSteps}",{currentStep:_,totalSteps:S.d}),autoClogProps:ee,width:S.b,offsetX:-10,offsetY:100,closeBackgroundStyle:"dark",onAfterOpen:de});return t.a.createElement(I.c,{coachmarkElement:Ae,orientation:"right"},x)},"UsecaseOnboardingExternalCoachmark");oe.displayName="UsecaseOnboardingExternalCoachmark",i.default=oe},Mp1l:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-zh-CN-77f3f96.gif"},PFCZ:function(Y,i,e){"use strict";e.d(i,"a",function(){return l});var a=e("q1tI"),t=e.n(a);const l=s(()=>{const[u,c]=Object(a.useState)(!0),g=Object(a.useCallback)(b=>{var S;const v=typeof b=="number"?b:(S=b.currentTarget)===null||S===void 0?void 0:S.scrollTop,T=Math.floor(v)<20;c(T)},[]);return{isAtTop:u,scrollHandler:g}},"useHandleScrollOnTop")},QKxg:function(Y,i,e){"use strict";var a=e("mLC8"),t=e("q1tI"),l=e.n(t),u=e("zxER"),c=e("GlHf"),g=e("1ufr");function b(S){let{label:v,id:T,visible:I,upToDate:d,remove:f,viewName:C,requiredSync:j,window:N}=S;const O=Object(u.c)(c.j),M=Object(t.useRef)(O||-1),L=!!a.d.get({label:v,id:T});return Object(t.useEffect)(()=>{const k=s(F=>{L&&(F.type==="blur"?a.d.remove({label:v,id:T,reason:"refocused"}):F.type==="offline"&&a.d.remove({label:v,id:T,reason:"not_online"}))},"cancel");return N.addEventListener("offline",k),N.addEventListener("blur",k),()=>{N.removeEventListener("offline",k),N.removeEventListener("blur",k)}},[v,T,L]),L&&O!==M.current&&a.d.remove({label:v,id:T,reason:"refocused"}),M.current=O||-1,Object(t.useEffect)(()=>{L&&(C&&a.d.addTags({label:v,id:T,tags:{view_name:C}}),j&&a.d.addTags({label:v,id:T,tags:{required_sync:!0}}))},[T,v,L,C,j]),Object(t.useEffect)(()=>{!f||!L||a.d.remove({label:v,id:T,reason:"manual"})},[f,L,v,T]),Object(t.useEffect)(()=>{!I||!L||(N.document.hasFocus()?a.d.markPhase({label:v,id:T,phase:a.b.Visible}):a.d.remove({label:v,id:T,reason:"refocused"}))},[I,L,v,T]),Object(t.useEffect)(()=>{!d||!L||(N.document.hasFocus()?a.d.markPhase({label:v,id:T,phase:a.b.UpToDate}):a.d.remove({label:v,id:T,reason:"refocused"}))},[d,L,v,T]),null}s(b,"TraceView"),i.a=Object(g.a)(b)},R2CY:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-es-ES-90341f7.gif"},S24Y:function(Y,i,e){"use strict";e.d(i,"a",function(){return a});var a;(function(t){t.Equals="equals",t.HasChanged="hasChanged"})(a||(a={}))},Sid4:function(Y,i,e){"use strict";e.d(i,"a",function(){return F});var a=e("q1tI"),t=e.n(a),l=e("ifKl"),u=e("BHdc"),c=e("gPPH"),g=e("Cfcg"),b=e("ktUG"),S=e("nNoG"),v=e("WIr4"),T=e("Ei7s"),I=e("nFQW"),d=e("qDEp"),f=e("Tevt"),C=e("zEKE"),j=e("j/0O"),N=e("vDCl"),O=e("k7gI");function M(){return M=Object.assign||function(G){for(var x=1;x<arguments.length;x++){var U=arguments[x];for(var H in U)Object.prototype.hasOwnProperty.call(U,H)&&(G[H]=U[H])}return G},M.apply(this,arguments)}s(M,"_extends");const L=new S.b("notification_banner"),k={elementType:b.ElementType.X,elementName:"close",action:b.UiAction.CLOSE,onClick:{enableClogAction:!0}};var F;(function(G){G.default="default",G.alert="alert"})(F||(F={}));let ee=s(class extends a.PureComponent{focus(){var x,U,H;const p=((x=this.primaryCTAButtonRef)===null||x===void 0?void 0:x.current)||((U=this.secondaryCTARef)===null||U===void 0?void 0:U.current)||((H=this.closeButtonRef)===null||H===void 0?void 0:H.current);p==null||p.focus()}onKeyDown(x){x.key==="Escape"&&(x.stopPropagation(),this.closeBanner())}closeBanner(){const{onCloseBanner:x,notificationPrefs:U}=this.props;U&&this.props.closeBanner(U),x&&x()}handlePrimaryCTA(){const{onPrimaryCTAClick:x,closeOnPrimaryCTAClick:U}=this.props;U&&this.closeBanner(),x&&x()}handleSecondaryCTA(){const{onSecondaryCTAClick:x,closeOnSecondaryCTAClick:U}=this.props;U&&this.closeBanner(),x&&x()}handleCloseIcon(){const{onCloseIcon:x}=this.props;this.closeBanner(),x&&x()}renderBody(){const{bodyText:x,theme:U}=this.props;return t.a.createElement("div",{className:`p-message_pane_banner__body--${U}`,"data-qa":"message_pane_banner_body",id:this.bodyId},x)}renderSecondaryCTA(){const{secondaryCTAHref:x,secondaryCTAText:U,secondaryCTAClogProps:H,secondaryCTAUseLink:p,customSecondaryCTA:_,customSecondaryCTAProps:V}=this.props,R={onClick:this.handleSecondaryCTA,href:x,autoClogProps:{onClick:{enableClogAction:!0},...H},"data-qa":"message_pane_banner_secondaryCTA",ref:this.secondaryCTARef,..._?V:{}},w=_||d.f;return p?t.a.createElement(f.a,M({className:"p-message_pane_banner__link"},R),U):t.a.createElement(w,M({className:"p-message_pane_banner__button",size:"medium",type:"outline"},R),U)}renderCloseIcon(){return t.a.createElement(I.a,{icon:"times",onClick:this.handleCloseIcon,"aria-label":L.t("Close"),className:"p-message_pane_banner__close_icon","data-qa":"message_pane_banner_close_icon",autoClogProps:k,ref:this.closeButtonRef})}renderPrimaryCTAButton(){const{primaryCTAText:x,primaryCTAHref:U,primaryCTAClogProps:H,customPrimaryCTA:p,customPrimaryCTAProps:_}=this.props,V={className:"p-message_pane_banner__button",onClick:this.handlePrimaryCTA,href:U,size:"medium","data-qa":"message_pane_banner_primaryCTA_button",autoClogProps:{isPrimaryCTA:!0,onClick:{enableClogAction:!0},...H},ref:this.primaryCTAButtonRef,...p?_:{}},R=p||d.f;return t.a.createElement(R,M({},V),x)}renderCTAButtons(){const{primaryCTAText:x,secondaryCTAText:U,theme:H}=this.props;return!x&&!U?null:t.a.createElement("div",{className:Object(u.default)("p-message_pane_banner__buttons",`p-message_pane_banner__buttons--${H}`)},x&&this.renderPrimaryCTAButton(),U&&this.renderSecondaryCTA())}renderIcon(){const{icon:x,iconType:U,theme:H}=this.props;return U?t.a.createElement("div",{className:"p-message_pane_banner__banner_icon"},t.a.createElement(j.a,{hasBorder:!0,type:U,theme:H})):x?t.a.createElement("div",{className:"p-message_pane_banner__banner_icon"},x):null}renderHeading(){const{headingText:x,theme:U}=this.props;return x?t.a.createElement("h1",{className:Object(u.default)("p-message_pane_banner__heading",`p-message_pane_banner__heading--${U}`),"data-qa":"message_pane_banner_heading_text",id:this.headerId},x):null}renderBanner(){const{type:x,bannerContainerClass:U,iconType:H,theme:p,imgSrc:_,imgAlt:V}=this.props,R=Object(u.default)("p-message_pane_banner",`p-message_pane_banner--${x}`,`p-message_pane_banner--${p}`,U,{"p-message_pane_banner--ephemeral":x!==F.alert});return x===F.alert?t.a.createElement("div",{className:R},t.a.createElement(C.a,{size:N.a.SMALL,heading:this.renderHeading(),iconType:H,useRoundedCorners:!1,"data-qa":"message_pane_banner"},this.renderBody())):t.a.createElement("div",{className:R,"data-qa":"message_pane_banner",role:"dialog","aria-labelledby":this.headerId,"aria-describedby":this.bodyId,onKeyDown:this.onKeyDown},this.renderIcon(),_?t.a.createElement("div",{className:"p-message_pane_banner__content_with_image"},t.a.createElement("div",{className:"p-message_pane_banner__content_with_image_text"},this.renderHeading(),this.renderBody(),this.renderCTAButtons()),t.a.createElement("div",{className:"display_flex"},this.renderCloseIcon(),t.a.createElement("img",{className:"p-message_pane_banner__image",src:_,alt:V}))):t.a.createElement("div",null,this.renderHeading(),this.renderBody(),this.renderCTAButtons(),this.renderCloseIcon()))}render(){return t.a.createElement("div",{className:"p-message_pane_banner__container"},this.renderBanner())}constructor(x){super(x),this.primaryCTAButtonRef=t.a.createRef(),this.secondaryCTARef=t.a.createRef(),this.closeButtonRef=t.a.createRef(),Object(v.a)(this,["focus","handlePrimaryCTA","handleSecondaryCTA","handleCloseIcon","onKeyDown"]),this.headerId=Object(c.a)(),this.bodyId=Object(c.a)()}},"MessagePaneBanner");ee.displayName="MessagePaneBanner",ee.defaultProps={type:F.default,onPrimaryCTAClick:l.a,closeOnPrimaryCTAClick:!0,onSecondaryCTAClick:l.a,closeOnSecondaryCTAClick:!0,secondaryCTAUseLink:!1,onCloseIcon:l.a,onCloseBanner:l.a,theme:N.b.PURPLE,imgAlt:""};const oe=s(G=>({closeBanner:x=>G(Object(T.a)(x))}),"mapDispatchToProps");i.b=Object(g.a)(null,oe)(ee)},Skui:function(Y,i,e){"use strict";e.d(i,"a",function(){return V});var a=e("9oTK"),t=e("q1tI"),l=e.n(t),u=e("/MKj"),c=e("+kJ4"),g=e("SQ0V"),b=e("nNoG"),S=e("3l96"),v=e("m8R6"),T=e("2XU3"),I=e("WCk1"),d=e("s4P+"),f=e("pjW8");const C={FeatureNotEnabled:"feature_not_enabled",Ratelimited:"ratelimited",TeamNotFound:"team_not_found",UserNotAMember:"user_not_a_member",UserNotFound:"user_not_found",UserNotEnabled:"user_not_enabled",WorkspaceNotEnabled:"workspace_not_enabled",WorkspaceNotFound:"workspace_not_found"},j=Object(I.a)("externalWorkspaces.leave generated fetcher",function(){var R=Object(a.coroutine)(function*(w,Q,re){try{const de=["reason"],Ne=Object(v.a)(re,de),ye=Object(f.b)(Ne);return yield w(Object(T.apiCall)({method:"externalWorkspaces.leave",args:ye,reason:re.reason}))}catch(de){throw Object(d.a)({getState:Q}).error(`API call to externalWorkspaces.leave
				with reason ${re.reason} failed, initiated by generated fetcher`),de}});return function(w,Q,re){return R.apply(this,arguments)}}());j.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesLeaveFetcher",description:"externalWorkspaces.leave generated fetcher"};var N=e("YUBf"),O=e("qDEp"),M=e("fNJk"),L=e("hUMe"),k=e("i454"),F=e("AdTA"),ee=e("nxT7"),oe=e("zxER"),G=e("37+L"),x=e("I0j/"),U=e("eG/v");function H(){return H=Object.assign||function(R){for(var w=1;w<arguments.length;w++){var Q=arguments[w];for(var re in Q)Object.prototype.hasOwnProperty.call(Q,re)&&(R[re]=Q[re])}return R},H.apply(this,arguments)}s(H,"_extends");const p=new b.b("slack_connect_hub"),_=s(R=>{let{id:w}=R;const Q=Object(u.i)(),re=Object(oe.c)(ee.a),[de,Ne]=Object(t.useState)(!1),[ye,le]=Object(t.useState)(null),De=Object(t.useCallback)(()=>Q(Object(c.a)()),[Q]),Ae=Object(t.useCallback)(Object(a.coroutine)(function*(){Ne(!0),le(null);try{yield Q(j({reason:"channel_section_menu__leave_sc_workspace",externalTeamId:w})),Q(re?Object(x.a)(Object(G.z)()):Object(F.a)())}catch(Ie){le({name:(Ie==null?void 0:Ie.name)||null,method:(Ie==null?void 0:Ie.method)||null})}Ne(!1)}),[Q,w,re]);return l.a.createElement(N.b,{"data-qa":M.d.Modal},l.a.createElement(N.i,{"data-qa":M.d.Header},l.a.createElement(N.l,{title:p.t("Are you sure you want to leave?"),"data-qa":M.d.TitleBar,className:"break_word"})),l.a.createElement(N.d,{className:"margin_0","data-qa":M.d.Content},l.a.createElement(N.e,null,ye&&l.a.createElement(k.b,{error:ye}),l.a.createElement("ul",{className:"p-slack_connect_workspace_confirmation_modal--content margin_0"},l.a.createElement("li",{className:"break_word"},p.rt("If you want to rejoin {workspace} in the future, you\u2019ll need to request a new invitation.",{workspace:l.a.createElement(L.a,{id:w})}))))),l.a.createElement(N.g,{"data-qa":M.d.Footer},l.a.createElement(N.h,{"data-qa":M.d.FooterActions},l.a.createElement(N.c,{"data-qa":M.d.CloseButton,type:"outline",onClick:De},p.t("Cancel")),l.a.createElement(O.c,{type:"danger",loading:de,onClick:Ae,disabled:!!ye},p.t("Leave")))))},"SharedWorkspaceLeaveConfirmationModal");_.displayName="SharedWorkspaceLeaveConfirmationModal";const V=Object(g.c)("Opens the Slack Connect Workspace Leave Confirmation Modal",(R,w,Q)=>{R(Object(S.a)({element:l.a.createElement(_,H({},Q)),isStackable:!1}))});V.meta={name:"createThunk",key:"createThunkopenSharedWorkspaceLeaveConfirmationModal",description:"Opens the Slack Connect Workspace Leave Confirmation Modal"}},SpyO:function(Y,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"d",function(){return l}),e.d(i,"b",function(){return u}),e.d(i,"c",function(){return c});var a=e("ZKjC");const t=Object(a.b)(g=>g&&g.telemetry&&g.telemetry.shouldLogAppBootMetrics);t.meta={name:"createSelector",key:"createSelectorshouldLogAppBootMetrics",description:g=>g&&g.telemetry&&g.telemetry.shouldLogAppBootMetrics};const l=Object(a.b)(g=>g&&g.telemetry&&g.telemetry.shouldLogTeamSwitchMetrics);l.meta={name:"createSelector",key:"createSelectorshouldLogTeamSwitchMetrics",description:g=>g&&g.telemetry&&g.telemetry.shouldLogTeamSwitchMetrics};const u=Object(a.b)(g=>g&&g.telemetry&&g.telemetry.shouldLogTTUMetrics);u.meta={name:"createSelector",key:"createSelectorshouldLogTTUMetrics",description:g=>g&&g.telemetry&&g.telemetry.shouldLogTTUMetrics};const c=Object(a.b)(g=>g&&g.telemetry&&g.telemetry.shouldLogTTVMetrics);c.meta={name:"createSelector",key:"createSelectorshouldLogTTVMetrics",description:g=>g&&g.telemetry&&g.telemetry.shouldLogTTVMetrics}},Tb7l:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-home-more-37251a0.gif"},TxyK:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-zh-TW-f46d163.gif"},"UH+u":function(Y,i,e){"use strict";e.d(i,"a",function(){return t});var a=e("ktUG");const t=s(l=>{let{clogger:u,fileId:c,open:g,filter:b}=l;u.track(a.EventId.QUIP_COMMENT_STREAM,{contexts:{ui_context:{isOpen:g,filter:b},core:{quip_file_id:c,file_id:c}}})},"clogToggleCommentStream")},UQe9:function(Y,i,e){Y.exports=e.p+"hand-holding-phone-74cfcd7.svg"},UYKR:function(Y,i,e){"use strict";e.d(i,"b",function(){return b}),e.d(i,"a",function(){return S});var a=e("ZKjC"),t=e("FUEd"),l=e("g3FH"),u=e("i5Ig"),c=e("rdha");const g=Object(a.b)((v,T)=>v.quipPresence[T]);g.meta={name:"createSelector",key:"createSelectorgetLastPresenceByFileId",description:(v,T)=>v.quipPresence[T]};const b=Object(c.a)((v,T)=>{var I,d,f,C;const j=((I=v.quipPresence)===null||I===void 0||(d=I[T])===null||d===void 0?void 0:d.presenceInfo)||u.b;return(((f=v.quipPresence)===null||f===void 0||(C=f[T])===null||C===void 0?void 0:C.memberIds)||u.a).filter(M=>{const L=j[M];return L.isEditing||L.isFocused?!0:Object(t.c)(v,M)===l.a})}),S=Object(a.b)((v,T,I)=>{var d,f,C;return!!(!((C=(d=v.quipPresence)===null||d===void 0||(f=d[I])===null||f===void 0?void 0:f.presenceInfo[T])===null||C===void 0)&&C.isEditing)});S.meta={name:"createSelector",key:"createSelectorgetIsPresentMemberEditingByFileId",description:(v,T,I)=>{var d,f,C;return!!(!((C=(d=v.quipPresence)===null||d===void 0||(f=d[I])===null||f===void 0?void 0:f.presenceInfo[T])===null||C===void 0)&&C.isEditing)}}},VOWE:function(Y,i,e){Y.exports=e.p+"apps_static-37fb02f.png"},VP3E:function(Y,i,e){"use strict";e.d(i,"a",function(){return c});var a=e("q1tI"),t=e.n(a),l=e("WSQ4"),u=e("tcEy");function c(g){let{className:b,highlightPadding:S={},withResizeObserver:v=!1,backgroundClassName:T="p-nux_coachmark"}=g;const{window:I}=Object(a.useContext)(l.a),d=Object(a.useRef)(null),f=Object(a.useRef)(null),C=Object(a.useCallback)(()=>{if(!d.current||!f.current)return;const{bottom:N=0,left:O=0,right:M=0,top:L=0,all:k}=S,{height:F,left:ee,top:oe,width:G}=d.current.getBoundingClientRect();f.current.style.left=`${ee-(k??O)}px`,f.current.style.top=`${oe-(k??L)}px`,f.current.style.width=`${G+(typeof k=="number"?k*2:O+M)}px`,f.current.style.height=`${F+(typeof k=="number"?k*2:L+N)}px`},[S]),j=Object(a.useCallback)(N=>{var O,M;if(!(b!=null&&b.length)||!I)return;d.current=N,f.current=I.document.createElement("div"),f.current.classList.add(T),C();const L=(M=(O=I.document)===null||O===void 0?void 0:O.getElementsByClassName(b))===null||M===void 0?void 0:M[0];if(!L)return;const k=L.parentElement;k&&k.insertBefore(f.current,L)},[b,C,I,T]);return Object(a.useEffect)(()=>{if(!v)return;const N=Object(u.a)(C);return d.current&&N.observe(d.current),()=>{d.current&&N.unobserve(d.current)}},[C,v]),{onAfterOpen:j}}s(c,"useHighlightCoachmark")},W1Ru:function(Y,i,e){"use strict"},WSvh:function(Y,i,e){Y.exports=e.p+"best-in-class-msg-limit-day-83-banner-illo-dark-ff0cad2.png"},"XDr/":function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("zxER"),u=e("/MKj"),c=e("nNoG"),g=e("ktUG"),b=e("AKIH"),S=e("E3dU"),v=e("dlm8"),T=e("j7fZ"),I=e("Trx9"),d=e("y/Pn"),f=e("FdVR"),C=e("G0eX"),j=e("beVI"),N=e("Sid4"),O=e("130k"),M=e("uVZW"),L=e("qDEp"),k=e("/0Xg"),F=e("xeGy"),ee=e("9L5H"),oe=e("ZobM"),G=e("7Cdh"),x=e.n(G),U=e("gJbv");function H(){return H=Object.assign||function(le){for(var De=1;De<arguments.length;De++){var Ae=arguments[De];for(var Ie in Ae)Object.prototype.hasOwnProperty.call(Ae,Ie)&&(le[Ie]=Ae[Ie])}return le},H.apply(this,arguments)}s(H,"_extends");const p=new c.b("guided_trials"),_={elementName:"guided_trials_sc_banner_upgrade_options"},V={elementName:"guided_trials_sc_banner_upgrade_now"},R={elementName:"guided_trials_sc_banner_compare_plan"},w=s(le=>{let{children:De,refToForward:Ae,...Ie}=le;return t.a.createElement(L.d,H({ref:Ae},Ie,{className:"p-guided_trial_shared_channel_banner__secondary_cta_wrapper"}),t.a.createElement("div",{className:"p-guided_trial_shared_channel_banner__secondary_cta"},t.a.createElement(oe.a,{name:"help"}),De))},"SecondaryCtaBase"),Q=t.a.forwardRef((le,De)=>t.a.createElement(w,H({},le,{refToForward:De}))),re=s(le=>{let{children:De,canUserPurchase:Ae,refToForward:Ie,...He}=le;return t.a.createElement(L.f,H({ref:Ie,type:Ae?ee.b.primary:ee.b.outline},He),De)},"PrimaryCtaBase"),de=t.a.forwardRef((le,De)=>t.a.createElement(re,H({},le,{refToForward:De}))),Ne=s(le=>{let{channelId:De,trialEndDate:Ae,canUserPurchase:Ie}=le;const He=Object(u.i)(),We=Object(l.c)(Qt=>Object(S.d)(Qt,De)),Me=Object(l.c)(Qt=>Object(f.a)(Qt,We)),Xe=Object(l.c)(Qt=>Me.length===1?Object(j.s)(Qt,Me[0]):null),Ct=Me.length,Pt=Object(d.a)(We);let qe="";Xe&&!Object(C.V)(Xe)&&(qe=Object(C.z)(Xe)?Object(C.l)(Xe):Object(C.h)(Xe));const Tt=Object(l.c)(Qt=>Object(v.b)(Qt,De)),Ze=Object(l.c)(U.c),ta=Ze===U.a.TREATMENT_1,Et=Ze===U.a.TREATMENT_2,Rt=Object(l.c)(Qt=>Object(k.z)(Qt,{action:k.t.CHECKOUT,productLevel:k.k.standard.id,entryPoint:"guided_trials_shared_channel_banner"})),Xt=Object(k.w)({entryPoint:"guided_trials_shared_channel_banner",feature:k.j.GUESTS_SHARED_CHANNELS}),ya=s(()=>{const Qt=Object(b.a)(Ae);return qe?ta||Et?p.rt("If you chose not to upgrade by {trialFormattedEndDate}, you will no longer be able to collaborate with {externalTeamMemberCount} {externalTeamMemberCount, plural, =1 {person} other {people}} from <b>{orgTeamName}</b> in this channel.",{orgTeamName:qe,externalTeamMemberCount:Tt,trialFormattedEndDate:Qt,fallbackHash:"81e54db25ad5c7ed47e73676cd6f39d75f340a0e"}):"":ta||Et?p.rt("If you chose not to upgrade by {trialFormattedEndDate}, you will no longer be able to collaborate with <b>{connectedTeamsCount, plural, =1 {# other organization} other {# other organizations}}</b> in this channel.",{connectedTeamsCount:Ct,trialFormattedEndDate:Qt,fallbackHash:"403d54f172c4f5404b73f9874a9a4cdf07978356"}):""},"getCountdownBannerText"),da=Object(a.useCallback)(()=>{He(Object(O.a)({canUserPurchase:Ie}))},[He,Ie]),Ka=Object(a.useMemo)(()=>Pt&&!Object(T.a)(We)&&Ct>0,[We,Pt,Ct]),ia=Object(a.useMemo)(()=>({notification:M.h.SUPPORT_UPGRADE_DECISION_SHARED_CHANNEL_BANNER,channelId:De}),[De]),fa=Object(a.useMemo)(()=>({canUserPurchase:Ie}),[Ie]);if(!Ka)return null;const ca=s(()=>t.a.createElement("div",{className:"p-guided_trial_shared_channel_banner__header"},ta||Et?p.t("Channels with external organizations are disconnecting soon"):"",t.a.createElement(F.a,{uiComponentVariant:g.UiComponentVariant.GUIDED_TRIALS_SHARED_CHANNEL_BANNER})),"renderHeaderText");return ca.displayName="renderHeaderText",t.a.createElement(I.a,{clogImpression:!0,uiComponentName:g.UiComponentName.GUIDED_TRIAL_SHARED_CHANNEL_BANNER},t.a.createElement(N.b,{headingText:ca(),bodyText:ya(),primaryCTAText:Ie?p.t("Upgrade Now"):p.t("See Upgrade Options"),bannerContainerClass:"p-guided_trial_shared_channel_banner__container",imgSrc:x.a,notificationPrefs:ia,closeOnSecondaryCTAClick:!1,closeOnPrimaryCTAClick:!1,primaryCTAHref:Ie?Rt:Xt,customPrimaryCTA:de,customPrimaryCTAProps:fa,primaryCTAClogProps:Ie?V:_,customSecondaryCTA:Q,secondaryCTAText:p.t("Compare free vs. paid plan"),onSecondaryCTAClick:da,secondaryCTAClogProps:R}))},"GuidedTrialSharedChannelBanner");Ne.displayName="GuidedTrialSharedChannelBanner";var ye=i.default=Ne},Y40X:function(Y,i,e){"use strict";e.r(i),e.d(i,"localeToGifMap",function(){return yt});var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("fMmd"),c=e("SQ0V"),g=e("uiBO"),b=e("I0j/"),S=e("37+L"),v=e("lhZz"),T=e("E3dU"),I=e("mHfD"),d=e("beVI"),f=e("2VFn"),C=e("v7mh"),j=e("Zrm2"),N=e("ovW4"),O=e("E97Y"),M=e("3vtZ"),L=e("G0eX"),k=e("Rf5R"),F=e("9L28");Object(k.b)({channels:F.b});const ee=Object(c.c)("Navigate to a channel that supports Huddles",(nt,pt)=>{const Ye=pt(),ge=Object(C.h)(Ye,{container:f.k.Primary,tab:f.f.Home});if((ge==null?void 0:ge.viewType)===g.c.Channel){const Nt=Object(T.d)(Ye,ge.id);if(nt(Object(j.b)({tab:f.f.Home,reason:j.a.Click})),Object(M.e)(Ye,Nt))return nt(Object(b.a)(Object(S.n)(ge.id)))}const It=Object(d.g)(Ye),Fe=Object(L.n)(It),St=Object(v.getStateForClientStore)(),na=Object(u.a)(St).find(Nt=>{if(!Nt||!Object(N.a)(Nt)||Nt.teamId!==Fe)return!1;const Wt=Nt[f.a],Ot=Nt[Wt][f.k.Primary];if((Ot==null?void 0:Ot.viewType)!==g.c.Channel)return!1;const oa=Object(T.d)(Ye,Ot.id);return Object(M.e)(Ye,oa)});if(na){nt(Object(j.b)({tab:f.f.Home,reason:j.a.Click}));const Nt=na[f.a],Wt=na[Nt][f.k.Primary],Ot=Object(T.d)(Ye,Wt==null?void 0:Wt.id);return nt(Object(b.a)(Object(S.n)(Ot.id)))}const Jt=nt(Object(I.a)());if(Jt&&Object(M.e)(Ye,Jt))return nt(Object(j.b)({tab:f.f.Home,reason:j.a.Click})),nt(Object(b.a)(Object(S.n)(Jt.id)));const sa=Object.values(Ye.channels).find(Nt=>Object(O.g)(Nt)&&Object(M.e)(Ye,Nt));return sa?(nt(Object(j.b)({tab:f.f.Home,reason:j.a.Click})),nt(Object(b.a)(Object(S.n)(sa.id)))):nt(Object(j.b)({tab:f.f.Home,reason:j.a.Click}))});ee.meta={name:"createThunk",key:"createThunknavigateToChannelWithHuddle",description:"Navigate to a channel that supports Huddles"};var oe=e("Tb7l"),G=e.n(oe),x=e("gHTj"),U=e.n(x),H=e("IYUO"),p=e.n(H),_=e("o9mU"),V=e.n(_),R=e("R2CY"),w=e.n(R),Q=e("u0IL"),re=e.n(Q),de=e("nMOw"),Ne=e.n(de),ye=e("c9G7"),le=e.n(ye),De=e("i9fg"),Ae=e.n(De),Ie=e("+l1W"),He=e.n(Ie),We=e("17wV"),Me=e.n(We),Xe=e("JEWL"),Ct=e.n(Xe),Pt=e("Mp1l"),qe=e.n(Pt),Tt=e("TxyK"),Ze=e.n(Tt),ta=e("6I59"),Et=e.n(ta),Rt=e("hHWo"),Xt=e.n(Rt),ya=e("Dfh+"),da=e("zxER"),Ka=e("JoR1"),ia=e("4YJR"),fa=e("sLRC"),ca=e("uVZW"),Qt=e("7+Lm"),$t=e("qDEp"),Bt=e("YUBf"),Gt=e("nNoG"),_t=e("Trx9"),ot=e("ktUG"),qt=e("q0lC"),jt=e("rZ8V"),aa=e("usGY");const it=new Gt.b("ia4"),ga={elementName:"explore_on_my_own",onClick:{enableClogAction:!0}},kt={elementName:"see_whats_new",onClick:{enableClogAction:!0}},yt={"en-US":U.a,"en-GB":p.a,"en-IN":V.a,"es-ES":w.a,"es-LA":re.a,"de-DE":Ne.a,"fr-FR":le.a,"it-IT":Ae.a,"ko-KR":He.a,"ja-JP":Me.a,"pt-BR":Ct.a,"zh-CN":qe.a,"zh-TW":Ze.a};function ba(){const nt=Object(l.i)(),pt=Object(da.c)($a=>!!Object(Ka.u)($a,"a11y_animations")),{intro:Ye}=Object(da.c)($a=>Object(Qt.b)($a,ca.g.WELCOME_SPACE)),ge=Ye===fa.b.IntroModalHomeMore,It=ge?fa.b.IntroModalHomeMore:fa.b.IntroModal,{closure:Fe,isOpen:St,nextStep:na}=Object(ya.a)(It),Jt=Object(da.c)(qt.b),sa=Object(da.c)(jt.r);Object(a.useEffect)(()=>{Ye&&nt(Object(ia.i)(It))},[nt,Ye,It]);const Nt=Object(a.useCallback)(()=>{nt(Object(ia.w)(!0)),nt(Object(ia.i)(Fe))},[Fe,nt]),Wt=Object(a.useCallback)(()=>{nt(ee()),setTimeout(()=>nt(Object(ia.i)(na)))},[nt,na]);if(!Ye)return null;const Ot=Jt&&sa?it.t("Your chance to try the new Slack design"):it.t("A fresh, more focused Slack!");var oa;const za=ge?G.a:(oa=yt[Object(Gt.m)()])!==null&&oa!==void 0?oa:U.a,tn=ge?Xt.a:Et.a;return t.a.createElement(_t.a,{eventId:ot.EventId.NEWXP_JOIN_TEAM,uiStep:ge?ot.UiStep.NFX_WELCOME_MODAL_HOME_MORE:ot.UiStep.NFX_WELCOME_MODAL,elementType:ot.ElementType.MODAL,clogImpression:!0},t.a.createElement(Bt.b,{className:"p-nfx_welcome_modal",isOpen:St,contentLabel:Ot,onClose:Nt,maxWidth:600},t.a.createElement(Bt.d,null,t.a.createElement(Bt.j,{"aria-hidden":!0,height:338,width:600,alt:"",src:pt?za:tn}),t.a.createElement("h1",{className:"p-nfx_welcome_modal__title"},Ot),t.a.createElement(Bt.e,{className:"p-nfx_welcome_modal__description"},Jt&&sa?it.t("Only you and other Org Owners and Org Admins have the new design. Check your email for more info about the rollout to the rest of your organization."):it.t("We\u2019ve moved things around to make it easier to get work done."))),t.a.createElement(Bt.g,{className:"justify_content_center"},t.a.createElement(Bt.h,{className:"margin_left_0"},t.a.createElement($t.f,{onClick:Nt,type:"outline",autoClogProps:ga},it.t("I\u2019ll Explore on My Own")),t.a.createElement($t.f,{onClick:Wt,autoClogProps:kt},it.t("See What\u2019s New"))))))}s(ba,"NFXWelcomeModal"),ba.displayName="NFXWelcomeModal";var xa=i.default=Object(a.memo)(ba)},ZJyv:function(Y,i,e){"use strict";e.d(i,"a",function(){return t});var a=e("DwFS");const t=Object(a.a)("upsert app team context to the store");t.meta={name:"createAction",key:"createActionupsertAppHomeContextTeam",description:"upsert app team context to the store"}},Zi3E:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("nNoG"),u=e("ZwkN"),c=e.n(u),g=e("v4p4"),b=e.n(g),S=e("InNx"),v=e("/0Xg"),T=e("ktUG"),I=e("zxER"),d=e("gJbv");const f=new l.b("trials_highlight_paid_features"),C=s(j=>{let{isEligibleForMessageLimitTrial:N,notificationName:O,onTrialStart:M,showUpgradeOptions:L}=j;const k=Object(I.c)(oe=>Object(d.b)(oe,N,!0));let F;const ee=f.t("Unlock your team\u2019s entire message and file history");return N?F=f.t("Start a free, {trialDuration}-day trial for unlimited access to past decisions and discussions. On the free version of Slack, messages and files older than {limitInDays} days are hidden.",{trialDuration:k,limitInDays:v.h}):L?F=f.t("On the free version of Slack, messages and files older than {limitInDays} days are hidden. Upgrade to a paid plan for unlimited access to past decisions and discussions.",{limitInDays:v.h}):F=f.t("Upgrade to a paid plan for unlimited access to past decisions and discussions."),t.a.createElement(S.a,{bodyText:F,headingText:ee,isEligibleForMessageLimitTrial:N,imgDark:b.a,imgLight:c.a,notificationName:O,onTrialStart:M,showUpgradeOptions:L,uiStep:T.UiStep.LIMITED_HISTORY_JUST_REACHED_LIMIT})},"JustReachedMsgLimitBanner");C.displayName="JustReachedMsgLimitBanner",i.default=t.a.memo(C)},Zqm7:function(Y,i,e){"use strict";e.d(i,"a",function(){return t});var a=e("DwFS");const t=Object(a.a)("External Auth Completed");t.meta={name:"createAction",key:"createActionexternalAuthCompleted",description:"External Auth Completed"}},ZwkN:function(Y,i,e){Y.exports=e.p+"best-in-class-msg-limit-just-reached-banner-illo-light-9df179b.png"},a5bm:function(Y,i,e){"use strict";e.d(i,"a",function(){return t});var a=e("RQuH");function t(l,u){if(!l||!u)return null;for(let c=0;c<u.length;c++)if(Object(a.a)(l,u[c].min,u[c].max+1))return u[c].className;return null}s(t,"getModifierClassForLayout")},aMUS:function(Y,i,e){Y.exports=e.p+"huddles_static-1438e50.png"},aTkP:function(Y,i,e){"use strict";e.d(i,"a",function(){return v});var a=e("9oTK"),t=e.n(a),l=e("m8R6"),u=e("2XU3"),c=e("WCk1"),g=e("s4P+"),b=e("pjW8");const S={ChannelNotFound:"channel_not_found"},v=Object(c.a)("recordChannels.open generated fetcher",function(){var T=Object(a.coroutine)(function*(I,d,f){try{const C=["reason"],j=Object(l.a)(f,C),N=Object(b.b)(j);return yield I(Object(u.apiCall)({method:"recordChannels.open",args:N,reason:f.reason}))}catch(C){throw Object(g.a)({getState:d}).error(`API call to recordChannels.open
				with reason ${f.reason} failed, initiated by generated fetcher`),C}});return function(I,d,f){return T.apply(this,arguments)}}());v.meta={name:"createFetcher",key:"createFetcherrecordChannelsOpenFetcher",description:"recordChannels.open generated fetcher"}},c2Yl:function(Y,i,e){"use strict";e.d(i,"a",function(){return c}),e.d(i,"c",function(){return g});var a=e("AFNo"),t=e("+Lz1"),l=e("Zqm7");const u=s(()=>({}),"getInitialState"),c="hermesFunctionAuth",g=s(S=>{let{functionId:v,providerKey:T}=S;return`${v}-${T}`},"generateFunctionAuthKey"),b=Object(a.b)({},u(),{storeKey:c,persistenceEnabled:!1}).on(t.a,(S,v)=>{let{auths:T}=v;return T.reduce((I,d)=>(I[g(d)]=d,I),{...S})}).on(t.b,()=>u()).on(t.c,(S,v)=>{let{functionId:T,providerKey:I,externalTokenId:d}=v;const f=g({functionId:T,providerKey:I}),C=S[f],j=C==null?void 0:C.validTokens.find(O=>O.externalTokenId===d);if(!j||j.isDefault)return S;const N=C.validTokens.map(O=>{const M=O.externalTokenId===d;return{...O,isDefault:M}});return{...S,[f]:{...C,validTokens:N}}}).on(l.a,(S,v)=>{let{external_token_id:T,external_user_id:I,provider_key:d,provider_name:f,app_id:C,function_id:j,user_id:N}=v;const O=g({functionId:j,providerKey:d}),M=S[O],L={externalTokenId:T,externalUserId:I,isDefault:!0,userId:N};if(!M)return{...S,[O]:{appId:C,functionId:j,providerKey:d,providerName:f,validTokens:[L]}};const k=[L,...M.validTokens.filter(F=>F.externalTokenId!==T).map(F=>({...F,isDefault:!1}))];return{...S,[O]:{...M,validTokens:k}}});i.b=b},c9G7:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-fr-FR-d1c0633.gif"},cD3f:function(Y,i,e){"use strict";e.d(i,"a",function(){return d});var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("Z6bF"),c=e("FcR8"),g=e("oUrV"),b=e("zxER"),S=e("E3dU"),v=e("3VfY"),T=e("IaLB"),I=e("HzDh");function d(){const f=Object(l.i)(),C=Object(b.c)(T.p),j=Object(b.c)(L=>Object(S.d)(L,C)),N=Object(b.c)(L=>Object(I.f)(L,{teamId:j.team_id})),{fileId:O}=Object(u.a)(j),M=Object(a.useCallback)(()=>{O&&f(Object(c.a)({fileId:O,source:g.a.TRACTOR_CHANNEL_FOREWORD})),N&&setTimeout(()=>{f(Object(v.a)({channel:j.id}))},6e4)},[f,O,j.id,N]);return{fileId:O,openChannelCanvas:M}}s(d,"useChannelCanvas")},cXcI:function(Y,i,e){"use strict";e.d(i,"a",function(){return S});var a=e("9oTK"),t=e.n(a),l=e("/2Yp"),u=e("iCxR"),c=e("q1tI"),g=e.n(c),b=e("/MKj");const S=s(v=>{let{workflowId:T}=v;const I=Object(b.i)(),d=Object(c.useCallback)(function(){var C=Object(a.coroutine)(function*(j){let{appId:N,providerKey:O,functionId:M}=j;yield I(Object(l.a)({appId:N,providerKey:O,functionId:M,workflowId:T}))});return function(j){return C.apply(this,arguments)}}(),[I,T]),f=Object(c.useCallback)(function(){var C=Object(a.coroutine)(function*(j){let{appId:N,functionId:O,providerKey:M,externalTokenId:L}=j;yield I(Object(u.a)({appId:N,workflowId:T,functionId:O,providerKey:M,externalTokenId:L}))});return function(j){return C.apply(this,arguments)}}(),[I,T]);return{onAddOAuth:d,onSelectOAuth:f}},"useAppsAuthExternalOAuth")},cuvd:function(Y,i,e){"use strict";e.r(i),e.d(i,"BaseSharedChannelTrialBanner",function(){return G});var a=e("q1tI"),t=e.n(a),l=e("wd/R"),u=e.n(l),c=e("zxER"),g=e("nNoG"),b=e("ktUG"),S=e("AKIH"),v=e("E3dU"),T=e("j7fZ"),I=e("GkJf"),d=e("Trx9"),f=e("/cL/"),C=e("y/Pn"),j=e("FdVR"),N=e("G0eX"),O=e("beVI"),M=e("/0Xg"),L=e("Sid4");function k(){return k=Object.assign||function(U){for(var H=1;H<arguments.length;H++){var p=arguments[H];for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(U[_]=p[_])}return U},k.apply(this,arguments)}s(k,"_extends");const F=new g.b("trial_expiration_banners"),ee={isPrimaryCTA:!0,elementName:"upgrade",onClick:{enableClogAction:!0}},oe={elementName:"learn_more",onClick:{enableClogAction:!0}},G=s(U=>{let{channelId:H="",connectedTeamName:p,connectedTeamsCount:_,excludeChannelIds:V=[],expirationTs:R,isSharedChannel:w,isExternalImChannel:Q,productId:re=""}=U;const de=s(()=>{const Ae=u()(R*1e3).format("YYYY-MM-DD");return Object(S.b)(Ae)},"getNumDaysLeft"),Ne=s(Ae=>{let{text:Ie}=Ae;return t.a.createElement(f.a,{"data-qa":"shared_channel_persistent_banner_upgrade_link",autoClogProps:ee,useLink:!0,action:M.t.CHECKOUT,productId:re},Ie)},"renderPlansPageCTA"),ye=s(Ae=>{let{text:Ie}=Ae;return t.a.createElement(I.a,{articleId:360059473613,"data-qa":"shared_channel_persistent_banner_learn_more_link",autoClogProps:oe},Ie)},"renderLearnMoreLink"),le=s(()=>{const Ae=de();return p?F.rt("<strong>{numDaysLeft, plural, =1 {# day} other {# days}} left in your trial</strong> \u2014 <strong><upgradeLink>Upgrade</upgradeLink></strong> to keep working with {orgTeamName} in this channel. <learnMoreLink>Learn more</learnMoreLink>",{fallbackHash:"56d58bd38ab87b4c4b2604a11a8dc09712d8b751",numDaysLeft:Ae,connectedTeamsCount:_,orgTeamName:p,"<upgradeLink>":Ne,"<learnMoreLink>":ye}):F.rt("<strong>{numDaysLeft, plural, =1 {# day} other {# days}} left in your trial</strong> \u2014 <strong><upgradeLink>Upgrade</upgradeLink></strong> to keep working with {connectedTeamsCount, plural, =1 {# other organization} other {# other organizations}} in this channel. <learnMoreLink>Learn more</learnMoreLink>",{fallbackHash:"56d58bd38ab87b4c4b2604a11a8dc09712d8b751",numDaysLeft:Ae,connectedTeamsCount:_,orgTeamName:p,"<upgradeLink>":Ne,"<learnMoreLink>":ye})},"getCountdownBannerText");return s(()=>w&&!Q&&_>0&&de()<=30&&(V==null?void 0:V.indexOf(H||""))===-1,"shouldShowBanner")()?t.a.createElement(d.a,{clogImpression:!0,eventId:b.EventId.UPGRDEXP_TRIAL,uiComponentName:b.UiComponentName.SHARED_CHANNEL_TRIAL_BANNER,uiComponentVariant:"persistent_countdown"},t.a.createElement(L.b,{type:L.a.alert,bodyText:le(),iconType:"hourglass"})):null},"SharedChannelTrialBanner");G.displayName="SharedChannelTrialBanner";const x=s(U=>{const H=Object(c.c)(w=>Object(v.d)(w,U.channelId)),p=Object(c.c)(w=>Object(j.a)(w,H)),_=Object(c.c)(w=>p.length===1?Object(O.s)(w,p[0]):null),V=Object(C.a)(H);let R="";return _&&!Object(N.V)(_)&&(R=Object(N.z)(_)?Object(N.l)(_):Object(N.h)(_)),t.a.createElement(G,k({},U,{connectedTeamName:R,connectedTeamsCount:p.length,isExternalImChannel:Object(T.a)(H),isSharedChannel:V}))},"ConnectedSharedChannelTrialBanner");x.displayName="ConnectedSharedChannelTrialBanner",i.default=x},dELU:function(Y,i,e){"use strict";e.r(i),e.d(i,"BaseEducationDiscountPromoBanner",function(){return O});var a=e("q1tI"),t=e.n(a),l=e("zxER"),u=e("vfQU"),c=e("nNoG"),g=e("d/xU"),b=e("ktUG"),S=e("beVI"),v=e("G0eX"),T=e("uVZW"),I=e("Trx9"),d=e("Sid4");const f=new c.b("notification_banner"),C={elementName:"apply_now"},j={elementName:"learn_more"},N={notification:T.h.EDUCATION_TEAM_DISCOUNT},O=s(L=>{let{goToEducationPage:k}=L;const F=f.t("See if you qualify for an 85% discount on a paid plan"),ee=f.t("The Slack for Education program offers qualifying teams a discount on paid plans. Once you upgrade, your team will get an unlimited message archive, guest accounts for your workspace, and more."),oe=`https://${Object(g.n)()}/help/articles/206646877`;return t.a.createElement(I.a,{clogImpression:!0,eventId:b.EventId.UPGRDEXP_EDUCATION_DISCOUNT_PROMO_BANNER,uiComponentName:b.UiComponentName.EDUCATION_DISCOUNT_PROMO_BANNER},t.a.createElement(d.b,{headingText:F,bodyText:ee,primaryCTAText:f.t("Apply Now"),secondaryCTAText:f.t("Learn More"),secondaryCTAHref:oe,closeOnSecondaryCTAClick:!1,onPrimaryCTAClick:k,primaryCTAClogProps:C,secondaryCTAClogProps:j,notificationPrefs:N}))},"EducationDiscountPromoBanner");O.displayName="EducationDiscountPromoBanner";const M=s(()=>{const L=Object(l.c)(S.g),k=Object(a.useCallback)(()=>{Object(v.Y)(L,"education")},[L]);return Object(u.cb)()?null:t.a.createElement(O,{goToEducationPage:k})},"ConnectedEducationDiscountPromoBanner");M.displayName="ConnectedEducationDiscountPromoBanner",i.default=M},eIwF:function(Y,i,e){Y.exports=e.p+"trial-confirmation-2b10a44.png"},fX6G:function(Y,i,e){Y.exports=e.p+"trial-confirmation@2x-f828ebc.png"},ffkt:function(Y,i,e){"use strict";e.d(i,"b",function(){return g}),e.d(i,"e",function(){return b}),e.d(i,"a",function(){return S}),e.d(i,"d",function(){return T}),e.d(i,"c",function(){return d});var a=e("Muja"),t=e("WP6X"),l=e("vIgB"),u=e("nNoG");const c=new u.b("workflow_builder"),g={FREQUENCY_ONCE:"once",FREQUENCY_HOURLY:"hourly",FREQUENCY_DAILY:"daily",FREQUENCY_WEEKDAYS:"weekdays",FREQUENCY_WEEKLY:"weekly",FREQUENCY_MONTHLY:"monthly",FREQUENCY_MONTHLY_NTH_DAY:"monthly_nth_day",FREQUENCY_YEARLY:"yearly",FREQUENCY_CUSTOM:"custom"},b={[g.FREQUENCY_HOURLY]:"hours",[g.FREQUENCY_DAILY]:"days",[g.FREQUENCY_WEEKLY]:"weeks",[g.FREQUENCY_MONTHLY]:"months",[g.FREQUENCY_YEARLY]:"years"},S=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],v=["Monday","Tuesday","Wednesday","Thursday","Friday"],T=s(()=>({startTime:{type:l.f.DateTime,name:"startTime",title:c.t("Starts on",{fallbackHash:"59cb3c017fc6b9ba6c1d50eb2d96a3e974063164"}),is_required:!0},timezone:{type:l.f.Timezone,name:"timezone",title:c.t("Time zone",{ns:"prefs"}),is_required:!0},occurrenceCount:{type:l.f.Integer,name:"occurrenceCount",title:c.t("After a set number of occurrences",{fallbackHash:"7f50ece5af3bd63bea10916ff5b840e12b686800"}),is_required:!0},endTime:{type:l.f.DateTime,name:"endTime",title:c.t("Ends"),is_required:!0},frequency:{type:l.f.Object,name:"frequency",title:c.t("Frequency"),is_required:!0,required:["type"],properties:{type:{type:l.f.String,name:"type",is_required:!0,title:c.t("Repeat every",{fallbackHash:"c61ae3bea7bb0e5d325df76c665909ed8386cf08"}),enum:["daily","weekly","monthly","yearly"]},onDays:{type:l.f.Array,name:"onDays",is_required:!0,title:c.t("Repeat on",{fallbackHash:"f6bb0f468a8569c67b3d6826e57e62c5500c3681"}),items:{type:l.f.String,enum:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],minItems:1}},repeatsEvery:{type:l.f.Integer,name:"repeatsEvery",title:c.t("Repeat every",{fallbackHash:"c61ae3bea7bb0e5d325df76c665909ed8386cf08"})},onWeekNum:{type:l.f.Integer,name:"onWeekNum",enum:[1,2,3,4,-1]}}}}),"getSegmentParameters"),I=s(f=>{const{startTime:C,timezone:j,frequency:N}=f,{FREQUENCY_MONTHLY:O}=g,M=Object(t.c)(C,j),L=M.format("dddd");var k;const F=(k=Object(t.h)(M.format("YYYY-MM-DD")))!==null&&k!==void 0?k:1,ee={type:O,onDays:[L],onWeekNum:F};return Object(a.a)(N,ee)},"getIsMonthlyNthDayFrequency"),d=s(f=>{const{startTime:C,timezone:j,endTime:N,occurrenceCount:O,frequency:M}=f,{FREQUENCY_ONCE:L,FREQUENCY_WEEKDAYS:k,FREQUENCY_WEEKLY:F,FREQUENCY_HOURLY:ee,FREQUENCY_MONTHLY:oe,FREQUENCY_MONTHLY_NTH_DAY:G,FREQUENCY_CUSTOM:x}=g;var U;if(N||O||((U=M==null?void 0:M.repeatsEvery)!==null&&U!==void 0?U:0)>1||(M==null?void 0:M.type)===ee)return x;if(!M)return L;if(M.type===F){if(M.onDays){const H=Object(t.c)(C,j).format("dddd");return M.onDays.length===1&&M.onDays.includes(H)?F:M.onDays.length===5&&M.onDays.every(p=>v.includes(p))?k:x}return F}return M.type===oe?I(f)?G:x:M.type},"getFrequencyMenuOption")},"g/Lm":function(Y,i,e){"use strict";e.d(i,"b",function(){return g}),e.d(i,"c",function(){return b}),e.d(i,"a",function(){return v});var a=e("Y0qr"),t=e("S24Y"),l=e("8/D0"),u=e("vIgB");const c=s(T=>T==="true"?"1":T==="false"?"0":T,"coerceStringBooleanToNumericBoolean"),g=s((T,I)=>{if(I==="topLevelFilterOperator"){var d;return!((d=T.filter)===null||d===void 0)&&d.root&&"operator"in T.filter.root?T.filter.root.operator:"OR"}return T.filter?Object(a.a)(T.filter,!0):[]},"readListRecordUpdated"),b=s((T,I,d)=>{var f;const C=!((f=I.filter)===null||f===void 0)&&f.root&&"operator"in I.filter.root?I.filter.root.operator:"OR",j=T.map(N=>{const{value:O,field:M}=N,L=c(O);return!L&&M?{statement:`{{data.updated_fields}} CONTAINS '${M}'`}:!M&&L?{statement:`{{data.updated_fields}} CONTAINS '${L}'`}:{statement:`{{data.updated_fields}} CONTAINS '${M}:${L}'`}});if(j.length)return{version:1,root:{operator:C,inputs:j}}},"writeListRecordUpdated"),S=s(T=>{switch(T){case l.b.Checkbox:return u.f.Boolean;case l.b.User:case l.b.CreatedBy:case l.b.LastEditedBy:return u.f.SlackTypesUserId;case l.b.Channel:return u.f.SlackTypesChannelId;case l.b.Email:case l.b.Phone:case l.b.Select:case l.b.Rating:return u.f.String;case l.b.Number:return u.f.Number;case l.b.Message:case l.b.Text:default:return}},"listFieldToFilterTypeMap"),v=s(T=>T.map(I=>{const d=S(I.type),f=Boolean(d&&Object.values(u.f).includes(d)),C=d?[t.a.Equals,t.a.HasChanged]:[t.a.HasChanged];return{id:I.key,type:d,isHermesType:f,supportedOperators:C,name:I.name,options:I.options}}),"convertListSchemaToFilterField")},gHTj:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-en-US-1e6e411.gif"},h0BU:function(Y,i,e){"use strict";e.d(i,"a",function(){return S});var a=e("9oTK"),t=e.n(a),l=e("SQ0V"),u=e("aTkP"),c=e("Fqb6"),g=e("cz6z"),b=e("UEGZ");const S=Object(l.c)("Open a record channel",function(){var v=Object(a.coroutine)(function*(T,I,d){let{channel:f,reason:C}=d;try{T(Object(b.a)({id:f.id,is_open:!0}));const j=yield T(Object(u.a)({channel:f.id,reason:C}));j.ok&&(T(Object(c.a)({channel:j.channel})),j.counts&&T(Object(g.a)({counts:[j.counts]})))}catch{T(Object(b.a)({id:f.id,is_open:!1}))}});return function(T,I,d){return v.apply(this,arguments)}}());S.meta={name:"createThunk",key:"createThunkopenRecordChannel",description:"Open a record channel"}},hHWo:function(Y,i,e){Y.exports=e.p+"nfx-welcome-home-more-modal-e34dee3.png"},hisJ:function(Y,i,e){"use strict";e.d(i,"a",function(){return u}),e.d(i,"c",function(){return c}),e.d(i,"b",function(){return g}),e.d(i,"d",function(){return b});var a=e("ZKjC"),t=e("i5Ig"),l=e("L99M");const u=Object(a.b)((S,v)=>S.quipCommentStream[v]||t.b);u.meta={name:"createSelector",key:"createSelectorgetCommentStream",description:(S,v)=>S.quipCommentStream[v]||t.b};const c=Object(a.b)((S,v)=>{var T;return((T=S.quipCommentStream[v])===null||T===void 0?void 0:T.roots)||t.a});c.meta={name:"createSelector",key:"createSelectorgetCommentStreamRoots",description:(S,v)=>{var T;return((T=S.quipCommentStream[v])===null||T===void 0?void 0:T.roots)||t.a}};const g=Object(a.b)((S,v)=>{var T;return((T=S.quipCommentStream[v])===null||T===void 0?void 0:T.filter)||l.a.LATEST_REPLY});g.meta={name:"createSelector",key:"createSelectorgetCommentStreamFilter",description:(S,v)=>{var T;return((T=S.quipCommentStream[v])===null||T===void 0?void 0:T.filter)||l.a.LATEST_REPLY}};const b=Object(a.b)((S,v)=>S.quipCommentStream?Object.values(S.quipCommentStream).some(T=>T.fileId===v):!1);b.meta={name:"createSelector",key:"createSelectorisThisFileIdOpenInCommentStream",description:(S,v)=>S.quipCommentStream?Object.values(S.quipCommentStream).some(T=>T.fileId===v):!1}},"i2Y+":function(Y,i,e){"use strict";e.d(i,"a",function(){return u});var a=e("dWJ4"),t=e("beVI");const l=s((c,g)=>Object(a.a)(c,g),"canUserOpenCommunityAdminDashboard"),u=s((c,g)=>g?l(c,Object(t.s)(c,g)):!1,"canUserOpenCommunityAdminDashboardById")},i9fg:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-it-IT-cb1f10d.gif"},iCxR:function(Y,i,e){"use strict";e.d(i,"a",function(){return b});var a=e("9oTK"),t=e.n(a),l=e("SQ0V"),u=e("+Lz1"),c=e("2tvF"),g=e("s4P+");const b=Object(l.c)("Update Function OAuth",function(){var S=Object(a.coroutine)(function*(v,T,I){let{appId:d,providerKey:f,functionId:C,workflowId:j,externalTokenId:N}=I;const O=yield v(Object(c.a)({appId:d,providerKey:f,workflowId:j,externalTokenId:N,reason:"update_function_auth",mappingOwnerType:"END_USER"}));if(O!=null&&O.ok)v(Object(u.c)({functionId:C,providerKey:f,externalTokenId:N}));else throw Object(g.a)({getState:T}).error("Response from appsAuthExternalAuthMappingUpdateFetcher not ok"),new Error("Response from appsAuthExternalAuthMappingUpdateFetcher not ok")});return function(v,T,I){return S.apply(this,arguments)}}());b.meta={name:"createThunk",key:"createThunkupdateFunctionAuth",description:"Update Function OAuth"}},iODX:function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("BHdc"),c=e("zxER"),g=e("RVJP"),b=e("dmdh"),S=e("PhUj"),v=e("Kmpi"),T=e("O86Y"),I=e("6inW"),d=e("x6tY"),f=e("ZobM"),C=e("7ibc"),j=e("nNoG"),N=e("CnKg"),O=e("beVI"),M=e("G0eX"),L=e("wKGu"),k=e("ktUG"),F=e("qDEp"),ee=e("LaoO"),oe=e("0Em0"),G=e("PXRY"),x=e("stkM"),U=e("/0Xg"),H=e("c+dP"),p=e("GiOu"),_=e("FXMY"),V=e("APfK"),R=e("EyGR"),w=e("2Wdf"),Q;(function(he){he[he.FIRST_TIME_REQUEST=0]="FIRST_TIME_REQUEST",he[he.SUBSEQUENT_REQUEST=1]="SUBSEQUENT_REQUEST",he[he.SENT_SUCCESS=2]="SENT_SUCCESS",he[he.SENT_ERROR=3]="SENT_ERROR"})(Q||(Q={}));function re(he,D,ne){const ve=Object(l.i)(),[h,E]=Object(a.useState)(!1),[P,K]=Object(a.useState)(D?Q.SUBSEQUENT_REQUEST:Q.FIRST_TIME_REQUEST),ae=Object(a.useRef)(),se=Object(a.useCallback)(()=>{E(!0),ae.current||(ae.current=ve(Object(V.a)({fileId:he,reason:"IndicatorRequestEditAccessButton",requestType:"upgrade"})).then(()=>ne?ve(Object(R.a)()):K(Q.SENT_SUCCESS)).catch(()=>ne?ve(Object(w.a)()):K(Q.SENT_ERROR)).finally(()=>E(!1)))},[ve,he,ne]),ue=Object(a.useCallback)(()=>{ae.current&&(ae.current.cancel(),ae.current=void 0)},[]);return Object(a.useEffect)(()=>()=>{ue()},[ue]),{isLoading:h,status:P,requestQuipAccess:se}}s(re,"useQuipAccess");var de=e("s9Q6"),Ne=e("PAox"),ye=e("daS4"),le=e("E3dU"),De=e("Yauy"),Ae=e("mzZe"),Ie=e("WAPM"),He=e("Ccc1"),We=e("I27i"),Me=e("THtN"),Xe=e("gpLM"),Ct=e("HKlo"),Pt=e("Tsh7"),qe=e("oJm6");function Tt(){return Tt=Object.assign||function(he){for(var D=1;D<arguments.length;D++){var ne=arguments[D];for(var ve in ne)Object.prototype.hasOwnProperty.call(ne,ve)&&(he[ve]=ne[ve])}return he},Tt.apply(this,arguments)}s(Tt,"_extends");const Ze=new j.b("slack_docs");var Et=Object(a.forwardRef)((he,D)=>{let{fileId:ne,className:ve}=he;const h=Object(l.i)(),E=!Object(c.c)(We.d),P=Object(c.c)(xt=>Object(g.d)(xt,"canvas_freemium_m3_p2")==="on"),K=Object(c.c)(xt=>Object(b.e)(xt,ne)),ae=Object(c.c)(ye.a),se=Object(c.c)(xt=>Object(g.d)(xt,"canvas_ts_sfdc_slack_connect_sharing")==="on"),ue=!!K.most_recent_access_request_ts,je=Object(u.default)("p-quip_title__access_indicator_button",ve),be="dialog-title",Ue="dialog-description",{isLoading:ze,status:Qe,requestQuipAccess:Je}=re(ne,ue),{isChannelSpace:Ge,channelId:Oe,isChannelCanvasLocked:ft,editsRestrictedToChannelManager:Kt}=Object(oe.a)({fileId:ne}),Ht=Object(c.c)(xt=>Object(le.d)(xt,Oe)),Za=Object(De.db)(Ht),ea=Object(c.c)(xt=>Za&&Oe&&Object(Ae.b)(xt,Oe)),La=Object(c.c)(xt=>Object(g.d)(xt,"channel_manager_chanvas_ui")==="on"),qa=Object(c.c)(O.g),Wa=Object(M.H)(qa),va=U.q.PaidFeatureTrial,an=U.p.Canvas,_a=Object(c.c)(xt=>Wa&&Object(de.c)(xt,va,an)),Sa=Object(c.c)(xt=>Object(_.a)(xt,{file:K}));Object(a.useEffect)(()=>{Wa&&h(Object(x.a)({campaignType:va,campaignSubType:an,reason:"canvas_view_only_button"}))},[h,an,va,Wa]);const Ma=s(xt=>t.a.createElement(F.c,{"data-qa":"quip-request-edit-access-button",type:"outline",className:"margin_top_75 margin_bottom_25",loading:ze,onClick:Je},xt),"getButton"),Va=s(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:be},Ze.t("You only have permission to view.")),t.a.createElement("div",{id:Ue},Ze.t("To make changes, ask the owner for edit access.")),!Sa||se?Ma(Ze.t("Request Edit Access")):null),"renderFirstTimeRequestContent");Va.displayName="renderFirstTimeRequestContent";const yn=s(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:be},Ze.t("You\u2019ve already asked for access")),t.a.createElement("div",{id:Ue},Ze.t("Still waiting for edit access? You can send the owner a reminder.")),Ma(Ze.t("Remind The Owner"))),"renderSubsequentReminderContent");yn.displayName="renderSubsequentReminderContent";const nn=s(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:be},Ze.t("Request sent")),t.a.createElement("div",{id:Ue},Ze.t("You\u2019ll be notified once it\u2019s been shared with you."))),"renderRequestSentSuccessContent");nn.displayName="renderRequestSentSuccessContent";const Qn=s(()=>t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:be},Ze.t("Error")),t.a.createElement("div",{id:Ue},Ze.t("Something\u2019s gone wrong. Please try again later.")),Ma(Ze.t("Try Again"))),"renderRequestSentErrorContent");Qn.displayName="renderRequestSentErrorContent";const js=Object(a.useCallback)(()=>{h(Object(Ne.a)({uiComponentVariant:k.UiComponentVariant.CANVAS_PAGE_VIEW_ONLY}))},[h]),ao=Object(a.useCallback)(()=>{const xt=P?Ze.rt("<strong>Create and edit canvases on their own</strong> and access other premium collaboration tools with a free, {trialDuration}-day trial of Slack Pro.",{trialDuration:30}):Ze.rt("<strong>Unlock canvases outside of channels</strong> and other premium collaboration tools with a free, {trialDuration}-day trial of Slack Pro.",{trialDuration:30}),jn=P?Ze.rt("<strong>Create and edit canvases on their own</strong> and access other premium collaboration tools with an upgrade."):Ze.rt("<strong>Unlock unlimited canvases</strong> and other premium collaboration tools with an upgrade.");return t.a.createElement("div",{role:"group"},t.a.createElement("strong",{id:be},t.a.createElement(p.c,{className:"margin_bottom_50"})),t.a.createElement("div",{id:Ue},_a?xt:jn),_a?t.a.createElement(F.f,{type:"outline",onClick:js},Ze.t("Learn More")):t.a.createElement(F.b,{href:Object(U.w)({entryPoint:"canvas-view-only-button"}),type:"outline"},Ze.t("See Upgrade Options")))},[P,_a,js]),Bn=new Map([[Q.FIRST_TIME_REQUEST,Va()],[Q.SUBSEQUENT_REQUEST,yn()],[Q.SENT_SUCCESS,nn()],[Q.SENT_ERROR,Qn()]]),In=s(()=>{Ge&&Oe&&h(Object(Me.a)({channelId:Oe,reason:"message_pane_input_preview"})).then(()=>{Object(Xe.a)({focusKey:Ct.c.QUIP_DOCS,forceFocus:!0})})},"onJoinButtonClicked"),Jn=s(()=>t.a.createElement(F.f,{className:je,type:"outline",size:"small",ref:D},t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(f.a,{name:"eye-open",size:"16"})),Ze.t("View only")),"renderViewOnlyButton"),ms={position:"bottom-left",offsetY:6,offsetX:-12,ariaRole:"dialog"};let kn=t.a.createElement(H.e,Tt({renderMenu:xt=>t.a.createElement(H.f,Tt({},xt,{menuClassNames:"p-quip_title__access_indicator_menu","aria-labelledby":be,"aria-describedby":Ue}),Bn.get(Qe))},ms),Jn());if(Wa&&(kn=t.a.createElement(H.e,Tt({renderMenu:xt=>t.a.createElement(H.f,Tt({},xt,{menuClassNames:"p-quip_title__trial_access_menu","aria-labelledby":be,"aria-describedby":Ue}),ao())},ms),Jn())),ae||(kn=t.a.createElement(F.f,{className:je,type:"outline",size:"small"},Ze.t("View only"))),Ge){let xt="",jn="",Zn,us=!1;if(ft)return t.a.createElement(Pt.d,{tip:Ze.t("Edits locked"),position:"bottom"},t.a.createElement("div",{className:"p-quip_title__access_indicator_locked_edits"},t.a.createElement(f.a,{name:"lock",size:"16"})));if(La&&Kt)xt=Ze.rt("Only channel managers can edit this canvas. {link}",{channelName:t.a.createElement(He.a,{channelId:Oe,boldIcon:!0,className:"bold"}),link:t.a.createElement(Ie.a,{articleId:8328303095443},Ze.t("Learn more"))}),jn=Ze.t("View Only");else if(Za&&!ea)xt=Ze.rt("Only people who can post in {channelName} can edit this canvas. {link}",{channelName:t.a.createElement(He.a,{channelId:Oe,boldIcon:!0,className:"bold"}),link:t.a.createElement(Ie.a,{articleId:360004635551},Ze.t("Learn more"))}),jn=Ze.t("View Only");else if(!Za)xt=Ze.rt("Join this channel to edit the canvas."),Zn=220,us=!0,jn=Ze.t("View Only");else return null;kn=t.a.createElement(H.e,{renderMenu:Yt=>t.a.createElement(H.f,Tt({},Yt,{width:Zn,menuClassNames:"p-quip_title__access_indicator_menu"}),t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{role:"group"},t.a.createElement("div",null,xt)),us&&t.a.createElement(F.f,{onClick:In,type:"primary",size:"small",disabled:E},Ze.t("Join Channel")))),position:"bottom-right",offsetY:6,ariaRole:"dialog"},t.a.createElement(F.f,{className:je,type:"outline",size:"small",ref:D},t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(f.a,{name:"eye-open",size:"16"})),t.a.createElement("span",{className:"no_wrap"},jn)))}return kn}),Rt=e("9oTK"),Xt=e("4KfL"),ya=e("nFQW"),da=e("/K2e"),Ka=e("luMM"),ia=e("drD8"),fa=e("MBrv"),ca=e("FcR8"),Qt=e("xy4D"),$t=e("oUrV"),Bt=e("eJPC"),Gt=e("zb/F"),_t=e("RfUG"),ot=e("NNLN"),qt=e("Icre"),jt=e("kBpe"),aa=e("zm5I"),it=e("apAF"),ga=e("HHlX"),kt=e("cTKW"),yt=e("UItK"),ba=e("3zNH"),xa=e("V4lD"),nt=e("Ybt4");function pt(he){let{channelId:D,docEmbed:ne}=he;const ve=Object(l.i)(),h=Object(c.c)(se=>Object(nt.b)({state:se,label:"use-channel-canvas-settings"})),{spaceFileId:E}=Object(xa.a)({channelId:D}),P=Object(c.c)(se=>E?Object(b.e)(se,E):null),K=!!Object(d.Eb)(P),ae=Object(a.useCallback)(Object(Rt.coroutine)(function*(){const se=K?kt.a:yt.a;ne&&(K||(yield ne.docEditor.forceSave()),ve(se({fileId:E,reason:"quip-lock-channel-settings"})).then(ue=>{let{file:je}=ue;return ve(Object(ba.a)({files:[je],reason:"quip-lock-channel-settings-upsert"}))}).catch(ue=>{h.error(ue,"could not lock/unlock channel canvas")}))}),[K,ve,E,h,ne]);return{isLocked:K,toggleLockState:ae}}s(pt,"useChannelCanvasSettings");var Ye=e("tv4y"),ge=e("npde"),It=e("+kJ4"),Fe=e("YUBf"),St=e("9WS/"),na=e("jWAO");const Jt=new j.b("channel_details"),sa=s(he=>{let{fileId:D}=he;const ne=Object(l.i)(),ve=Object(a.useCallback)(()=>ne(Object(It.a)()),[ne]),[h,E]=Object(a.useState)(!1),[P,K]=Object(a.useState)(""),{channelId:ae,setSpaceIsOpenByDefault:se}=Object(oe.a)({fileId:D}),ue=Object(c.c)(Qe=>Object(le.d)(Qe,ae)),je=Object(c.c)(C.q),be=Object(a.useCallback)(()=>{E(!0),K(""),se(!0).then(()=>{ve()}).catch(()=>{K(Jt.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"}))}).finally(()=>{E(!1)})},[se,ve]);if(!je)return null;const Ue="show_channel_canvas_by_default_title",ze="show_channel_canvas_by_default_content";return t.a.createElement(Fe.a,{closeModal:ve,labelledby:Ue,describedby:ze},t.a.createElement(Fe.i,null,t.a.createElement(Fe.l,{id:Ue,title:Jt.t("Show this channel canvas by default?")})),t.a.createElement(Fe.d,null,t.a.createElement(Fe.e,null,!!P.length&&t.a.createElement(na.d,{level:"error",className:"margin_bottom_100"},P),t.a.createElement("p",{id:ze},Jt.rt("This channel canvas will be open by default for all members of {channel} until they close it.",{channel:t.a.createElement(St.a,{channel:ue,includeChannelPrefix:!0,displayFormerNames:!1})})))),t.a.createElement(Fe.g,null,t.a.createElement(Fe.h,null,t.a.createElement(F.f,{onClick:ve,type:"outline"},Jt.t("Cancel")),t.a.createElement(Fe.c,{autoFocus:!0,type:"primary",onClick:be,loading:h},Jt.t("Save")))))},"ShowChannelCanvasByDefaultModal");sa.displayName="ShowChannelCanvasByDefaultModal";var Wt=Object(ge.a)(sa),Ot=e("WSQ4"),oa=e("azFB"),za=e("G5NC"),tn=e("kN6v"),$a=e("AqeP"),mn=e("sKeO"),Ya=e("a/0V"),Cn=e("4unc"),Nn=e("A/ch"),Qa=e("ljyh"),Vt=e("I3z+"),Lt=e("mQiU"),Da=e("I0j/"),Ja=e("37+L"),Ca=e("hisJ"),ra=e("DToD"),ct=e("VymY"),Dt=e("gnJq"),Mt=e("TdVx"),Ve=s((he,D)=>{if(Object(M.H)(Object(O.g)(he))||!Object(Mt.a)(he))return!1;const ne=Object(b.e)(he,D);return!(!ne||Object(Dt.a)(ne)||!Object(d.u)(ne)||Object(d.h)(ne)||Object(_.a)(he,{file:ne}))},"canUserDuplicateCanvas"),At=e("SQ0V"),ha=e("Ag7o"),la=e("Trx9"),ma=e("d/xU"),Ia=e("3l96"),Ua=e("KkHf"),Re=e("Tevt");const me=new j.b("slack-docs"),ce=s(he=>{let{canvasFileId:D}=he;const ne=Object(l.i)(),ve=Object(a.useCallback)(()=>{ne(Object(It.a)())},[ne]);return t.a.createElement(la.a,{eventId:k.EventId.QUIP_DUPLICATE_CANVAS,uiComponentName:"duplicate_canvas_error_modal",elementType:k.ElementType.MODAL,clogImpression:!0,fileId:D},t.a.createElement(Ua.a,{title:me.t("Error duplicating canvas"),onClose:ve,onSubmit:ve,submitButtonText:me.t("OK"),showCloseButton:!0,showCancelButton:!1},me.rt("Something went wrong. If the problem persists, please <a>drop us a line</a>.",null,h=>{let{text:E,key:P}=h;return t.a.createElement(Re.a,{href:`https://${Object(ma.n)()}/help/contact`,rel:"noopener noreferrer",key:P},E)})))},"DuplicateCanvasErrorModal");ce.displayName="DuplicateCanvasErrorModal";var _e=ce;const Ce=s(he=>{let{canvasFileId:D}=he;return Object(Ia.a)({element:t.a.createElement(ce,{canvasFileId:D}),name:"duplicate-canvas-error-modal"})},"openDuplicateCanvasErrorModal");Ce.displayName="openDuplicateCanvasErrorModal";const Ee=Object(At.c)("Duplicate a canvas and open new copy",(he,D,ne)=>{let{canvasFileId:ve}=ne;const h=Object(nt.b)();h.info(`Attempting to duplicate canvas with id: ${ve}`);const E=s(P=>(h.error(P??Error(`Failed to duplicate canvas with id: ${ve}`)),he(Ce({canvasFileId:ve}))),"onError");return he(Object(ha.a)({fileId:ve,reason:"duplicate-canvas"})).then(P=>{P.file?he(Object(ca.a)({fileId:P.file.id,forceNewWindow:!0,source:$t.a.DUPLICATE_CANVAS})):E()}).catch(P=>{E(P)})});Ee.meta={name:"createThunk",key:"createThunkduplicateCanvas",description:"Duplicate a canvas and open new copy"};var Se=Ee,fe=e("jU2U"),et=e("AutL"),dt=e("qY4A"),mt=e("bUGr"),Le=e("A26L"),Be=e("i9jZ"),Zt=e("g3a/"),X=e("YHfO"),W=e("oY18"),Z=e("Mqk2"),q=e("Lgge");const z=Object(At.c)("Edit file canvas template mode",(he,D,ne)=>{let{fileId:ve}=ne;return Object(b.e)(D(),ve)?he(Object(Z.c)({fileId:ve,isCanvasTemplate:!0})).then(E=>{let{file:P}=E;he(Object(ba.a)({files:[P],reason:"create-canvas-template"}))}):q.a.reject(new Error("Missing file"))});z.meta={name:"createThunk",key:"createThunkcreateCanvasTemplate",description:"Edit file canvas template mode"};var pe=e("cBJ3");const xe=Object(At.c)("Edit file canvas template mode",(he,D,ne)=>{let{fileId:ve}=ne;return Object(b.e)(D(),ve)?he(Object(Z.c)({fileId:ve,isCanvasTemplate:!1})).then(E=>{let{file:P}=E;he(Object(pe.g)({fileId:P==null?void 0:P.id}))}):q.a.reject(new Error("Missing file"))});xe.meta={name:"createThunk",key:"createThunkrevertCanvasTemplate",description:"Edit file canvas template mode"};var we=e("oBV+"),rt=e("2yT+");const lt=new j.b("slack-docs"),st=s(function(){return{continueButton:{elementName:(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"revert_to_canvas":"convert_to_template",onClick:{enableClogAction:!0}},cancelButton:{elementName:"cancel",onClick:{enableClogAction:!0}}}},"speedBumpAutoClogProps");function Pe(he){const{fileId:D}=he,ne=Object(c.c)(Oe=>Object(b.e)(Oe,D)),ve=Object(d.yb)(ne),h=Object(l.i)(),[E,P]=Object(a.useState)(!1),[K,ae]=Object(a.useState)(""),se=Object(a.useCallback)(()=>{h(Object(It.a)())},[h]),ue=Object(a.useCallback)(Oe=>{const ft={name:"check-circle"};h(Object(W.a)({element:t.a.createElement(Zt.a,{svgIconProps:ft,duration:X.b,showCloseButton:!0,toastClasses:"p-canvas_templates_toast"},Oe)}))},[h]),je=Object(a.useCallback)(()=>{P(!0),K&&ae(""),h(z({fileId:D})).then(()=>{Object(d.ib)(ne)||Object(d.Cb)(ne)?h(Object(S.b)({fileId:D,viewContext:we.a,...!Object(d.ib)(ne)&&Object(d.Cb)(ne)?{initialShareDialogLocationsTab:rt.a.Settings}:{}})):ue(lt.t("You created a template.")),se()}).catch(()=>{ae(lt.t("There was a problem converting the canvas to template. Try again in a few minutes.")),P(!1)})},[K,h,D,ne,se,ue]),be=Object(a.useCallback)(()=>{P(!0),K&&ae(""),h(xe({fileId:D})).then(()=>{ue(lt.t("You reverted a template to a canvas.")),se()}).catch(()=>{ae(lt.t("There was a problem reverting the template to canvas. Try again in a few minutes.")),P(!1)})},[K,h,D,ue,se]),Ue=ve?lt.t("Revert template to a canvas"):lt.t("Convert to a template"),ze=s(()=>t.a.createElement(Fe.i,null,t.a.createElement(Fe.l,{className:"padding_right_175 padding_bottom_50",title:Ue,"data-qa":"canvas_templates_convert_title"})),"renderHeader");ze.displayName="renderHeader";const Qe=s(()=>{const Oe=ve?lt.t("People will no longer be able to use this template. Comments, version history, and permissions will be saved."):lt.t("Anyone with access to the template can create new canvases using the same formatting, layout, and contents.");return t.a.createElement(Fe.e,{id:"canvas_templates_convert_description"},Oe)},"renderDescription");Qe.displayName="renderDescription";const Je=s(()=>t.a.createElement(Fe.e,null,t.a.createElement(na.d,{className:"margin_top_100 margin_bottom_0",type:"inline",level:na.b.error},K)),"renderError");Je.displayName="renderError";const Ge=s(()=>t.a.createElement(Fe.h,null,t.a.createElement(F.a,{className:"margin_right_50",type:"outline",onClick:se,autoClogProps:st().cancelButton},lt.t("Cancel")),t.a.createElement(F.c,{onClick:ve?be:je,"data-qa":"canvas_template_speedbump_convert_button",loading:E,type:"primary",autoClogProps:st(ve).continueButton},ve?lt.t("Revert to Canvas"):lt.t("Convert to Template"))),"renderFooter");return Ge.displayName="renderFooter",t.a.createElement(la.a,{eventId:k.EventId.QUIP_CANVAS_TEMPLATES,elementType:k.ElementType.MODAL,clogImpression:!0,fileId:D},t.a.createElement(Fe.a,{isOpen:!0,centered:!0,closeModal:se,showCloseButton:!0,dataQa:we.a,contentLabel:Ue,describedby:"canvas_templates_convert_description"},ze(),t.a.createElement(Fe.d,null,Qe(),K&&Je()),t.a.createElement(Fe.g,null,Ge())))}s(Pe,"CanvasTemplateConvertSpeedbump"),Pe.displayName="CanvasTemplateConvertSpeedbump";var vt=Pe;const Ft=Object(At.c)("Open the canvas template speedbump modal when converting to a template or back to a canvas",function(){var he=Object(Rt.coroutine)(function*(D,ne,ve){let{fileId:h}=ve;D(Object(Ia.a)({element:t.a.createElement(vt,{fileId:h})}))});return function(D,ne,ve){return he.apply(this,arguments)}}());Ft.meta={name:"createThunk",key:"createThunkopenCanvasTemplateConvertSpeedbumpModal",description:"Open the canvas template speedbump modal when converting to a template or back to a canvas"};var ut=Ft,Ha=e("5yBE"),wa=e("KwZw");const rn=new j.b("slack-docs"),Pa="clear_canvas_contents",pa={title:`${Pa}-title-dialog`,description:`${Pa}-description-dialog`,cancel:`${Pa}-cancel-clear-button`,confirm:`${Pa}-confirm-clear-button`,toast:`${Pa}-confirmation-toast`},Tn={continueButton:{elementName:"clear_canvas_contents",onClick:{enableClogAction:!0}},cancelButton:{elementName:"cancel",onClick:{enableClogAction:!0}}};function un(he){let{docEmbed:D}=he;const ne=Object(l.i)(),[ve,h]=Object(a.useState)(!1),E=Object(a.useCallback)(()=>{ne(Object(It.a)())},[ne]),P=Object(a.useCallback)(()=>{D==null||D.docEditor.undo(),ne(Object(wa.a)())},[D,ne]),K=Object(a.useCallback)(()=>{const je=D==null?void 0:D.docEditor;if(!je)return;h(!0),je.clearDocContent(!0);const be=rn.t("Canvas cleared.",{fallbackHash:"e9b450d14bc2363d292c84f17cfad5cfbd58a458",fallbackHashNs:"lists"}),Ue=rn.t("Undo",{fallbackHash:"39fc72124884d6573e4f9f89585f071ed0782696",fallbackHashNs:"lists"}),ze={name:"check-circle"};ne(Object(W.a)({element:t.a.createElement(Zt.a,{svgIconProps:ze,duration:X.b,showCloseButton:!0,"data-qa":pa.toast},be," ",t.a.createElement(Ha.a,{onClick:P},Ue))})),E(),h(!1)},[D,E,P,ne]),ae=rn.t("Clear canvas?",{fallbackHash:"410bf23a3f080def9c7a976a16305bcde7943ed1",fallbackHashNs:"workflow_builder"}),se=s(()=>{const je=rn.t("Clearing your canvas will remove all content, but you can retrieve the contents from the version history.",{fallbackHash:"c043160a89ba0acd714977735d49455f662b1c79",fallbackHashNs:"lists"});return t.a.createElement(Fe.e,{id:pa.description},je)},"renderDescription");se.displayName="renderDescription";const ue=s(()=>t.a.createElement(Fe.h,null,t.a.createElement(F.a,{className:"margin_right_50",type:"outline",onClick:E,"data-qa":pa.cancel,autoClogProps:Tn.cancelButton},rn.t("Cancel")),t.a.createElement(F.c,{onClick:K,"data-qa":pa.confirm,loading:ve,autoFocus:!0,type:"danger",autoClogProps:Tn.continueButton},rn.t("Clear Canvas",{fallbackHash:"8090e64478d865d2fd0703e48324332f96c25261",fallbackHashNs:"canvas-tables"}))),"renderFooter");return ue.displayName="renderFooter",t.a.createElement(la.a,{eventId:k.EventId.QUIP_CANVAS_TEMPLATES,elementType:k.ElementType.MODAL,clogImpression:!0},t.a.createElement(Fe.a,{isOpen:!0,centered:!0,closeModal:E,showCloseButton:!0,dataQa:pa.description,contentLabel:ae,describedby:pa.description,shouldReturnFocusAfterClose:!1},t.a.createElement(Fe.i,null,t.a.createElement(Fe.l,{className:"padding_right_175 padding_bottom_50",title:ae,"data-qa":pa.title})),t.a.createElement(Fe.d,null,se()),t.a.createElement(Fe.g,null,ue())))}s(un,"CanvasClearContentsSpeedbump"),un.displayName="CanvasClearContentsSpeedbump";var ja=un;const ln=Object(At.c)("Open the clear canvas contents speedbump modal",function(){var he=Object(Rt.coroutine)(function*(D,ne,ve){let{docEmbed:h}=ve;D(Object(Ia.a)({element:t.a.createElement(ja,{docEmbed:h})}))});return function(D,ne,ve){return he.apply(this,arguments)}}());ln.meta={name:"createThunk",key:"createThunkopenCanvasClearContentsSpeedbumpModal",description:"Open the clear canvas contents speedbump modal"};var Hn=ln,Ga=e("9Gfp"),hn=e("NjAx"),ns=s((he,D)=>{if(!Object(Mt.a)(he))return!1;const ne=Object(b.e)(he,D);if(!ne||Object(Dt.a)(ne)||!Object(d.u)(ne)||Object(d.h)(ne)||Object(_.a)(he,{file:ne})||!Object(hn.C)(he))return!1;const h=Object(Ga.a)(he);return ne.user&&h===ne.user?!0:Object(d.Yb)(ne)},"canUserSaveCanvasAsTemplate"),Dn=e("XXd4"),_n=e("Qy8E"),gt=e("/Rv1"),cn=e("3VyW"),ss=e("tE27"),os=e("5ILa"),vn=e("uaYD"),fn=e("Ofo0"),vs=e("yhuY"),wn=e("3XPm"),Gs=e("Bnq6"),Rn=e("Ls/Y"),fs=e("hjzp"),Ta=e("rZ8V"),Vs=e("Iwbv"),Es=e("T1zM"),Os=e("JoR1"),ht=e("gBoP"),Ra=e("bTgy"),Ba=e("egsZ"),En=e("2VFn"),gs=e("uiBO"),qo=e("lqkv"),po=e("qN/r"),er=e("9Rsq"),tr=e("jGyd"),ar=e("XKGd"),zs=e("Z6bF"),bs=e("APmR"),vo=e("u/Sz");const ka=Object(At.c)(vo.a.SET_MUTE_CHANNEL_CANVAS_UPDATES,(he,D,ne)=>{let{channelId:ve,muteChannelCanvasUpdates:h}=ne;const E=D();if(!(Object(g.d)(E,"channel_canvas_updated_message")==="on"))return;let K;try{K=JSON.stringify({canvas:{mute_edit_updates:h}})}catch(ae){return Object(nt.b)({getState:D}).error(ae,"failed serializing new properties"),ae}return he(Object(bs.a)({channelId:ve,props:K,reason:"set_channel_canvas_open_by_default"}))});ka.meta={name:"createThunk",key:"createThunksetChannelPropertiesMuteCanvasUpdates",description:vo.a.SET_MUTE_CHANNEL_CANVAS_UPDATES};const Aa=new j.b("channel_details");function Gn(he){let{channelId:D}=he;const ne=Object(l.i)(),ve=Object(a.useCallback)(()=>ne(Object(It.a)()),[ne]),[h,E]=Object(a.useState)(!1),[P,K]=Object(a.useState)(!1),ae=Object(c.c)(Ue=>Object(le.d)(Ue,D)),se=Object(c.c)(Ue=>Object(g.d)(Ue,"channel_canvas_updated_message")==="on"),ue=Object(a.useCallback)(()=>{E(!0),K(!1),ne(ka({channelId:D,muteChannelCanvasUpdates:!0})).then(()=>{ve()}).catch(()=>{K(!0)}).finally(()=>{E(!1)})},[ne,D,ve]);if(!se)return null;const je="mute_channel_canvas_updates_title",be="mute_channel_canvas_updates_content";return t.a.createElement(Fe.a,{closeModal:ve,labelledby:je,describedby:be},t.a.createElement(Fe.i,null,t.a.createElement(Fe.l,{id:je,title:Aa.t("Mute channel canvas update messages?")})),t.a.createElement(Fe.d,null,t.a.createElement(Fe.e,null,P&&t.a.createElement(na.d,{level:"error",className:"margin_bottom_100"},Aa.t("Oops, something went wrong. Please try again.")),t.a.createElement("p",{id:be},Aa.rt("Channel canvas update messages will be muted for all members of {channel}.",{channel:t.a.createElement(St.a,{channel:ae,includeChannelPrefix:!0,displayFormerNames:!1})})))),t.a.createElement(Fe.g,null,t.a.createElement(Fe.h,null,t.a.createElement(F.f,{onClick:ve,type:"outline"},Aa.t("Cancel")),t.a.createElement(Fe.c,{autoFocus:!0,type:"primary",onClick:ue,loading:h},Aa.t("Save")))))}s(Gn,"MuteChannelCanvasUpdatesModal"),Gn.displayName="MuteChannelCanvasUpdatesModal";const Ys=Object(ge.a)(Gn);var nr=e("X1Cl");function xs(){return xs=Object.assign||function(he){for(var D=1;D<arguments.length;D++){var ne=arguments[D];for(var ve in ne)Object.prototype.hasOwnProperty.call(ne,ve)&&(he[ve]=ne[ve])}return he},xs.apply(this,arguments)}s(xs,"quip_overflow_actions_extends");const ke=new j.b("slack-docs"),fo={QUIP_OVERFLOW_ACTIONS_DELETE_CANVAS_BUTTON:"quip_overflow_actions_delete_canvas_button",QUIP_OVERFLOW_ACTIONS_DUPLICATE_CANVAS_BUTTON:"quip_overflow_actions_duplicate_canvas_button"},rs=s(he=>{let{fileId:D,fromPrimaryView:ne,fromGantry:ve,trigger:h,triggerClassName:E,truncatedActions:P,onCommentStreamClick:K,onAddHeaderImage:ae,onReplaceHeaderImage:se,onRemoveHeaderImage:ue,onRepositionHeaderImage:je,onPrint:be,lastReadTs:Ue,docEmbed:ze}=he;var Qe,Je,Ge;const Oe=Object(l.i)(),ft=Object(L.a)(),Kt=Object(c.c)(Vt.c),Ht=Object(c.c)(Be.a),Za=Object(c.c)(C.b),ea=Object(c.c)(Ke=>Object(g.d)(Ke,"canvas_collection_prototype")==="on"&&Object(Ta.q)(Ke)),La=Object(c.c)(C.q),qa=Object(c.c)(Ke=>Object(g.d)(Ke,"channel_canvas_share",!1)==="on"),Wa=Object(c.c)(Ke=>Object(g.d)(Ke,"canvas_sidebar_mix",!1)==="on"),va=Object(c.c)(Ke=>Object(g.d)(Ke,"channel_manager_chanvas_edits")==="on"),an=Object(c.c)(Ke=>Object(g.d)(Ke,"channel_manager_chanvas_ui")==="on"),_a=Object(c.c)(Qt.a),Sa=Object(c.c)(Ke=>Object(g.d)(Ke,"canvas_header_image")==="on"),Ma=Object(c.c)(Ke=>Object(g.d)(Ke,"canvas_printing")==="on"),Va=Object(c.c)(Ta.i),yn=Object(c.c)(Ke=>Object(g.d)(Ke,"canvas_clear_channel_content")==="on"),nn=Object(c.c)(Ke=>Object(g.d)(Ke,"channel_canvas_updated_message")==="on"),Qn=Object(c.c)(Ke=>Ve(Ke,D)),js=Object(c.c)(Ke=>ns(Ke,D)),ao=Object(c.c)(Ke=>Object(Xt.b)(Ke,D));var Bn;const In=Object(c.c)(Ke=>(Bn=Object(Os.u)(Ke,"seen_canvas_template_convert_action_new_badge"))!==null&&Bn!==void 0?Bn:!1);var Jn;const ms=Object(c.c)(Ke=>(Jn=Object(Os.u)(Ke,"seen_canvas_header_image_new_badge"))!==null&&Jn!==void 0?Jn:!1),kn=Object(c.c)(T.g),xt=Object(c.c)(Ga.a),{featureTinyspeck:jn}=Object(fe.a)(),Zn=Object(c.c)(O.f),us=Object(c.c)(Vs.a),Yt=Object(c.c)(Ke=>Object(b.e)(Ke,D)),Wn=Object(d.yb)(Yt),Uo=Object(ia.b)(Yt),dn=Object(a.useContext)(ot.a),{isChildWindow:no,isMainWindow:ks,getSiblingView:Bo,view:An}=Object(a.useContext)(Lt.a),Sn=Object(d.N)(Yt,kn);var Xn;const so=(Xn=Object(tn.a)(ze==null?void 0:ze.hasHeaderImage))!==null&&Xn!==void 0?Xn:!1,Ws=Object(Ra.a)(Yt),sn=Object(c.c)(Ke=>Bo(Ke,{container:En.k.Secondary})),oo=(sn==null?void 0:sn.viewType)===gs.c.QuipActivityHistory||(An==null||(Qe=An.params)===null||Qe===void 0?void 0:Qe.versionId)&&(An==null||(Je=An.params)===null||Je===void 0?void 0:Je.sequence),As=(sn==null?void 0:sn.viewType)===gs.c.QuipCommentStream,ro=(sn==null?void 0:sn.viewType)===gs.c.QuipAutomationsOverview,lo=Object(a.useCallback)(()=>{Oe(Object(fa.a)(!Object(d.Rb)(Yt),{file:Yt.id}))},[Oe,Yt]),ko=Object(a.useCallback)(Object(Rt.coroutine)(function*(){ft.track(k.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:k.UiAction.CLICK,ui_step:"save_template_overflow_menu"}}}),In||Oe(Object(Es.f)({pref:"seen_canvas_template_convert_action_new_badge",value:!0})),Oe(ut({fileId:D}))}),[ft,In,Oe,D]),Ss=Object(a.useCallback)(Object(Rt.coroutine)(function*(){ft.track(k.EventId.CANVAS_VARIABLES,{contexts:{ui_context:{action:k.UiAction.CLICK,ui_step:"open_canvas_automation"}}}),Oe(Object(Da.a)(Object(Ja.bb)({entityId:D,activeTab:Ba.a.DYNAMIC})))}),[ft,Oe,D]),Wo=Object(a.useCallback)(Object(Rt.coroutine)(function*(){ft.track(k.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:k.UiAction.CLICK,ui_step:"save_canvas_overflow_menu"}}}),Oe(ut({fileId:D}))}),[ft,Oe,D]),Fo=Object(c.c)(aa.a),{isChannelSpace:Ut,channelId:$n,spaceIsOpenByDefault:Fs,setSpaceIsOpenByDefault:io}=Object(oe.a)({fileId:D});let{canLockChannelSpace:Fn}=Object(ga.a)({fileId:D});const Ko=Object(a.useCallback)(Object(Rt.coroutine)(function*(){ze&&(ft.track(k.EventId.CANVAS_EDITOR_CLEAR_CONTENTS,{contexts:{ui_context:{action:k.UiAction.CLICK,ui_step:"menu-clear-canvas"}}}),Oe(Hn({docEmbed:ze})))}),[ft,Oe,ze]);va&&an&&(Fn=!!Yt.can_toggle_canvas_lock);const Ms=Object(c.c)(Ke=>Object(le.d)(Ke,$n)),qn=Wa&&!Ut?Object(fs.a)(D):void 0,Ho=Object(c.c)(Ke=>Wa&&qn?Object(le.d)(Ke,qn):void 0),{muteChannelCanvasUpdates:wo}=Object(zs.a)(Ms),hs=Object(c.c)(Ke=>Object(O.s)(Ke,Yt.user_team)),Go=Object(c.c)(Ke=>Object(os.a)(Ke,D)),vr=Object(M.D)(hs),Ns=Object(M.h)(hs);Object(wn.a)(hs?hs.id:"");const es=Object(c.c)(Ke=>Object(Gs.a)(Ke,D)),bn=Object(c.c)(Ke=>Object(Dn.a)(Ke,Ms)),{window:en,windowId:$e}=Object(a.useContext)(Ot.a),on=Object(c.c)(O.g),Mn=Object(M.H)(on),fr=Object(M.z)(on),{isLocked:Wr,toggleLockState:Er}=pt({channelId:$n,docEmbed:ze}),Ks=Object(I.b)($e),Fr=(ks||Ks)&&Ht&&Ut&&Object(Be.b)(),Or=!!Yt.most_recent_access_request_ts,{requestQuipAccess:Kr}=re(D,Or,!0),Hr=en!==oa.a||!za.a,Pr=ke.t("More options",{fallbackHash:"a1e34f91579d0900384176f8a467bf688034f1ee"}),co=Object(tn.a)(Object(ra.a)(en,D)),wr=Object(c.f)(Ke=>Object(Ca.b)(Ke,$e)),Vo=Object(c.c)(Ke=>Object(et.b)(Ke,D)),Hs=Object(c.f)(Ke=>Object(mn.b)(Ke,D,Ya.a.ephemeralMessage,!0)||void 0),Kn=Hs&&Hs[0],jr=!!(!(Kn==null||(Ge=Kn.ephemeralMessages)===null||Ge===void 0)&&Ge.length),Ar=js&&!Wn&&fr,Gr=js&&Wn&&fr&&!Ws,gr=Sa&&!co&&Object(d.Yb)(Yt),mo=Object(tr.a)(D),Vr=Object(ar.a)(mo,mo==null?void 0:mo.isEmpty)||!1,zr=yn&&Ut&&Object(De.db)(Ms)&&!co&&Object(d.Yb)(Yt),Yr=s(()=>{var Ke,Ds;return jr?t.a.createElement("div",{className:"p-quip_overflow_actions__app_notifications--container"},t.a.createElement("span",{className:"p-quip_overflow_actions__app_notifications--label"},ke.t("App notifications")),(Kn==null||(Ke=Kn.ephemeralMessages)===null||Ke===void 0?void 0:Ke.length)&&t.a.createElement(Cn.b,{count:Kn==null||(Ds=Kn.ephemeralMessages)===null||Ds===void 0?void 0:Ds.length,style:Cn.a.red,"data-qa":"app-notifications-badge"})):""},"appNotificationLabel"),Qr=s(()=>{Oe(Object(qt.a)({}))},"closePrimaryView"),br=s(()=>{const Ke={name:"trash"};Oe(Object(W.a)({element:t.a.createElement(qo.b,{svgIconProps:Ke,duration:X.b,position:"top-right"},t.a.createElement("div",{className:"bold"},ke.rt("This canvas was deleted.",{fallbackHash:"b1645b528f4f0b2fdadab80333cc1aa1ff22da5c",fallbackHashNs:"files"})))}))},"showDeleteConfirmationToast");br.displayName="showDeleteConfirmationToast";const Jr=s(()=>{if(ne)Qr();else if(en===oa.a)br(),en.history.state!==null&&en.history.back(),Oe(Object(gt.a)({shouldReplaceState:!0}));else if(Object(Qa.a)())br(),setTimeout(()=>{try{en.close()}catch{}},X.b/2);else{var Ke;(Ke=Object(ct.d)(en.document.documentElement))===null||Ke===void 0||Ke.focus()}},"onDelete"),fl=s(()=>{Object(ra.d)(en,D)},"toggleA11yReadOnlyMode"),Sr=s(()=>{Oe(Object(it.a)(Fo==="light"?"dark":"light"))},"onToggleDarkMode"),Zr=s(()=>{Ut&&qa&&D&&Oe(Object(fn.a)({fileId:D,entryPoint:"quip-overflow-actions"}))},"onForwardChannelCanvas"),zo=s(()=>{Fs?io(!1):Oe(Wt({fileId:D}))},"onToggleShowByDefault"),Xr=s(()=>{$n&&Oe(wo?ka({channelId:$n,muteChannelCanvasUpdates:!1}):Ys({channelId:$n}))},"onToggleMuteUpdateMessages"),uo=s(Ke=>{let{shouldOpenActivityHistory:Ds=!1,shouldOpenCommentStream:rl=!1}=Ke;Oe(Object(ca.a)({fileId:D,forceNewWindow:!0,source:$t.a.QUIP_FILE_ACTIONS,isChannelSpace:Ut,resetScroll:!1,shouldOpenActivityHistory:Ds,shouldOpenCommentStream:rl,lastReadTs:Ue}))},"openDocInNewWindow"),$r=s(()=>Oe(oo?Object(gt.a)():Object(vn.a)({fileId:D,isChannelSpace:Ut,isFromHuddle:Ks})),"onVersionHistoryClick"),qr=s(()=>{if(Qn)return Oe(Se({canvasFileId:D}))},"onDuplicateCanvas"),el=s(()=>Or?t.a.createElement("div",null,t.a.createElement("div",null,ke.t("You\u2019ve already asked for edit access.")),t.a.createElement("div",null,ke.t("You can send the owner a reminder."))):t.a.createElement("div",null,t.a.createElement("div",null,ke.t("You only have permission to view.")),t.a.createElement("div",null,ke.t("To make changes, ask editors for edit access."))),"getAccessIndicatorLabel"),tl=s(()=>Or?ke.t("Remind The Owner"):ke.t("Request Edit Access"),"getRequestEditAccessLabel"),Mr=s(()=>Object(jt.c)()===jt.a.SAFARI?ke.t("Ctrl R"):Object(jt.p)()?ke.t("\u2318 Option R"):ke.t("Ctrl Alt R"),"getA11yReadOnlyModeShortcut"),Cr=s(()=>La?bn?ke.t("Only the organization that owns this channel can modify this setting."):Fn?null:ke.t("Only editors can modify this setting."):null,"getAutoOpenDescription"),Nr=s(()=>nn?bn?ke.t("Only the organization that owns this channel can modify this setting."):Fn?null:ke.t("Only editors can modify this setting."):null,"getMuteCanvasUpdatesDescription"),al=s(Ke=>{ft.track(k.EventId.QUIP_SIDEBAR_MOVE_TO_SECTION,{contexts:{ui_context:{action:k.UiAction.SELECT,ui_component_variant:Ke}}})},"trackSidebarSectionClog"),nl=Object(a.useCallback)(()=>{ae&&(ms||Oe(Object(Es.f)({pref:"seen_canvas_header_image_new_badge",value:!0})),ae())},[ms,Oe,ae]),Tr=s(Ke=>t.a.createElement(Rn.b,xs({channel:Ho,reason:"section-select-from-overflow-menu",ignoreEditMode:!1,showRemoveFromSection:!1,shouldTransitionFocusOnClose:!1,width:"auto",clogTrack:al},Ke)),"renderSubmenuForSidebarMove");Tr.displayName="renderSubmenuForSidebarMove";const ua=s(Ke=>({elementName:Ke,onClick:{enableClogAction:!0},fileId:D,isChannelCanvas:Ut}),"autoClogProps"),sl=ea?ke.t("Add to starred"):"Add to starred",ol=ro?ke.t("Hide manage automations"):ke.t("Manage automations"),Dr=[{label:el(),key:"quip-access-indicator",show:!Ut&&!!(P!=null&&P.hasAccessIndicator),type:Ye.b.header},{label:tl(),key:"request-edit-access-button",click:Kr,show:!Ut&&!!(P!=null&&P.hasAccessIndicator)},{type:Ye.b.separator,key:"separator-main-menu",show:!Ut&&!!(P!=null&&P.hasAccessIndicator)},{label:ke.t("Copy link"),key:"copy",icon:t.a.createElement(f.a,{name:"link",size:"18"}),click:()=>Object(Gt.e)(Sn,Ks?en:void 0),show:!0,autoClogProps:ua("copy_link")},{label:Object(d.Nb)(Yt)?ke.t("Remove from Later"):ke.t("Save for later"),key:"save",icon:t.a.createElement(f.a,{name:"bookmark",size:"18"}),click:()=>{Object(d.Nb)(Yt)?Oe(Object(ht.i)({itemId:D})):Oe(Object(ht.b)({fileId:D}))},show:Kt&&!Object(d.Mb)(Yt)&&!Object(d.sb)(Yt),autoClogProps:Object(d.Nb)(Yt)?ua("remove_from_later"):ua("save_for_later")},{label:Vo?ke.t("Unstar canvas",{fallbackHash:"e9480d430bbdfa84ffd7e0dc85bd961687e2a662",fallbackHashNs:"channel_sidebar"}):sl,key:"canvas-collection",icon:t.a.createElement(f.a,{name:"star",size:"18"}),click:()=>{Vo?(Oe(Object(Le.c)({fileId:D})),Oe(Object(mt.a)({fileId:D,userId:xt}))):(Oe(Object(Le.b)({fileId:D})),Oe(Object(dt.a)({fileId:D,userId:xt})))},show:ea,autoClogProps:ua(Vo?"unstar":"star")},{label:Object(d.Rb)(Yt)?ke.t("Remove from saved items"):ke.t("Add to saved items"),key:"save",click:lo,show:!Ut&&!Kt&&!Wn},{type:Ye.b.separator,key:"separator-main-menu",show:Ut&&(Fn||La)||gr},{label:Wr?ke.t("Unlock edits"):ke.t("Lock edits"),key:"channel-canvas-lock",click:Er,show:Ut&&Fn,autoClogProps:ua("lock_edits")},{label:Sa?ke.t("Add cover image"):"",key:"add-cover-image",show:gr&&!so,click:nl,badgeLabel:!ms&&Ut?ke.t("NEW"):void 0,badgeClassName:"p-quip_overflow_actions__canvas_header_image_callout",autoClogProps:ua("add_cover_image")},{label:Sa?ke.t("Cover image"):"",type:Ye.b.submenu,key:"submenu-cover-image",show:gr&&so,template:[{label:Sa?ke.t("Replace"):"",key:"replace-cover-image",click:se,autoClogProps:ua("replace_cover_image")},{label:ke.t("Reposition",{fallbackHash:"3259cd5cf08a21d35e2a58a5be9a5df3529b8562",fallbackHashNs:"lists"}),key:"reposition-cover-image",click:je,autoClogProps:ua("reposition_cover_image")},{label:Sa?ke.t("Remove"):"",key:"remove-cover-image",click:ue,autoClogProps:ua("remove_cover_image")}]},{label:ke.t("Show by default"),description:Cr(),key:"channel-canvas-auto-open",click:zo,show:La&&Ut,type:Ye.b.checkbox,checked:Fs,disabled:!Fn||bn,className:"p-quip_overflow_actions__auto_open_item",autoClogProps:ua("show_by_default")},{label:nn?ke.t("Mute update messages"):"",description:Nr(),key:"channel-canvas-updates",click:Xr,show:nn&&Ut,type:Ye.b.checkbox,checked:wo,disabled:!Fn||bn,className:"p-quip_overflow_actions__auto_open_item",autoClogProps:ua("channel_canvas_updates")},{type:Ye.b.separator,key:"separator-canvas-customization",show:!0},{label:qa?ke.t("Forward channel canvas"):"",key:"channel-canvas-forward",click:Zr,show:qa&&Ut},{label:ke.rt("Pin to {eventName}",{eventName:Ns}),key:"pin-canvas-to-event",click:()=>{Object(vs.a)({dispatch:Oe,externalTeamId:hs.id,externalWorkspaceName:Ns,fileId:D,reason:"quip-overflow-actions-pin-canvas-to-external-workspace"})},show:Go&&!vr&&!es},{label:ke.rt("Unpin from {eventName}",{eventName:Ns}),key:"unpin-canvas-from-event",click:()=>{Object(vs.b)({dispatch:Oe,externalTeamId:hs.id,externalWorkspaceName:Ns,fileId:D,reason:"quip-overflow-actions-unpin-canvas-from-external-workspace"})},show:Go&&es},{label:As?ke.t("Hide all comments"):ke.t("Show all comments"),key:"comments",click:()=>{As?Oe(Object(gt.a)()):(Object(jt.i)()||Object(Qa.a)())&&Ut&&!no||Ks?uo({shouldOpenCommentStream:!0}):(Object(jt.i)()||Object(Qa.a)())&&Ut&&no?Oe(Object(Da.a)(Object(Ja.cb)(D,wr))):K?K():Oe(Object(cn.a)({fileId:D,shouldIncludeBack:!1}))},show:!Ut&&(Wn&&Object(d.Yb)(Yt)||!Wn)||Ut&&(Object(jt.i)()||Object(Qa.a)()),autoClogProps:ua("show_all_comments")},{label:oo?ke.t("Hide version history"):ke.t("View version history"),key:Nn.a,click:$r,show:ao&&Object(d.Yb)(Yt)&&(!Ut||Ut&&Fn&&(Object(jt.i)()||Object(Qa.a)())),autoClogProps:ua("view_version_history")},{label:ol,key:"automation",badgeLabel:ke.t("NEW"),show:fr&&(Za||!Ut)&&Object(d.Yb)(Yt),click:()=>{ro?Oe(Object(gt.a)()):Ss()},autoClogProps:ua("manage_automations")},{type:Ye.b.separator,key:"separator-file-actions",show:!Hr||Qn||Ar||Ma||Gr},{label:ke.rt("Make a copy"),key:"clone",dataQa:fo.QUIP_OVERFLOW_ACTIONS_DUPLICATE_CANVAS_BUTTON,click:qr,show:Qn&&!Wn,autoClogProps:ua("make_copy")},{label:ke.t("Create a new canvas"),key:"create-new-canvas",click:()=>{Oe(Object(_n.a)({source:Bt.a.HEADER_OVERFLOW_MENU,forceNewWindow:!0}))},shortcut:!Object(jt.c)()&&(Object(jt.p)()?ke.t("\u2318 Shift N"):ke.t("Ctrl Shift N")),show:!Mn&&!Ut&&!us&&!Wn,autoClogProps:ua("create_new")},{label:ke.t("Convert to a template"),key:"save-as-template",click:ko,show:Ar,badgeLabel:In?void 0:ke.t("NEW"),badgeClassName:"p-quip_overflow_actions__canvas_templates_callout"},{label:ke.t("Revert template to a canvas"),key:"revert-to-canvas",click:Wo,show:Gr,badgeClassName:"p-quip_overflow_actions__canvas_templates_callout"},{label:Ma?ke.t("Print canvas"):"",key:"print",click:be,show:Ma,autoClogProps:ua("print")},{label:ke.t("Share this canvas"),key:"share-space",click:P==null?void 0:P.onShare,show:!Ut&&!!P},{label:ke.t("Toggle dark mode"),key:"toggle-dark-mode",click:Sr,show:!Ut&&ve},{label:Yr(),key:"app-notifications",click:()=>{Oe(Object($a.a)({fileId:D}))},show:jr},{type:Ye.b.separator,key:"separator-accessibility",show:!0},{label:ke.t("Accessibility"),type:Ye.b.submenu,key:"submenu-accessibility",show:!0,template:[{label:ke.t("Keyboard Shortcuts"),key:"keyboard-shortcuts",click:()=>Oe(Object(ss.a)()),shortcut:Object(jt.p)()?ke.t("\u2318 /"):ke.t("Ctrl /"),autoClogProps:ua("toggle_keyboard_shortcuts")},{label:ke.t("Read only view"),key:"toggle-a11y-read-only-mode",click:fl,type:Ye.b.checkbox,checked:co,disabled:!Object(d.Yb)(Yt)||co===void 0,shortcut:Mr(),autoClogProps:ua("toggle_a11y_read_only_mode")}]},{label:ke.t("Open in new window"),icon:t.a.createElement(f.a,{name:"open-in-window",size:"16"}),className:"c-menu_item_action_button--with_icon_on_right",key:"open-in-new-window",click:()=>{uo({shouldOpenActivityHistory:!1})},show:Fr,autoClogProps:ua("open_in_new_window")},{label:Va?ke.t("Change system font"):"Change system font",key:"submenu-custom-typeface",show:Va,click:()=>Oe(Object(po.a)({activeSection:er.a.themes}))},{type:Ye.b.separator,key:"separator-report",show:_a},{label:ke.t("Report to Slack",{fallbackHash:"fed452c545e1032d4d547bc6b1fe8e6404917dfa"}),key:"report",click:()=>{Object(M.Y)(Zn,`/help/requests/report-content?u=${Sn}&type=canvas`)},show:_a,autoClogProps:ua("report_to_slack")},...Wa&&Ho?[{label:ke.t("Move to channel sidebar"),type:Ye.b.submenu,key:"submenu-sidebar-section-select",show:!Ut,renderSubmenu:Tr}]:[],{type:Ye.b.separator,key:"separator-copy-ID",show:jn},{label:Wn?ke.t("Copy template ID"):ke.t("Copy canvas ID"),key:"copy-canvas-id",show:jn,click:()=>Object(Gt.e)(D),autoClogProps:ua("copy_id")},{type:Ye.b.separator,key:"separator-delete",show:Uo.delete_file&&!Ut||zr},{label:ke.t("Clear canvas",{fallbackHash:"8090e64478d865d2fd0703e48324332f96c25261",fallbackHashNs:"canvas-tables"}),key:"menu-clear-canvas",click:Ko,show:zr,autoClogProps:ua("menu_clear_canvas"),disabled:Vr,danger:!0},{label:Wn?ke.t("Delete template"):ke.t("Delete canvas"),show:Uo.delete_file&&!Ut,danger:!0,dataQa:fo.QUIP_OVERFLOW_ACTIONS_DELETE_CANVAS_BUTTON,click:()=>Oe(Object(Ka.a)({fileId:D,channelId:dn==null?void 0:dn.channelId,threadTs:dn==null?void 0:dn.threadTs,msgFileTs:dn==null?void 0:dn.ts,viewContext:dn==null?void 0:dn.viewContext,isStackable:!0,onSuccessfulDelete:Jr})),autoClogProps:ua("delete")}].filter(Ke=>Ke.show),Rr=s(Ke=>t.a.createElement(la.a,{eventId:k.EventId.CANVAS_OVERFLOW_MENU,clogImpression:!0,elementName:k.UiComponentName.CANVAS_OVERFLOW_MENU,fileId:D,isChannelCanvas:Ut},t.a.createElement(da.a,xs({},Ke,{"aria-label":ke.t("More options"),menuClassNames:"p-quip_overflow_actions__menu",template:Dr,stripTerminalSeparators:!0,width:"max-content"}))),"renderMenu");return Rr.displayName="renderMenu",Object(d.ac)(Yt)?t.a.createElement(t.a.Fragment,null,Dr.length>0&&t.a.createElement(_t.a,{renderMenu:Rr,position:"bottom"},h||t.a.createElement(Pt.d,{tip:Pr,position:"bottom-right"},t.a.createElement(ya.a,{size:"small",icon:"vertical-ellipsis",className:E,"aria-label":Pr,"data-qa":"quip-overflow-menu"})))):null},"QuipOverflowActions");rs.displayName="QuipOverflowActions";var Cs=rs,sr=e("pFNT"),Eo=e("j4mf"),Qs=e("+tZp"),Oo=e("xwCZ"),go=e("UYKR");function Js(){return Js=Object.assign||function(he){for(var D=1;D<arguments.length;D++){var ne=arguments[D];for(var ve in ne)Object.prototype.hasOwnProperty.call(ne,ve)&&(he[ve]=ne[ve])}return he},Js.apply(this,arguments)}s(Js,"quip_presence_facepile_extends");const ls=new j.b("slack-docs"),or=5,bo=50,Ts=99,Co={size:26,isInteractive:!1},To=s(he=>{let{memberId:D,fileId:ne}=he;const ve=Object(c.c)(K=>Object(Oo.g)(K,D)),h=Object(c.c)(K=>Object(Qs.a)(K,ve)),E=Object(c.c)(K=>Object(go.a)(K,D,ne)),P=t.a.createElement("span",{className:"p-quip_presence_facepile__face__tooltip"},t.a.createElement("div",{className:"p-quip_presence_facepile__face__tooltip__name"},h),t.a.createElement("div",{className:"c-tooltip__subtitle"},E?ls.t("Editing"):ls.t("Viewing")));return t.a.createElement(Pt.d,{tip:P},t.a.createElement("div",{className:"p-quip_presence_facepile__face","data-qa":"quip-presence-facepile-face","data-mode":`${E?"editing":"viewing"}`},t.a.createElement(sr.c,Js({userId:D},Co))))},"Face");To.displayName="Face";const _o=s(he=>{let{memberIds:D,maxPileCount:ne,fileId:ve}=he;if(!D.length)return null;const h=D.length>ne?D.slice(0,ne-1):D.slice(0,ne);return t.a.createElement("div",{className:"p-quip_presence_facepile__faces"},h.map(E=>t.a.createElement(To,{key:E,memberId:E,fileId:ve})).reverse())},"Faces");_o.displayName="Faces";const rr=s(he=>{let{memberId:D}=he;const ne=Object(c.c)(h=>Object(Oo.g)(h,D)),ve=Object(c.c)(h=>Object(Qs.a)(h,ne));return t.a.createElement(t.a.Fragment,null,ve)},"OtherTooltipUserName"),yo=s(he=>{let{memberIds:D,maxPileCount:ne}=he;if(D.length<=ne)return null;const ve=D.slice(ne,bo+ne).map(K=>t.a.createElement(rr,{key:K,memberId:K})),h=D.length-(ne-1);h>bo&&ve.push(ls.rt("others"));const E=Object(j.h)(ve,{react:!0}),P=t.a.createElement("span",{className:"p-quip_presence_facepile__count__tooltip"},t.a.createElement("div",null,ls.t("Other members are in here")),t.a.createElement("div",{className:"c-tooltip__subtitle"},ls.rt("Includes {names}",{names:E})));return t.a.createElement(Pt.d,{tip:P},t.a.createElement("div",{className:Object(u.default)("p-quip_presence_facepile__count",{"p-quip_presence_facepile__count--wide":h>9}),"data-qa":"quip-presence-facepile-count"},h>Ts?ls.t("{count}+",{count:Object(Eo.a)(Ts)}):Object(Eo.a)(h)))},"OtherCount");yo.displayName="OtherCount";const _s=s(he=>{let{fileId:D,className:ne,maxPileCount:ve=or,round:h=!0}=he;const E=Object(c.c)(P=>Object(go.b)(P,D));return!E||!E.length?null:t.a.createElement("div",{className:Object(u.default)("p-quip_presence_facepile",ne,{"p-quip_presence_facepile--round":h})},t.a.createElement(_o,{memberIds:E,maxPileCount:ve,fileId:D}),t.a.createElement(yo,{memberIds:E,maxPileCount:ve}))},"QuipPresenceFacepile");_s.displayName="QuipPresenceFacepile";var Io=_s,Po=e("82u4"),jo=e("E97Y"),lr=e("9068");function Zs(he){const D=Object(c.c)(ne=>he&&Object(b.e)(ne,he));return D&&Object(lr.a)(D)&&D.updated&&D.created?D.updated.toString().slice(0,9)!==D.created.toString().slice(0,9):!1}s(Zs,"useHasFileBeenEdited");var is=e("WE1w"),cs=e("D+av"),ir=e("eWGC"),cr=e("69o4"),Xs=e("q6Tz"),On=e("uVZW"),Ao=e("03PU"),Ln=e("r/G2"),dr=e.n(Ln),ys=e("0PqH"),mr=e("7+Lm"),So=e("o3gz");const xn=new j.b("slack-docs"),Mo=s(()=>t.a.createElement("div",{className:"p-user_created_template_coachmark__hero"},t.a.createElement("img",{src:dr.a,alt:xn.t("Guide for converting canvas to template"),className:"p-user_created_template_coachmark__hero__image"})),"HeroImage"),$s=s(he=>{let{children:D,fileId:ne}=he;const ve=Object(l.i)(),h=Object(c.c)(be=>Object(b.e)(be,ne)),E=Object(d.yb)(h),P=Object(c.c)(be=>Object(ys.a)(be,h)),ae=Object(c.c)(be=>Object(mr.c)(be,On.g.CANVAS_TEMPLATE))===On.h.USER_CREATED_TEMPLATE_COACHMARK,se=P&&!E&&ae;Object(a.useEffect)(()=>{se&&ve(Object(ir.a)({action:On.f.IMPRESSION,notificationName:On.h.USER_CREATED_TEMPLATE_COACHMARK}))},[ve,se]);const ue=Object(a.useCallback)(Object(Rt.coroutine)(function*(){yield ve(Object(cr.a)({spaceName:On.g.CANVAS_TEMPLATE,action:On.f.DISMISS})),ve(Object(Xs.c)({event:{type:On.e.REQUEST_SPACES,spaces:[On.g.CANVAS_TEMPLATE]}}))}),[ve]),je=Object(a.useMemo)(()=>t.a.createElement(So.b,{isOpen:ae,arrowPosition:95,className:"p-user_created_template_coachmark",hero:t.a.createElement(Mo,null),title:xn.t("Create custom templates for your team"),bodyText:xn.t("Now you can make it easy for people to use consistent formats for things like reports, newsletters, or briefs."),primaryCallToActionText:xn.t("Done"),onClickPrimaryButton:ue,closeCoachmark:ue,alignActionsRight:!0,offsetX:-8,isMegaphoneCoachmark:!0}),[ae,ue]);return se?t.a.createElement(Ao.c,{coachmarkElement:je,orientation:Ao.a.BottomLeft,coachmarkAnchorClassNames:"p-user_created_template_coachmark__anchor"},D):t.a.createElement(t.a.Fragment,null,D)},"UserCreatedTemplateCoachmark");$s.displayName="UserCreatedTemplateCoachmark";var ur=e("Zw6N"),hr=e("SwdH"),Vn=e("afXM");const Un=new j.b("slack-docs"),zn=400,No=function(){var he=Object(Rt.coroutine)(function*(D){let ne=0;return new q.a((ve,h)=>{D||h(new Error("converting a template to a canvas - no editor was passed in"));const E=setInterval(Object(Rt.coroutine)(function*(){(yield q.a.all([D==null?void 0:D.getIsDirty(),D==null?void 0:D.getIsPending()])).every(K=>K===!1)?(clearInterval(E),ve(!0)):ne+=1,ne>=zn&&(clearInterval(E),h(new Error("converting a template to a canvas - exceeded max attempts for clean document check")))}),300)})});return s(function(ne){return he.apply(this,arguments)},"waitTillClean")}(),Do=s(he=>{let{file:D,innerRef:ne,editor:ve,isCannedTemplate:h,setIsTemplateInEditMode:E,experimentCanvaseTemplatesViewModeGroupOn:P,setIsLoadingUseTemplate:K}=he;const ae=Object(l.i)(),se=Object(L.a)(),ue=Object(hr.a)(),je=D==null?void 0:D.id,be=Object(u.default)("p-quip_flexpane__share_button",{margin_left_50:!Object(d.Yb)(D)}),Ue=Un.t("There was a problem converting the canvas to a template. Try again in a few minutes."),ze=Object(a.useCallback)(Object(Rt.coroutine)(function*(){K==null||K(!0),se.track(k.EventId.QUIP_CANVAS_TEMPLATES,{contexts:{ui_context:{action:k.UiAction.CLICK,ui_step:"use_template_action_items"}},canvas_type:"standalone",canvas_template_type:h?"canned":"custom",...h&&(D!=null&&D.template_name)?{canvas_template_label:D==null?void 0:D.template_name}:{},file_id:je});try{yield No(ve),yield ae(Object(ur.a)({templateFileId:je,isStandaloneCanvas:!0})),E&&P&&E(!0)}catch(Qe){ue.error(new Error(Qe));const Je={name:"warning"};ae(Object(W.a)({element:t.a.createElement(Vn.a,{message:Ue,svgIconProps:Je})}))}finally{K==null||K(!1)}}),[K,se,h,D==null?void 0:D.template_name,je,ve,ae,E,P,ue,Ue]);return t.a.createElement(F.a,{size:"small",onClick:ze,"aria-label":Un.t("Use template"),className:be,ref:ne,type:"outline","data-qa":"use_template"},t.a.createElement("span",null,Un.t("Use template")))},"UseTemplateButton");Do.displayName="UseTemplateButton";var qs=Do,Us=e("ME/4"),Is=e("+4XL"),Ro=e("83nZ"),Ps=e("NgZ7"),pr=e("IaLB");const Yn=new j.b("solution-guide"),eo=new j.b("slack-docs"),Lo=s(he=>{let{fetched:D,fileId:ne,canvasName:ve="",view:h,isEdited:E,renderSharePrimaryButton:P,renderSharePrimaryButtonContent:K,isPrivate:ae}=he;const se=Object(c.c)(ea=>Object(g.d)(ea,"solution_guide_translations")==="on"),ue=Object(c.c)(Is.f),je=Object(c.c)(Is.g),be=Object(c.c)(Is.b),Ue=Object(c.c)(ea=>Object(Ps.a)(ea,"has_seen_solution_guide_canvas_share_tip")),ze=Object(c.c)(pr.o),Qe=Object(l.i)(),Je=Object(a.useMemo)(()=>ue&&(je||be),[je,ue,be]),Ge=Object(a.useMemo)(()=>E&&Je&&!Ue,[E,Je,Ue]),[Oe,ft]=Object(a.useState)(!1),Kt=Object(a.useCallback)(ea=>{ea==null||ea.stopPropagation(),ft(!1)},[]);Object(a.useEffect)(()=>()=>{Je&&Qe(Object(Xs.c)({event:{type:On.e.SOLUTION_GUIDE_CANVAS_CLOSED}}))},[Qe,Je]);const Ht=Object(a.useCallback)(()=>{let ea,La;return Je&&(ea=se?Yn.t("Hey team! \u{1F44B} Just created this {title}, sharing early for collaboration!",{title:ve?Yn.t("{canvasTitle} canvas",{canvasTitle:ve.toLowerCase()}):Yn.t("canvas")}):"",La=ze),Qe(Object(S.b)({fileId:ne,isStackable:!1,initialContents:ea,initialChannelId:La}))},[Qe,ne,Je,ze,se,ve]),Za=Object(a.useCallback)(()=>{Ht(),Kt()},[Ht,Kt]);return Object(a.useEffect)(()=>{D&&Ge&&!Oe&&(ft(!0),Qe(Object(Ro.a)({pref:"has_seen_solution_guide_canvas_share_tip",value:!0})))},[D,Ge,Oe,h,je,Qe]),Oe?t.a.createElement("div",{className:"p-quip_share_tip___tip_wrapper"},t.a.createElement(ya.a,{backgroundStyle:"dark",className:"p-quip_share_tip___button_close",size:"small","aria-label":se?Yn.t("close"):"",onClick:Kt},t.a.createElement(f.a,{name:"close",size:"16",inline:!0})),t.a.createElement(F.d,{className:"p-quip_share_tip___button_wrapper",onClick:Za,"aria-label":Yn.t("Share canvas with your team"),"aria-description":ae?eo.t("Private to only you"):null},t.a.createElement("div",{className:"p-quip_share_tip___button"},t.a.createElement("span",{className:"p-quip_share_tip___button_text"},se?Yn.t("Share canvas with your team"):"")),t.a.createElement("div",{className:"p-quip_share_tip___share_button_wrapper"},t.a.createElement("div",{className:"c-button c-button--outline c-button--small p-quip_flexpane__share_button"},K())))):P({onShareClick:Ht})},"QuipSharePrimaryButtonTip");Lo.displayName="QuipSharePrimaryButtonTip";var Ir=e("J4K5");function ds(){return ds=Object.assign||function(he){for(var D=1;D<arguments.length;D++){var ne=arguments[D];for(var ve in ne)Object.prototype.hasOwnProperty.call(ne,ve)&&(he[ve]=ne[ve])}return he},ds.apply(this,arguments)}s(ds,"quip_action_items_extends");const gn=new j.b("slack-docs"),Bs=310;var Pn;(function(he){he.VIEW_ONLY="view-only",he.SHARE="share",he.OVERFLOW="overflow",he.COMMENT_STREAM="comment_stream",he.OPEN_IN_NEW_WINDOW="open-in-new-window",he.USE_TEMPLATE="use-template",he.EDIT_TEMPLATE="edit-template"})(Pn||(Pn={}));const xo=s(he=>{let{fileId:D,fromPrimaryView:ne,shouldTruncate:ve,onCommentStreamClick:h,onEditTemplate:E,isTemplateInEditMode:P,setIsTemplateInEditMode:K,columnWidth:ae,docEmbed:se,lastReadTs:ue,setIsLoadingUseTemplate:je,titleRef:be,canvasIsLayeredInChannelCanvas:Ue,isTemplatePreview:ze}=he;const Qe=Object(l.i)(),Je=Object(a.useCallback)(()=>Qe(Object(S.b)({fileId:D,isStackable:!1})),[Qe,D]),Ge=Object(c.c)($e=>Object(b.e)($e,D)),Oe=Object(d.yb)(Ge),ft=Object(d.xb)(Ge),{isChannelSpace:Kt,spaceIsEmpty:Ht}=Object(oe.a)({fileId:D}),[Za,ea]=Object(a.useState)(!1),La=Object(L.a)(),qa=Object(c.c)(Be.a),Wa=Object(c.c)(Ta.q),va=Object(c.c)(C.o),an=Object(c.c)($e=>Object(g.d)($e,"canvas_header_image")==="on"),_a=Object(c.c)($e=>Object(g.d)($e,"canvas_collection_prototype")==="on"),Sa=Object(c.c)($e=>Object(g.d)($e,"canvas_printing")==="on"),Ma=Object(c.c)($e=>Object(g.d)($e,"chanvas_updates_to_channel")==="on"),Va=Object(c.c)(Is.f),yn=Object(c.c)($e=>Object(et.b)($e,D)),nn=Object(c.c)(Ga.a),Qn=Object(c.c)($e=>Object(le.d)($e,Ge.linked_channel_id)),{windowId:js,activeTab:ao,closeView:Bn}=Object(a.useContext)(Lt.a),In=Object(I.b)(js.toString()),Jn=Object(c.c)(O.g),ms=Object(M.z)(Jn),kn=Object(M.H)(Jn),xt=Object(c.c)(T.i),jn=Object(d.N)(Ge,xt,""),Zn=Ge==null?void 0:Ge.user_team,us=Object(c.c)($e=>Zn?Object(O.s)($e,Zn):null);var Yt;const Uo=((Yt=Object(M.k)(us??void 0))!==null&&Yt!==void 0?Yt:Zn)!==xt,{isChildWindow:dn,container:no,view:ks}=Object(a.useContext)(Lt.a),{window:Bo}=Object(a.useContext)(Ot.a),An=Object(a.useRef)(null);let Sn=Pn.SHARE,Xn;Object(a.useEffect)(()=>{if(Za)return;let $e=!0;return Qe(Object(Z.d)({fileId:D,reason:"quip-action-item-file"})).finally(()=>{$e&&ea(!0)}),()=>{$e=!1}},[Za,D,Qe]),Object(a.useEffect)(()=>{_a&&Qe(Object(cs.a)())},[Qe,_a]);const so=kn&&ne,Ws=Ge&&!!Ge.access&&!Object(d.Yb)(Ge),sn=s(()=>Ge&&Oe&&!kn&&!Uo&&(ms||ft)&&!ze,"shouldShowUseTemplateButton");Ws?Sn=Pn.VIEW_ONLY:sn()&&(Sn=Pn.USE_TEMPLATE);const oo=Object(c.c)($e=>Object(d.Y)(Ge).filter(on=>{const Mn=Object(le.d)($e,on);return Object(jo.k)(Mn)}).length>0),As=Object(a.useMemo)(()=>!Object(d.D)(Ge).filter(on=>on.user_id!==Ge.user).length&&!Object(d.Z)(Ge).length&&!oo&&!Object(d.hb)(Ge)&&!Object(d.Cb)(Ge),[Ge,oo]),ro=s(()=>t.a.createElement(t.a.Fragment,null,As&&t.a.createElement(f.a,{name:"lock",size:"16",inline:!0}),t.a.createElement("span",{className:Object(u.default)({margin_left_25:As})},gn.t("Share"))),"renderSharePrimaryButtonContent"),lo=s(function(){let{onShareClick:$e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return so||ze?null:t.a.createElement(F.f,{size:"small",onClick:$e??Je,"aria-label":gn.t("Share"),className:"p-quip_flexpane__share_button","aria-description":As?gn.t("Private to only you"):null,ref:Sn===Pn.SHARE?An:null,type:"outline","data-qa":"share_file"},ro())},"renderSharePrimaryButton");lo.displayName="renderSharePrimaryButton";const ko=s(()=>{const $e=Object(d.Yb)(Ge);return!va||P||!sn()||!$e?null:t.a.createElement(F.f,{size:"small",onClick:E,"aria-label":gn.t("Edit template"),className:"p-quip_flexpane__share_button",ref:Sn===Pn.EDIT_TEMPLATE?An:null,type:"outline","data-qa":"edit_template"},t.a.createElement("span",null,gn.t("Edit template")))},"renderEditTemplateButton");ko.displayName="renderEditTemplateButton";const Ss=s(()=>!Ws||sn()||ze?null:t.a.createElement(Et,{fileId:D,className:"margin_right_50 margin_left_50",ref:Sn===Pn.VIEW_ONLY?An:null}),"renderViewOnlyButton");Ss.displayName="renderViewOnlyButton";const Wo=s(()=>t.a.createElement(Io,{className:"margin_right_75",fileId:D}),"renderPresence");Wo.displayName="renderPresence";const Fo=Zs(D),Ut=s(()=>ft||!Fo||so?null:t.a.createElement(Po.a,{fileId:D,className:"margin_right_125"}),"renderLastUpdatedText");Ut.displayName="renderLastUpdatedText";const $n=s(()=>{const $e=!!Ss();return!Kt&&!Ue||$e||Ht||In?null:t.a.createElement(Po.a,{className:"p-quip_flexpane__channel_canvas_last_updated",fileId:D,showEditors:!!ae&&ae>Bs,editorAvatarSize:16,shouldTruncate:!0,shouldOpenVersionHistory:!0,onlyShowIfRecent:!0})},"renderChannelCanvasLastUpdated");$n.displayName="renderChannelCanvasLastUpdated";const Fs=Object(a.useCallback)(()=>{La.track(k.EventId.QUIP_DOC_OPEN,{contexts:{ui_context:{ui_properties:{element_name:"popout_window"},ui_component_name:k.UiComponentName.QUIP_NEW_WINDOW_EMBED,ui_step:k.UiStep.QUIP_OPEN_STEP},core:{quip_file_id:D,file_id:D}}})},[D,La]),io=s(()=>!qa||!Object(Be.b)()?null:!Wa||dn&&!In||Kt||Ue?!1:ze?null:t.a.createElement(ee.a,{view:Object(N.h)({id:D}),containerOrigin:"primary",onOpen:Fs,size:"small"}),"renderOpenInNewWindowButton");io.displayName="renderOpenInNewWindowButton";const Fn=Object(a.useCallback)(()=>{Bn&&Bn()},[Bn]),Ko=s(()=>{var $e,on;const Mn=gn.t("Close",{fallbackHash:"a61d76800617da013fea727ad237bb7942e1601c",fallbackHashNs:"view-header"});return(ks==null||($e=ks.params)===null||$e===void 0||(on=$e.clogParams)===null||on===void 0?void 0:on.source)===$t.a.OPEN_DOC_FROM_LIST||Bn&&no===En.k.Primary&&ao===En.f.Search?t.a.createElement(Pt.d,{tip:Mn,position:"bottom-right",delay:Pt.a,hideFromScreenReader:!0},t.a.createElement(ya.a,{onClick:Fn,"aria-label":Mn},t.a.createElement(f.a,{name:"close",size:"18"}))):null},"renderCloseViewButton");Ko.displayName="renderCloseViewButton";const Ms=s(()=>{if(!_a||no===En.k.Secondary||In)return null;const $e=yn?gn.t("Unstar canvas",{fallbackHash:"93e94f724aa0b422a907e5fb9bebd8af63552e18"}):gn.t("Add to starred",{fallbackHash:"cb10094b81decc742ca8ff781bba6eccf7dc607e"}),on=yn?()=>{Qe(Object(Le.c)({fileId:D})),Qe(Object(mt.a)({fileId:D,userId:nn}))}:()=>{Qe(Object(Le.b)({fileId:D})),Qe(Object(dt.a)({fileId:D,userId:nn}))},Mn=yn?t.a.createElement(f.a,{name:"star",size:"18",variation:"filled",color:"#F2C744"}):t.a.createElement(f.a,{name:"star",size:"18"});return t.a.createElement(Pt.d,{tip:$e,position:"bottom-right"},t.a.createElement(ya.a,{size:"small","aria-label":$e,"data-qa":"quip-overflow-menu",onClick:on},Mn))},"renderFavoriteCanvasButton");Ms.displayName="renderFavoriteCanvasButton";const qn=s(()=>{if(!Ma||ze)return null;const $e=gn.t("Copy canvas link"),on=Object(jo.h)(Qn)?gn.t("DM canvas link copied to clipboard"):gn.t("Channel canvas link copied to clipboard"),Mn=s(()=>{Object(Gt.e)(jn),La.track(k.EventId.CANVAS_CHANNEL_CANVAS_COPY_LINK,{contexts:{core:{quip_file_id:D,file_id:D}}}),Qe(Object(W.a)({element:t.a.createElement(Zt.a,null,t.a.createElement("span",null,on))}))},"onClick");return Mn.displayName="onClick",t.a.createElement(Pt.d,{tip:$e,position:"bottom-right"},t.a.createElement(ya.a,{size:"small","aria-label":$e,"data-qa":"quip-overflow-menu",onClick:Mn},t.a.createElement(f.a,{name:"link",size:"18"})))},"renderShareChannelCanvasLink");qn.displayName="renderShareChannelCanvasLink";const Ho=Object(is.g)(),wo=s(()=>{an&&se!=null&&se.docEditor&&Object(is.c)(se.docEditor,Ho,is.a.CANVAS_OVERFLOW_MENU)},"onAddHeaderImage"),hs=s(()=>{var $e;an&&(se==null||($e=se.docEditor)===null||$e===void 0||$e.openHeaderImagePicker())},"onReplaceHeaderImage"),Go=s(()=>{an&&se!=null&&se.docEditor&&Object(is.f)(se.docEditor,is.a.CANVAS_OVERFLOW_MENU)},"onRemoveHeaderImage"),vr=s(()=>{var $e;an&&(se==null||($e=se.docEditor)===null||$e===void 0||$e.repositionHeaderImage())},"onRepositionHeaderImage"),[Ns,es]=Object(a.useState)(!1);Object(a.useEffect)(()=>{!Ns||!Sa||!se||(Qe(Object(Us.a)({docEmbed:se,window:Bo,fileId:D})),es(!1))},[Ns,Sa,Qe,se,Bo,D]);const bn=Object(a.useCallback)(()=>{es(!0),La.track(k.EventId.CANVAS_PRINTING,{contexts:{ui_context:{action:k.UiAction.CLICK,ui_step:"print_canvas"}},file_id:D})},[La,D]);if(Object(v.e)(Ge)||!Object(d.ac)(Ge))return null;const en={onCommentStreamClick:h,onAddHeaderImage:wo,onRemoveHeaderImage:Go,onReplaceHeaderImage:hs,onRepositionHeaderImage:vr,onPrint:bn,lastReadTs:ue,docEmbed:se};return ne&&(en.fromPrimaryView=ne),Kt||Ue?Xn=t.a.createElement(t.a.Fragment,null,$n(),Ss(),Ms(),qn(),t.a.createElement(Cs,ds({fileId:D},en,{triggerClassName:"p-quip_flexpane__menu_trigger"}))):(Xn=t.a.createElement(t.a.Fragment,null,Ut(),Wo(),Ss(),sn()&&t.a.createElement(qs,{file:Ge,editor:se==null?void 0:se.docEditor,isCannedTemplate:ft,setIsTemplateInEditMode:K,experimentCanvaseTemplatesViewModeGroupOn:va,innerRef:Sn===Pn.USE_TEMPLATE?An:null,setIsLoadingUseTemplate:je}),Va&&t.a.createElement(Lo,{fetched:Za,fileId:D,canvasName:Ge.title,view:ks,renderSharePrimaryButton:lo,renderSharePrimaryButtonContent:ro,isPrivate:As,isEdited:Fo}),!Va&&lo(),ko(),Ms(),io(),!ze&&t.a.createElement($s,{fileId:D},t.a.createElement(Cs,ds({fileId:D},en,{triggerClassName:"p-quip_flexpane__menu_trigger"}))),Ko()),ve&&(en.truncatedActions={onShare:Je,hasAccessIndicator:!!Ss()},Xn=t.a.createElement(t.a.Fragment,null,t.a.createElement($s,{fileId:D},t.a.createElement(Cs,ds({fileId:D},en,{triggerClassName:"p-quip_flexpane__menu_trigger"}))),io()))),t.a.createElement("div",{className:Object(u.default)("p-quip_flexpane__action_items",{"p-quip_flexpane__action_items--max-width":!ae||ae>Bs,"p-quip_flexpane__action_items--smaller-max-width":ae&&ae<=Bs}),ref:be},Xn)},"QuipActionItems");xo.displayName="QuipActionItems";var to=i.a=Object(G.a)(xo)},j0Mw:function(Y,i,e){"use strict";e.d(i,"a",function(){return g});var a=e("mQiU"),t=e("mLC8"),l=e("QKxg"),u=e("q1tI"),c=e.n(u);function g(b){let{visible:S,upToDate:v,remove:T,viewName:I,requiredSync:d}=b;const{activeTab:f,view:C,navigationTraceId:j}=Object(u.useContext)(a.a),N=C==null?void 0:C.viewType;return!f||!N||!j?null:c.a.createElement(l.a,{label:t.a.Navigation,id:j,visible:S,upToDate:v,remove:T,viewName:I,requiredSync:d})}s(g,"TraceNavigation")},k7gI:function(Y,i,e){"use strict"},lIpX:function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("ifKl"),u=e("/MKj"),c=e("Trx9"),g=e("ktUG"),b=e("zxER"),S=e("f8uM"),v=e("CnKg"),T=e("HKlo"),I=e("0Em0"),d=e("kBd7"),f=e("qMw6"),C=e("2IFS"),j=e("tx5B"),N=e("iODX"),O=e("mQiU"),M=e("RVJP"),L=e("E3dU"),k=e("uSwR"),F=e("Z6bF"),ee=e("nNoG"),oe=e("Wn1n"),G=e("gfjo"),x=e("Zbwg"),U=e("HhYj"),H=e("NqZR"),p=e("68qM"),_=e("LK2A"),V=e("RcHn"),R=e("FgD2"),w=e("7ibc"),Q=e("Zw6N"),re=e("iy1k"),de=e("somW"),Ne=e("BHdc"),ye=e("D9/R"),le=e("m7qY"),De=e("JcUk"),Ae=e("AArn"),Ie=e("kN6v"),He=e("dmdh"),We=e("gast"),Me=e("c+5m"),Xe=e("hBut"),Ct=e("l1I1"),Pt=e("qDEp"),qe=e("37+L"),Tt=e("I0j/"),Ze=e("x6tY"),ta=e("+oez");function Et(){return Et=Object.assign||function(ra){for(var ct=1;ct<arguments.length;ct++){var Dt=arguments[ct];for(var Mt in Dt)Object.prototype.hasOwnProperty.call(Dt,Mt)&&(ra[Mt]=Dt[Mt])}return ra},Et.apply(this,arguments)}s(Et,"_extends");const Rt=new ee.b("slack-docs");function Xt(ra){let{entityId:ct,transitionFocusTo:Dt,hideToolbar:Mt,uiComponentName:zt,refToForward:Ve,getCommentsUiProvider:At,inFlexpane:ha,versionId:la,sequence:ma,isTemplateInEditMode:Ia,lastReadTs:Ua,onQuipRender:Re,onScroll:me,isTemplatePreview:ce}=ra;var _e,Ce;const Ee=Object(u.i)(),Se=Object(b.c)(w.n),fe=Object(b.c)(ht=>Object(M.d)(ht,"view_header_overflow_borders")==="on"),[et,dt]=Object(a.useState)(null),mt=Object(b.c)(ht=>Object(M.d)(ht,"canvas_template_channel_preview")==="on"),[Le,Be]=Object(a.useState)(!1),[Zt,X]=Object(a.useState)(!1),[W,Z]=Object(a.useState)(!1),[q,z]=Object(a.useState)(!0),[pe,xe]=Object(a.useState)(!1),[we,rt]=Object(a.useState)(!1),[lt,st]=Object(a.useState)(!1),[Pe,vt]=Object(a.useState)(null),{fileIdOrQuipThreadId:Ft}=Object(v.i)(ct),{channelId:ut,isChannelSpace:Ha,isDeletedChannelCanvas:wa}=Object(I.a)({fileId:Ft}),rn=Object(b.c)(oe.a),Pa=Object(b.c)(ht=>ut?Object(L.d)(ht,ut):Object(x.a)(rn)?Object(L.d)(ht,rn):null),pa=Object(F.a)(Pa),Tn=pa==null?void 0:pa.fileId,{channelCanvasHasContent:un,isLoaded:ja}=Object(V.a)({channelId:ut}),ln=Object(a.useContext)(Ae.a),Hn=Object(Ie.a)(Pe==null?void 0:Pe.textSectionOverlayShowing),Ga=Object(b.c)(ht=>Object(He.e)(ht,Ft)),hn=Object(b.c)(We.a),[pn,ns]=Object(a.useState)(null),[Dn,_n]=Object(a.useState)(null),{view:gt}=Object(a.useContext)(O.a),cn=ce&&Object(Ze.yb)(Ga)?Ga.id:null,ss=ce&&(gt==null||(_e=gt.prev)===null||_e===void 0||(Ce=_e.params)===null||Ce===void 0?void 0:Ce.channelId);Object(a.useEffect)(()=>{typeof Hn=="boolean"&&z(Hn)},[Hn]),Object(le.a)(Pe,()=>{Pe&&(un&&Be(!0),Z(!0))}),Object(a.useEffect)(()=>{Ha&&!un&&W&&!Le&&(Pe==null||Pe.docEditor.focusEditor(),Be(!0))},[Ha,ln,un,W,Le,Pe]),Object(a.useEffect)(()=>{(wa||ja&&un||pn)&&dt(null)},[ja,un,wa,pn]);const os=Object(a.useCallback)(ht=>{if(Se&&ut){ht==null||ht.focusEditor();const Ra=Object(De.a)(ut);ht==null||ht.insertSlackObject(Ra)}},[ut,Se]),vn=Object(a.useCallback)((ht,Ra)=>{const Ba=ht==null?void 0:ht.docEditor;let En=Ra;Se&&Ra==="smart-cards"&&(En=_.TemplateTriggerType.BLANK_PAGE),En===_.TemplateTriggerType.BLANK_PAGE&&Ba.insertContentFromTemplate(En),Dt({focusKey:T.c.QUIP_EMBED,forceFocus:!0}),Se&&Ra==="smart-cards"&&os(Ba)},[Dt,os,Se]),fn=Object(a.useCallback)(function(ht){let Ra=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut,Ba=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Tn;if(ht===_.TemplateTriggerType.BLANK_PAGE&&X(!0),Object(R.b)(ht)){const En=hn.find(gs=>gs.template_name===ht);if(En){if(xe(!0),rt(!0),!Ba||Object(Ct.b)(Ba)){_n(ht);return}Ee(Object(Q.a)({templateFileId:En.id,targetFileId:Ba,channelId:Ra,isStandaloneCanvas:!1})).finally(()=>{rt(!1)})}}else Pe?vn(Pe,ht):dt(ht);ut&&(Ee(Object(ye.d)({channelId:ut,template:ht})),z(!1))},[ut,Ee,Pe,hn,vn,Tn]),vs=Object(a.useCallback)(ht=>{if(Object(R.b)(ht)){const Ra=hn.find(Ba=>Ba.template_name===ht);if(Ra&&ut){const Ba=Object(qe.o)(Ra==null?void 0:Ra.id,ut,{fileId:Ra.id,source:"channel_canvas_template_preview"});Ba.params&&(Ba.params.isTemplatePreview=!0),Ee(Object(Tt.a)(Ba))}}else fn(ht)},[ut,Ee,fn,hn]),wn=Object(a.useCallback)(()=>{ns(Ga),rt(!0),ut&&(Ee(Object(ye.d)({channelId:ut,template:Me.b.USER_CREATED})),rt(!1),z(!1))},[ut,Ee,Ga]),Gs=Object(a.useCallback)(ht=>{Re&&Re(ht),vt(ht),et&&vn(ht,et)},[vn,et,Re]),Rn=lt&&Ha&&Le&&q&&!Zt&&!we&&!pe;Object(a.useEffect)(()=>{lt&&!q&&Zt&&X(!1)},[lt,Zt,q]),Object(a.useEffect)(()=>{!q&&pe&&xe(!1)},[q,pe]),Object(p.a)(()=>{st(Ha&&!un)},[]),Object(a.useEffect)(()=>{Tn&&!Object(Ct.b)(Tn)&&Dn&&(fn(Dn),_n(null))},[Tn,fn,Dn]);const{sectionIndex:fs,enableSectionNavigation:Ta}=Object(H.c)(H.b.EmptyCanvasTemplateOptions,!!ha),Vs=Object(a.useMemo)(()=>{if(Rn)return t.a.createElement(de.a,{id:H.a.EmptyCanvasTemplateOptions,index:fs,enableSectionNavigation:Ta},t.a.createElement(R.a,{onTemplateSelection:mt?vs:fn,channel:Pa,fileId:Ft,isStandaloneCanvas:!1,onTemplateFromGallerySelection:wn,docEmbed:Pe}))},[Rn,fs,Ta,mt,vs,fn,Pa,Ft,wn,Pe]),Es=Object(a.useCallback)(()=>{if(cn&&Ga){const{template_name:ht=""}=Ga;if(Object(R.b)(ht)){const Ra=Ee(Object(ta.a)({channelId:ss,fetchIfMissing:!1})),Ba=Object(F.a)(Ra).fileId;ht&&ss&&Ba&&fn(ht,ss,Ba)}}},[ss,Ee,Ga,fn,cn]),Os=Object(a.useMemo)(()=>mt?t.a.createElement("div",{className:"p-quip_embed_channel_canvas--use-template-container"},t.a.createElement(Pt.f,{className:"p-quip_embed_channel_canvas--use-template-btn",onClick:Es},Rt.t("Use Template"))):void 0,[mt,Es]);return t.a.createElement(t.a.Fragment,null,Vs,we&&t.a.createElement(Xe.a,null),!we&&t.a.createElement("div",{className:Object(Ne.default)("p-quip_embed_channel_canvas",{"p-quip_embed_channel_canvas--hidden-embedded-border":Se})},t.a.createElement(c.a,{uiComponentName:zt},t.a.createElement(re.a,{ref:Ve,entityId:cn&&mt?cn:ct,hideToolbar:Mt,getCommentsUiProvider:At,onQuipRender:Gs,inFlexpane:ha,versionId:la,sequence:ma,isFromTypeToStartTemplateOverlayState:lt,isTemplateOverlayShowing:Rn,isTemplateInEditMode:Ia,lastReadTs:Ua,onScroll:ha&&fe?me:l.a,isPreview:Boolean(cn),footerElement:cn?Os:void 0}))))}s(Xt,"QuipEmbedChannelCanvas"),Xt.displayName="QuipEmbedChannelCanvas";var ya=Object(d.a)(t.a.forwardRef((ra,ct)=>t.a.createElement(Xt,Et({refToForward:ct},ra)))),da=e("ztJi"),Ka=e("3L56"),ia=e("jJ7u"),fa=e("JfJV"),ca=e("xcHN"),Qt=e("mLC8"),$t=e("Rnc8"),Bt=e("GoiD");let Gt=s(class extends $t.a{tearDown(){this.routeChangeListenerSymbol&&Object(fa.i)(this.routeChangeListenerSymbol)}openCommentsThread(ct){let Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{focusTarget:Mt}=Dt;return Qt.d.start({label:Qt.a.SpaceCommentLoad,options:{teamId:this.teamId,tags:{comment_thread_id:ct}}}),this.dispatch(Object(Ka.a)({quipThreadId:this.quipThreadId,reason:"startCommentsThread"})).then(zt=>this.dispatch(Object(Bt.a)({fileId:zt,quipCommentThreadId:ct,shouldIncludeBack:this.shouldIncludeBack,focusTarget:Mt}))).then(()=>(this.openCommentThreadId=ct,!0)).catch(zt=>(this.logger.error(zt),!1))}closeCommentsThread(){}constructor({shouldIncludeBack:ct,...Dt}){super(Dt),this.openCommentThreadId=null,this.shouldIncludeBack=!0,this.onRouteChange=Mt=>{var zt,Ve;const{prevRouteInfo:At,params:ha,routeName:la}=Mt;if(!this.openCommentThreadId||At.routeName!==ia.C||!(!((zt=At.params)===null||zt===void 0)&&zt.threadId))return;const{threadTs:ma,quipCommentThreadId:Ia}=Object(ca.a)(At.params.threadId),Ua=(Ve=Object(da.a)(this.getState(),this.openCommentThreadId))===null||Ve===void 0?void 0:Ve.threadTs;if(Ia&&Ia===this.openCommentThreadId||ma&&ma===Ua){if(la===ia.C){const{threadTs:me,quipCommentThreadId:ce}=Object(ca.a)(ha.threadId);if(ce&&ce===this.openCommentThreadId||me&&me===Ua)return}this.closeCommentThreadId_(this.openCommentThreadId),this.openCommentThreadId=null}},typeof ct=="boolean"&&(this.shouldIncludeBack=ct),this.routeChangeListenerSymbol=Object(fa.b)(this.onRouteChange)}},"QuipFlexpaneCommentsUiProvider");var _t=e("EF82"),ot=e("u+Mq"),qt=e("rq2v"),jt=e("uVZW");const aa=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"7njD")));var ga={spaceName:jt.g.CHANNEL_CANVAS_FOOTER,notifications:{[jt.h.CHANNEL_CANVAS_NUX_FREEMIUM_BANNER]:{component:aa}}},kt=e("2VFn"),yt=e("Ccc1"),ba=e("Tsh7"),xa=e("v7mh"),nt=e("V4lD"),pt=e("E97Y"),Ye=e("Yauy"),ge=e("/JQq"),It=e("Tevt"),Fe=e("aBhT"),St=e("Oeqe"),na=e("6inW"),Jt=e("WSQ4"),sa=e("rZ8V");const Nt=new ee.b("slack-docs"),Wt=s(ra=>{let{channelId:ct}=ra;const{container:Dt,isMainWindow:Mt}=Object(a.useContext)(O.a),{windowId:zt}=Object(a.useContext)(Jt.a),Ve=Object(b.c)(sa.q),At=Object(b.c)(fe=>Object(M.d)(fe,"canvas_new_channel_entity_strings")==="on"),ha=Object(b.c)(xa.a),{spaceFileId:la,spaceIsEmpty:ma,isChannelCanvasLocked:Ia}=Object(nt.a)({channelId:ct}),Ua=Object(b.c)(fe=>Object(He.e)(fe,la||"")),Re=Object(b.c)(fe=>Object(L.d)(fe,ct)),me=Re?Object(pt.d)(Re):"",ce=Object(Ye.C)(Re)||[],_e=Object(b.c)(fe=>Object(Ye.t)(fe,Re)),Ce=Object(b.c)(fe=>Object(ge.a)(fe,Re)),Ee=ce.length-1;if(!Ve&&Mt||ha!==kt.f.Search&&Ia)return null;let Se=null;if(Dt===kt.k.Primary||Object(na.b)(zt)){if(Object(yt.b)(Re))Se=t.a.createElement(yt.a,{channelId:ct,truncate:!0});else if(At){let fe="";me==="mpim"&&Ee&&(fe=Nt.t("DM with {count} people",{count:Ee})),me==="im"&&(fe=Nt.t("DM with {displayName}",{displayName:_e})),Ce&&(fe=Nt.t("DM with yourself")),Se=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(Fe.a,{lines:1,breakWords:!1},t.a.createElement("span",null,fe)))}}if(!At&&ma){if(me==="mpim"){const fe=Nt.t("{count} people can edit",{count:Ee});Se=t.a.createElement(ba.d,{tip:_e},t.a.createElement(Fe.a,{lines:1,breakWords:!1},t.a.createElement("span",null,fe)))}if(me==="im"){const fe=Nt.t("2 people can edit");Se=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(Fe.a,{lines:1,breakWords:!1},fe))}Ce&&(Se=t.a.createElement("div",{className:"p-canvas_inline_channel_entity--permalink__channel_name"},t.a.createElement(Fe.a,{lines:1,breakWords:!1},Nt.t("For your eyes only"))))}if(Se){let fe=Object(St.a)({channelId:ct});return ha===kt.f.Search&&(fe=Ua?Object(Ze.N)(Ua,void 0):fe),t.a.createElement(It.a,{className:"p-canvas_inline_channel_entity--permalink",href:fe},t.a.createElement(Fe.a,{lines:1,breakWords:!1},Se))}return null},"CanvasInlineChannelEntity");Wt.displayName="CanvasInlineChannelEntity";var Ot=Wt,oa=e("iLjr"),za=e("D4ee"),tn=e("oUrV"),$a=e("nFQW"),mn=e("ZobM"),Ya=e("PFCZ"),Cn=e("rnop"),Nn=e("X1Cl");function Qa(){return Qa=Object.assign||function(ra){for(var ct=1;ct<arguments.length;ct++){var Dt=arguments[ct];for(var Mt in Dt)Object.prototype.hasOwnProperty.call(Dt,Mt)&&(ra[Mt]=Dt[Mt])}return ra},Qa.apply(this,arguments)}s(Qa,"quip_channel_canvas_view_extends");const Vt=new ee.b("slack-docs"),Lt=425,Da={display:"contents"},Ja=s(ra=>{let{id:ct,isTile:Dt,transitionFocusTo:Mt,columnWidth:zt,lastReadTs:Ve,canvasIsLayeredInChannelCanvas:At,ignoreSubtitle:ha}=ra;var la;const ma=Object(a.useRef)(null),[Ia,Ua]=Object(a.useState)(null),Re=Object(u.i)(),[me,ce]=Object(a.useState)(!1),{fileIdOrQuipThreadId:_e}=Object(v.i)(ct),Ce=Object(v.h)({id:_e}),{windowId:Ee,getSiblingView:Se,view:fe}=Object(a.useContext)(O.a),et=Object(b.c)(gt=>Object(M.d)(gt,"canvas_new_edits_pill")==="on"),dt=Object(b.c)(gt=>Object(M.d)(gt,"canvas_header_image")==="on"),mt=Object(b.c)(sa.q),Le=Object(b.c)(gt=>Object(M.d)(gt,"view_header_overflow_borders")),Be=Object(b.c)(gt=>Object(M.d)(gt,"canvas_content_organization")==="on"),Zt=Object(b.c)(gt=>Object(M.d)(gt,"canvas_template_channel_preview")==="on"),X=Object(S.a)(ct),{isChannelSpace:W,channelId:Z}=Object(I.a)({fileId:_e}),q=Object(b.c)(oe.a),z=Object(b.c)(gt=>{var cn;return(cn=Se(gt,{container:kt.k.Primary}))===null||cn===void 0?void 0:cn.id}),pe=mt?z:q,xe=Be&&pe?pe:void 0,we=Object(b.c)(gt=>At?Object(oa.a)(gt,xe):void 0),{spaceFileId:rt}=Object(nt.a)({channelId:pe}),lt=Object(b.c)(gt=>Z?Object(L.d)(gt,Z):Object(x.a)(pe)?Object(L.d)(gt,pe):null),st=Object(F.a)(lt),{isLinkedCanvasDeleted:Pe}=st,vt=W||Pe,Ft=Z?Object(k.a)(Z,Ee):void 0,{enableSectionNavigation:ut,sectionIndex:Ha}=Object(H.c)(H.b.Header,!0),{sectionIndex:wa}=Object(H.c)(H.b.Banner,!0),{isAtTop:rn,scrollHandler:Pa}=Object(Ya.a)(),pa=Zt&&(fe==null||(la=fe.params)===null||la===void 0?void 0:la.isTemplatePreview),Tn=Object(a.useCallback)(()=>{if(we&&xe){const gt=we[we.length-2];Re(Object(ye.a)({channelId:xe})),Re(Object(za.a)({quipDocId:gt||rt,source:tn.a.CHANNEL_CANVAS_LAYERING}))}},[we,rt,Re,xe]),un=Object(a.useCallback)(gt=>new Gt({...gt,shouldIncludeBack:!0}),[]),ja=Object(a.useCallback)(()=>Re(Object(ot.b)({uiState:{reason:_t.a.ShowDocFlexpane},params:{entityId:Ce}})),[Re,Ce]);if(!At&&!vt&&!pa)return null;const ln=s(()=>Z?t.a.createElement(Ot,{channelId:Z}):null,"renderSubtitle");ln.displayName="renderSubtitle";const Hn=Object(G.a)(),Ga=s(()=>t.a.createElement("div",{className:"p-quip_flexpane--quip_canvas_sideview__body"},Pe?t.a.createElement(c.a,{uiComponentName:g.UiComponentName.QUIP_HARD_DELETED_CHANNEL_CANVAS},t.a.createElement(U.a,{file:Hn,isChannelLinkedCanvasDeleted:Pe})):t.a.createElement(ya,{entityId:ct,hideToolbar:!me,uiComponentName:Dt?g.UiComponentName.QUIP_TILE_EMBED:g.UiComponentName.QUIP_FLEXPANE_EMBED,onQuipRender:et||dt?gt=>Ua(gt):void 0,getCommentsUiProvider:un,inFlexpane:!0,lastReadTs:Ve,onScroll:Le?Pa:l.a,isTemplatePreview:pa})),"renderBody");Ga.displayName="renderBody";const hn=s(()=>t.a.createElement(N.a,{id:ct,shouldTruncate:!!zt&&zt<Lt,columnWidth:zt,docEmbed:Ia,lastReadTs:Ve,canvasIsLayeredInChannelCanvas:At,isTemplatePreview:pa}),"renderActionIcons");hn.displayName="renderActionIcons";const pn={quipEntityId:Ce,viewIdForTileContents:f.a.DOCS,viewParamsForTileContents:{quipDocId:Ce},afterFlexpaneClosed:()=>{var gt;(gt=ma.current)===null||gt===void 0||gt.track({action:g.UiAction.CLICK}),Mt({focusKey:T.c.MESSAGE_PANE_MESSAGE_INPUT,forceFocus:!0})},sectionNavigationProps:{id:"QuipHeaderView",index:Ha,enableSectionNavigation:ut},hideBottomBorder:Le&&rn},ns=t.a.createElement(de.a,{id:H.a.Footer,index:wa,enableSectionNavigation:!0},t.a.createElement(qt.c,Qa({},ga))),Dn=t.a.createElement(t.a.Fragment,null,At&&we&&t.a.createElement($a.a,{onClick:Tn,"aria-label":Be?Vt.t("Back"):""},t.a.createElement(mn.a,{name:"caret-left-full",inline:!0})),t.a.createElement(Cn.a,{id:ct})),_n=s(()=>Be&&At?Dn:pa?Vt.t("Canvas templates"):Vt.t("Canvas"),"renderTitle");return t.a.createElement("div",{style:Da,onFocus:()=>ce(!0),onBlur:()=>ce(!1)},t.a.createElement(c.a,{eventId:g.EventId.QUIP_CHANNEL_SPACE_CLOSE,clogImpression:!1,channelId:Z||"",trackClogRef:gt=>{ma.current={track:gt}}},t.a.createElement(j.a,{id:Ft,focusKey:T.c.QUIP_DOCS,dataQa:"quip_flexpane",className:"p-quip_flexpane p-quip_flexpane--quip_canvas_sideview","aria-label":`${X}, ${Vt.t("Channel canvas")}`,bodyContent:Ga(),titleContent:_n(),footerContent:ns,footerClassName:"p-quip_flexpane__megaphone_footer",additionalButtonsContent:hn(),viewId:f.a.DOCS,subtitleContent:ha?void 0:ln(),headerProps:pn,focus:ja,footerTabIndex:0})))},"QuipFlexpane");Ja.displayName="QuipFlexpane";var Ca=i.a=Object(d.a)(Object(C.b)(Ja))},mpbA:function(Y,i,e){"use strict";e.d(i,"a",function(){return g});var a=e("SQ0V"),t=e("Yi49"),l=e("8gAR"),u=e("3bak"),c=e("u2ZK");const g=Object(a.c)("Fetches the details of the pending shared channel invite",(b,S,v)=>b(Object(c.a)(v)).then(T=>{var I;const d=T.invite,{channel:f,inviting_user:C,inviting_team:j}=d,N=(I=d.visibility)===null||I===void 0?void 0:I.team;if(N&&N.id!==d.inviting_team.id){const O={id:N.id,name:N.name,enterprise_id:d.inviting_team.id};b(Object(t.a)({team:O,isExternal:!0}))}return b(Object(l.a)({channels:[f]})),b(Object(u.a)({members:[C]})),b(Object(t.a)({team:j,isExternal:!0})),T}));g.meta={name:"createThunk",key:"createThunkgetSharedInviteInfo",description:"Fetches the details of the pending shared channel invite"}},nMOw:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-de-DE-02c7477.gif"},nZ5K:function(Y,i,e){"use strict";e.r(i),e.d(i,"BaseThreeDaysLeftTrialBanner",function(){return F});var a=e("q1tI"),t=e.n(a),l=e("Cfcg"),u=e("ifKl"),c=e("nNoG"),g=e("ktUG"),b=e("G0eX"),S=e("beVI"),v=e("uVZW"),T=e("/0Xg"),I=e("Trx9"),d=e("Sid4"),f=e("vDCl"),C=e("I0j/"),j=e("37+L"),N=e("BfA7"),O=e("UmHn"),M=e("JSZ7");const L=new c.b("trial_expiration_banners"),k={notification:v.h.TRIAL_THREE_DAYS_LEFT};let F=s(class extends a.PureComponent{getButtonProps(){const{isAdmin:x,isTeamOnStandardPlan:U,navigateToPaidBenefitsPage:H,upgradeActionUrl:p}=this.props,_=L.t("Upgrade Now"),V=L.t("Learn More"),R=p,w=U?void 0:Object(T.w)({planLevel:T.k.plus.id}),Q=u.a,de=U?H:u.a,Ne={elementName:"upgrade_now"},ye={elementName:"find_out_more"},le=!1,De=!0;return x?{primaryCTAText:_,primaryCTAHref:R,onPrimaryCTAClick:Q,primaryCTAClogProps:Ne,closeOnPrimaryCTAClick:le,secondaryCTAText:V,secondaryCTAHref:w,onSecondaryCTAClick:de,secondaryCTAClogProps:ye,closeOnSecondaryCTAClick:De}:{primaryCTAText:V,primaryCTAHref:w,onPrimaryCTAClick:de,primaryCTAClogProps:ye,closeOnPrimaryCTAClick:De,secondaryCTAText:_,secondaryCTAHref:R,onSecondaryCTAClick:Q,secondaryCTAClogProps:Ne,closeOnSecondaryCTAClick:le}}getPropsForPlan(){const{isTeamOnStandardPlan:x,numDaysLeft:U}=this.props;return x?{headingText:U===1?L.t("It\u2019s the last day of your Slack Pro free trial"):L.t("Your trial of Slack Pro ends in {numDaysLeft} days",{numDaysLeft:U}),bodyText:L.t("Add your payment details to keep features like Slack Connect channels, unlimited huddles, and an unlimited message and file history.")}:{headingText:U===1?L.t("It\u2019s the last day of your Slack Business+ free trial"):L.t("Your trial of Slack Business+ ends in {numDaysLeft} days",{numDaysLeft:U}),bodyText:L.t("Add your payment details to keep features like Slack Connect channels, unlimited huddles, SAML-based SSO, and an unlimited message and file history.")}}render(){const{isTeamOnStandardPlan:x}=this.props,{headingText:U,bodyText:H}=this.getPropsForPlan(),{primaryCTAText:p,primaryCTAHref:_,onPrimaryCTAClick:V,primaryCTAClogProps:R,secondaryCTAText:w,closeOnPrimaryCTAClick:Q,secondaryCTAHref:re,onSecondaryCTAClick:de,secondaryCTAClogProps:Ne,closeOnSecondaryCTAClick:ye}=this.getButtonProps();return t.a.createElement(I.a,{clogImpression:!0,eventId:g.EventId.UPGRDEXP_TRIAL,uiComponentName:g.UiComponentName.TRIAL_THREE_DAY_REMINDER_BANNER,uiComponentVariant:x?"standard_trial":"plus_trial"},t.a.createElement(d.b,{headingText:U,iconType:"clock-o",theme:f.b.LIGHT_PURPLE,bodyText:H,primaryCTAText:p,primaryCTAHref:_,primaryCTAClogProps:R,onPrimaryCTAClick:V,secondaryCTAClogProps:Ne,closeOnPrimaryCTAClick:Q,secondaryCTAText:w,secondaryCTAHref:re,onSecondaryCTAClick:de,closeOnSecondaryCTAClick:ye,notificationPrefs:k,bannerContainerClass:"p-trials_notification"}))}},"ThreeDaysLeftTrialBanner");F.displayName="ThreeDaysLeftTrialBanner";const ee=s(G=>{const x=Object(S.g)(G),U=Object(b.K)(x);return{isTeamOnStandardPlan:U,upgradeActionUrl:Object(T.z)(G,{action:T.t.CHECKOUT,productLevel:U?T.k.standard.id:T.k.plus.id})}},"mapStateToProps"),oe=s(G=>({navigateToPaidBenefitsPage:()=>G(Object(C.a)(Object(j.X)(O.a.PaidBenefits)))}),"mapDispatchToProps");i.default=Object(N.a)(Object(l.a)(ee,oe)(F))},o1uv:function(Y,i,e){Y.exports=e.p+"best-in-class-msg-limit-day-83-banner-illo-light-122bebf.png"},o9mU:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-en-IN-3551638.gif"},oHyA:function(Y,i,e){"use strict";e.d(i,"a",function(){return ee});var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("YUBf"),c=e("SQ0V"),g=e("3l96"),b=e("eBYm"),S=e("3K9K"),v=e("nNoG"),T=e("Lgge"),I=e("zxER"),d=e("beVI"),f=e("+kJ4"),C=e("3S9f"),j=e("9+Yh"),N=e("rarT"),O=e("i454"),M=e("EN2b");function L(){return L=Object.assign||function(G){for(var x=1;x<arguments.length;x++){var U=arguments[x];for(var H in U)Object.prototype.hasOwnProperty.call(U,H)&&(G[H]=U[H])}return G},L.apply(this,arguments)}s(L,"_extends");const k=new v.b("shared_workspaces"),F=s(G=>{let{id:x}=G;const U=Object(l.i)(),H=Object(I.c)(d.g),p=Object(a.useCallback)(()=>{U(Object(f.a)())},[U]),[_,V]=Object(a.useState)([]),[R,w]=Object(a.useState)(!1),[Q,re]=Object(a.useState)(null);var de;const Ne=(de=x||(H==null?void 0:H.id))!==null&&de!==void 0?de:"",ye=Object(I.c)(Ae=>Object(C.a)(Ae,Ne)),le=Object(a.useCallback)(()=>{w(!0),re(null),T.a.all(_.map(Ie=>{var He,We;if(!(Ie==null||(He=Ie.entity)===null||He===void 0)&&He.isEmail){var Me;return U(Object(j.a)({reason:"invite-to-shared-workspace",workspaceId:Ne,email:Ie==null||(Me=Ie.entity)===null||Me===void 0?void 0:Me.id}))}return U(Object(N.a)({reason:"invite-to-shared-workspace",workspaceId:Ne,userId:Ie==null||(We=Ie.entity)===null||We===void 0?void 0:We.id}))})).then(()=>{U(Object(M.a)({workspaceId:Ne,entities:_}))}).catch(Ie=>re({name:(Ie==null?void 0:Ie.name)||null,method:(Ie==null?void 0:Ie.method)||null})).finally(()=>{w(!1)})},[_,U,Ne]),De=Object(a.useCallback)(Ae=>{V(Ae),Q&&_.length>Ae.length&&re(null)},[Q,_.length]);return ye?t.a.createElement(u.a,{isOpen:!0,centered:!0,showCloseButton:!0,shouldCloseOnOverlayClick:!0,closeModal:p},t.a.createElement(u.i,null,t.a.createElement(u.l,{title:k.t("Add people to this shared workspace")})),t.a.createElement(u.d,null,t.a.createElement(u.e,null,Q&&t.a.createElement(O.b,{error:Q}),t.a.createElement("div",{className:"padding_top_50 padding_bottom_50"},t.a.createElement(S.a,{selectedEntities:_,onSelectedItemsChange:De})))),t.a.createElement(u.g,null,t.a.createElement(u.h,null,t.a.createElement(u.c,{type:"outline",onClick:p},k.t("Close")),t.a.createElement(b.a,{type:"primary",onClick:le,disabled:_.length===0||!!Q,loading:R},k.t("Add People To This Workspace"))))):null},"InviteToSharedWorkspaceModal");F.displayName="InviteToSharedWorkspaceModal";const ee=Object(c.c)("Opens the Slack Connect Workspace Invite Modal",(G,x,U)=>{G(Object(g.a)({element:t.a.createElement(F,L({},U)),isStackable:!1}))});ee.meta={name:"createThunk",key:"createThunkopenInviteToSharedWorkspaceModal",description:"Opens the Slack Connect Workspace Invite Modal"};var oe=F},"oe+B":function(Y,i,e){"use strict";e.r(i),e.d(i,"BaseMobileAwarenessDmPromo",function(){return le});var a=e("q1tI"),t=e.n(a),l=e("nNoG"),u=e("WIr4"),c=e("Cfcg"),g=e("+tZp"),b=e("qDEp"),S=e("nFQW"),v=e("E3dU"),T=e("xwCZ"),I=e("gVOt"),d=e("XZo2"),f=e("Trx9"),C=e("uVZW"),j=e("eWGC"),N=e("2XL1"),O=e("DEph"),M=e("z5hj"),L=e("ktUG"),k=e("E97Y"),F=e("kBd7"),ee=e("HKlo"),oe=e("ifKl"),G=e("/MKj"),x=e("BHdc"),U=e("T1zM"),H=e("Tevt");const p=new l.b("setup_page"),_={action:L.UiAction.CLICK,elementName:"opt_out_dismiss_all",onClick:{enableClogAction:!0}},V=s(He=>{let{linkClassName:We,onSkipAllTips:Me=oe.a}=He;const Xe=Object(G.i)(),Ct=Object(a.useCallback)(()=>{Me(),Xe(Object(U.f)({pref:"onboarding_tip_opt_out",value:!0}))},[Xe,Me]);return t.a.createElement(f.a,{stepVariant:"opt-out",clogImpression:!0},t.a.createElement(H.a,{autoClogProps:_,className:Object(x.default)("p-skip_all_tips__link",We),"data-qa":"skip_all_tips",onClick:Ct},p.t("Skip all tips")))},"SkipAllTipsLink");V.displayName="SkipAllTipsLink";var R=e("3l96"),w=e("8Wv3"),Q=e("UQe9"),re=e.n(Q);const de=new l.b("mobile_awareness_dm_promo"),Ne={elementName:"submit",action:L.UiAction.OPEN,onClick:{enableClogAction:!0}},ye={elementName:"close_x",elementType:L.ElementType.X,action:L.UiAction.CLOSE,onClick:{enableClogAction:!0}};let le=s(class extends a.PureComponent{componentDidUpdate(){if(this.shouldRender()){var We,Me;this.props.recordMegaphoneEvent(C.f.IMPRESSION),(We=this.mobileAwarenessDmPromoRef)===null||We===void 0||(Me=We.current)===null||Me===void 0||Me.focus()}}componentDidMount(){this.shouldRender()&&this.props.recordMegaphoneEvent(C.f.IMPRESSION)}shouldRender(){const{channelId:We,channelIsIm:Me,mobileAwarenessDmPromoChannelId:Xe}=this.props;return!(!Me||We!==Xe)}openDownloadMobileAppModal(){const{sendFallbackEmail:We,openModal:Me,dismissPromo:Xe}=this.props;Me({element:t.a.createElement(w.a,{eventId:L.EventId.EDUCATION_MOBILE_AWARENESS_DM_PROMO})}),We({reason:M.b.TRIGGER_MOBILE_FALLBACK_EMAIL,eventHandler:M.a.MOBILE_PROMO_FALLBACK_EVENT_HANDLER,subtype:M.c.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO}),Xe()}handleDismiss(){const{recordMegaphoneEvent:We,dismissPromo:Me,transitionFocusTo:Xe}=this.props;We(C.f.DISMISS),Me(),Xe({focusKey:ee.c.MESSAGE_PANE_MESSAGE_INPUT})}render(){const{offlineMemberName:We}=this.props;if(!this.shouldRender())return null;const Me=de.t("Hands holding a mobile phone"),Xe=de.t("Stay connected, on the go"),Ct=de.rt("It looks like {offlineMemberName} is away right now. Get a ping as soon as they respond \u2014 no matter where you are \u2014 with the Slack mobile app.",{offlineMemberName:We}),Pt=de.t("Get Slack for Mobile");return t.a.createElement(f.a,{eventId:L.EventId.EDUCATION_MOBILE_AWARENESS_DM_PROMO,uiStep:L.UiStep.DOWNLOAD_MOBILE_DM_PROMO,clogImpression:!0},t.a.createElement("div",{className:"p-mobile_awareness_dm_promo","data-qa":"mobile-awareness-dm_promo__banner"},t.a.createElement("img",{alt:Me,src:re.a}),t.a.createElement("div",{className:"p-mobile_awareness_dm_promo__copy"},t.a.createElement("h3",null,Xe),t.a.createElement("p",null,Ct),t.a.createElement(b.f,{"data-qa":"mobile-awareness-dm__download",onClick:this.openDownloadMobileAppModal,autoClogProps:Ne,ref:this.mobileAwarenessDmPromoRef},Pt),t.a.createElement(V,{onSkipAllTips:this.handleDismiss})),t.a.createElement(S.a,{"data-qa":"mobile-awareness-dm__x-dismiss","aria-label":de.t("Close",{fallbackHash:"58c4b41d2ebda1fea125db2cfbbf5c2e1db07152",fallbackHashNs:"download_ssb_banner"}),autoClogProps:ye,icon:"times",className:"p-mobile_awareness_dm_promo__close",onClick:this.handleDismiss})))}constructor(We){super(We),this.mobileAwarenessDmPromoRef=t.a.createRef(),Object(u.a)(this,["openDownloadMobileAppModal","handleDismiss"])}},"MobileAwarenessDmPromo");le.displayName="MobileAwarenessDmPromo";const De=s((He,We)=>{let{channelId:Me}=We;const Xe=Object(v.d)(He,Me),Ct=Object(I.a)(Xe),Pt=Object(T.g)(He,Ct),qe=Object(d.n)(He),Tt=Object(g.a)(He,Pt),Ze=Xe&&Object(k.g)(Xe);return{offlineMemberName:Tt,mobileAwarenessDmPromoChannelId:qe,channelIsIm:Ze}},"mapStateToProps"),Ae=s(He=>({recordMegaphoneEvent:We=>He(Object(j.b)({notificationName:C.h.MOBILE_AWARENESS_DIRECT_MESSAGE_PROMO,action:We})),dismissPromo:()=>He(Object(N.r)("not a channel")),sendFallbackEmail:function(){for(var We=arguments.length,Me=new Array(We),Xe=0;Xe<We;Xe++)Me[Xe]=arguments[Xe];return He(Object(O.a)(...Me))},openModal:function(){for(var We=arguments.length,Me=new Array(We),Xe=0;Xe<We;Xe++)Me[Xe]=arguments[Xe];return He(Object(R.a)(...Me))}}),"mapDispatchToProps");var Ie=i.default=Object(c.a)(De,Ae)(Object(F.a)(le))},qISS:function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("VP3E"),c=e("P7By"),g=e("VOWE"),b=e.n(g),S=e("1z69"),v=e("cD3f"),T=e("Jq9w"),I=e("03PU"),d=e("N0zA"),f=e("ktUG"),C=e("nNoG"),j=e("zxER"),N=e("eWGC"),O=e("uVZW"),M=e("JoR1"),L=e("aHgF"),k=e("W1Ru");const F=new C.b("usecase_onboarding"),ee={eventId:f.EventId.NEWXP_TEAM_CREATE,elementName:O.h.USECASE_ONBOARDING_APPS_COACHMARK,elementType:f.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:O.g.WELCOME_SPACE,megaphoneNotificationName:O.h.USECASE_ONBOARDING_APPS_COACHMARK,clogImpression:!0},oe=s(G=>{let{children:x}=G;const U=Object(l.i)(),H=Object(j.c)(Ie=>!!Object(M.u)(Ie,"a11y_animations")),p=Object(j.c)(L.e),_=S.c[O.h.USECASE_ONBOARDING_APPS_COACHMARK],{openChannelCanvas:V}=Object(v.a)(),R=Object(a.useCallback)(()=>t.a.createElement(T.a,{currentStep:_,totalSteps:S.d}),[_]),w=Object(a.useCallback)(()=>e.e("gantry-v2-async-lottie-apps-coachmark.json").then(e.t.bind(null,"sXZ0",3)),[]),Q=Object(a.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__apps"}),[]),re=Object(a.useMemo)(()=>H?t.a.createElement(c.a,{getAnimationImport:w,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:Q}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:b.a,className:"p-usecase_onboarding_coachmark_gif"}),[w,H,Q]);Object(a.useEffect)(()=>{U(Object(N.a)({notificationName:O.h.USECASE_ONBOARDING_APPS_COACHMARK,action:O.f.IMPRESSION}))},[U]);const{onAfterOpen:de}=Object(u.a)({className:S.a,highlightPadding:{left:10,right:10,top:0,bottom:0}}),{isOpen:Ne,closeCoachmark:ye,renderCoachmark:le}=Object(d.a)(O.h.USECASE_ONBOARDING_APPS_COACHMARK,O.g.WELCOME_SPACE),De=Object(a.useCallback)(()=>{p&&V(),ye(!0)},[ye,V,p]);if(!Ne)return null;const Ae=le({arrowPosition:30,hero:re,title:F.t("Manage projects without leaving Slack"),bodyText:F.rt("Already using other project management tools? Connect them to Slack to make updating tasks or staying in the loop a breeze. <steps></steps>",{"<steps>":R}),closeCoachmark:De,onClickPrimaryButton:De,className:`p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark--apps ${S.a}`,primaryCallToActionText:F.t("Done"),ariaLabel:F.t("Already using other project management tools? Connect them to Slack to make updating tasks or staying in the loop a breeze. {currentStep} of {totalSteps}",{currentStep:_,totalSteps:S.d}),autoClogProps:ee,width:S.b,offsetX:-10,offsetY:74,closeBackgroundStyle:"dark",onAfterOpen:de});return t.a.createElement(I.c,{coachmarkElement:Ae,orientation:"right"},x)},"UsecaseOnboardingAppsCoachmark");oe.displayName="UsecaseOnboardingAppsCoachmark",i.default=oe},"r/G2":function(Y,i,e){Y.exports=e.p+"convert-to-template-cbd7ddd.gif"},rCFu:function(Y,i,e){"use strict";e.d(i,"c",function(){return I}),e.d(i,"b",function(){return d}),e.d(i,"a",function(){return f}),e.d(i,"g",function(){return N}),e.d(i,"h",function(){return O}),e.d(i,"f",function(){return M}),e.d(i,"d",function(){return F}),e.d(i,"e",function(){return oe});var a=e("5IZy"),t=e("G5NC"),l=e("vfQU"),u=e("Pw4T"),c=e("lhZz"),g=e("U28S"),b=e("Z7Ay"),S=e("rIJ2"),v=e("ktUG"),T=e("nNoG");const I=0,d=1,f=2;function C(G,x,U,H,p,_,V,R){if(!oe(p,_,v.EventId.PRQ_CHANNEL_SWITCH_USABLE))return;let w,Q;switch(H){case I:default:w=v.TimingStatus.COMPLETED,Q=!1;break;case d:w=v.TimingStatus.ABANDONED,Q=!0;break;case f:w=v.TimingStatus.COMPLETED,Q=!0;break}const de={elapsed_time:Object(g.b)(G*1e3*1e3,0),target_channel_id:U,required_sync:Q,end_state:w,...L(V,x,R)},Ne={userId:R,teamId:p,enterpriseId:_,locale:Object(T.m)()};Object(a.a)(Ne).track(v.EventId.PRQ_CHANNEL_SWITCH_USABLE,de);const ye=Object(c.getStoreInstanceByTeamId)(p),le=ye&&ye.getState(),De=Object(t.a)()?"channel_switch_usable_sonic":"channel_switch_usable_legacy";Object(u.d)({state:le}).store(De,Math.round(G))}s(C,"trackChannelSwitchUsable");function j(G,x,U,H,p,_,V,R){if(!oe(p,_,v.EventId.PRQ_CHANNEL_SWITCH_VISIBLE))return;let w,Q;switch(H){case I:default:w=v.TimingStatus.COMPLETED,Q=!1;break;case d:w=v.TimingStatus.ABANDONED,Q=!0;break;case f:w=v.TimingStatus.COMPLETED,Q=!1;break}const de={elapsed_time:Object(g.b)(G*1e3*1e3,0),target_channel_id:U,required_sync:Q,end_state:w,...L(V,x,R)},Ne={userId:R,teamId:p,enterpriseId:_,locale:Object(T.m)()};Object(a.a)(Ne).track(v.EventId.PRQ_CHANNEL_SWITCH_VISIBLE,de);const ye=Object(c.getStoreInstanceByTeamId)(p),le=ye&&ye.getState(),De=Object(t.a)()?"channel_switch_visible_sonic":"channel_switch_visible_legacy";Object(u.d)({state:le}).store(De,Math.round(G))}s(j,"trackChannelSwitchVisible");function N(G,x,U,H,p,_,V,R){if(!oe(H,p,v.EventId.PRQ_TIME_TO_USABLE))return;const w=Object(g.b)(G*1e3*1e3,0),Q=k(),re={elapsed_time:w+Q,desktop_elapsed_time:Q,required_sync:U,end_state:R,start_type:v.MetricStartType.COLD,target_type:v.MetricTargetType.CHANNEL,...L(_,x,V)},de={userId:V,teamId:H,enterpriseId:p,locale:Object(T.m)()};Object(a.a)(de).track(v.EventId.PRQ_TIME_TO_USABLE,re)}s(N,"trackTimeToUsable");function O(G,x,U,H,p,_,V){if(!oe(H,p,v.EventId.PRQ_TIME_TO_VISIBLE))return;const R=Object(g.b)(G*1e3*1e3,0),w=k(),Q={elapsed_time:R+w,desktop_elapsed_time:w,required_sync:U,end_state:v.TimingStatus.COMPLETED,start_type:v.MetricStartType.COLD,target_type:v.MetricTargetType.CHANNEL,...L(_,x,V)},re={userId:V,teamId:H,enterpriseId:p,locale:Object(T.m)()};Object(a.a)(re).track(v.EventId.PRQ_TIME_TO_VISIBLE,Q)}s(O,"trackTimeToVisible");function M(G,x,U,H,p,_,V){if(!oe(H,p,v.EventId.PRQ_SESSION_FRAME_STATS))return;const R={duration_ms:G,sample_filter:"entire_session",hist_frame_render_time:x,hist_janky_windows:U,...L(_,void 0,V)},w={userId:V,teamId:H,enterpriseId:p,locale:Object(T.m)()};Object(a.a)(w).track(v.EventId.PRQ_SESSION_FRAME_STATS,R)}s(M,"trackSessionFrameStats");function L(G,x,U){const H=typeof U=="string"&&U.startsWith("W"),p={device:{id:"",make:navigator.platform,model:navigator.platform,os:Object(l.db)()?"electron":"webapp",os_version:l.Zb||""}};let _;if(x)switch(p.ui_context={action:x==="QUICK_SWITCH"?"keydown":"click",ui_component:x},x.toUpperCase()){case"APP_ICON":_=v.MetricTrigger.APP_ICON;break;case"MSG_PANE":_=v.MetricTrigger.MSG_PANE;break;case"SIDE_BAR":_=v.MetricTrigger.SIDE_BAR;break;case"QUICK_SWITCH":_=v.MetricTrigger.QUICK_SWITCH;break;default:_=v.MetricTrigger.UNKNOWN;break}const V={contexts:p,session_id:G,time:Date.now(),app_id:Object(t.a)()?"web_sonic":"web",is_tablet:!1,user_id:H?void 0:U,external_id:H?U:void 0,...ee()};return x&&(V.trigger=_),V}s(L,"getCommonMetadata");function k(){if(Object(l.db)()){const G=Object(l.Hc)();if(G!==void 0)return G*1e6;const x=Object(l.l)();if(x&&x.numTeamsAtLaunch!==void 0&&x.isInitialTeamBooted!==void 0&&x.numTeamsAtLaunch>0&&x.isInitialTeamBooted){const U=x.BOOT,H=x.PRELOAD_READY,p=Object(l.j)(U,H);return p>0?p*1e6:0}}return 0}s(k,"getDesktopElapsedTime");function F(){if(Object(l.db)()){const G=Object(l.Gc)();if(G!==void 0)return G;const x=Object(l.l)();if(x&&x.numTeamsAtLaunch!==void 0&&x.isInitialTeamBooted!==void 0&&x.numTeamsAtLaunch>0){const U=x.PRELOAD_STARTED,H=x.PRELOAD_READY,p=Object(l.j)(U,H);return Math.floor(p)}}return 0}s(F,"getDesktopPreloadTime");function ee(){if(Object(l.db)()){const G=Object(l.B)();if(G){const x=G.prerelease?` (${G.prerelease})`:"",U=typeof G.prerelease=="string"?G.prerelease.match(/(alpha|beta|electron3|sonic)/i)&&G.prerelease.match(/(alpha|beta|electron3|sonic)/i)[1]:"production";let H;switch(U){case"alpha":case"electron3":H=v.ClientBuildType.ALPHA;break;case"beta":H=v.ClientBuildType.BETA;break;default:H=v.ClientBuildType.PRODUCTION;break}return{app_version:`${G.major}.${G.minor}.${G.patch}${x}`,release_version:`${G.major}.${G.minor}.${G.patch}`,build_type:H}}}return{app_version:"",release_version:"",build_type:v.ClientBuildType.PRODUCTION}}s(ee,"getElectronInfo");function oe(G,x,U){return["E12KS1G65"].includes(x)||["T024BE7LD","T5J4Q04QG"].includes(G)||["E27SFGS2W","E655JKQRX","E7RBBBXHB","E23RHNDU5","E5BRU6WAE","E4XV0NYS0","E7AN7J5RP","E3T9KQULR","E23RE8G4F","E46RWAPHC","E6GDLMBCM","E3U2DUYG4","E783C7HT4","E8YCM8N9L","E30MTJF0C","E4BGDDU1H","E56KHGV6G","E7U335QS3","E8RLKB40H","E61V1AN6R","E7SV3P9PU","E3ZLD3D42"].includes(x)&&Object(S.a)(10)||["E27SFGS2W"].includes(x)&&[v.EventId.PRQ_TIME_TO_USABLE,v.EventId.PRQ_TIME_TO_VISIBLE].includes(U)||[v.EventId.PRQ_TIME_TO_USABLE,v.EventId.PRQ_TIME_TO_VISIBLE].includes(U)?!0:(U===v.EventId.PRQ_SESSION_FRAME_STATS,Object(S.a)(10))}s(oe,"isPRQEnabled"),Object(b.a)("prq",{getDesktopElapsedTime:k,getDesktopPreloadTime:F,getElectronInfo:ee})},rarT:function(Y,i,e){"use strict";e.d(i,"a",function(){return v});var a=e("9oTK"),t=e.n(a),l=e("m8R6"),u=e("2XU3"),c=e("WCk1"),g=e("s4P+"),b=e("pjW8");const S={FeatureNotEnabled:"feature_not_enabled",WorkspaceNotFound:"workspace_not_found",UserNotFound:"user_not_found",OperationNotAllowed:"operation_not_allowed",ActiveInvite:"active_invite",AlreadyInWorkspace:"already_in_workspace",CouldNotCreateInvite:"could_not_create_invite",RestrictedAction:"restricted_action",UserNotFromAllowedOrg:"user_not_from_allowed_org"},v=Object(c.a)("externalWorkspaces.invites.sendByUser generated fetcher",function(){var T=Object(a.coroutine)(function*(I,d,f){try{const C=["reason"],j=Object(l.a)(f,C),N=Object(b.b)(j);return yield I(Object(u.apiCall)({method:"externalWorkspaces.invites.sendByUser",args:N,reason:f.reason}))}catch(C){throw Object(g.a)({getState:d}).error(`API call to externalWorkspaces.invites.sendByUser
				with reason ${f.reason} failed, initiated by generated fetcher`),C}});return function(I,d,f){return T.apply(this,arguments)}}());v.meta={name:"createFetcher",key:"createFetcherexternalWorkspacesInvitesSendByUserFetcher",description:"externalWorkspaces.invites.sendByUser generated fetcher"}},sGEr:function(Y,i,e){Y.exports=e.p+"external-workspace-envelope-success-a5b43fa.png"},tVK8:function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("zEKE"),u=e("BZp1");const c=s(b=>{let{uiComponent:S,image:v,heading:T,bodyContent:I,"data-qa":d,primaryCTA:f,secondaryCTA:C}=b;const j=Object(u.a)(S);return t.a.createElement("div",{className:"p-slack_connect_dm_trial_base_banner"},t.a.createElement(l.a,{image:v,heading:T,useRoundedCorners:!1,onDismiss:j,"data-qa":d,primaryCTA:f,secondaryCTA:C},I))},"SlackConnectDMTrialBaseBanner");c.displayName="SlackConnectDMTrialBaseBanner";var g=i.a=c},tstp:function(Y,i,e){"use strict";e.d(i,"a",function(){return t}),e.d(i,"d",function(){return l}),e.d(i,"c",function(){return u}),e.d(i,"b",function(){return c});var a=e("DwFS");const t=Object(a.a)("Have we already sent boot metrics");t.meta={name:"createAction",key:"createActionsetShouldLogAppBootMetrics",description:"Have we already sent boot metrics"};const l=Object(a.a)("Should we log team switch metrics");l.meta={name:"createAction",key:"createActionsetShouldLogTeamSwitchMetrics",description:"Should we log team switch metrics"};const u=Object(a.a)("Set whether we should continue logging time to visible metrics");u.meta={name:"createAction",key:"createActionsetShouldLogTTVMetrics",description:"Set whether we should continue logging time to visible metrics"};const c=Object(a.a)("Set whether we should continue logging time to usable metrics");c.meta={name:"createAction",key:"createActionsetShouldLogTTUMetrics",description:"Set whether we should continue logging time to usable metrics"}},tx5B:function(Y,i,e){"use strict";var a=e("q1tI"),t=e.n(a),l=e("GJt6"),u=e("MLXQ"),c=e("FWGN");function g(){return g=Object.assign||function(S){for(var v=1;v<arguments.length;v++){var T=arguments[v];for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(S[I]=T[I])}return S},g.apply(this,arguments)}s(g,"_extends");const b=t.a.forwardRef((S,v)=>{let{focusKey:T,...I}=S;const d=Object(u.a)(v),f=Object(a.useCallback)(()=>{var C;d==null||(C=d.current)===null||C===void 0||C.focus()},[d]);return Object(l.a)(T,f),t.a.createElement(c.a,g({ref:d},I))});i.a=b},u0IL:function(Y,i,e){Y.exports=e.p+"nfx-welcome-modal-es-LA-cff2817.gif"},u0ou:function(Y,i,e){"use strict";e.r(i),e.d(i,"test",function(){return F}),e.d(i,"BaseI18nJapanBetaSendBtnBanner",function(){return L});var a=e("q1tI"),t=e.n(a),l=e("/MKj"),u=e("zxER"),c=e("kBpe"),g=e("nNoG"),b=e("ktUG"),S=e("Ei7s"),v=e("JoR1"),T=e("uVZW"),I=e("qN/r"),d=e("Trx9"),f=e("Tevt"),C=e("Sid4");const j=new g.b("send_btn"),N={elementName:"got_it"},O={elementName:"preferences",onClick:{enableClogAction:!0}},M={notification:T.h.JAPAN_SEND_BUTTON},L=s(ee=>{let{onPrefLinkClick:oe}=ee;const G=s(()=>t.a.createElement("div",null,j.rt("Send a message with a quick click, or by pressing <Keys>keys</Keys>",{},()=>t.a.createElement("div",{className:"inline_block"},t.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},Object(c.p)()?"\u2318":"Ctrl"),t.a.createElement("span",{className:"c-keyboard_key c-keyboard_key--slim"},"Enter"))),t.a.createElement("br",null),j.rt("Don\u2018t like the change? You can always switch back in <Link>your preferences</Link>.",{},x=>{let{text:U}=x;return t.a.createElement(f.a,{"data-qa":"i18n_japan_beta_send_btn_banner_pref_link",onClick:oe,autoClogProps:O},U)})),"renderBodyText");return t.a.createElement(d.a,{clogImpression:!0,eventId:b.EventId.UPGRDEXP_I18N_BANNER,uiComponentName:b.UiComponentName.JAPAN_BETA_SEND_BTN_BANNER},t.a.createElement(C.b,{headingText:j.t("Just for Japan: a button for sending"),bodyText:G(),primaryCTAText:j.t("Got It"),primaryCTAClogProps:N,notificationPrefs:M}))},"I18nJapanBetaSendBtnBanner");L.displayName="I18nJapanBetaSendBtnBanner";const k=s(()=>{const ee=Object(l.i)(),oe=Object(a.useRef)(!1),G=Object(u.c)(_=>!!Object(v.u)(_,"msg_input_send_btn")),x=Object(u.c)(_=>!!Object(v.u)(_,"msg_input_send_btn_auto_set")),U=Object(a.useCallback)(()=>{ee(Object(S.a)(M))},[ee]),H=Object(a.useCallback)(()=>{ee(Object(I.a)({activeSection:"advanced",activeSubsection:"input-options"}))},[ee]),p=Object(a.useCallback)(()=>{H(),U()},[U,H]);return Object(a.useEffect)(()=>{oe.current?U():oe.current=!0},[U,G,x]),t.a.createElement(L,{onPrefLinkClick:p})},"ConnectedI18nJapanBetaSendBtnBanner");k.displayName="ConnectedI18nJapanBetaSendBtnBanner";const F={NOTIFICATION_PREFS:M};i.default=k},usGY:function(Y,i,e){"use strict"},"v/8X":function(Y,i,e){"use strict";e.r(i);var a=e("q1tI"),t=e.n(a),l=e("BfA7"),u=e("Fhhg"),c=e("1ILc"),g=e("BxSy"),b=e("uxJQ"),S=e("VkPA"),v=e("Kos5"),T=e("9oTK"),I=e("zxER"),d=e("/MKj"),f=e("nNoG"),C=e("qDEp"),j=e("Tsh7"),N=e("ZobM"),O=e("c+dP"),M=e("gd+R"),L=e("QxY1"),k=e("CT1A"),F=e("m8R6"),ee=e("2XU3"),oe=e("WCk1"),G=e("s4P+"),x=e("pjW8");const U={DisallowedAction:"disallowed_action",RestrictedAction:"restricted_action",InvalidArguments:"invalid_arguments",ChannelNotFound:"channel_not_found",FileNotFound:"file_not_found"},H=Object(oe.a)("conversations.removeTab generated fetcher",function(){var Re=Object(T.coroutine)(function*(me,ce,_e){try{const Ce=["reason"],Ee=Object(F.a)(_e,Ce),Se=Object(x.b)(Ee);return yield me(Object(ee.apiCall)({method:"conversations.removeTab",args:Se,reason:_e.reason}))}catch(Ce){throw Object(G.a)({getState:ce}).error(`API call to conversations.removeTab
				with reason ${_e.reason} failed, initiated by generated fetcher`),Ce}});return function(me,ce,_e){return Re.apply(this,arguments)}}());H.meta={name:"createFetcher",key:"createFetcherconversationsRemoveTabFetcher",description:"conversations.removeTab generated fetcher"};var p=e("+7tZ"),_=e("E3dU"),V=e("oz2x"),R=e("QDh+"),w=e("+8pe"),Q=e("3l96"),re=e("avTi"),de=e("I0j/"),Ne=e("37+L"),ye=e("Mqk2"),le=e("1lhz"),De=e("eJPC"),Ae=e("WMzb"),Ie=e("5MVR");function He(){return He=Object.assign||function(Re){for(var me=1;me<arguments.length;me++){var ce=arguments[me];for(var _e in ce)Object.prototype.hasOwnProperty.call(ce,_e)&&(Re[_e]=ce[_e])}return Re},He.apply(this,arguments)}s(He,"_extends");const We=new f.b("tabbed-channel");function Me(Re){let{channelId:me}=Re;var ce;const _e="channel-tab",Ce=Object(Ae.a)(),Ee=Object(d.i)(),Se=Object(I.c)(q=>Object(_.d)(q,me)),fe=Object(I.c)(g.b),et=Object(a.useCallback)(()=>{const q=function(){var pe=Object(T.coroutine)(function*(xe){var we;if(!xe)return;const lt=(we=(yield Ee(Object(k.a)({reason:"add-tab",channelId:me,type:p.a.Canvas,data:{fileId:xe}}))).tabs)===null||we===void 0?void 0:we.find(st=>{var Pe;return((Pe=st.data)===null||Pe===void 0?void 0:Pe.file_id)===xe});lt&&Ee(Object(de.a)(Object(Ne.q)(me,{tabProps:{fileId:xe},tabId:lt.id})))});return s(function(we){return pe.apply(this,arguments)},"insertCanvas")}(),z=function(){var pe=Object(T.coroutine)(function*(){try{const we=yield new Promise((lt,st)=>{Ee(Object(le.a)({onCreate:lt,source:De.a.BOOKMARKS_BAR_CREATE})).catch(st)}),rt=yield Ee(Object(ye.g)({fileId:we==null?void 0:we.fileId}));if(!(rt!=null&&rt.permalink))return;q(rt.id)}catch(xe){const we=Object(Ie.c)(xe);Ce.error(`Error inserting a new canvas from channel tab, error: , ${we}`)}});return s(function(){return pe.apply(this,arguments)},"insertNewCanvas")}();Ee(Object(L.a)({onInsertCanvas:q,onInsertNewCanvas:z,source:_e}))},[me,Ee,Ce]),dt=Object(a.useCallback)(()=>{Ee(Object(Q.a)({element:t.a.createElement(re.a,{channelId:me})}))},[me,Ee]);var mt;const Le=Object(a.useCallback)((q,z)=>Ee(Object(R.a)({channelId:me,type:w.a.SHORTCUT,reason:"channel-tab-add-bookmark",shortcutId:q,title:(mt=z==null?void 0:z.name)!==null&&mt!==void 0?mt:q})),[me,Ee]),Be=Object(a.useCallback)(()=>Ee(Object(V.a)({source:"channel_workflows",onInsertWorkflow:Le})),[Ee,Le]),Zt=Object(a.useCallback)(()=>{const q=s(z=>{z&&Ee(Object(k.a)({reason:"add-tab",channelId:me,type:p.a.List,data:{fileId:z}}))},"insertList");Ee(Object(M.a)({onInsertList:q,source:_e}))},[me,Ee]),X=Object(a.useCallback)(q=>{Ee(H({reason:"remove-tab",channelId:me,id:q}))},[me,Ee]),W=Object(a.useCallback)(q=>{Ee(Object(k.a)({reason:"add-tab",channelId:me,type:q}))},[me,Ee]),Z=Object(a.useCallback)(q=>{var z,pe,xe,we,rt,lt,st,Pe;const vt=Se==null||(z=Se.properties)===null||z===void 0||(pe=z.tabs)===null||pe===void 0?void 0:pe.find(wa=>wa.type===p.a.Pins),Ft=Se==null||(xe=Se.properties)===null||xe===void 0||(we=xe.tabs)===null||we===void 0?void 0:we.find(wa=>wa.type===p.a.Files),ut=Se==null||(rt=Se.properties)===null||rt===void 0||(lt=rt.tabs)===null||lt===void 0?void 0:lt.find(wa=>wa.type===p.a.Bookmarks),Ha=Se==null||(st=Se.properties)===null||st===void 0||(Pe=st.tabs)===null||Pe===void 0?void 0:Pe.find(wa=>wa.type===p.a.Workflows);return t.a.createElement(O.f,He({menuClassNames:"p-add_tab_menu"},q),t.a.createElement(O.c,{label:fe?We.t("Add a \u2026"):"Add a ..."}),t.a.createElement(O.b,{icon:t.a.createElement(N.a,{name:"bookmark"}),label:fe?We.t("Bookmark"):"Bookmark",onSelected:dt}),t.a.createElement(O.b,{icon:t.a.createElement(N.a,{name:"bolt"}),label:fe?We.t("Workflow"):"Workflow",onSelected:Be}),t.a.createElement(O.b,{icon:t.a.createElement(N.a,{name:"canvas-content"}),label:fe?We.t("Canvas"):"Canvas",onSelected:et}),t.a.createElement(O.b,{icon:t.a.createElement(N.a,{name:"lists"}),label:fe?We.t("List"):"List",onSelected:Zt}),t.a.createElement(O.d,null),t.a.createElement(O.c,{label:fe?We.t("Show these tabs in the channel"):"Show these tabs in the channel"}),t.a.createElement(O.b,{label:fe?We.t("Bookmarks"):"Bookmarks",type:"checkbox",checked:!!ut,onSelected:()=>ut?X(p.a.Bookmarks):W(p.a.Bookmarks)}),t.a.createElement(O.b,{label:fe?We.t("Pins"):"Pins",type:"checkbox",checked:!!vt,onSelected:()=>vt?X(p.a.Pins):W(p.a.Pins)}),t.a.createElement(O.b,{label:fe?We.t("Files"):"Files",type:"checkbox",checked:!!Ft,onSelected:()=>Ft?X(p.a.Files):W(p.a.Files)}),t.a.createElement(O.b,{label:fe?We.t("Workflows"):"Workflows",type:"checkbox",checked:!!Ha,onSelected:()=>Ha?X(p.a.Workflows):W(p.a.Workflows)}))},[Se==null||(ce=Se.properties)===null||ce===void 0?void 0:ce.tabs,fe,X,dt,et,Zt,Be,W]);return t.a.createElement(O.e,{renderMenu:Z,position:"bottom-left"},t.a.createElement(j.d,{tip:fe?We.t("Add a tab or bookmark"):"Add a tab or bookmark",position:"top"},t.a.createElement(C.d,null,t.a.createElement("span",{className:"margin_right_25"},t.a.createElement(N.a,{name:"plus",variation:"filled",inline:!0})))))}s(Me,"AddTabMenu"),Me.displayName="AddTabMenu";var Xe=e("Ki3U"),Ct=e("8BPc"),Pt=e("Z6bF"),qe=e("oUrV"),Tt=e("lIpX"),Ze=e("iy1k"),ta=e("CnKg"),Et=e("0POb");const Rt=t.a.memo(Re=>{let{id:me,isTile:ce,lastReadTs:_e}=Re;return t.a.createElement(Tt.a,{id:me,isTile:ce,lastReadTs:_e,ignoreSubtitle:!0})}),Xt=t.a.memo(Re=>{let{fileId:me,lastReadTs:ce}=Re;return t.a.createElement(Ze.a,{entityId:Object(ta.h)({id:me}),lastReadTs:ce})}),ya=t.a.memo(Re=>{let{fileId:me,viewId:ce}=Re;return t.a.createElement(Et.a,{listId:me,viewId:ce,hideFloatingNewItemButton:!0})}),da=t.a.memo(Re=>{let{channelId:me,highlightLazy:ce,highlightTs:_e,startTs:Ce,startTsOffset:Ee}=Re;return t.a.createElement(u.a,{channelId:me,highlightLazy:ce,highlightTs:_e,omitBookmarksBar:!0,omitViewHeader:!0,startTs:Ce,startTsOffset:Ee})});var Ka=e("ZzdX"),ia=e("8z+9"),fa=e("vr9t"),ca=e("O5o/"),Qt=e("S3pO");const $t=s(()=>t.a.createElement("div",{className:"p-ia_pins_popover_placeholder"},t.a.createElement("div",{className:"p-ia_pins_popover_placeholder_header"},t.a.createElement("div",{className:"p-ia_pins_popover_placeholder_avatar"}),t.a.createElement("div",{className:"p-ia_pins_popover_placeholder_member"})),t.a.createElement("div",{className:"p-ia_pins_popover_placeholder_message"}),t.a.createElement("div",{className:"p-ia_pins_popover_placeholder_message"}),t.a.createElement("div",{className:"p-ia_pins_popover_placeholder_message"}),t.a.createElement("div",{className:"p-ia_pins_popover_placeholder_message"})),"PinsTabLoadingPlaceholder");$t.displayName="PinsTabLoadingPlaceholder";const Bt=s(Re=>{let{channelId:me}=Re;const ce=Object(d.i)(),_e=Object(I.c)(Se=>Object(fa.c)(Se,me));Object(a.useEffect)(()=>{_e===ia.b.NOT_LOADED&&ce(Object(Ka.a)({channelId:me}))},[ce,_e,me]);const Ce=_e===ia.b.LOADING||_e===ia.b.NOT_LOADED,Ee=_e===ia.b.LOADED;return t.a.createElement("div",{className:"p-ia_pins_popover_container full_height p-pins_tab_view_container","data-qa":"ia_pins_popover_container"},t.a.createElement("div",{className:"p-ia_pins_popover p-pins_tab_view"},Ce&&t.a.createElement("div",{className:"p-ia_pins_popover_loading"},t.a.createElement($t,null),t.a.createElement($t,null),t.a.createElement($t,null),t.a.createElement($t,null)),Ee&&t.a.createElement(ca.a,{channelId:me})))},"PinsTabView");Bt.displayName="PinsTabView";var Gt=t.a.memo(Bt),_t=e("IoIn"),ot=e("zoYt"),qt=e("ko5w"),jt=e("cSZH"),aa=e("/lKr"),it=e("+Q43"),ga=e("tOKv"),kt=e("RF5N");const yt=new Set([w.a.FOLDER,w.a.LINK,w.a.FILE]),ba=s(Re=>{let{context:me}=Re;const ce=Object(d.i)(),_e=[],Ce=me,Ee=Object(I.c)(X=>Object(qt.b)(X,{channelId:Ce})),Se=Object(jt.o)(Ee).filter(X=>yt.has(X.type)),fe=[...Object(jt.l)(Se.filter(X=>!X.parentId&&X.type!==w.a.FOLDER))],et=Object(jt.l)(Se.filter(X=>X.type===w.a.FOLDER)),dt=Object(a.useCallback)(X=>{if(!(X.type!==w.a.FOLDER||!Se))return Object(jt.l)(Se.filter(W=>W.parentId===X.id))},[Se]);et.forEach(X=>{fe.push(X);var W;fe.push(...(W=dt(X))!==null&&W!==void 0?W:[])});const mt=Object(a.useCallback)(X=>Se.find(W=>W.id===X),[Se]),Le=Object(a.useCallback)(X=>{X&&ce(Object(kt.a)(X))},[ce]),Be=s((X,W)=>{const{targetBounds:Z,onCloseRequested:q}=W,z=mt(X);if(!(!z||(z==null?void 0:z.type)===w.a.FOLDER))return t.a.createElement(ga.a,{targetBounds:Z,onCloseRequested:q},t.a.createElement(O.f,null,t.a.createElement(O.b,{key:"remove",label:"Remove bookmark",danger:"true",onSelected:()=>Le(z)})))},"renderContextMenuForItem");Be.displayName="renderContextMenuForItem";const Zt=Object(a.useCallback)((X,W,Z,q)=>{switch(X.type){case w.a.FOLDER:return{key:X.id,type:ot.c.SectionLabel,data:{title:X.title,isFirst:!1},role:ot.b.Presentation};case w.a.FILE:return{key:X.id,type:ot.c.FileResult,data:{fileId:X.entityId,isFirst:W,isLast:Z},onListItemSelect:pe=>{ce(Object(aa.a)({e:pe,fileId:X.entityId,source:qe.a.BOOKMARK_BAR}))},role:ot.b.ListItem,autoClogProps:{elementName:"file_result",elementIndex:q}};case w.a.LINK:var z;return{key:X.id,type:ot.c.Link,data:{icon:X.iconUrl,url:X.url,title:(z=X.title)!==null&&z!==void 0?z:X.url,emoji:X.emoji,isFirst:W,isLast:Z},onListItemSelect:pe=>{ce(Object(it.a)({e:pe,bookmark:X}))},role:ot.b.ListItem,autoClogProps:{elementName:"file_result",elementIndex:q}};default:}return{key:"results-empty",type:ot.c.ListLoading,data:{title:"",description:""},role:ot.b.Presentation}},[ce]);return fe.length&&fe.forEach((X,W)=>{_e.push(Zt(X,W===0||fe[Math.max(0,W-1)].type===w.a.FOLDER,W===fe.length-1||fe[Math.min(fe.length-1,W+1)].type===w.a.FOLDER,W))}),{rows:_e,renderContextMenuForItem:Be}},"useChannelBookmarksExplorer");ba.displayName="useChannelBookmarksExplorer";var xa=ba,nt=e("ktUG");const pt=new f.b("tabbed-channel"),Ye=s(Re=>{let{channelId:me,isInsidePopover:ce=!1}=Re;const _e=Object(I.c)(g.b),Ce=s(()=>xa({context:me,scrollToTop:()=>{}}),"useExplorer"),Ee=_e?pt.t("Bookmarks"):"Bookmarks",Se=t.a.createElement(_t.a,{headerTitle:ce?void 0:" ",useExplorer:Ce,resultListAriaLabel:Ee,clogUiPage:nt.UiPage.CHANNEL_FILES});return ce?t.a.createElement("div",{className:"p-bookmarks_tab_view--popover"},Se):Se},"BookmarksTabView");Ye.displayName="BookmarksTabView";var ge=t.a.memo(Ye),It=e("BeL+"),Fe=e("itAW"),St=e("/Hvu"),na=e("/vXU"),Jt=e("SQ0V"),sa=e("APmR");const Nt=Object(Jt.c)("Set a workflow as the defautl for a channel",(Re,me,ce)=>{let{channelId:_e,triggerId:Ce,reason:Ee="set_channel_default_workflow"}=ce;const Se=me(),fe=Ce?Object(Fe.f)(Se,{triggerId:Ce}).shortcut_url:"";let et;try{et=JSON.stringify({workflow:{primary_workflow_url:fe}})}catch(dt){Object(G.a)({getState:me}).error(dt);return}Re(Object(sa.a)({channelId:_e,props:et,reason:Ee}))});Nt.meta={name:"createThunk",key:"createThunksetChannelDefaultWorkflow",description:"Set a workflow as the defautl for a channel"};const Wt=s(Re=>{let{context:me}=Re;const ce=Object(d.i)(),_e=[],Ce=me,Ee=Object(I.c)(W=>Object(_.d)(W,Ce)),Se=Object(I.c)(W=>Object(qt.b)(W,{channelId:Ce})),fe=Object(jt.l)(Object(jt.o)(Se).filter(W=>W.type===w.a.SHORTCUT&&W.shortcutId)),et=Object(It.a)(fe.map(W=>W.shortcutId)),dt=Object(I.c)(W=>Object(Fe.h)(W,{triggerIds:et})),mt=Object(a.useCallback)(W=>fe.find(Z=>Z.shortcutId===W),[fe]),Le=Object(a.useCallback)(W=>{const Z=mt(W);Z&&ce(Object(kt.a)(Z))},[ce,mt]),Be=Object(a.useCallback)(W=>{ce(Nt({channelId:Ce,triggerId:W}))},[Ce,ce]),Zt=s((W,Z)=>{var q,z,pe;const{targetBounds:xe,onCloseRequested:we}=Z,rt=Ee==null||(q=Ee.properties)===null||q===void 0||(z=q.workflow)===null||z===void 0||(pe=z.primary_workflow_url)===null||pe===void 0?void 0:pe.includes(W);return t.a.createElement(ga.a,{targetBounds:xe,onCloseRequested:we},t.a.createElement(O.f,null,t.a.createElement(O.b,{key:"set_default",label:rt?"Remove as channel default":"Set as channel default",onSelected:()=>Be(rt?void 0:W)}),t.a.createElement(O.b,{key:"remove",label:"Remove workflow",danger:"true",onSelected:()=>Le(W)})))},"renderContextMenuForItem");Zt.displayName="renderContextMenuForItem";const X=Object(a.useCallback)((W,Z,q,z)=>({key:W,type:ot.c.Workflows,role:ot.b.ListItem,data:{triggerId:W,isFirst:Z,isLast:q,uiPage:"channel_workflows_tab"},onListItemSelect:pe=>{ce(Object(na.a)({e:pe,triggerId:W,uiPage:"channel_workflows_tab"}))},autoClogProps:{elementIndex:z,elementName:"workflow_result"}}),[ce]);return dt.length&&dt.forEach((W,Z)=>{const q=Object(St.a)({trigger:W});if(!q)return;const z=Z===0,pe=Z===dt.length-1;_e.push(X(q.triggerId,z,pe,Z))}),{rows:_e,renderContextMenuForItem:Zt}},"useChannelWorkflowsExplorer");Wt.displayName="useChannelWorkflowsExplorer";var Ot=Wt;const oa=new f.b("tabbed-channel"),za=s(Re=>{let{channelId:me,isInsidePopover:ce=!1}=Re;const _e=Object(I.c)(g.b),Ce=s(()=>Ot({context:me,scrollToTop:()=>{}}),"useExplorer"),Ee=_e?oa.t("Workflows"):"Workflows",Se=t.a.createElement(_t.a,{headerTitle:ce?void 0:" ",useExplorer:Ce,resultListAriaLabel:Ee,clogUiPage:nt.UiPage.CHANNEL_FILES});return ce?t.a.createElement("div",{className:"p-workflows_tab_view--popover"},Se):Se},"WorkflowsTabView");za.displayName="WorkflowsTabView";var tn=t.a.memo(za),$a=e("1fia"),mn=e("dmdh"),Ya=e("x6tY"),Nn=s(Re=>{let{context:me}=Re;const ce=Object(d.i)(),_e=[],Ce=me,Se=Object(I.c)(mn.a).filter(et=>et!=null&&et.channels?et.channels.includes(Ce):!1).filter(et=>!Object(Ya.h)(et)&&!Object(Ya.n)(et)&&!Object(Ya.s)(et)).map(et=>et.id);Object(a.useEffect)(()=>{ce(Object($a.a)({channelId:Ce,count:50,reason:"channel-tab-files"}))},[Ce,ce]);const fe=Object(a.useCallback)((et,dt,mt,Le)=>({key:et,type:ot.c.FileResult,data:{fileId:et,isFirst:dt,isLast:mt},onListItemSelect:Be=>{ce(Object(aa.a)({e:Be,fileId:et,source:qe.a.BOOKMARK_BAR}))},role:ot.b.ListItem,autoClogProps:{elementName:"file_result",elementIndex:Le}}),[ce]);return Se.length&&Se.forEach((et,dt)=>{_e.push(fe(et,dt===0,dt===Se.length-1,dt))}),{rows:_e}},"useChannelFilesExplorer"),Qa=e("Gg3h"),Vt=e("pu3F");const Lt=new f.b("tabbed-channel"),Da=s(Re=>{let{channelId:me,isInsidePopover:ce=!1}=Re;const _e=Object(d.i)(),Ce=Object(I.c)(g.b),Ee=s(()=>Nn({context:me,scrollToTop:()=>{}}),"useExplorer"),Se=Ce?Lt.t("Files"):"Files",et=Object(I.c)(mn.a).filter(Le=>Le!=null&&Le.channels?Le.channels.includes(me):!1).filter(Le=>Object(Ya.n)(Le)||Object(Ya.s)(Le)),dt=t.a.createElement(_t.a,{headerTitle:ce?void 0:" ",useExplorer:Ee,resultListAriaLabel:Se,clogUiPage:nt.UiPage.CHANNEL_FILES}),mt=Object(a.useCallback)((Le,Be)=>{_e(Object(aa.a)({e:Be,fileId:Le,source:qe.a.BOOKMARK_BAR}))},[_e]);return ce?t.a.createElement("div",{className:"p-files_tab_view--popover"},dt):t.a.createElement("div",{className:"p-files_tab_view"},t.a.createElement("div",{className:"p-files_tab_view__gallery_header p-explorer_section p-explorer_section--first"},Ce?Lt.t("Media"):"Media"),t.a.createElement("div",{className:"p-files_tab_view__gallery"},et.map(Le=>t.a.createElement(Qa.a,{key:Le.id,file:Le,forceClickStyles:!0,fileContainerType:Vt.s.FILE_BROWSER,onClick:Be=>mt(Le.id,Be)}))),t.a.createElement("div",{className:"p-files_tab_view__gallery_header p-explorer_section p-explorer_section--first"},Ce?Lt.t("Recent files"):"Recent files"),dt)},"FilesTabView");Da.displayName="FilesTabView";var Ja=t.a.memo(Da);const Ca=new f.b("tabbed-channel");function ra(Re,me){const ce=Object(d.i)(),_e=Object(I.c)(Le=>Object(_.d)(Le,Re)),Ce=Object(I.c)(g.b),Ee=Ce?Ca.t("Hide tab"):"Hide tab",Se=Ce?Ca.t("Remove tab"):"Remove tab",fe=Object(a.useCallback)(Le=>{let Be=Le.label;if(Object(g.c)(Le.type))switch(Le.type){case p.a.Files:Be=Ce?Ca.t("Files"):"Files";break;case p.a.Bookmarks:Be=Ce?Ca.t("Bookmarks"):"Bookmarks";break;case p.a.Pins:Be=Ce?Ca.t("Pins"):"Pins";break;case p.a.Workflows:Be=Ce?Ca.t("Workflows"):"Workflows";break;default:}return Be},[Ce]),et=Object(a.useCallback)(Le=>{let Be=Ce?Ca.t("About"):"About";if(!Le)return Be;switch(Le){case"FEEDBACK_SOLUTION":Be=Ce?Ca.t("Instructions"):"Instructions";break;default:}return Be},[Ce]),dt=Object(a.useCallback)(Le=>{let Be={};switch(Le.type){case p.a.Files:Be={name:me===p.a.Files?"folder-open":"folder"};break;case p.a.Canvas:Be={name:"canvas-content"};break;case p.a.Pins:Be={name:"pin"};break;case p.a.Bookmarks:Be={name:"bookmark"};break;case p.a.List:Be={name:"lists"};break;case p.a.Workflows:Be={name:"bolt"};break;default:}return Le.id===me&&(Be.variation="filled"),Be},[me]),mt=Object(a.useCallback)(Le=>{let Be;switch(Le.type){case p.a.List:Be=ya;break;case p.a.Canvas:Be=Xt;break;case p.a.Files:Be=Ja;break;case p.a.Pins:Be=Gt;break;case p.a.Bookmarks:Be=ge;break;case p.a.Workflows:Be=tn;break;default:}return Be},[]);return Object(a.useMemo)(()=>{var Le,Be,Zt;if(!_e||!Ce)return[];const X=[{id:b.a.Channel,tabType:b.a.Channel,label:Ca.t("Messages"),view:da,iconProps:{name:"message",variation:me===b.a.Channel?"filled":void 0},onTabSelected:()=>{ce(Object(de.a)(Object(Ne.n)(Re)))}},{id:b.a.About,tabType:b.a.About,label:et((Le=_e.properties)===null||Le===void 0?void 0:Le.use_case),view:Rt,iconProps:{name:"canvas-content",variation:me===b.a.About?"filled":void 0},onTabSelected:()=>{const{fileId:Z}=Object(Pt.a)(_e);ce(Z?Object(Xe.a)({source:qe.a.CHANNEL_CANVAS_GENERIC_SOURCE,channelId:Re}):Object(Ct.a)({channelId:Re}))}}],W=(Be=_e.properties)===null||Be===void 0||(Zt=Be.tabs)===null||Zt===void 0?void 0:Zt.map(Z=>{var q;return{id:Z.id,tabType:Z.type,label:fe(Z),iconProps:dt(Z),view:mt(Z),fileId:(q=Z.data)===null||q===void 0?void 0:q.file_id,contextMenuTemplate:[{label:Object(g.c)(Z.type)?Ee:Se,click:()=>{ce(H({reason:"remove-tab",channelId:Re,id:Z.id}))}}],onTabSelected:()=>{var z;ce(Object(de.a)(Object(Ne.q)(Re,{tabProps:{...((z=Z.data)===null||z===void 0?void 0:z.file_id)&&{fileId:Z.data.file_id}},tabId:Z.id})))}}});return W&&X.push(...W),X.push({id:b.a.Add,tabType:b.a.Add,label:Ca.t("Add tab"),iconProps:{name:"plus",variation:"filled"},isExternalLink:!0,onTabSelected:()=>{}}),X.filter(Z=>{let{enabled:q=!0}=Z;return q})},[_e,Ce,me,et,ce,Re,fe,dt,mt,Ee,Se])}s(ra,"useTabbedChannelTabs");var ct=e("BHdc"),Dt=e("Gbja"),Mt=e("Tq0d"),zt={tabbed_channel:"tabbed_channel__VKUqb",tabbed_channel_container:"tabbed_channel_container__In-iu",tabbed_channel_menu:"tabbed_channel_menu__+ooAj",tabbed_channel_content:"tabbed_channel_content__HtVWu"};function Ve(){return Ve=Object.assign||function(Re){for(var me=1;me<arguments.length;me++){var ce=arguments[me];for(var _e in ce)Object.prototype.hasOwnProperty.call(ce,_e)&&(Re[_e]=ce[_e])}return Re},Ve.apply(this,arguments)}s(Ve,"tabbed_channel_container_extends");const At=s(()=>null,"Null");function ha(Re){let{iconProps:me,label:ce,isSelected:_e,tabType:Ce,channelId:Ee,fileId:Se}=Re;const fe=Object(I.c)(Le=>Se?Object(mn.e)(Le,Se):null),et=fe&&fe.title&&(Ce===b.a.Canvas||Ce===b.a.List)?fe.title:ce,dt=Object(a.useCallback)(()=>{switch(Ce){case b.a.Pins:return t.a.createElement(Mt.a,{channelId:Ee,isInsidePopover:!0});case b.a.Workflows:return t.a.createElement("div",{style:{height:200,width:400,display:"flex"}},t.a.createElement(tn,{isInsidePopover:!0,channelId:Ee}));case b.a.Bookmarks:return t.a.createElement("div",{style:{height:200,width:400,display:"flex"}},t.a.createElement(ge,{isInsidePopover:!0,channelId:Ee}));case b.a.Files:return t.a.createElement("div",{style:{height:200,width:400,display:"flex"}},t.a.createElement(Ja,{isInsidePopover:!0,channelId:Ee}));default:}return t.a.createElement(t.a.Fragment,null)},[Ee,Ce]),mt=t.a.createElement("span",{className:Object(ct.default)({".sk_foreground_max_solid":!_e})},t.a.createElement("span",{className:Object(ct.default)("margin_right_25",{".bold":_e})},t.a.createElement(N.a,Ve({},me,{inline:!0}))),et);return Ce===b.a.Pins||Ce===b.a.Workflows||Ce===b.a.Bookmarks||Ce===b.a.Files?t.a.createElement(Dt.a,{renderContent:dt},t.a.createElement("div",null,mt)):mt}s(ha,"TabLabel"),ha.displayName="TabLabel";function la(Re){let{tabId:me,tabProps:ce,channelId:_e}=Re;const Ce=ra(_e,me),Ee=Object(a.useMemo)(()=>Ce.map(Le=>({...Le,label:Le.id===b.a.Add?t.a.createElement(Me,{channelId:_e}):t.a.createElement(ha,Ve({},Le,{tabType:Le.tabType,channelId:_e,isSelected:Le.id===me}))})),[_e,me,Ce]),Se=Object(a.useMemo)(()=>Ee.map(Le=>{let{id:Be}=Le;return Be}).join(":"),[Ee]),fe=Object(a.useMemo)(()=>Ee.find(Le=>{let{id:Be}=Le;return Be===me}),[Ee,me]),et=(fe==null?void 0:fe.view)||At,dt=Object(a.useMemo)(()=>t.a.createElement(et,Ve({},ce)),[et,ce]),mt=Object(a.useCallback)(Le=>{if(Le!==(fe==null?void 0:fe.id)&&Le!==b.a.Add){var Be;(Be=Ee.find(Zt=>{let{id:X}=Zt;return X===Le}))===null||Be===void 0||Be.onTabSelected()}},[Ee,fe==null?void 0:fe.id]);return fe?t.a.createElement("div",{className:zt.tabbed_channel_container},t.a.createElement(S.a,{key:Se,tabs:Ee,currentTabId:fe.id,defaultTabId:b.a.Channel,onTabChange:mt,tabMenuClassnames:zt.tabbed_channel_menu,maxSize:1}),t.a.createElement(v.a,{className:zt.tabbed_channel_content,fullHeight:!0,tabContent:dt})):null}s(la,"TabsContainer"),la.displayName="TabsContainer";function ma(Re){let{channelId:me,params:ce}=Re;var _e,Ce;const Ee=Object(I.c)(g.b),Se=Object(a.useMemo)(()=>({...ce,channelId:me}),[ce,me]),fe=Object(I.c)(dt=>Object(_.d)(dt,me));let et=(ce==null?void 0:ce.tabId)||b.a.Channel;return et!==b.a.About&&!(!(fe==null||(_e=fe.properties)===null||_e===void 0||(Ce=_e.tabs)===null||Ce===void 0)&&Ce.find(dt=>dt.id===(ce==null?void 0:ce.tabId)))&&(et=b.a.Channel),Ee?t.a.createElement("div",{className:zt.tabbed_channel},t.a.createElement(c.a,{id:me,shouldHideChannelCanvas:!0}),t.a.createElement(la,{channelId:me,tabId:et,tabProps:Se})):null}s(ma,"TabbedChannel"),ma.displayName="TabbedChannel";const Ia=s(Re=>{let{view:me}=Re;var ce,_e,Ce,Ee;const Se=Object(I.c)(g.b);return me?Se?t.a.createElement(ma,{params:me.params,channelId:me.id}):t.a.createElement(u.a,{channelId:me.id,startTs:(ce=me.params)===null||ce===void 0?void 0:ce.startTs,startTsOffset:(_e=me.params)===null||_e===void 0?void 0:_e.startTsOffset,highlightTs:(Ce=me.params)===null||Ce===void 0?void 0:Ce.highlightTs,highlightLazy:(Ee=me.params)===null||Ee===void 0?void 0:Ee.highlightLazy}):null},"ChannelView");Ia.displayName="ChannelView";var Ua=i.default=t.a.memo(Object(l.a)(Ia))},v4p4:function(Y,i,e){Y.exports=e.p+"best-in-class-msg-limit-just-reached-banner-illo-dark-0be747a.png"},vMmh:function(Y,i,e){"use strict";e.d(i,"a",function(){return l});var a=e("nNoG");const t=new a.b("countries"),l={Afghanistan:{name:t.t("Afghanistan"),code:"93",examplePhoneNumbers:["701234567"],shortCode:"AF"},Albania:{name:t.t("Albania"),code:"355",examplePhoneNumbers:["661234567"],shortCode:"AL"},Algeria:{name:t.t("Algeria"),code:"213",examplePhoneNumbers:["561234567"],shortCode:"DZ"},"American Samoa":{name:t.t("American Samoa"),code:"1684",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AS"},Andorra:{name:t.t("Andorra"),code:"376",examplePhoneNumbers:["312 345"],shortCode:"AD"},Angola:{name:t.t("Angola"),code:"244",examplePhoneNumbers:["923 123 456"],shortCode:"AO"},Anguilla:{name:t.t("Anguilla"),code:"1264",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AI"},Antarctica:{name:t.t("Antarctica"),code:"672",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AQ"},"Antigua and Barbuda":{name:t.t("Antigua and Barbuda"),code:"1268",examplePhoneNumbers:["(201) 555-5555"],shortCode:"AG"},Argentina:{name:t.t("Argentina"),code:"54",examplePhoneNumbers:["91123456789"],shortCode:"AR"},Armenia:{name:t.t("Armenia"),code:"374",examplePhoneNumbers:["77123456"],shortCode:"AM"},Aruba:{name:t.t("Aruba"),code:"297",examplePhoneNumbers:["560 1234"],shortCode:"AW"},Australia:{name:t.t("Australia"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"AU"},Austria:{name:t.t("Austria"),code:"43",examplePhoneNumbers:["664123456"],shortCode:"AT"},Azerbaijan:{name:t.t("Azerbaijan"),code:"994",examplePhoneNumbers:["401234567"],shortCode:"AZ"},Bahamas:{name:t.t("Bahamas"),code:"1242",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BS"},Bahrain:{name:t.t("Bahrain"),code:"973",examplePhoneNumbers:["3600 1234"],shortCode:"BH"},Bangladesh:{name:t.t("Bangladesh"),code:"880",examplePhoneNumbers:["1812345678"],shortCode:"BD"},Barbados:{name:t.t("Barbados"),code:"1246",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BB"},Belarus:{name:t.t("Belarus"),code:"375",examplePhoneNumbers:["294911911"],shortCode:"BY"},Belgium:{name:t.t("Belgium"),code:"32",examplePhoneNumbers:["470123456"],shortCode:"BE"},Belize:{name:t.t("Belize"),code:"501",examplePhoneNumbers:["622-1234"],shortCode:"BZ"},Benin:{name:t.t("Benin"),code:"229",examplePhoneNumbers:["90 01 12 34"],shortCode:"BJ"},Bermuda:{name:t.t("Bermuda"),code:"1441",examplePhoneNumbers:["(201) 555-5555"],shortCode:"BM"},Bhutan:{name:t.t("Bhutan"),code:"975",examplePhoneNumbers:["17 12 23 56"],shortCode:"BT"},Bolivia:{name:t.t("Bolivia"),code:"591",examplePhoneNumbers:["71234567"],shortCode:"BO"},"Bonaire, Sint Eustatius and Saba":{name:t.t("Bonaire, Sint Eustatius and Saba"),code:"599",examplePhoneNumbers:["9 518 1234"],shortCode:"BQ"},"Bosnia and Herzegovina":{name:t.t("Bosnia and Herzegovina"),code:"387",examplePhoneNumbers:["61123456"],shortCode:"BA"},Botswana:{name:t.t("Botswana"),code:"267",examplePhoneNumbers:["71123456"],shortCode:"BW"},"Bouvet Island":{name:t.t("Bouvet Island"),code:"55",examplePhoneNumbers:["71123456"],shortCode:"BV"},Brazil:{name:t.t("Brazil"),code:"55",examplePhoneNumbers:["1196123-4567"],shortCode:"BR"},"British Virgin Islands":{name:t.t("British Virgin Islands"),code:"1284",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VG"},Brunei:{name:t.t("Brunei"),code:"673",examplePhoneNumbers:["7123456"],shortCode:"BN"},Bulgaria:{name:t.t("Bulgaria"),code:"359",examplePhoneNumbers:["48123456"],shortCode:"BG"},"Burkina Faso":{name:t.t("Burkina Faso"),code:"226",examplePhoneNumbers:["70123456"],shortCode:"BF"},Burundi:{name:t.t("Burundi"),code:"257",examplePhoneNumbers:["79 56 12 34"],shortCode:"BI"},Cambodia:{name:t.t("Cambodia"),code:"855",examplePhoneNumbers:["91234567"],shortCode:"KH"},Cameroon:{name:t.t("Cameroon"),code:"237",examplePhoneNumbers:["6 71 23 45 67"],shortCode:"CM"},Canada:{name:t.t("Canada"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"CA"},"Cape Verde":{name:t.t("Cape Verde"),code:"238",examplePhoneNumbers:["991 12 34"],shortCode:"CV"},"Cayman Islands":{name:t.t("Cayman Islands"),code:"1345",examplePhoneNumbers:["(201) 555-5555"],shortCode:"KY"},"Central African Republic":{name:t.t("Central African Republic"),code:"236",examplePhoneNumbers:["70 01 23 45"],shortCode:"CF"},Chad:{name:t.t("Chad"),code:"235",examplePhoneNumbers:["63 01 23 45"],shortCode:"TD"},Chile:{name:t.t("Chile"),code:"56",examplePhoneNumbers:["961234567"],shortCode:"CL"},China:{name:t.t("China"),code:"86",examplePhoneNumbers:["131 2345 6789"],shortCode:"CN"},"Christmas Island":{name:t.t("Christmas Island"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"CX"},"Cocos [Keeling] Islands":{name:t.t("Cocos [Keeling] Islands"),code:"61",examplePhoneNumbers:["412345678"],shortCode:"CC"},Colombia:{name:t.t("Colombia"),code:"57",examplePhoneNumbers:["321 1234567"],shortCode:"CO"},Comoros:{name:t.t("Comoros"),code:"269",examplePhoneNumbers:["321 23 45"],shortCode:"KM"},"Republic of the Congo":{name:t.t("Republic of the Congo"),code:"242",examplePhoneNumbers:["61234567"],shortCode:"CG"},"Democratic Republic of the Congo":{name:t.t("Democratic Republic of the Congo"),code:"243",examplePhoneNumbers:["991234567"],shortCode:"CD"},"Cook Islands":{name:t.t("Cook Islands"),code:"682",examplePhoneNumbers:["71 234"],shortCode:"CK"},"Costa Rica":{name:t.t("Costa Rica"),code:"506",examplePhoneNumbers:["8312 3456"],shortCode:"CR"},"C\xF4te d'Ivoire":{name:t.t("C\xF4te d'Ivoire"),code:"225",examplePhoneNumbers:["12 34 56 7"],shortCode:"CI"},Croatia:{name:t.t("Croatia"),code:"385",examplePhoneNumbers:["912345678"],shortCode:"HR"},Cura\u00E7ao:{name:t.t("Cura\xE7ao"),code:"5999",examplePhoneNumbers:["9 518 1234"],shortCode:"CW"},Cyprus:{name:t.t("Cyprus"),code:"357",examplePhoneNumbers:["96 123456"],shortCode:"CY"},"Czech Republic":{name:t.t("Czech Republic"),code:"420",examplePhoneNumbers:["601 123 456"],shortCode:"CZ"},Denmark:{name:t.t("Denmark"),code:"45",examplePhoneNumbers:["20 12 34 56"],shortCode:"DK"},Djibouti:{name:t.t("Djibouti"),code:"253",examplePhoneNumbers:["77 83 10 01"],shortCode:"DJ"},Dominica:{name:t.t("Dominica"),code:"1767",examplePhoneNumbers:["(201) 555-5555"],shortCode:"DM"},"Dominican Republic":{name:t.t("Dominican Republic"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"DO"},Ecuador:{name:t.t("Ecuador"),code:"593",examplePhoneNumbers:["991234567"],shortCode:"EC"},Egypt:{name:t.t("Egypt"),code:"20",examplePhoneNumbers:["1001234567"],shortCode:"EG"},"El Salvador":{name:t.t("El Salvador"),code:"503",examplePhoneNumbers:["7012 3456"],shortCode:"SV"},"Equatorial Guinea":{name:t.t("Equatorial Guinea"),code:"240",examplePhoneNumbers:["222 123 456"],shortCode:"GQ"},Eritrea:{name:t.t("Eritrea"),code:"291",examplePhoneNumbers:["7123456"],shortCode:"ER"},Estonia:{name:t.t("Estonia"),code:"372",examplePhoneNumbers:["512 3456","5123 4567"],shortCode:"EE"},Ethiopia:{name:t.t("Ethiopia"),code:"251",examplePhoneNumbers:["911234567"],shortCode:"ET"},"Falkland Islands":{name:t.t("Falkland Islands"),code:"500",examplePhoneNumbers:["51234"],shortCode:"FK"},"Faroe Islands":{name:t.t("Faroe Islands"),code:"298",examplePhoneNumbers:["211234"],shortCode:"FO"},Fiji:{name:t.t("Fiji"),code:"679",examplePhoneNumbers:["701 2345"],shortCode:"FJ"},Finland:{name:t.t("Finland"),code:"358",examplePhoneNumbers:["412345678"],shortCode:"FI"},France:{name:t.t("France"),code:"33",examplePhoneNumbers:["612345678"],shortCode:"FR"},"French Guiana":{name:t.t("French Guiana"),code:"594",examplePhoneNumbers:["694201234"],shortCode:"GF"},"French Polynesia":{name:t.t("French Polynesia"),code:"689",examplePhoneNumbers:["87 12 34 56"],shortCode:"PF"},Gabon:{name:t.t("Gabon"),code:"241",examplePhoneNumbers:["6 03 12 34"],shortCode:"GA"},Gambia:{name:t.t("Gambia"),code:"220",examplePhoneNumbers:["301 2345"],shortCode:"GM"},Georgia:{name:t.t("Georgia"),code:"995",examplePhoneNumbers:["550 12 34 56"],shortCode:"GE"},Germany:{name:t.t("Germany"),code:"49",examplePhoneNumbers:["15123456789"],shortCode:"DE"},Ghana:{name:t.t("Ghana"),code:"233",examplePhoneNumbers:["231234567"],shortCode:"GH"},Gibraltar:{name:t.t("Gibraltar"),code:"350",examplePhoneNumbers:["57123456"],shortCode:"GI"},Greece:{name:t.t("Greece"),code:"30",examplePhoneNumbers:["691 234 5678"],shortCode:"GR"},Greenland:{name:t.t("Greenland"),code:"299",examplePhoneNumbers:["22 12 34"],shortCode:"GL"},Grenada:{name:t.t("Grenada"),code:"1473",examplePhoneNumbers:["(201) 555-5555"],shortCode:"GD"},Guadeloupe:{name:t.t("Guadeloupe"),code:"590",examplePhoneNumbers:["690301234"],shortCode:"GP"},Guam:{name:t.t("Guam"),code:"1671",examplePhoneNumbers:["(201) 555-5555"],shortCode:"GU"},Guatemala:{name:t.t("Guatemala"),code:"502",examplePhoneNumbers:["5123 4567"],shortCode:"GT"},Guinea:{name:t.t("Guinea"),code:"224",examplePhoneNumbers:["601 12 34 56"],shortCode:"GN"},"Guinea-Bissau":{name:t.t("Guinea-Bissau"),code:"245",examplePhoneNumbers:["955 012 345"],shortCode:"GW"},Guyana:{name:t.t("Guyana"),code:"592",examplePhoneNumbers:["609 1234"],shortCode:"GY"},Haiti:{name:t.t("Haiti"),code:"509",examplePhoneNumbers:["34 10 1234"],shortCode:"HT"},Honduras:{name:t.t("Honduras"),code:"504",examplePhoneNumbers:["9123-4567"],shortCode:"HN"},"Hong Kong":{name:t.t("Hong Kong"),code:"852",examplePhoneNumbers:["5123 4567"],shortCode:"HK"},Hungary:{name:t.t("Hungary"),code:"36",examplePhoneNumbers:["20 123 4567"],shortCode:"HU"},Iceland:{name:t.t("Iceland"),code:"354",examplePhoneNumbers:["611 1234"],shortCode:"IS"},India:{name:t.t("India"),code:"91",examplePhoneNumbers:["91234 56789"],shortCode:"IN"},Indonesia:{name:t.t("Indonesia"),code:"62",examplePhoneNumbers:["812345678"],shortCode:"ID"},Iran:{name:t.t("Iran"),code:"98",examplePhoneNumbers:["9123456789"],shortCode:"IR"},Iraq:{name:t.t("Iraq"),code:"964",examplePhoneNumbers:["7912345678"],shortCode:"IQ"},Ireland:{name:t.t("Ireland"),code:"353",examplePhoneNumbers:["850123456"],shortCode:"IE"},"Isle of Man":{name:t.t("Isle of Man"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"IM"},Israel:{name:t.t("Israel"),code:"972",examplePhoneNumbers:["501234567"],shortCode:"IL"},Italy:{name:t.t("Italy"),code:"39",examplePhoneNumbers:["312 345 6789"],shortCode:"IT"},Jamaica:{name:t.t("Jamaica"),code:"1876",examplePhoneNumbers:["(201) 555-5555"],shortCode:"JM"},Japan:{name:t.t("Japan"),code:"81",examplePhoneNumbers:["9012345678"],shortCode:"JP"},Jersey:{name:t.t("Jersey"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"JE"},Jordan:{name:t.t("Jordan"),code:"962",examplePhoneNumbers:["790123456"],shortCode:"JO"},Kazakhstan:{name:t.t("Kazakhstan"),code:"7",examplePhoneNumbers:["912 345-67-89"],shortCode:"KZ"},Kenya:{name:t.t("Kenya"),code:"254",examplePhoneNumbers:["712123456"],shortCode:"KE"},Kiribati:{name:t.t("Kiribati"),code:"686",examplePhoneNumbers:["72012345"],shortCode:"KI"},Kosovo:{name:t.t("Kosovo"),code:"383",examplePhoneNumbers:["500 12345"],shortCode:"XK"},Kuwait:{name:t.t("Kuwait"),code:"965",examplePhoneNumbers:["500 12345"],shortCode:"KW"},Kyrgyzstan:{name:t.t("Kyrgyzstan"),code:"996",examplePhoneNumbers:["700123456"],shortCode:"KG"},"Lao People's Democratic Republic":{name:t.t("Lao People's Democratic Republic"),code:"856",examplePhoneNumbers:["2023123456"],shortCode:"LA"},Latvia:{name:t.t("Latvia"),code:"371",examplePhoneNumbers:["21 234 567"],shortCode:"LV"},Lebanon:{name:t.t("Lebanon"),code:"961",examplePhoneNumbers:["71 123 456"],shortCode:"LB"},Lesotho:{name:t.t("Lesotho"),code:"266",examplePhoneNumbers:["5012 3456"],shortCode:"LS"},Liberia:{name:t.t("Liberia"),code:"231",examplePhoneNumbers:["770123456"],shortCode:"LR"},Libya:{name:t.t("Libya"),code:"218",examplePhoneNumbers:["912345678"],shortCode:"LY"},Liechtenstein:{name:t.t("Liechtenstein"),code:"423",examplePhoneNumbers:["660 234 567"],shortCode:"LI"},Lithuania:{name:t.t("Lithuania"),code:"370",examplePhoneNumbers:["612 34567"],shortCode:"LT"},Luxembourg:{name:t.t("Luxembourg"),code:"352",examplePhoneNumbers:["628 123 456"],shortCode:"LU"},Macau:{name:t.t("Macau"),code:"853",examplePhoneNumbers:["66123456"],shortCode:"MO"},Macedonia:{name:t.t("Macedonia"),code:"389",examplePhoneNumbers:["72345678"],shortCode:"MK"},Madagascar:{name:t.t("Madagascar"),code:"261",examplePhoneNumbers:["321234567"],shortCode:"MG"},Malawi:{name:t.t("Malawi"),code:"265",examplePhoneNumbers:["991234567"],shortCode:"MW"},Malaysia:{name:t.t("Malaysia"),code:"60",examplePhoneNumbers:["123456789"],shortCode:"MY"},Maldives:{name:t.t("Maldives"),code:"960",examplePhoneNumbers:["771-2345"],shortCode:"MV"},Mali:{name:t.t("Mali"),code:"223",examplePhoneNumbers:["65 01 23 45"],shortCode:"ML"},Malta:{name:t.t("Malta"),code:"356",examplePhoneNumbers:["9696 1234"],shortCode:"MT"},"Marshall Islands":{name:t.t("Marshall Islands"),code:"692",examplePhoneNumbers:["235-1234"],shortCode:"MH"},Martinique:{name:t.t("Martinique"),code:"596",examplePhoneNumbers:["696201234"],shortCode:"MQ"},Mauritania:{name:t.t("Mauritania"),code:"222",examplePhoneNumbers:["22 12 34 56"],shortCode:"MR"},Mauritius:{name:t.t("Mauritius"),code:"230",examplePhoneNumbers:["5251 2345"],shortCode:"MU"},Mayotte:{name:t.t("Mayotte"),code:"262",examplePhoneNumbers:["692123456"],shortCode:"YT"},Mexico:{name:t.t("Mexico"),code:"52",examplePhoneNumbers:["12221234567"],shortCode:"MX"},Micronesia:{name:t.t("Micronesia"),code:"691",examplePhoneNumbers:["350 1234"],shortCode:"FM"},"Republic of Moldova":{name:t.t("Republic of Moldova"),code:"373",examplePhoneNumbers:["62112345"],shortCode:"MD"},Monaco:{name:t.t("Monaco"),code:"377",examplePhoneNumbers:["612345678"],shortCode:"MC"},Mongolia:{name:t.t("Mongolia"),code:"976",examplePhoneNumbers:["8812 3456"],shortCode:"MN"},Montenegro:{name:t.t("Montenegro"),code:"382",examplePhoneNumbers:["067 222 123"],shortCode:"ME"},Montserrat:{name:t.t("Montserrat"),code:"1664",examplePhoneNumbers:["(201) 555-5555"],shortCode:"MS"},Morocco:{name:t.t("Morocco"),code:"212",examplePhoneNumbers:["650123456"],shortCode:"MA"},Mozambique:{name:t.t("Mozambique"),code:"258",examplePhoneNumbers:["82 123 4567"],shortCode:"MZ"},Myanmar:{name:t.t("Myanmar"),code:"95",examplePhoneNumbers:["92123456"],shortCode:"MM"},Namibia:{name:t.t("Namibia"),code:"264",examplePhoneNumbers:["811234567"],shortCode:"NA"},Nauru:{name:t.t("Nauru"),code:"674",examplePhoneNumbers:["555 1234"],shortCode:"NR"},Nepal:{name:t.t("Nepal"),code:"977",examplePhoneNumbers:["984-1234567"],shortCode:"NP"},Netherlands:{name:t.t("Netherlands"),code:"31",examplePhoneNumbers:["612345678"],shortCode:"NL"},"New Caledonia":{name:t.t("New Caledonia"),code:"687",examplePhoneNumbers:["75.12.34"],shortCode:"NC"},"New Zealand":{name:t.t("New Zealand"),code:"64",examplePhoneNumbers:["211234567"],shortCode:"NZ"},Nicaragua:{name:t.t("Nicaragua"),code:"505",examplePhoneNumbers:["8123 4567"],shortCode:"NI"},Niger:{name:t.t("Niger"),code:"227",examplePhoneNumbers:["93 12 34 45"],shortCode:"NE"},Nigeria:{name:t.t("Nigeria"),code:"234",examplePhoneNumbers:["8021234567"],shortCode:"NG"},Niue:{name:t.t("Niue"),code:"683",examplePhoneNumbers:["1234"],shortCode:"NU"},"Norfolk Island":{name:t.t("Norfolk Island"),code:"672",examplePhoneNumbers:["3 81234"],shortCode:"NF"},"Northern Mariana Islands":{name:t.t("Northern Mariana Islands"),code:"1670",examplePhoneNumbers:["(201) 555-5555"],shortCode:"MP"},Norway:{name:t.t("Norway"),code:"47",examplePhoneNumbers:["406 12 345"],shortCode:"NO"},Oman:{name:t.t("Oman"),code:"968",examplePhoneNumbers:["9212 3456"],shortCode:"OM"},Pakistan:{name:t.t("Pakistan"),code:"92",examplePhoneNumbers:["3012345678"],shortCode:"PK"},Palau:{name:t.t("Palau"),code:"680",examplePhoneNumbers:["620 1234"],shortCode:"PW"},"State of Palestine":{name:t.t("State of Palestine"),code:"970",examplePhoneNumbers:["599123456"],shortCode:"PS"},Panama:{name:t.t("Panama"),code:"507",examplePhoneNumbers:["6001-2345"],shortCode:"PA"},"Papua New Guinea":{name:t.t("Papua New Guinea"),code:"675",examplePhoneNumbers:["681 2345"],shortCode:"PG"},Paraguay:{name:t.t("Paraguay"),code:"595",examplePhoneNumbers:["961345678"],shortCode:"PY"},Peru:{name:t.t("Peru"),code:"51",examplePhoneNumbers:["912 345 678"],shortCode:"PE"},Philippines:{name:t.t("Philippines"),code:"63",examplePhoneNumbers:["9051234567"],shortCode:"PH"},"Pitcairn Islands":{name:t.t("Pitcairn Islands"),code:"64",examplePhoneNumbers:["712345678"],shortCode:"PN"},Poland:{name:t.t("Poland"),code:"48",examplePhoneNumbers:["512 345 678"],shortCode:"PL"},Portugal:{name:t.t("Portugal"),code:"351",examplePhoneNumbers:["912 345 678"],shortCode:"PT"},"Puerto Rico":{name:t.t("Puerto Rico"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"PR"},Qatar:{name:t.t("Qatar"),code:"974",examplePhoneNumbers:["3312 3456"],shortCode:"QA"},R\u00E9union:{name:t.t("R\xE9union"),code:"974",examplePhoneNumbers:["692123456"],shortCode:"RE"},Romania:{name:t.t("Romania"),code:"40",examplePhoneNumbers:["712345678"],shortCode:"RO"},"Russian Federation":{name:t.t("Russian Federation"),code:"7",examplePhoneNumbers:["912 345-67-89"],shortCode:"RU"},Rwanda:{name:t.t("Rwanda"),code:"250",examplePhoneNumbers:["720123456"],shortCode:"RW"},"Saint Barth\xE9lemy":{name:t.t("Saint Barth\xE9lemy"),code:"590",examplePhoneNumbers:["690301234"],shortCode:"BL"},"Saint Helena":{name:t.t("Saint Helena"),code:"290",examplePhoneNumbers:["21234"],shortCode:"SH"},"Saint Kitts and Nevis":{name:t.t("Saint Kitts and Nevis"),code:"1869",examplePhoneNumbers:["(201) 555-5555"],shortCode:"KN"},"Saint Lucia":{name:t.t("Saint Lucia"),code:"1758",examplePhoneNumbers:["(201) 555-5555"],shortCode:"LC"},"Saint Martin":{name:t.t("Saint Martin"),code:"599",examplePhoneNumbers:["690301234"],shortCode:"MF"},"Saint Pierre and Miquelon":{name:t.t("Saint Pierre and Miquelon"),code:"508",examplePhoneNumbers:["551234"],shortCode:"PM"},"Saint Vincent and the Grenadines":{name:t.t("Saint Vincent and the Grenadines"),code:"1784",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VC"},Samoa:{name:t.t("Samoa"),code:"685",examplePhoneNumbers:["601234"],shortCode:"WS"},"San Marino":{name:t.t("San Marino"),code:"378",examplePhoneNumbers:["66 66 12 12"],shortCode:"SM"},"S\xE3o Tom\xE9 and Pr\xEDncipe":{name:t.t("S\xE3o Tom\xE9 and Pr\xEDncipe"),code:"239",examplePhoneNumbers:["981 2345"],shortCode:"ST"},"Saudi Arabia":{name:t.t("Saudi Arabia"),code:"966",examplePhoneNumbers:["512345678"],shortCode:"SA"},Senegal:{name:t.t("Senegal"),code:"221",examplePhoneNumbers:["70 123 45 67"],shortCode:"SN"},Serbia:{name:t.t("Serbia"),code:"381",examplePhoneNumbers:["601234567"],shortCode:"RS"},Seychelles:{name:t.t("Seychelles"),code:"248",examplePhoneNumbers:["2 510 123"],shortCode:"SC"},"Sierra Leone":{name:t.t("Sierra Leone"),code:"232",examplePhoneNumbers:["25123456"],shortCode:"SL"},Singapore:{name:t.t("Singapore"),code:"65",examplePhoneNumbers:["8123 4567"],shortCode:"SG"},"Sint Maarten":{name:t.t("Sint Maarten"),code:"1721",examplePhoneNumbers:["(201) 555-5555"],shortCode:"SX"},Slovakia:{name:t.t("Slovakia"),code:"421",examplePhoneNumbers:["912123456"],shortCode:"SK"},Slovenia:{name:t.t("Slovenia"),code:"386",examplePhoneNumbers:["31234567"],shortCode:"SI"},"Solomon Islands":{name:t.t("Solomon Islands"),code:"386",examplePhoneNumbers:["74 21234"],shortCode:"SB"},Somalia:{name:t.t("Somalia"),code:"252",examplePhoneNumbers:["7 1123456"],shortCode:"SO"},"South Africa":{name:t.t("South Africa"),code:"27",examplePhoneNumbers:["711234567"],shortCode:"ZA"},"Republic of Korea":{name:t.t("Republic of Korea"),code:"82",examplePhoneNumbers:["1000000000"],shortCode:"KR"},"South Sudan":{name:t.t("South Sudan"),code:"211",examplePhoneNumbers:["977123456"],shortCode:"SS"},Spain:{name:t.t("Spain"),code:"34",examplePhoneNumbers:["612 34 56 78"],shortCode:"ES"},"Sri Lanka":{name:t.t("Sri Lanka"),code:"94",examplePhoneNumbers:["712345678"],shortCode:"LK"},Suriname:{name:t.t("Suriname"),code:"597",examplePhoneNumbers:["741-2345"],shortCode:"SR"},"Svalbard and Jan Mayen":{name:t.t("Svalbard and Jan Mayen"),code:"47",examplePhoneNumbers:["406 12 345"],shortCode:"SJ"},Swaziland:{name:t.t("Swaziland"),code:"268",examplePhoneNumbers:["7612 3456"],shortCode:"SZ"},Sweden:{name:t.t("Sweden"),code:"46",examplePhoneNumbers:["701234567"],shortCode:"SE"},Switzerland:{name:t.t("Switzerland"),code:"41",examplePhoneNumbers:["781234567"],shortCode:"CH"},Taiwan:{name:t.t("Taiwan"),code:"886",examplePhoneNumbers:["912345678"],shortCode:"TW"},Tajikistan:{name:t.t("Tajikistan"),code:"992",examplePhoneNumbers:["917 12 3456"],shortCode:"TJ"},Tanzania:{name:t.t("Tanzania"),code:"255",examplePhoneNumbers:["621234567"],shortCode:"TZ"},Thailand:{name:t.t("Thailand"),code:"66",examplePhoneNumbers:["812345678"],shortCode:"TH"},"Timor-Leste":{name:t.t("Timor-Leste"),code:"670",examplePhoneNumbers:["7721 2345"],shortCode:"TL"},Togo:{name:t.t("Togo"),code:"228",examplePhoneNumbers:["90 11 23 45"],shortCode:"TG"},Tokelau:{name:t.t("Tokelau"),code:"690",examplePhoneNumbers:["7290"],shortCode:"TK"},Tonga:{name:t.t("Tonga"),code:"676",examplePhoneNumbers:["771 5123"],shortCode:"TO"},"Trinidad and Tobago":{name:t.t("Trinidad and Tobago"),code:"1868",examplePhoneNumbers:["(201) 555-5555"],shortCode:"TT"},Tunisia:{name:t.t("Tunisia"),code:"216",examplePhoneNumbers:["20 123 456"],shortCode:"TN"},Turkey:{name:t.t("Turkey"),code:"90",examplePhoneNumbers:["501 234 5678"],shortCode:"TR"},Turkmenistan:{name:t.t("Turkmenistan"),code:"993",examplePhoneNumbers:["66123456"],shortCode:"TM"},"Turks and Caicos Islands":{name:t.t("Turks and Caicos Islands"),code:"1649",examplePhoneNumbers:["(201) 555-5555"],shortCode:"TC"},Tuvalu:{name:t.t("Tuvalu"),code:"688",examplePhoneNumbers:["901234"],shortCode:"TV"},"U.S. Virgin Islands":{name:t.t("U.S. Virgin Islands"),code:"1340",examplePhoneNumbers:["(201) 555-5555"],shortCode:"VI"},Uganda:{name:t.t("Uganda"),code:"256",examplePhoneNumbers:["712345678"],shortCode:"UG"},Ukraine:{name:t.t("Ukraine"),code:"380",examplePhoneNumbers:["391234567"],shortCode:"UA"},"United Arab Emirates":{name:t.t("United Arab Emirates"),code:"971",examplePhoneNumbers:["501234567"],shortCode:"AE"},"United Kingdom":{name:t.t("United Kingdom"),code:"44",examplePhoneNumbers:["7400123456"],shortCode:"GB"},"United States":{name:t.t("United States"),code:"1",examplePhoneNumbers:["(201) 555-5555"],shortCode:"US",rawName:"United States"},Uruguay:{name:t.t("Uruguay"),code:"598",examplePhoneNumbers:["94231234"],shortCode:"UY"},Uzbekistan:{name:t.t("Uzbekistan"),code:"998",examplePhoneNumbers:["912345678"],shortCode:"UZ"},Vanuatu:{name:t.t("Vanuatu"),code:"678",examplePhoneNumbers:["591 2345"],shortCode:"VU"},"Vatican City":{name:t.t("Vatican City"),code:"39",examplePhoneNumbers:["312 345 6789"],shortCode:"VA"},Venezuela:{name:t.t("Venezuela"),code:"58",examplePhoneNumbers:["4121234567"],shortCode:"VE"},Vietnam:{name:t.t("Vietnam"),code:"84",examplePhoneNumbers:["91 234 56 78"],shortCode:"VN"},"Wallis and Futuna":{name:t.t("Wallis and Futuna"),code:"681",examplePhoneNumbers:["50 12 34"],shortCode:"WF"},"Western Sahara":{name:t.t("Western Sahara"),code:"212",examplePhoneNumbers:["650123456"],shortCode:"EH"},Yemen:{name:t.t("Yemen"),code:"967",examplePhoneNumbers:["712345678"],shortCode:"YE"},Zambia:{name:t.t("Zambia"),code:"260",examplePhoneNumbers:["955123456"],shortCode:"ZM"},Zimbabwe:{name:t.t("Zimbabwe"),code:"263",examplePhoneNumbers:["711234567"],shortCode:"ZW"}},u=l["United States"]},xXk5:function(Y,i,e){"use strict";e.d(i,"a",function(){return g}),e.d(i,"c",function(){return b});var a=e("thso"),t=e("ivW5");const l=12096e5,u={persistenceEnabled:!0,persistImmediately:!0,storeKey:"recentlyJoinedChannels",afterReadTransform:S=>{const v=Date.now(),T=Object.entries(S).reduce((I,d)=>{let[f,C]=d;return v-C.dateJoined<l&&(I[f]=C),I},{});return Object(a.d)(T)}},{reducer:c,actions:g,selectors:b}=Object(t.a)(u,{transform:S=>{const{id:v,...T}=S;return{id:v,object:T}}});i.b=c},xa3j:function(Y,i,e){"use strict";e.d(i,"a",function(){return O});var a=e("9oTK"),t=e.n(a),l=e("q1tI"),u=e.n(l),c=e("zxER"),g=e("/MKj"),b=e("3l96"),S=e("+kJ4"),v=e("KLgx"),T=e("59jt"),I=e("HYbo"),d=e("jWAO"),f=e("K2b1");function C(){return C=Object.assign||function(L){for(var k=1;k<arguments.length;k++){var F=arguments[k];for(var ee in F)Object.prototype.hasOwnProperty.call(F,ee)&&(L[ee]=F[ee])}return L},C.apply(this,arguments)}s(C,"_extends");const j=new f.b("oauth_account_picker");function N(L,k){const F=Object(l.useMemo)(()=>s(function(){return Object(c.c)(G=>{var x;return(x=Object(v.a)(G,{functionId:L,providerKey:k}))===null||x===void 0?void 0:x.validTokens})||[]},"useCurrentOAuthTokenState"),[L,k]);return{authTokens:F(),selectAuthTokens:F}}s(N,"useOAuthTokenStateWithSelector");function O(L){const{AccountPickerComponent:k=T.a,functionId:F,providerKey:ee,onAddOAuth:oe,loadingStatus:G=I.a.FINISHED}=L,{authTokens:x,selectAuthTokens:U}=N(F,ee),[H,p]=Object(l.useState)(null),[_,V]=Object(l.useState)(G),R=Object(l.useCallback)(Object(a.coroutine)(function*(){try{p(null),V(I.a.IN_FLIGHT),yield oe()}catch(w){p(w)}finally{V(I.a.FINISHED)}}),[oe]);if(!x.length){const{loadingStatus:w,...Q}=L;return u.a.createElement(u.a.Fragment,null,u.a.createElement(k,C({loadingStatus:_,hasValidOAuth:!1,onUpdateOAuth:R},Q)),H&&u.a.createElement(d.d,{level:"error",className:"margin_top_50"},j.t("There was an error connecting your account. Try again.")))}return u.a.createElement(M,C({authTokens:x,selectAuthTokens:U},L))}s(O,"OAuthAccountSelect"),O.displayName="OAuthAccountSelect";function M(L){const{AccountPickerComponent:k=T.a,providerName:F,authTokens:ee,loadingStatus:oe=I.a.FINISHED,onAddOAuth:G,onSelectOAuth:x,selectAuthTokens:U}=L,H=Object(g.i)(),p=Object(l.useMemo)(()=>ee.find(w=>{let{isDefault:Q}=w;return Q})||ee[0]||null,[ee]),_=Object(l.useCallback)(()=>{H(Object(S.a)())},[H]),V=Object(l.useCallback)(()=>{H(Object(b.a)({element:u.a.createElement(T.b,{providerName:F,selectedAuth:p,onClose:_,onAddOAuth:G,onSelectOAuth:x,useOAuthTokenState:U}),name:"oauth-account-select-modal",isStackable:!0}))},[F,p,_,H,x,G,U]);return u.a.createElement(k,C({hasValidOAuth:!0,userId:p==null?void 0:p.externalUserId,loadingStatus:oe,onUpdateOAuth:V},L))}s(M,"ThirdPartyAuthAccountSelectWithModal"),M.displayName="ThirdPartyAuthAccountSelectWithModal"},xtxb:function(Y,i,e){Y.exports=e.p+"external_connection_static-7bdb59f.png"}}]);})();
