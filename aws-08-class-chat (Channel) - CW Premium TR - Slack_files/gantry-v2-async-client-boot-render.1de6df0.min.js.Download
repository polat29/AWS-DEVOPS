(()=>{var XL=Object.defineProperty;var c=(le,y)=>XL(le,"name",{value:y,configurable:!0});(window.webpackJsonp=window.webpackJsonp||[]).push([["gantry-v2-async-client-boot-render"],{"+Nj+":function(le,y,e){le.exports=e.p+"slack_ai_digest_nux-1e162e3.png"},"+l1W":function(le,y,e){le.exports=e.p+"nfx-welcome-modal-ko-KR-36126cb.gif"},"/B99":function(le,y,e){"use strict";e.d(y,"a",function(){return C});var s=e("uZL6"),t=e("E3dU"),u=e("pOmS");const C=Object(s.a)(t.b,(O,v)=>v,(O,v)=>O.filter(B=>Object(u.a)(B)===v))},"/CxC":function(le,y,e){le.exports=e.p+"coachmark_activity-d1d9e48.gif"},"/Erz":function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("BHdc"),O=e("nNoG"),v=e("Trx9"),B=e("/cL/"),P=e("Tsh7"),M=e("mQiU"),L=e("zm5I"),z=e("vfQU"),U=e("2VFn"),g=e("ZobM"),J=e("ktUG");const d=new O.b("plan_change"),S={isPrimaryCTA:!0,onClick:{enableClogAction:!0}},F=c(()=>{const Q=Object(u.c)(L.a),V=d.t("Upgrade Plan"),{activeTab:X}=Object(s.useContext)(M.a),K=X===U.f.Home;return Object(z.cb)()||!K?null:t.a.createElement(v.a,{uiComponentName:J.UiComponentName.UPGRADE_BUTTON},t.a.createElement(B.a,{autoClogProps:S,className:Object(C.default)("p-upgrades_button",{"sk-client-theme--light":Q==="light"}),"data-qa":"upgrades-kit-upgrade-button",entryPoint:"upgrade-button",type:"outline","aria-label":V},t.a.createElement("div",{className:"p-upgrades_button__rocket"},t.a.createElement(g.a,{name:"rocket"})),t.a.createElement(P.d,{offsetX:-15,position:"bottom",delay:P.a,tip:V,shouldOnlyShowWhenTruncated:!0},t.a.createElement("div",{className:"p-upgrades_button__label"},V))))},"UpgradeButton");F.displayName="UpgradeButton";var x=y.default=F},"/ilZ":function(le,y,e){"use strict";e.r(y),e.d(y,"BaseTabsCustomizationNuxMenuItem",function(){return X});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("79wK"),O=e("zxER"),v=e("q6Tz"),B=e("15H6"),P=e("eWGC"),M=e("uVZW"),L=e("RR6E"),z=e("c+dP"),U=e("6FZx"),g=e("ktUG"),J=e("rZ8V"),d=e("nNoG"),S=e("WAGc");function F(){return F=Object.assign||function(H){for(var w=1;w<arguments.length;w++){var T=arguments[w];for(var ee in T)Object.prototype.hasOwnProperty.call(T,ee)&&(H[ee]=T[ee])}return H},F.apply(this,arguments)}c(F,"_extends");const x=new d.b("search"),Q={clogImpression:!0,elementName:"tabs_customization_menu_item",onClick:{enableClogAction:!0},uiComponentName:g.UiComponentName.TABS_CUSTOMIZATION_NUX_MENU_ITEM},V=C.a.TABS_CUSTOMIZATION_NUX_MENU_ITEM,X=c(H=>{let{onClick:w,onMount:T,onUnmount:ee,...ne}=H;return Object(s.useEffect)(()=>(T(),()=>{ee()}),[T,ee]),t.a.createElement(z.b,F({},ne,{autoClogProps:Q,className:"p-more_menu_infobox--menu",onSelected:w,type:"custom"}),t.a.createElement("div",{className:"p-more_menu_infobox--container"},t.a.createElement("div",{className:"p-more_menu_infobox--alert"},t.a.createElement("div",{className:"p-more_menu_infobox--nux-msg"},x.t("Put your favorite tools front and center")),t.a.createElement("div",{className:"p-more_menu_infobox--link"},x.t("Customize navigation bar"))),t.a.createElement("div",{className:"p-more_menu_infobox--callout"},x.t("NEW"))))},"BaseTabsCustomizationNuxMenuItem");X.displayName="BaseTabsCustomizationNuxMenuItem";const K=c(H=>{let{onClick:w,...T}=H;const ee=Object(u.i)(),ne=Object(O.c)(J.q),ue=Object(O.c)(L.c),te=Object(s.useCallback)(()=>{ee(Object(B.a)({action:M.f.CLICK,iaVersion:ne?4:3,spaceName:M.g.MORE_PEEK_MENU})),w()},[ee,ne,w]),D=Object(s.useCallback)(()=>{ee(Object(P.a)({action:M.f.IMPRESSION,notificationName:M.h.MORE_PEEK_MENU_TABS_CUSTOMIZATION_NUX_MENU_ITEM}))},[ee]),f=Object(s.useCallback)(()=>{ee(Object(v.c)({event:{iaVersion:ne?4:3,spaces:[M.g.MORE_PEEK_MENU],type:M.e.REQUEST_SPACES}}))},[ee,ne]);return ue?null:t.a.createElement(X,F({},T,{onClick:te,onMount:D,onUnmount:f}))},"TabsCustomizationNuxMenuItem");K.displayName="TabsCustomizationNuxMenuItem",y.default=Object(U.b)(Object(s.memo)(K))},"/rdY":function(le,y,e){le.exports=e.p+"global_create-ba70d2a.png"},"/vXU":function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("SQ0V"),C=e("3l96"),O=e("zxER"),v=e("itAW"),B=e("H8zP"),P=e("/Hvu");const M={location:"search"},L=c(J=>{let{triggerId:d,uiPage:S}=J;const F=Object(O.c)(Q=>Object(v.f)(Q,{triggerId:d},!0)),x=Object(P.a)({trigger:F});return x?t.a.createElement(B.default,{shortcutInfo:x,hermesLinkTriggerUIContext:M,uiPage:S}):null},"WorkflowModal");L.displayName="WorkflowModal";var z=L;const U=Object(u.c)("Handles user click on workflow item in explorer view",(J,d,S)=>{let{e:F,triggerId:x,uiPage:Q}=S;F==null||F.preventDefault(),J(Object(C.a)({name:"workflow-item-modal",element:t.a.createElement(z,{triggerId:x,uiPage:Q})}))});U.meta={name:"createThunk",key:"createThunkhandleWorkflowItemClick",description:"Handles user click on workflow item in explorer view"};var g=y.a=U},"01FL":function(le,y,e){"use strict";e.r(y),e.d(y,"default",function(){return te});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("Trx9"),O=e("nNoG"),v=e("zxER"),B=e("rZ8V"),P=e("uVZW"),M=e("69o4"),L=e("3l96"),z=e("q0lC"),U=e("Tevt"),g=e("IiTT"),J=e("Y40X"),d=e("gHTj"),S=e.n(d),F=e("6I59"),x=e.n(F),Q=e("JoR1"),V=e("+kJ4"),X=e("qDEp"),K=e("YUBf"),H=e("ktUG"),w=e("usGY");const T=new O.b("ia4"),ee={elementName:"got_it",onClick:{enableClogAction:!0}};function ne(){const D=Object(u.i)(),f=Object(v.c)(mt=>!!Object(Q.u)(mt,"a11y_animations")),ie=Object(v.c)(B.r),Z=Object(v.c)(z.b),pe=Object(s.useCallback)(()=>{D(Object(V.a)())},[D]),q=ie?T.t("Only you and other Org Owners and Org Admins have the new design. Check your email for more info about the rollout to the rest of your organization."):"";if(!ie||!Z)return null;var xe;const ze=(xe=J.localeToGifMap[Object(O.m)()])!==null&&xe!==void 0?xe:S.a;return t.a.createElement(C.a,{eventId:H.EventId.NEWXP_JOIN_TEAM,uiStep:H.UiStep.NFX_GRID_ADMINS_MODAL,elementType:H.ElementType.MODAL,clogImpression:!0},t.a.createElement(K.b,{className:"p-nfx_welcome_modal",contentLabel:q,onClose:pe,maxWidth:600},t.a.createElement(K.d,null,t.a.createElement(K.j,{"aria-hidden":!0,height:338,width:600,alt:"",src:f?ze:x.a}),t.a.createElement("h1",{className:"p-nfx_welcome_modal__title"},ie?T.t("Your chance to try the new Slack design"):""),t.a.createElement(K.e,{className:"p-nfx_welcome_modal__description"},q)),t.a.createElement(K.g,{className:"justify_content_center"},t.a.createElement(K.h,{className:"margin_left_0"},t.a.createElement(X.f,{onClick:pe,autoClogProps:ee},ie?T.t("Got It"):"")))))}c(ne,"NFXGridAdminsModal");const ue=new O.b("nfx_banner");function te(D){let{enableSectionNavigation:f}=D;const ie=Object(u.i)(),Z=Object(v.c)(B.r),pe=Object(v.c)(z.b),q=Object(s.useCallback)(()=>{ie(Object(M.a)({spaceName:P.g.CLIENT_FOOTER,action:P.f.DISMISS}))},[ie]),xe=Object(s.useCallback)(()=>{q(),ie(Object(L.a)({name:"nfx-grid-admins-modal",element:t.a.createElement(ne,null)}))},[q,ie]);return!Z||!pe?null:t.a.createElement(C.a,{clogImpression:!0},t.a.createElement(g.a,{enableSectionNavigation:f,type:"info",preventTypeOverride:!0,showCloseButton:!0,topOffset:"auto",isFixedPosition:!1,className:"p-nfx_grid_admins_banner",onClose:q},Z?ue.rt("Only Org Owners and Org Admins have the new Slack design. <link>Learn more</link>",null,ze=>{let{key:mt,text:Me}=ze;return t.a.createElement(U.a,{key:mt,onClick:xe},Me)}):""))}c(te,"BannerNFXGridAdmins")},"01KW":function(le,y,e){"use strict";e.r(y),e.d(y,"BaseSalesHomeOnboardingCoachmark",function(){return Q}),e.d(y,"SalesHomeOnboardingCoachmark",function(){return V});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("03PU"),O=e("N0zA"),v=e("ktUG"),B=e("nNoG"),P=e("zxER"),M=e("eWGC"),L=e("uVZW"),z=e("y8m0"),U=e("DD9N"),g=e.n(U),J=e("X8m/"),d=e.n(J),S=e("sEVn");function F(){return F=Object.assign||function(X){for(var K=1;K<arguments.length;K++){var H=arguments[K];for(var w in H)Object.prototype.hasOwnProperty.call(H,w)&&(X[w]=H[w])}return X},F.apply(this,arguments)}c(F,"_extends");const x=new B.b("modernselling"),Q=c(X=>{let{dismissCoachmark:K,children:H,isAuthedUser:w,renderCoachmark:T,UNSAFE_parentSelector:ee}=X,ne,ue;w?(ne=x.t("Dive back into your deals"),ue=x.t("With Slack\u2019s new look, you still have quick access to your Salesforce opportunities, updates and metrics.")):(ne=x.t("Save time on every sale"),ue=x.t("Bring your Salesforce opportunities into Slack, so you can update progress and stay in the know \u2014 all where you already work."));const te=x.t("sales home coachmark"),D=Object(s.useMemo)(()=>t.a.createElement("img",{className:"p-sales_nux_coachmark__hero_img",srcSet:`${g.a}, ${d.a} 2x`,alt:te}),[te]),f=Object(s.useMemo)(()=>({eventId:v.EventId.LOB_SALES_HOME,uiComponentName:v.UiComponentName.SALES_HOME_ONBOARDING_COACHMARK,uiComponentVariant:w?v.UiComponentVariant.SALES_IS_AUTHED:v.UiComponentVariant.SALES_IS_UNAUTHED,clogImpression:!0}),[w]),ie=Object(s.useMemo)(()=>({autoClogProps:f,width:403,offsetX:0,arrowPosition:20,hero:D,title:ne,ariaLabel:ne,bodyText:ue,hideCloseButton:!1,closeBackgroundStyle:"dark",closeCoachmark:K,centerOnArrow:!0,isMegaphoneCoachmark:!0,UNSAFE_parentSelector:ee}),[ne,ue,f,D,K,ee]),Z=T(ie);return t.a.createElement(C.c,{coachmarkElement:Z,orientation:"right"},H)},"SalesHomeOnboardingCoachmark");Q.displayName="SalesHomeOnboardingCoachmark";const V=c(X=>{const K=Object(u.i)(),H=Object(P.c)(z.c),w=L.h.SALES_HOME_SIDEBAR_COACHMARK_IA4,{isOpen:T,closeCoachmark:ee,renderCoachmark:ne}=Object(O.a)(w),ue=Object(s.useCallback)(()=>{ee()},[ee]);return Object(s.useEffect)(()=>{H&&T&&K(Object(M.a)({notificationName:w,action:L.f.IMPRESSION}))},[K,H,T,w]),!T||!H?X.children:t.a.createElement(Q,F({dismissCoachmark:ue,renderCoachmark:ne},X))},"ConnectedSalesHomeOnboardingCoachmark");V.displayName="ConnectedSalesHomeOnboardingCoachmark"},"0EEA":function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("BHdc"),C=e("CTEJ"),O=e("e7up"),v=e("dAfq");const B={small:120,medium:200,large:360},P=c(function(){let{className:M,missingTextSizes:L}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const z=L||B;return t.a.createElement("div",{className:Object(u.default)("p-search_workflows--skeleton","p-search_workflows_container",M)},t.a.createElement("div",{className:"p-search_workflows_item p-search_workflows--skeleton__inner"},t.a.createElement("div",{className:"c-pillow_file__icon p-search_file--skeleton__icon"},t.a.createElement(O.a,{size:36,className:"p-search_workflows_item-icon p-search_workflows--skeleton__icon"})),t.a.createElement("div",{className:"p-search_workflows_item-information p-search_workflows--skeleton__information"},t.a.createElement("div",{className:"p-search_workflows--skeleton__content_header p-search_workflows_item-information--name"},t.a.createElement(C.a,{size:"random",sizes:z})),t.a.createElement("div",{className:"p-search_workflows--skeleton__body p-search_workflows_item-information--description"},t.a.createElement(C.a,{size:"random",sizes:z})))))},"SearchWorkflowSkeleton");P.displayName="SearchWorkflowSkeleton",y.a=P},"0oqj":function(le,y,e){le.exports=e.p+"log-activity-coachmark-hero@2x-9756147.png"},1501:function(le,y,e){le.exports=e.p+"gift-917e797.svg"},"17wV":function(le,y,e){le.exports=e.p+"nfx-welcome-modal-ja-JP-fe83200.gif"},"1X/k":function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("IiTT"),O=e("1jr5"),v=e("Tevt"),B=e("A/mR"),P=e("nNoG"),M=e("feSS"),L=e("uVZW");const z=new P.b("enterprise"),U={INFORMATIONAL:"informational",WARNING:"warning"},g=c(X=>{let{experimentTwoFactorRequireAdminBannerGroupOn:K,notificationName:H,bannerType:w,setupDeadline:T,handleDismissBanner:ee}=X;const ne=Object(s.useCallback)(f=>{let{text:ie}=f;return t.a.createElement(v.a,{href:"/account/settings/2fa_choose",onClick:ee},ie)},[ee]);if(!K||H!==L.h.TWO_FACTOR_REQUIRE_ADMIN_BANNER)return null;const ue=1701234e3,te=z.rt("Slack requires all Workspace Admins and Owners to set up two-factor authentication by {deadline}. <Link>Set up now</Link>",{"<Link>":ne,deadline:Object(B.g)(T??ue,"{date_num}",{customFormat:"MMMM DD, YYYY"})}),D=Object(M.a)({[U.INFORMATIONAL]:()=>O.b.info,[U.WARNING]:()=>O.b.warning})(O.b.info)(w);return t.a.createElement(C.a,{className:"align_center","data-qa":"two_factor_require_admin_banner",type:D,preventTypeOverride:!0,isFixedPosition:!1,onClose:ee},te)},"TwoFactorRequireAdminBanner");g.displayName="TwoFactorRequireAdminBanner";var J=g,d=e("zxER"),S=e("RVJP"),F=e("69o4");function x(){return x=Object.assign||function(X){for(var K=1;K<arguments.length;K++){var H=arguments[K];for(var w in H)Object.prototype.hasOwnProperty.call(H,w)&&(X[w]=H[w])}return X},x.apply(this,arguments)}c(x,"_extends");const Q=c(X=>{const K=Object(u.i)(),H=Object(d.c)(T=>Object(S.d)(T,"two_factor_require_admin_banner")==="on"),w=Object(s.useCallback)(()=>{K(Object(F.a)({spaceName:L.g.CLIENT_FOOTER,action:L.f.DISMISS}))},[K]);return t.a.createElement(J,x({},X,{experimentTwoFactorRequireAdminBannerGroupOn:H,handleDismissBanner:w}))},"TwoFactorRequireAdminBannerContainer");Q.displayName="TwoFactorRequireAdminBannerContainer";var V=y.default=Object(s.memo)(Q)},"1br2":function(le,y,e){"use strict";e.r(y),e.d(y,"renderCoachmarkForHubble",function(){return Q}),e.d(y,"BaseSolutionGuideCanvasClosedCoachmark",function(){return F});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("o3gz"),O=e("03PU"),v=e("N0zA"),B=e("nNoG"),P=e("zxER"),M=e("RVJP"),L=e("q6Tz"),z=e("uVZW"),U=e("IXqM"),g=e("+4XL"),J=e("2VFn");function d(){return d=Object.assign||function(V){for(var X=1;X<arguments.length;X++){var K=arguments[X];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(V[H]=K[H])}return V},d.apply(this,arguments)}c(d,"_extends");const S=new B.b("solution_guide"),F=c(V=>{let{children:X,renderCoachmark:K,UNSAFE_parentSelector:H,onClose:w}=V;const T=Object(P.c)(te=>Object(M.d)(te,"solution_guide_translations")==="on"),ee=T?S.t("All your documents live in More"):"",ne=T?S.t("Access your Canvases at any time in the More tab."):"",ue=K({title:ee,bodyText:ne,centerOnArrow:!0,offsetX:-15,offsetY:-8,arrowPosition:30,closeCoachmark:w,orientation:O.a.Right,primaryCallToActionText:T?S.t("Got it"):"",onClickPrimaryButton:w,UNSAFE_parentSelector:H});return t.a.createElement(O.c,{coachmarkElement:ue,orientation:"right"},X)},"SolutionGuideCanvasClosedCoachmark");F.displayName="SolutionGuideCanvasClosedCoachmark";const x=c(V=>{let{children:X}=V;const K=Object(u.i)(),{isOpen:H,closeCoachmark:w,renderCoachmark:T}=Object(v.a)(z.h.SOLUTION_GUIDE_CANVAS_CLOSED_COACHMARK),ee=Object(P.c)(g.f),ue=Object(P.f)(U.d)[J.f.Canvases],te=Object(s.useCallback)(()=>{w(),K(Object(L.c)({event:{type:z.e.REQUEST_SPACES,spaces:[z.g.PROGRESSIVE_DISCLOSURE,z.g.WELCOME_SPACE],iaVersion:4}}))},[K,w]);return!ee||!H||ue?X:t.a.createElement(F,{renderCoachmark:T,onClose:te},X)},"ConnectedSolutionGuideCanvasClosedCoachmark");x.displayName="ConnectedSolutionGuideCanvasClosedCoachmark";const Q=c(V=>t.a.createElement(C.b,d({},V)),"renderCoachmarkForHubble");y.default=x},"1iOx":function(le,y,e){le.exports=e.p+"sidebar-enablement-still-713e538.png"},"1lh3":function(le,y,e){le.exports=e.p+"reminders-light-6f3dd77.gif"},"1t69":function(le,y,e){le.exports=e.p+"request_sent-7435f78.png"},"1tno":function(le,y,e){"use strict";e.d(y,"a",function(){return _L});var s=e("q1tI"),t=e.n(s),u=e("LRa4"),C=e("7xYR"),O=e("DneB"),v=e("lhZz"),B=e("lI0p/"),P=e("wVMr");class M{getAudio(n){if(this.audios[n]){const o=this.audios[n];return o.refCounter+=1,o.audio}const a=new Audio(n);return this.audios[n]={audio:a,refCounter:1},this.elapsedTimes[n]&&(a.currentTime=this.elapsedTimes[n]),a.addEventListener("play",()=>{Object.values(this.audios).forEach(o=>{!o.audio.paused&&o.audio!==a&&o.audio.pause()})}),a}releaseAudio(n){const a=this.audios[n];if(a){if(a.refCounter>1){a.refCounter-=1;return}a.audio.paused||a.audio.pause(),a.audio.currentTime!==0?this.elapsedTimes[n]=a.audio.currentTime:delete this.elapsedTimes[n],delete this.audios[n]}}reset(){Object.values(this.audios).forEach(n=>{n.audio.paused||n.audio.pause()}),this.audios={}}constructor(){this.audios={},this.elapsedTimes={}}}c(M,"GlobalAudioPlaybackCoordinator");const L=c(r=>{let{children:n}=r;const a=Object(s.useRef)();return a.current||(a.current=new M),Object(s.useEffect)(()=>()=>{var o;(o=a.current)===null||o===void 0||o.reset()},[]),t.a.createElement(P.a.Provider,{value:a.current},n)},"CoordinateAudioPlaybackGlobally");L.displayName="CoordinateAudioPlaybackGlobally";var z=e("aOqr"),U=e("9oTK"),g=e("BHdc"),J=e("UXvI"),d=e("zxER"),S=e("/MKj"),F=e("V3OF"),x=e("vSIF"),Q=e("v7mh"),V=e("hheC"),X=e("YLXe"),K=e("Q1m+"),H=e("np25"),w=e("nevH"),T=e("X+fS"),ee=e("UBYE");function ne(r){let{isWorkspaceSwitcherRailEnabled:n}=r;const a=Object(S.i)(),o=Object(d.c)(Q.a),i=Object(ee.d)(o),l=Object(ee.b)(o),m=Object(ee.c)(o),h=Object(d.c)(V.k),p=Object(d.c)(V.l),E=Object(d.c)(V.i),j=Object(d.c)(V.j),I=Object(d.c)(V.g),G=Object(d.c)(V.h),Y=Object(d.c)(V.e),se=Object(d.c)(V.f),be=Object(d.c)(V.d),[Ee,_e]=Object(s.useState)(!1),[ge,ye]=Object(s.useState)(!1),[Ue,Re]=Object(s.useState)(),[tt,Ge]=Object(s.useState)(i?j:p),[Tt,yn]=Object(s.useState)(),[xn,Pn]=Object(s.useState)(se),Lt=Ee?Ue:h,Vn=Ee?Ue:E,la=Ee?Ue:I;let Ta=Lt;i&&(Ta=Vn),l&&(Ta=la);const ao=Ee?tt:p,qa=Ee?tt:j,po=Ee?tt:G;let Qo=ao;i&&(Qo=qa),l&&(Qo=po);const oo=ge?Tt:Y,ma=ge?xn:se,Lo=m?x.p:x.q,zo=Object(s.useCallback)(Ya=>{let ks=h;i&&(ks=E),l&&(ks=I),Ya||a(Object(T.a)({isSidebarVisible:!0})),Re(ks),_e(!0)},[a,l,i,I,E,h]),lo=Object(s.useCallback)(()=>{ye(!0),yn(Y)},[Y]),Sr=Object(s.useCallback)(Ya=>{let{value:ks,mode:el}=Ya;Re(ks),Ge(el)},[Re]),_t=Object(s.useCallback)(()=>{a(i?Object(K.a)({sidebarWideWidthIntent:Ta,sidebarWideWidthMode:Qo}):l?Object(H.a)({sidebarExtraWideWidthIntent:Ta,sidebarExtraWideWidthMode:Qo}):Object(X.a)({sidebarWidthIntent:Ta,sidebarWidthMode:Qo})),_e(!1)},[a,l,i,Ta,Qo]),ja=Object(s.useCallback)(Ya=>{let{value:ks}=Ya;a(i?Object(K.a)({sidebarWideWidthIntent:ks,sidebarWideWidthMode:x.c.AUTO}):l?Object(H.a)({sidebarExtraWideWidthIntent:ks,sidebarExtraWideWidthMode:x.c.AUTO}):Object(X.a)({sidebarWidthIntent:ks,sidebarWidthMode:x.c.AUTO}))},[a,l,i]),wa=Object(s.useCallback)(Ya=>{let{value:ks,mode:el}=Ya;yn(ks),Pn(el)},[yn]),Bs=Object(s.useCallback)(()=>{ye(!1),a(Object(w.a)({secondaryWidthIntent:oo,secondaryWidthMode:ma}))},[a,oo,ma,ye]),ci=Object(s.useCallback)(Ya=>{let{value:ks}=Ya;a(Object(w.a)({secondaryWidthIntent:ks,secondaryWidthMode:x.c.AUTO}))},[a]);return{sidebarWidthIntent:Ta,sidebarWidthMode:Qo,secondaryWidthIntent:oo,secondaryWidthMode:ma,sidebarMin:Lo,secondaryMin:x.m,secondaryMax:x.l,isWorkspaceSwitcherVisible:n&&be,onSidebarResizeStart:zo,onSidebarResize:Sr,onSidebarResizeEnd:_t,onSidebarReset:ja,onSecondaryResizeStart:lo,onSecondaryResize:wa,onSecondaryResizeEnd:Bs,onSecondaryReset:ci}}c(ne,"useMainWindowResizableColumns");var ue=e("LAdm"),te=e("iMEJ"),D=e("uiBO"),f=e("2VFn"),ie=e("9sUu"),Z=e("WSQ4"),pe=e("2IFS"),q=e("yxNq"),xe=e("5NQM"),ze=e("mx2s");const mt=c((r,n)=>n&&r<x.i,"shouldUseNarrowWindow");var Me=e("j77i");function Ct(r,n,a){return Math.max(n,Math.min(a,r))}c(Ct,"clamp");function Qe(r){let{viewSet:n,windowWidth:a,windowHeight:o,activeTab:i,previousLayout:l,sidebarIsCollapsed:m,sidebarWidthIntent:h,sidebarWidthMode:p,secondaryWidthIntent:E,secondaryWidthMode:j,columnMode:I,isErrorScreen:G,isWorkspaceSwitcherVisible:Y,experimentIa4CompactorGroupOn:se}=r;var be;if(!n||!a||!o)return null;const Ee=!Y;let _e=Ee?0:x.t,ge=x.r;const ye=i===f.f.Search&&(n==null||(be=n[f.k.Primary])===null||be===void 0?void 0:be.viewType)===D.c.SearchEmpty,Ue=!!(n!=null&&n[f.k.Sidebar])&&!G,Re=!!(n!=null&&n[f.k.Primary]),tt=!!(n!=null&&n[f.k.Secondary])&&!G,Ge=!tt,Tt=tt&&I===ie.c.Single,yn=mt(a,se);yn&&(_e=Ee?0:x.u,ge=x.s);const xn=a-_e-ge-x.k,Pn=xn*x.d;let Lt=Ge?0:Ct(Pn,x.m,x.l);const Vn=Lt;tt&&E&&j===x.c.MANUAL&&Number.isFinite(E)&&(Lt=Ct(E,x.m,x.l));const la=Object(ee.d)(i),Ta=Object(ee.b)(i),ao=Object(ee.a)(i),qa=tt?x.m:0;let po=Tt?xn-x.m:xn-x.j-qa;Ta&&p===x.c.AUTO&&(po=x.n);const Qo=xn*x.g>=po,oo=Ge||Qo?x.g:x.h;let ma=x.f,Lo=x.p;const zo=x.f,lo=x.p;Ta?(ma=x.e,Lo=x.o):la&&(ma=oo,Lo=x.q);const Sr=xn*ma;let _t=Ct(Sr,Lo,po);const ja=Ct(xn*zo,lo,po),wa=_t;h&&p===x.c.MANUAL&&Number.isFinite(h)&&(_t=Ct(h,Lo,po)),tt&&Tt&&(Lt=Math.max(xn-_t,x.m));let Bs=Tt?0:xn-_t-Lt;if(!Tt&&Bs<x.j){const Ya=Bs+Lt;Bs=x.j;const ks=Ya-x.j;Lt=Math.max(ks,x.m)}if(Re&&Bs===x.j&&tt&&Lt===x.m){const Ya=xn-x.j-x.m;_t=Math.max(Ya,Lo)}const ci={workspaceSwitcher:{isCollapsed:Ee,width:_e},tabRail:{width:ge},sidebar:{width:Math.round(_t),maxWidth:Math.round(po),defaultWidth:wa,narrowSidebarWidth:ja,isCollapsed:ao&&m||!Ue,isForceCollapsed:!1},primary:{width:Math.round(Bs),isCollapsed:(Tt||ye)&&!G},secondary:{width:Math.round(Lt),defaultWidth:Ge?0:Vn,isCollapsed:Ge,maxWidth:Ge?0:x.l},isNarrowWindow:yn};return l&&Object(q.b)(l,ci)?l:(Object(xe.c)(()=>{(l==null?void 0:l.sidebar.width)!==ci.sidebar.width&&Object(Me.v)(ze.a,ci.sidebar.width)}),ci)}c(Qe,"calculateMainWindowViewLayout");var st;(function(r){r.Sidebar="p-view_contents--sidebar",r.Primary="p-view_contents--primary",r.Secondary="p-view_contents--secondary"})(st||(st={}));function Ot(r){if(!r)return null;const n=r[f.k.Sidebar].isCollapsed||r[f.k.Sidebar].isForceCollapsed;let a=["auto"],o=[st.Sidebar];return!n&&!r[f.k.Primary].isCollapsed&&!r[f.k.Secondary].isCollapsed?(a=[r[f.k.Sidebar].width,"auto",r[f.k.Secondary].width],o=[st.Sidebar,st.Primary,st.Secondary]):!n&&!r[f.k.Primary].isCollapsed?(a=[r[f.k.Sidebar].width,"auto"],o=[st.Sidebar,st.Primary]):n&&!r[f.k.Primary].isCollapsed&&!r[f.k.Secondary].isCollapsed?(a=["auto",r[f.k.Secondary].width],o=[st.Primary,st.Secondary]):!n&&r[f.k.Primary].isCollapsed&&!r[f.k.Secondary].isCollapsed?(a=[r[f.k.Sidebar].width,"auto"],o=[st.Sidebar,st.Secondary]):n&&r[f.k.Primary].isCollapsed&&!r[f.k.Secondary].isCollapsed?(a=["auto"],o=[st.Secondary]):n&&(a=["auto"],o=[st.Primary]),{gridTemplateColumns:a,gridTemplateAreas:o}}c(Ot,"calculateMainWindowViewLayoutStyle");function cn(r){if(!r)return"";const{gridTemplateColumns:n,gridTemplateAreas:a}=r;if(!n||!a)return"";const o=`'${a.join(" ")}'`;return`.p-ia4_client .p-client_workspace__layout {
	grid-template-columns: ${n.map(l=>typeof l=="string"?l:`${l}px`).join(" ")};
	grid-template-areas: ${o};
}`}c(cn,"buildMainWindowViewLayoutStyleString");var Ht=e("Plsj"),Nn=e("tstp"),zt=e("WMzb");const Ln=c(()=>{const r=Object(zt.a)(),n=Object(O.a)(),a=Object(s.useCallback)(()=>{r.info("FOCUS-EVENT","Main window focused"),n(Object(Ht.a)({isFocused:!0,windowId:f.e}))},[n,r]),o=Object(s.useCallback)(()=>{r.info("FOCUS-EVENT","Main window blurred"),n(Object(Ht.a)({isFocused:!1,windowId:f.e})),n(Object(Nn.b)(!1))},[n,r]),i=Object(s.useCallback)(()=>{const p=document.visibilityState;r.info("VISIBILITY-STATE","Main window visibility state changed:",p),p!=="visible"&&n(Object(Nn.b)(!1))},[n,r]),l=Object(s.useCallback)(()=>{r.info("WINDOW-UNLOADING","Main window unloading"),n(Object(Ht.d)({isUnloading:!0,windowId:f.e}))},[n,r]),m=Object(s.useCallback)(()=>{n(Object(Ht.c)())},[n]),h=Object(s.useCallback)(()=>{n(Object(Ht.b)())},[n]);Object(s.useEffect)(()=>(window.addEventListener("focus",a),window.addEventListener("blur",o),window.addEventListener("visibilitychange",i),window.addEventListener("beforeunload",l),window.addEventListener("mousedown",m),window.addEventListener("keydown",h),()=>{window.removeEventListener("focus",a),window.removeEventListener("blur",o),window.removeEventListener("visibilitychange",i),window.removeEventListener("beforeunload",l),window.removeEventListener("mousedown",m),window.removeEventListener("keydown",h)}),[l,o,a,h,m,i])},"useHandleWindowEventsForMainWindow");var Fn=e("GlHf"),Ye=e("kBpe"),dn=e("zm5I"),vt=e("9Gfp"),Xn=e("O86Y"),kn=e("JvzI"),he=e("nNoG");function Gn(){const r=Object(d.c)(Xn.g),[n,a]=Object(s.useState)(Object(kn.a)({teamOrEnterpriseId:r})||he.b.DEFAULT_LOCALE),o=Object(s.useCallback)(i=>{let{locale:l}=i;a(l)},[]);return Object(s.useEffect)(()=>(a(Object(kn.a)({teamOrEnterpriseId:r})||he.b.DEFAULT_LOCALE),Object(kn.b)({teamOrEnterpriseId:r,fn:o}),()=>{Object(kn.e)({teamOrEnterpriseId:r})}),[r,o]),n}c(Gn,"useLocale");var Va=e("wKGu"),Oe=e("ktUG"),Ma=e("jQck"),ga=e("BHiC"),zn=e("zZi7"),hn=e("IqAe"),nn=e("beVI"),Xt=e("G0eX"),bn=e("JoR1"),sn=e("t4eE");function Wt(){const r=Object(v.getStateForClientStore)(),n=Object(C.getBootedWorkspaces)(r);return!(!Object(sn.b)()||n<2)}c(Wt,"is_workspace_switcher_rail_enabled_isWorkspaceSwitcherRailEnabled");var Yt=e("O62x"),At=e("PPXB"),Ft=e("WrIT"),sa=e("Srot"),ba=e("xxxf"),Ha=e("iIN5"),Ba=e("vJtL"),qn=e("g0jL"),Mt=e("E3dU"),da=e("1Mid"),ha=e("G7Ae"),aa=e("Yauy"),fo=e("wsJ+"),No=e("YxGS"),fa=e("UmHn"),_a=e("2vQQ"),ko=e("gq0b"),qo=e("dmdh"),va=e("l1I1"),Fa=e("CnKg"),_n=e("x6tY"),Xe=e("yrot"),It=e("H2VE");let $e=c(class extends s.PureComponent{static getDerivedStateFromProps(n,a){const o=!n.isWindowFocused&&(a.showHighlights||n.highlightCount>a.highlightCount),i=!n.isWindowFocused&&(a.showUnreads||n.unreadCount>a.unreadCount);return{highlightCount:n.highlightCount,unreadCount:n.unreadCount,showHighlights:o,showUnreads:i}}render(){const{viewName:n,teamName:a,showMainWindowIcon:o,showMicrophoneIcon:i,showSpeakerIcon:l}=this.props;if(!a)return null;let m=n?`${n} - ${a}`:a;return this.state.showHighlights?m=`! ${m}`:this.state.showUnreads&&(m=`* ${m}`),t.a.createElement(It.a,{title:m,showMainWindowIcon:o,showMicrophoneIcon:i,showSpeakerIcon:l})}constructor(n){super(n),this.state={highlightCount:0,unreadCount:0,showHighlights:!1,showUnreads:!1}}},"WorkspaceDocumentTitle");$e.displayName="WorkspaceDocumentTitle",$e.defaultProps={viewName:"",teamName:"",showMainWindowIcon:!1,showMicrophoneIcon:!1};var In=$e,ra=e("iomZ"),wn=e("E97Y"),Aa=e("X/DH"),Qn=e("1ufr"),Bn=e("XDa+"),Tn=e("3vtZ"),it=e("LZPg"),Sa=e("4tnk"),dt=e("vfQU"),en=e("RVJP"),ua=e("hwwf"),Ao=e("WXkz");const yo=new he.b("view"),Qt=new he.b("welcome_place");let Bo=c(class extends s.Component{renderWithState(n){var a;const o=Object(Q.a)(n);var i;const l=(i=(a=Object(Q.h)(n,{tab:o,container:f.k.Primary}))===null||a===void 0?void 0:a.id)!==null&&i!==void 0?i:"",m=Object(Mt.d)(n,l),h=Object(nn.g)(n);let p="";if(l===No.a.allUnreads||l==="Punreads")p=yo.t("Unread Messages");else if(l===No.a.allThreads)p=yo.t("Threads");else if(l==="Pwelcome")p=Qt.t("Get Started");else if(Object(_a.j)(l)){const ge=Object(ko.b)(l);var E;p=Object(Ba.a)(ge==null?void 0:ge.label)&&(E=ge==null?void 0:ge.label(n))!==null&&E!==void 0?E:"",!p&&l===fa.a.Empty&&(p=Object(Bn.a)({tab:o}))}else if(Object(va.a)(l)){const{fileIdOrQuipThreadId:ge}=Object(Fa.i)(l),ye=Object(qo.e)(n,ge);var j;const Ue=(j=Object(_n.G)(ye))!==null&&j!==void 0?j:"";p=this.replaceTextEmojiWithNative(Ue,n)}else if(m){const ge=Object(en.d)(n,"document_title_prefix_translations")==="on",ye=Object(he.k)(Object(aa.t)(n,m,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}));ge?p=Object(wn.h)(m)?yo.t("{channelName} (DM)",{channelName:ye}):yo.t("{channelName} (Channel)",{channelName:ye}):p=Object(wn.h)(m)?yo.t("DM: {channelName}",{channelName:ye}):yo.t("Channel: {channelName}",{channelName:ye})}else if(o===f.f.Lists&&Object(ua.v)(l)){const ge=Object(Ao.I)(n,l);p=ge?this.replaceTextEmojiWithNative(ge,n):Object(Bn.a)({tab:o})}else p=Object(Bn.a)({tab:o});var I;const G=(I=this.props.windowId)!==null&&I!==void 0?I:f.e,Y=Object(Aa.a)(n,{windowId:G}),se=Object(Tn.y)()&&!Object(Tn.N)()&&!!Object(it.U)(n,"isMicrophoneEnabled"),be=Object(Fn.a)(n),Ee=G===f.e&&be.length>1,_e=Object(Sa.i)(n,Object(dt.O)());return t.a.createElement(In,{viewName:p,teamName:h&&h.name,isWindowFocused:!!Object(Fn.m)(n),highlightCount:Object(ha.a)(n),unreadCount:Object(da.i)(n),showMainWindowIcon:Ee,showMicrophoneIcon:Y||se,showSpeakerIcon:_e})}render(){return t.a.createElement(qn.a,{render:this.renderWithState,store:this.props.store})}replaceTextEmojiWithNative(n,a){return n.replace(Object(fo.a)(),o=>{const i=Object(Xe.n)(a,o);if(i){var l;return(l=Object(ra.a)({codePointLikeString:i.unicode}))!==null&&l!==void 0?l:""}return""})}constructor(n){super(n),this.renderWithState=this.renderWithState.bind(this)}},"ConnectedWorkspaceDocumentTitle");Bo.displayName="ConnectedWorkspaceDocumentTitle";var un=Object(Qn.a)(Bo),an=un,Zt=e("2LCd"),ht=e("1rkj"),jt=e("YiLv"),Pe=e("ZobM"),ct=e("qDEp"),Dn=e("Tsh7"),eo=e("Te+D");const to=new he.b("classic_nav"),Da="back",ss="forward",uo={eventId:Oe.EventId.HISTORY_NAVIGATION,elementName:Da,onClick:{enableClogAction:!0}},sr={eventId:Oe.EventId.HISTORY_NAVIGATION,elementName:ss,onClick:{enableClogAction:!0}};function vo(){const r=Object(Ye.p)()?"\u2318":"Alt",n=Object(s.useMemo)(()=>t.a.createElement(eo.a,{title:to.t("Back in history"),mainKey:Object(Ye.p)()?"[":"\u2190",modifier:r}),[r]),a=Object(s.useMemo)(()=>t.a.createElement(eo.a,{title:to.t("Forward in history"),mainKey:Object(Ye.p)()?"]":"\u2192",modifier:r}),[r]),o=Object(O.b)(jt.c),i=Object(O.b)(jt.d),l=Object(s.useCallback)(()=>{window.history.back()},[]),m=Object(s.useCallback)(()=>{window.history.forward()},[]);return t.a.createElement("div",{className:"p-ia4_history_buttons"},t.a.createElement(Dn.d,{tip:n,position:"bottom",delay:Dn.a},t.a.createElement(ct.d,{className:"p-ia4_history_buttons__button",onClick:l,"aria-disabled":o,autoClogProps:uo,"aria-label":to.t("Back in history")},t.a.createElement(Pe.a,{name:"arrow-left",size:"20"}))),t.a.createElement(Dn.d,{tip:a,position:"bottom",delay:Dn.a},t.a.createElement(ct.d,{className:"p-ia4_history_buttons__button",onClick:m,"aria-disabled":i,autoClogProps:sr,"aria-label":to.t("Forward in history")},t.a.createElement(Pe.a,{name:"arrow-right",size:"20"}))))}c(vo,"HistoryButtons");var rn=e("RfUG"),Ca=e("6R8Z"),ia=e("lE2N"),Rs=e("/K2e"),ea=e("7EGn"),go=e("oSkh"),ta=e("YUBf"),Wo=e("nFQW"),fs=e("ZMRP"),so=e("X3OX"),Yo=e("+kJ4"),Ga=e("ohbk"),Tr=e("R8IC"),as=e("oUrV"),Ws=e("A/mR"),Te=e("n3tL"),Be=e("Cfcg"),Je=e("fujP"),qe=e("Zbwg"),mn=e("6dQg"),oa=e("mzsf"),Un=e("TVHa"),On=e("Ccc1"),mo=e("0i82"),pn=e("oEDn"),Jn=e("lxlr"),Ja=e("TU0B"),Uo=e("Zhz1"),Xa=e("aBhT"),Oo=e("xcHN"),Ro=e("ie1g");const vs=new he.b("global_nav");function Le(r){let{articleId:n=""}=r;const[a,o]=Object(s.useState)(""),i=Object(d.c)(m=>Object(Ro.c)(m,"history/help-label")),l=Object(s.useCallback)(()=>{const m=parseInt(n,10),h=i.find(p=>p.id===m);h&&o(h.title)},[i,n]);return Object(s.useEffect)(()=>{n?l():o(vs.t("Help"))},[n,l]),a?t.a.createElement("div",{className:"p-history_menu__entry--page"},t.a.createElement("span",{className:"p-history_menu__entry__icon"},t.a.createElement(Pe.a,{name:"help",inline:!0,size:"24"})),a):t.a.createElement(Jn.a,null)}c(Le,"HelpLabel");const we=new he.b("global_nav");function Fe(r){let{categoryId:n}=r;const[a,o]=Object(s.useState)(""),i=Object(d.c)(l=>Object(Ro.d)(l,"categories_for_help_home"));return Object(s.useEffect)(()=>{if(n){const m=i.find(h=>h.categoryId===n);var l;o((l=m==null?void 0:m.name)!==null&&l!==void 0?l:"")}else o(we.t("Help"))},[n,i]),a?t.a.createElement("div",{className:"p-history_menu__entry--page"},t.a.createElement("span",{className:"p-history_menu__entry__icon"},t.a.createElement(Pe.a,{name:"help",inline:!0,size:"24"})),a):t.a.createElement(Jn.a,null)}c(Fe,"CategoryLabel");var pt=e("UIhb"),nt=e("ANTO"),xt=e("Epto"),An=e("GWKd"),Hn=e("uVdA");function na(r){let{channelId:n,ts:a}=r;const o=Object(s.useCallback)(p=>Object(pt.b)(p,n,a),[n,a]),i=Object(d.c)(o),l=Object(d.c)(Hn.a),m=Object(s.useCallback)(p=>{if(!i)return null;const{userId:E,botId:j,username:I}=Object(nt.a)(p,i);return Object(xt.a)(p,{userId:E,botId:j,username:I})},[i]),h=Object(d.c)(m);return i?t.a.createElement("div",{className:"overflow_ellipsis normal"},t.a.createElement("span",{className:"bold"},h),"\xA0",t.a.createElement(An.a,{msg:i,experimentRichTextGroupOn:l})):null}c(na,"HistoryMessagePreview");const Ka=new he.b("global_nav"),Qa={entry:Te.default.shape({primaryView:Te.default.string,teamId:Te.default.string.isRequired,secondaryView:Te.default.string,routeParams:Te.default.object,flexParams:Te.default.object}).isRequired,pageLabel:Te.default.string,currentTeamId:Te.default.string.isRequired,store:Te.default.object,experimentThreadsInHistoryGroupOn:Te.default.bool},Eo={store:void 0,pageLabel:void 0,experimentThreadsInHistoryGroupOn:!1},Po=c(r=>{let{entry:n,pageLabel:a,currentTeamId:o,store:i,experimentThreadsInHistoryGroupOn:l}=r;const m=n.teamId===o,h=c(()=>{var j;const I=n.primaryView,G=!!(!(n==null||(j=n.routeParams)===null||j===void 0)&&j.channelCanvasId);if(n.secondaryView==="help"){var Y,se;if(!(n==null||(Y=n.flexParams)===null||Y===void 0)&&Y.categoryId){var be;return t.a.createElement(Fe,{categoryId:n==null||(be=n.flexParams)===null||be===void 0?void 0:be.categoryId})}return t.a.createElement(Le,{articleId:n==null||(se=n.flexParams)===null||se===void 0?void 0:se.articleId})}if(n.secondaryView==="shortcuts")return t.a.createElement("div",{className:"p-history_menu__entry--page"},t.a.createElement(pn.a,{className:"p-history_menu__entry__icon",type:"keyboard"}),Ka.t("Keyboard shortcuts"));if(n.secondaryView==="whats_new")return t.a.createElement("div",{className:"p-history_menu__entry--page"},t.a.createElement(pn.a,{className:"p-history_menu__entry__icon",type:"emoji-celebration"}),Ka.t("What\u2019s new"));if(l&&n.secondaryView==="thread"){var Ee;const{channelId:ge,threadTs:ye}=Object(Oo.a)(n==null||(Ee=n.flexParams)===null||Ee===void 0?void 0:Ee.threadId);return t.a.createElement("div",{className:"p-history_menu__entry--page"},t.a.createElement(pn.a,{className:"p-history_menu__entry__icon align_self_start",type:"small-reply"}),t.a.createElement("div",{className:"no_min_width"},Ka.rt("Thread in {channelName}",{channelName:t.a.createElement(On.a,{channelId:ge,truncate:!0})}),t.a.createElement(na,{channelId:ge,ts:ye})))}if(I==="Vall_threads")return t.a.createElement("div",{className:"p-history_menu__entry--page"},t.a.createElement(pn.a,{className:"p-history_menu__entry__icon",type:"small-reply"}),Ka.t("Threads",{fallbackHash:"bb12e8aaaecc434fd51e448fe7669bced1bdd107",fallbackHashNs:"channel_sidebar"}));if(Object(_a.j)(I)){const ge=Object(ko.b)(I),ye=!Object(Je.a)(ge)&&ge.icon?ge.icon:ko.a;return t.a.createElement("div",{className:"p-history_menu__entry--page"},t.a.createElement(pn.a,{className:"p-history_menu__entry__icon",type:ye}),t.a.createElement("span",{className:"p-history_menu__entry__truncated-label"},t.a.createElement(Xa.a,{lines:1},a)))}if(Object(qe.a)(I)&&G){var _e;const{fileIdOrQuipThreadId:ge}=Object(Fa.i)(n==null||(_e=n.routeParams)===null||_e===void 0?void 0:_e.channelCanvasId);if(Object(mn.a)(ge))return t.a.createElement(Un.a,{className:"p-history_menu__list_entity",id:ge,detailType:"none"})}if(Object(qe.a)(I))return t.a.createElement(oa.b,{className:"p-history_menu__list_entity",id:I});if(Object(va.a)(I)){const{fileIdOrQuipThreadId:ge}=Object(Fa.i)(I);if(Object(mn.a)(ge))return t.a.createElement(Un.a,{className:"p-history_menu__list_entity",id:ge,detailType:"none"})}return t.a.createElement(Jn.a,null)},"renderLabel");h.displayName="renderLabel";const p=!m&&t.a.createElement(mo.b,{id:n.teamId,showTooltip:!0}),E=t.a.createElement("div",{className:"p-history_menu__entry"},t.a.createElement("span",{className:"p-history_menu__entry__label"},h()),p);return m?E:i?t.a.createElement(u.b,{store:i},E):t.a.createElement(Jn.a,null)},"HistoryEntry");Po.displayName="HistoryEntry",Po.propTypes=Qa,Po.defaultProps=Eo;const Wa=c((r,n)=>{let{entry:a,currentTeamId:o}=n;const i=a.primaryView;let l;if(Object(_a.j)(i)){const h=Object(ko.b)(i);if(!Object(Je.a)(h)&&h.label)if(i==="Psearch"){var m;const p=(m=a.routeParams)===null||m===void 0?void 0:m.searchQuery,E=Object(Ja.b)(p);l=Object(Uo.a)(E.displayQuery,[],!0)||h.label(r)}else l=h.label(r)}return{store:a.teamId!==o?Object(v.getStoreInstanceByTeamId)(a.teamId):void 0,experimentThreadsInHistoryGroupOn:Object(en.d)(r,"threads_in_history")==="on",pageLabel:l}},"mapStateToProps");var jo=Object(Be.a)(Wa)(Po),gs=e("uAff"),Na=e("ZukZ"),ms=e("ap5V"),rs=e("yVcz");const es=new he.b("global_nav"),cs=c(r=>{let{entries:n,teamId:a}=r;const o=Object(S.i)(),i=c(()=>t.a.createElement("div",{className:"p-modal_more_history_menu__list__separator"}),"ListSeparator"),l=c(_e=>{let{label:ge}=_e;return t.a.createElement("div",{className:"p-modal_more_history_menu__list__header"},ge)},"ListSubheader"),m=Object(s.useCallback)(()=>{o(Object(Yo.a)())},[o]),h=Object(s.useCallback)(()=>{Object(v.dispatchForClientStore)(Object(rs.d)({windowId:f.e})),o(Object(Yo.a)())},[o]),p=t.a.createElement(Dn.d,{tip:es.t("Clear history")},t.a.createElement(Wo.a,{icon:"clear",size:"medium","aria-label":"clear",className:"p-modal_more_history_menu__clear",onClick:h})),E=Object(s.useMemo)(()=>[],[]),j=[];n.forEach((_e,ge)=>{const ye=Object(Ws.g)(_e.ts,"{date_pretty}");j.includes(ye)?E.push({type:"entry",entry:_e}):(j.push(ye),ge>0&&E.push({type:"separator"}),E.push({type:"header",date:ye}),E.push({type:"entry",entry:_e}))});const I={},G=E.map((_e,ge)=>{const ye=`entry-${ge}`;return _e.entry&&(I[ye]=_e.entry),ye}),Y=Object(s.useCallback)(_e=>{let{index:ge}=_e;return E[ge].type!=="separator"},[E]);function se(_e){if(_e.secondaryView==="help"){const ye=Object(ea.a)(_e,"flexParams.articleId");o(ye?Object(ms.a)({articleId:parseInt(ye,10)}):Object(Tr.a)())}else if(_e.secondaryView==="shortcuts")o(Object(Na.a)());else if(_e.secondaryView==="whats_new")o(Object(gs.a)());else if(_e.primaryView&&Object(va.a)(_e.primaryView))Object(v.dispatchForTeamId)(_e.teamId,o(Object(so.a)({id:_e.primaryView,teamId:_e.teamId,source:as.a.MODAL_MORE_HISTORY})));else{var ge;o(Object(Ga.a)({teamId:_e.teamId,id:(ge=_e.primaryView)!==null&&ge!==void 0?ge:"",routeParams:_e.routeParams}))}}c(se,"openView");const be=c(_e=>{var ge;const ye=E[_e];if(ye.type==="separator")return t.a.createElement(i,null);if(ye.type==="header")return t.a.createElement(l,{label:ye.date});if(ye.entry&&"entry"in ye.entry&&(!((ge=ye.entry)===null||ge===void 0)&&ge.entry)){var Ue,Re;const tt=ye==null||(Ue=ye.entry)===null||Ue===void 0?void 0:Ue.entry.click,Ge=ye==null||(Re=ye.entry)===null||Re===void 0?void 0:Re.entry.label;return t.a.createElement(ct.d,{className:"p-history_menu__entry full_width",onClick:tt},Ge)}return t.a.createElement(jo,{entry:ye.entry,currentTeamId:a})},"renderRow");be.displayName="renderRow";const Ee=c(_e=>{const ge=I[_e.id];ge&&(o(Object(Yo.a)()),"teamId"in ge&&se(ge))},"listOnItemClick");return t.a.createElement(ta.b,{closeModal:m,centered:!0,contentLabel:es.t("History")},t.a.createElement(ta.i,null,t.a.createElement(ta.l,{className:"p-modal_more_history_menu__header",title:es.t("History")},p)),t.a.createElement(ta.d,{className:"p-modal_more_history_menu__container p-modal_more_history_menu__container--desktop-IA4",showScrollIndicatorBottom:!1},t.a.createElement(ta.e,{className:"p-modal_more_history_menu__content"},t.a.createElement(go.a,null,_e=>{let{height:ge,width:ye}=_e;return t.a.createElement(fs.b,{className:"p-modal_more_history_menu__list",height:ge,keys:G,rowRenderer:be,"aria-label":es.t("History"),onItemClick:Ee,width:ye,isFocusableItem:Y})}))))},"ModalMoreHistory");cs.displayName="ModalMoreHistory";var hs=cs,ls=e("3l96"),rr=e("fMmd"),pr=e("ovW4"),br=e("5MVR"),tn=e("ifKl"),Ri=e("gCYc"),Ci=e("cgLF"),li=e("pDlT"),Ur=e("F0YV"),yi=e("djjd"),So=e("I0j/"),Mo=e("37+L"),Os=e("qcoW");const xi=new he.b("classic_nav");function Li(r){let{viewSet:n,teamId:a,currentTeamId:o,channelNamesToChannelIdsMap:i}=r;const l=n[f.k.Primary],m=l==null?void 0:l.id,h=l==null?void 0:l.viewType,p=l==null?void 0:l.params,E=n[f.k.Sidebar],j=E==null?void 0:E.viewType,I=E==null?void 0:E.params,G=Object(v.getStoreInstanceByTeamId)(a);if(!G)return null;const Y=G.getState(),se=Object(Ri.l)(Y);let be=null,Ee=tn.a;const _e=o!==a?t.a.createElement(Ur.b,{className:"p-ia4_history_menu_item__label__team",id:a,size:20}):null;let ge;if(Object(qe.a)(m)&&(ge=Object(yi.a)(i,Object(Mt.d)(Y,m))),m&&Object(qe.a)(m)&&(be=t.a.createElement(u.b,{store:G},t.a.createElement(oa.b,{className:"p-ia4_history_menu_item__label__entity",id:m,showTeamForLocalChannel:ge})),Ee=c(()=>{Object(v.dispatchForTeamId)(a,Object(So.a)(Object(Mo.n)(m)))},"onClick")),h===D.c.Threads&&(be=t.a.createElement("div",{className:"p-ia4_history_menu__item--page"},t.a.createElement("div",{className:"p-ia4_history_menu__item__icon"},t.a.createElement(Pe.a,{name:"threads",size:"20"})),t.a.createElement("div",{className:"p-ia4_history_menu__item__entity"},xi.t("All Threads",{fallbackHash:"bb12e8aaaecc434fd51e448fe7669bced1bdd107",fallbackHashNs:"channel_sidebar"}))),Ee=c(()=>{Object(v.dispatchForTeamId)(a,Object(So.a)(Object(Mo.f)()))},"onClick")),m&&Object(_a.j)(m)){const Ue=Object(Ci.b)(m)||ko.a,Re=m&&Object(ko.b)(m),tt=Re&&!Object(Je.a)(Re)&&Re.label?Re.label(Y):void 0;be=t.a.createElement("div",{className:"p-ia4_history_menu__item--page"},t.a.createElement("div",{className:"p-ia4_history_menu__item__icon"},t.a.createElement(Pe.a,{name:Ue,size:"20"})),t.a.createElement("span",{className:"p-ia4_history_menu__item__entity"},t.a.createElement(Xa.a,{lines:1},tt))),Ee=c(()=>{if(m===fa.a.Composer){const Ge=p==null?void 0:p.draftId,Tt=Ge in se?Ge:void 0;Object(v.dispatchForTeamId)(a,Object(Os.a)({draftId:Tt}))}else Object(v.dispatchForTeamId)(a,Object(So.a)(Object(Mo.X)(m)))},"onClick")}if(j===D.c.Search){const ye=Object(Ja.b)(I==null?void 0:I.searchId),Ue=Object(li.a)(Object(Uo.a)(ye.displayQuery));be=t.a.createElement("div",{className:"p-ia4_history_menu__item--page"},t.a.createElement("div",{className:"p-ia4_history_menu__item__icon"},t.a.createElement(Pe.a,{name:"search",size:"20"})),t.a.createElement(Xa.a,{lines:1},t.a.createElement("div",{className:"p-ia4_history_menu__item__entity"},Ue))),Ee=c(()=>{Object(v.dispatchForTeamId)(a,Object(So.a)(Object(Mo.kb)(I==null?void 0:I.searchId)))},"onClick")}return be?{className:"p-ia4_history_menu_item",label:t.a.createElement("div",{className:"p-ia4_history_menu_item__label"},be,_e),click:Ee}:null}c(Li,"getHistoryMenuItem");var Ho=e("tv4y");function di(){return di=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},di.apply(this,arguments)}c(di,"_extends");const ui=new he.b("global_nav"),wi=15,Nt=c(r=>{const n=r[f.a],a=r[n],o=a[f.k.Primary],i=o==null?void 0:o.id,l=a[f.k.Sidebar],m=l==null?void 0:l.id,h=l!=null&&l.params?`-${Object(br.c)(l==null?void 0:l.params,{space:""})}`:"";return`${r.teamId}-${m}-${i}${h}`},"getUniqueEntryKey");function kt(r){let{menuProps:n}=r;const a=Object(v.getStateForClientStore)(),o=Object(rr.a)(a),i=Object(d.c)(nn.g),l=Object(d.c)(Mt.a),m=Object(S.i)(),p=Object(v.getStoreInstanceByTeamId)(i==null?void 0:i.id).getState(),E=Object(s.useCallback)(()=>Object(ia.a)(o.filter(pr.a),Nt).filter(Y=>Y!==null).filter(Y=>{const se=Y[f.a],Ee=Y[se][f.k.Primary],_e=Ee==null?void 0:Ee.id;let ge=!0;return _e&&Object(_a.d)(_e)&&(ge=Object(_a.h)(p,_e)),_e!==fa.a.Empty&&(Ee==null?void 0:Ee.viewType)!==D.c.Setup&&ge}),[o,p]),j=Object(s.useMemo)(()=>E().slice(0,wi).map(Y=>{const se=Y[f.a],be=Y[se];return Li({viewSet:be,teamId:Y.teamId,currentTeamId:i==null?void 0:i.id,channelNamesToChannelIdsMap:l})}),[i==null?void 0:i.id,l,E]),I=E().map(Y=>{const se=Y[f.a],be=Y[se];return{ts:Y.ts,entry:Li({viewSet:be,teamId:Y.teamId,currentTeamId:i==null?void 0:i.id,channelNamesToChannelIdsMap:l})}}).filter(Y=>Y.entry!==null),G=Object(s.useMemo)(()=>{const Y=c(()=>{const se=[];return j.length===wi&&I.length>wi&&(se.push({type:Ho.b.separator}),se.push({label:ui.t("Show more",{fallbackHash:"25911d48e023cd10fc08d378641ee620f5e39d86",fallbackHashNs:"search"}),className:"p-history_menu__entry__show_more",click:()=>{m(Object(ls.a)({element:t.a.createElement(hs,{entries:I,teamId:i==null?void 0:i.id})}))}})),se},"addShowMore");return Y.displayName="addShowMore",[{type:Ho.b.header,label:ui.t("Recent")},...j,...Y()]},[j,i==null?void 0:i.id,m,I]);return t.a.createElement(Rs.a,di({},n,{template:G,width:360,menuClassNames:"p-ia4_history_menu","aria-label":ui.t("History")}))}c(kt,"history_menu_HistoryButtons");const Et=new he.b("classic_nav");function Pt(){const r=Object(s.useCallback)(n=>t.a.createElement(kt,{menuProps:n}),[]);return t.a.createElement("div",{className:"p-ia4_history_menu_button"},t.a.createElement(rn.a,{position:"bottom-left",renderMenu:r},t.a.createElement(Dn.d,{hideFromScreenReader:!0,tip:Et.t("History"),position:"bottom-left"},t.a.createElement(Ca.a,{className:"p-ia4_history_menu_button__button","aria-label":Et.t("Show history"),"aria-disabled":!1,"data-qa":"top-nav-history-menu"},t.a.createElement(Pe.a,{name:"clock",size:"20"})))))}c(Pt,"history_menu_button_HistoryButtons");var Kt=e("W29z"),ln=e("qcau"),wt=e("s4P+"),fn=e("azFB");function et(r){if(!Object(ln.e)())return;const n=40,a=76,o="window-chrome-injected-style",i=fn.a.document.querySelector("window-chrome");if(!i||!i.shadowRoot||!(i instanceof fn.a.HTMLElement)){Object(wt.b)().error("WINDOW-CHROME","Could not find valid window-chrome element to inject into",`element: ${i}`);return}if(!(parseInt(i.dataset.version||"1",10)>=2))try{let m=`
			:host {
				position: fixed;
				z-index: /*@frameless_grabby_bar_z_index*/ 2000;
				top: -${n}px !important;
				left: 0;
				right: 0;
				height: ${n}px;
			}
			#menuButton {
				width: ${a}px;
				height: ${n}px;
			}
			#hamburgerMenu {
				position: fixed;
				top: 0;
				left: 0;
				height: ${n}px;
			}
			#windowControls {
				position: fixed;
				top: 0;
				right: 0;
				height:  ${n}px;
			}
		`;r.ia4WindowsSymbolColor&&(m+=`
				#hamburgerMenu svg > path,
				#windowControls svg > path {
					fill: ${r.ia4WindowsSymbolColor};
				}
			`),i.shadowRoot.querySelectorAll(`#${o}`).forEach(E=>E.remove());const p=document.createElement("style");p.id=o,p.textContent=m,i.shadowRoot.appendChild(p)}catch(m){Object(wt.b)().error("WINDOW-CHROME","Failed to inject custom titlebar styling",m)}}c(et,"maybeInjectStyles");function Ie(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object(Ye.i)()&&(Object(Ye.p)()&&(Object(dt.cc)({name:"trafficLightPosition",value:{x:12,y:24}}),typeof r.experimentDesktopIa4SunroofEnabled=="boolean"&&Object(ln.h)({experimentDesktopIa4SunroofEnabled:r.experimentDesktopIa4SunroofEnabled})),et(r))}c(Ie,"injectCustomTitlebarStyling");var Ve=e("HkGY"),De=e("Trx9"),We=e("v5z3"),Ze=e("IaLB"),Dt=e("cvlP"),ft=e("H2ap"),on=e("7DVt"),at=e("bHpg"),Ut=e("N0zA"),vn=e("dgxy"),Ne=e("uVZW"),Zn=e("zonX"),jn=e("eWGC"),gn=e("4YJR"),xo=e("Iu7c");const Wn={onClick:{enableClogAction:!0}},Oa={FlagTip:"flag_tip",FlagTipIcon:"flag_tip_icon",FlagTipText:"flag_tip_text",OptOut:"opt_out_button"},Do=c(r=>{let{children:n,onClick:a}=r;const o=Object(S.i)();Object(s.useEffect)(()=>{We.A[We.f.CompletedAll]&&o(Object(gn.H)(""))},[o]);const i=Object(s.useCallback)(l=>{We.w.includes(We.f.CompletedAll)&&We.h[We.f.CompletedAll]&&o(Object(jn.a)({notificationName:We.h[We.f.CompletedAll],action:Ne.f.CLICK,step:We.g.Flag})),typeof a=="function"&&a(l)},[o,a]);return Object(Zn.a)(We.f.CompletedAll,We.g.Flag),t.a.createElement(De.a,{clogImpression:!0,elementName:We.g.Flag,eventId:Oe.EventId.NEWXP_TEAM_CREATE,stepVariant:We.f.CompletedAll,uiStep:Oe.UiStep.PROG_DISC_TIP},t.a.createElement("div",{className:"p-setup_prog_disc_icon_action_wrapper"},t.a.createElement(ct.d,{autoClogProps:Wn,className:Object(g.default)("p-setup_prog_disc_icon_action","p-setup_prog_disc_icon_action--completed_all","p-setup_prog_disc_icon_action--ia4"),"data-qa":`${Oa.FlagTip}--completed_all`,onClick:i},t.a.createElement("div",{className:"p-setup_prog_disc_icon_action__text","data-qa":Oa.FlagTipText},"\u{1F449}"),n||t.a.createElement("div",{className:"p-setup_prog_disc_icon_action__icon p-setup_prog_disc_icon_action__icon--ia4","data-qa":Oa.FlagTipIcon},t.a.createElement(Pe.a,{name:"help"})))))},"ProgressiveDisclosureHelpButtonFlag");Do.displayName="ProgressiveDisclosureHelpButtonFlag";var xs=Do,_o=e("/Rv1"),Vo=e("jYNI"),ys=e.n(Vo),js=e("uMnE"),is=e("o3gz"),Za=e("03PU");const ro=new he.b("ia4"),ji={backgroundColor:"rgba(0, 0, 0, 0.15)"},mi={eventId:Oe.EventId.NEWXP_JOIN_TEAM,uiStep:Oe.UiStep.NFX_SALESFORCE_COACHMARK,elementType:Oe.ElementType.COACHMARK,clogImpression:!0};function Hr(r){let{currentStep:n,children:a,isOpen:o=!1,onClick:i,onClose:l,onOpen:m,totalSteps:h}=r;const p=Object(s.useMemo)(()=>t.a.createElement("div",{className:"p-nfx_salesforce_coachmark__image_container"},t.a.createElement("img",{alt:"","aria-hidden":!0,src:ys.a})),[]),E=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:n,totalSteps:h}),[n,h]),j=Object(s.useMemo)(()=>t.a.createElement(is.b,{ariaLabel:ro.t("Tell us about the good, the bad and the confusing. As our partners, your insights help us make Slack better for everyone. {currentStep} of {totalSteps}",{currentStep:n,totalSteps:h}),arrowPosition:95,bodyText:ro.rt("Tell us about the good, the bad and the confusing.<br></br>As our partners, your insights help us make Slack better for everyone.<steps></steps>",{"<steps>":E}),centerOnArrow:!0,className:"p-nfx_salesforce_coachmark p-nfx_salesforce_coachmark--desktop",closeCoachmark:l,hero:p,isMegaphoneCoachmark:!1,isOpen:o,onAfterOpen:m,onClickPrimaryButton:i,primaryCallToActionText:ro.t("Got it"),title:ro.t("Salesforce, give us your feedback"),width:400,autoClogProps:mi,overlayStyle:ji}),[E,n,p,o,i,l,m,h]);return t.a.createElement(Za.c,{coachmarkElement:j,orientation:"bottom"},a)}c(Hr,"NFXSalesforceCoachmark"),Hr.displayName="NFXSalesforceCoachmark";var Qr=Object(s.memo)(Hr),ps=e("sLRC"),En=e("Dfh+"),ka=e("7+Lm"),Us=e("69o4"),Go=e("WAPM");const fr=new he.b("ia4"),hi={backgroundColor:"rgba(0, 0, 0, 0.15)"},Bi={eventId:Oe.EventId.NEWXP_JOIN_TEAM,uiStep:Oe.UiStep.NFX_HELP_COACHMARK,elementType:Oe.ElementType.COACHMARK,clogImpression:!0};function Xi(r){let{children:n}=r;const a=Object(S.i)(),{closure:o}=Object(d.c)(be=>Object(ka.b)(be,Ne.g.WELCOME_SPACE)),i=o===ps.a.SalesforceCoachmark,{currentStep:l,isOpen:m,totalSteps:h}=Object(En.a)(i?ps.a.SalesforceCoachmark:ps.a.HelpCoachmark),p=Object(d.c)(Ze.r),E=Object(s.useCallback)(()=>{a(Object(Us.a)({spaceName:Ne.g.WELCOME_SPACE,action:Ne.f.DISMISS}))},[a]),j=Object(s.useCallback)(()=>{a(Object(Us.a)({action:Ne.f.CLICK,spaceName:Ne.g.WELCOME_SPACE}))},[a]),I=Object(s.useCallback)(()=>{a(Object(jn.a)({notificationName:Ne.h.IA4_NFX_EDUCATION,action:Ne.f.IMPRESSION}))},[a]),G=Object(s.useCallback)(be=>{let{text:Ee}=be;return t.a.createElement(Go.a,{articleId:0xf3f3a622c93},Ee)},[]),Y=Object(s.useCallback)(()=>p?null:t.a.createElement(js.a,{currentStep:l,totalSteps:h}),[l,p,h]),se=Object(s.useMemo)(()=>t.a.createElement(is.b,{ariaLabel:fr.t("Go to Help anytime to share your feedback about these changes or see a summary of what\u2019s new. {currentStep} of {totalSteps}",{currentStep:l,totalSteps:h}),arrowPosition:95,bodyText:fr.rt("Go to Help anytime to share your feedback about these changes or <a>see a summary of what\u2019s new.</a><steps></steps>",{"<a>":G,"<steps>":Y,fallbackHash:"515f00a6d4a65cc8d391783ec3e4f83cc50b8146"}),centerOnArrow:!0,closeCoachmark:E,hideCloseButton:!0,isMegaphoneCoachmark:!1,isOpen:m,onAfterOpen:I,onClickPrimaryButton:j,primaryCallToActionText:fr.t("Got it"),title:fr.t("Check out these changes later in Help and share your feedback"),width:400,autoClogProps:Bi,overlayStyle:hi,offsetY:-5}),[G,Y,l,j,E,I,m,h]);return i?t.a.createElement(Qr,{currentStep:l,onClick:j,onClose:E,onOpen:I,isOpen:m,totalSteps:h},n):t.a.createElement(Za.c,{coachmarkElement:se,orientation:"bottom"},n)}c(Xi,"NFXHelpCoachmark"),Xi.displayName="NFXHelpCoachmark";var Qi=Xi;const Zi=c(()=>t.a.createElement(Pe.a,{"data-qa":"help-icon",name:"help",size:"20"}),"HelpIcon"),Si=new he.b("classic_nav"),vr=[We.f.DismissedAll,We.f.CompletedAll],Mr=c(()=>{const r=Object(S.i)(),n=Object(d.c)(Re=>Object(Ze.mb)(Re,{tip:We.f.CompletedAll})),a=Object(d.c)(Ze.W),o=Object(d.c)(on.b),i=Object(d.c)(Ro.o)||0,l=Object(d.c)(Ro.i)||-1,m=Object(d.c)(Kt.e),h=Object(d.c)(Ro.g),{isOpen:p}=Object(Ut.a)(Ne.h.HELP_TOUR_COACHMARK);Object(s.useEffect)(()=>{p&&r(Object(at.h)(1))},[r,p]);const E={onClick:{enableClogAction:!m}},j=Object(s.useCallback)(()=>{a&&!o&&r(Object(ft.a)({tip:We.f.CompletedAll})),r(m?Object(_o.a)():Object(Tr.a)())},[r,o,m,a]),I=c(()=>i+(l!==-1?1:0),"totalCount"),G=c(()=>I()!==0,"isBadged"),Y=c(()=>{if(I()===0)return null;if(I()>0&&i===0)return t.a.createElement("div",{className:"p-top_nav__help__badge p-top_nav__help__badge--dot"});const Re=I()>9?"9+":I().toString(10);return t.a.createElement("div",{className:"p-top_nav__help__badge"},Re)},"renderBadge");Y.displayName="renderBadge";const se=I()>0?Si.t("Help, with {unreads, plural, =1 {# unread} other {# unreads}}",{unreads:I()}):Si.t("Help"),be={topNavHelpButton:"top-nav-help-button"},Ee=c(Re=>t.a.createElement("div",{className:Object(g.default)("p-top_nav__windows_controls_container"),"data-qa":be.topNavHelpButton},Re),"renderContainer");Ee.displayName="renderContainer";const _e=Si.t("Help"),ge=Object(Ye.x)()?"bottom":"bottom-right",ye=t.a.createElement(De.a,{eventId:Oe.EventId.TOP_NAV_HELP_MENU,isBadged:G()},t.a.createElement(Qi,null,t.a.createElement(Dt.c,{tips:vr},t.a.createElement(Dn.d,{tip:()=>{if(Object(Ye.i)()){const Re="F1";return t.a.createElement(eo.a,{title:_e,mainKey:Re})}return _e},position:ge},t.a.createElement(Ca.a,{autoClogProps:E,onClick:j,className:Object(g.default)("p-top_nav__button p-top_nav__help",{"p-top_nav__help_flexpane__tour-highlight":h===1||h===6}),"aria-label":se,"data-qa":"highlight-btn"},t.a.createElement(Zi,null))),Y()))),Ue=t.a.createElement(De.a,{eventId:Oe.EventId.TOP_NAV_HELP_MENU,isBadged:G()},t.a.createElement(xs,{onClick:j},t.a.createElement("div",{className:"p-top_nav__button p-top_nav__help"},t.a.createElement(Zi,null)),Y()));return t.a.createElement(vn.d,null,t.a.createElement(vn.e,null,t.a.createElement("div",null,Ee(n?Ue:ye))))},"HelpButton");Mr.displayName="HelpButton";var ir=Mr,Hs=e("P7By"),Ea=t.a.forwardRef((r,n)=>{const a=Object(s.useCallback)(()=>e.e("feelings-catcher-heart").then(e.t.bind(null,"Z5JQ",3)),[]);return t.a.createElement(Hs.a,{ref:n,getAnimationImport:a,className:"p-top_nav__feedback_animation",loop:!0})});function Fo(r){return Object(en.d)(r,"feelings_catcher")==="on"}c(Fo,"isFeelingsCatcherExperimentOn");function Es(r){return Object(en.d)(r,"sfdc_feelings_catcher_translations")==="on"}c(Es,"isFeelingsCatcherNewStringsExperimentOn");var Ls=e("VDNX"),ws=e("lvWT"),ds=e("tYRW"),gc=e("AEEY"),Oc=e("zKrX"),Kc=e("YyjR"),Vc=e("DWmQ"),Gc=e("9org"),tl=e("CpuT"),qs=e("3V+Q"),Ec=e("la4u"),pi=e("95ku"),Ss=e("Eoji"),_c=e("Ws5+"),Ra=e("Tevt"),Wi=e("jWAO"),Zr=e("d/xU"),Pl=e("c+zA"),$i=e.n(Pl);const qi=new he.b("classic_nav");function dd(){return Object(d.c)(Fo)?t.a.createElement(Ls.a,{contentLabel:qi.t("Thank you! You\u2019re helping us make Slack better."),centered:!0,showCloseButton:!1,className:"p-feedback_confirmation_modal",maxWidth:525},t.a.createElement("div",{className:"p-feedback_confirmation_modal__hero"},t.a.createElement("img",{src:$i.a,alt:qi.t("three people celebrating"),width:231,height:199})),t.a.createElement(ws.a,null,t.a.createElement(ds.a,{title:qi.t("Thank you! You\u2019re helping us make Slack better.")})),t.a.createElement(Gc.a,null,t.a.createElement(gc.a,null,qi.t("We\u2019re actively listening to all of the feedback shared with us. If applicable, a member of our team will reach out shortly.",{fallbackHash:"55c0b7eda7f2f45e2b1a646296fb54b79af3298a"}))),t.a.createElement(Oc.a,null,t.a.createElement(Kc.a,null,t.a.createElement(Vc.a,{type:"primary"},qi.t("OK"))))):null}c(dd,"FeedbackConfirmationModal");var Fs=e("RCWH"),bi=e("ykb+"),cr=e("xwCZ"),Ml=e("ozfY"),ud={modal:"modal__FT5oL"};const gr=new he.b("classic_nav"),md=[{label:()=>gr.t("I want to share feedback to improve Slack",{fallbackHash:"9a7bf15021c18baaf5ee878915fcce15966bbca7"}),value:"improvement"},{label:()=>gr.t("I want to share some love for Slack"),value:"love"}],ec=50,nl=1e3,Dl=Object(bi.b)()?"C024BE7LR":"C02TG1SMJHX",Ks=Object(bi.b)()?"U0147960U03":"U04CVFDGM6Y",Ys=Object(bi.b)()?"A0147915A59":"A04BV6RHY86",Cc=Object(bi.b)()?"T024BE7LD":"E7T5PNK3P";function Rl(){const r=Object(S.i)(),[n,a]=Object(s.useState)(),[o,i]=Object(s.useState)(""),[l,m]=Object(s.useState)(""),[h,p]=Object(s.useState)(!1),[E,j]=Object(s.useState)(!1),[I,G]=Object(s.useState)(""),Y=Object(d.c)(Fo),se=Object(d.c)(Es),be=Object(d.c)(Ge=>Object(cr.i)(Ge,Ks)),Ee=Object(s.useCallback)(Ge=>{a(Ge.target.value)},[]),_e=Object(s.useCallback)(()=>{r(Object(Yo.a)()),r(Object(Ml.a)({appId:Ys,appInstalledTeamId:Cc,queryArgs:{tab:"messages"}}))},[r]),ge=Object(s.useCallback)(Ge=>{m(Ge)},[]),ye=Object(s.useCallback)(Ge=>{i(Ge)},[]),Ue=Object(s.useCallback)(()=>{p(Ge=>!Ge)},[]),Re=Object(s.useCallback)(Object(U.coroutine)(function*(){if(!(!n||!o)&&!(se&&!l)){j(!0),G("");try{yield r(Object(Fs.a)({type:n,text:o,productArea:l,isConsentGiven:h,reason:"top-nav/feedback-modal"})),r(Object(ls.a)({element:t.a.createElement(dd,null),name:"feedback-confirmation-modal"}))}catch{G(gr.t("Something went wrong submitting your feedback. Please try again."))}j(!1)}}),[n,o,l,r,h,se]),tt=Object(s.useCallback)(()=>{r(Object(Yo.a)()),r(Object(So.a)(Object(Mo.n)(Dl)))},[r]);return Y?t.a.createElement(Ls.a,{contentLabel:gr.t("Tell us about your experience"),centered:!0,className:ud.modal},t.a.createElement(ws.a,null,t.a.createElement(ds.a,{title:gr.t("Tell us about your experience on Slack")})),t.a.createElement(gc.a,null,I&&t.a.createElement(Gc.a,null,t.a.createElement(Wi.d,{className:"margin_bottom_75",level:"error"},I)),t.a.createElement(Gc.a,null,t.a.createElement(tl.a,{legendText:gr.t("What type of feedback would you like to share? Choose the closest option."),isRequired:!0,hintText:se?gr.rt("Bugs? Go to {bot}.",{bot:t.a.createElement(Ra.a,{onClick:_e},be)}):""},md.map(Ge=>{let{label:Tt,value:yn}=Ge;return t.a.createElement(qs.b,{key:yn,text:Tt(),htmlFor:`radio-${yn}`,type:"inline"},t.a.createElement(Ec.a,{id:`radio-${yn}`,name:`radio-${yn}`,value:yn,checked:n===yn,onChange:Ee}))})),se&&t.a.createElement(qs.b,{text:se?gr.t("What area of the product are you sharing feedback about?"):"",htmlFor:"productArea"},t.a.createElement(pi.a,{id:"productArea",name:"productArea",value:l,onChange:ge,placeholder:se?gr.t("e.g. huddles, canvas, etc."):"",isRequired:!0,maxCharacterLimit:ec})),t.a.createElement(qs.b,{text:gr.t("What is your feedback?",{fallbackHash:"69ab59ac9453f6a686092f0578ec3f5532f2cfc4"}),htmlFor:"text"},t.a.createElement(Ss.a,{id:"text",name:"text",value:o,onChange:ye,placeholder:gr.t("How does this impact your current use of Slack or how could it potentially improve your use of Slack in the future?",{fallbackHash:"a26a3cd3c6854dc8ff91f44cbd6c86869429050b"}),isRequired:!0,maxCharacterLimit:nl,hintText:gr.rt("For technical or access issues please reach out to <link>#help-techforce</link>.",null,Ge=>{let{text:Tt,key:yn}=Ge;return t.a.createElement(Ra.a,{key:yn,onClick:tt},Tt)})})),t.a.createElement(qs.b,{text:gr.t("Someone from Slack can DM me about this feedback"),htmlFor:"consent",type:"inline",className:"p-feedback_modal__consent"},t.a.createElement(_c.a,{id:"consent",name:"consent",value:h?"yes":"",checked:h,onChange:Ue})))),t.a.createElement(Oc.a,null,t.a.createElement(Ra.a,{href:`https://${Object(Zr.n)()}/trust/privacy/privacy-policy`,target:"_blank"},"Privacy Policy"),t.a.createElement(Kc.a,null,t.a.createElement(Vc.a,{type:"outline"},gr.t("Cancel")),t.a.createElement(ct.c,{type:"primary",onClick:Re,disabled:!n||!o||o.length>nl||se&&(!l||l.length>ec),loading:E},gr.t("Submit"))))):null}c(Rl,"FeedbackModal");const yc=new he.b("classic_nav");function Ii(r){let{children:n}=r;const a=Object(d.c)(Fo),{isOpen:o,closeCoachmark:i}=Object(Ut.a)(Ne.h.TOP_NAV_FEEDBACK_COACHMARK),l=Object(s.useCallback)(()=>{i()},[i]),m=Object(s.useMemo)(()=>a?t.a.createElement(is.b,{arrowPosition:95,isOpen:o,title:yc.t("Salesforce, tell us how we\u2019re doing"),bodyText:yc.t("We created a place for you to go and share your feelings and feedback about Slack."),offsetX:10,offsetY:0,closeCoachmark:l,isMegaphoneCoachmark:!0}):null,[l,o,a]);return a?t.a.createElement(Za.c,{coachmarkElement:m,orientation:"bottom-left"},n):null}c(Ii,"FeedbackCoachmark");const al=new he.b("classic_nav"),ol={onClick:{enableClogAction:!0}};function xl(){const r=Object(S.i)(),n=Object(d.c)(Fo),a=Object(d.c)(I=>Object(bn.u)(I,"a11y_animations")),[o,i]=Object(s.useState)(!1),[l,m]=Object(s.useState)(),h=Object(s.useCallback)(I=>{if(!I){m(void 0);return}I.then(G=>m(G))},[]);Object(s.useEffect)(()=>{!l||!a||(o?l.play():l.stop())},[o,l,a]);const p=Object(s.useCallback)(()=>{r(Object(ls.a)({element:t.a.createElement(Rl,null),name:"feedback-modal"}))},[r]),E=Object(s.useCallback)(()=>{a&&i(!0)},[a]),j=Object(s.useCallback)(()=>{a&&i(!1)},[a]);return n?t.a.createElement(De.a,{eventId:Oe.EventId.TOP_NAV_FEEDBACK},t.a.createElement(Ii,null,t.a.createElement(ct.d,{className:"p-top_nav__button p-top_nav__feedback",onClick:p,title:al.t("Give Feedback"),"aria-label":al.t("Give Feedback"),onMouseEnter:E,onMouseLeave:j,autoClogProps:ol},t.a.createElement(Ea,{ref:h}),t.a.createElement("span",{className:"p-top_nav__feedback_text"},al.t("Give Feedback"))))):null}c(xl,"FeedbackButton");var Dr=e("somW"),$r=e("UL37"),xa=e("rZ8V"),hd=e("jkZJ"),zc=e("DPHH");const $t=new he.b("classic_nav"),er=c(()=>{const r=Object(S.i)(),n=Object(d.c)(V.d),a=$t.t("Show Workspace Switcher tablist"),o=Object(s.useMemo)(()=>n?$t.t("Hide workspace switcher"):$t.t("Show workspace switcher"),[n]),i=Object(s.useMemo)(()=>[zc.b.CmdOrCtrl,Object(Ye.p)()?"\u21E7":"Shift"],[]),l=Object(s.useMemo)(()=>t.a.createElement(eo.a,{mainKey:"S",title:o,modifiers:i}),[i,o]),m=Object(s.useCallback)(()=>{r(Object(hd.a)())},[r]);return t.a.createElement("div",{className:"p-workspace_switcher_container"},t.a.createElement(Dn.d,{tip:l},t.a.createElement(Ca.a,{className:"p-workspace_switcher_container__button p-workspace_switcher_container_top_nav__button-top-nav","aria-label":a,"aria-pressed":n,onClick:m},n?t.a.createElement(Pe.a,{name:"sidebar-left",size:"20",variation:"filled"}):t.a.createElement(Pe.a,{name:"sidebar-left",size:"20"}))))},"WorkspaceSwitcherToggleButton");er.displayName="WorkspaceSwitcherToggleButton";var Ui=er;function jc(){const r=Object(s.useRef)(null);return Object(s.useEffect)(()=>{const n=fn.a.document.querySelector("window-chrome"),a=fn.a.document.querySelector("window-chrome-app-menu");return a&&r.current&&!r.current.contains(a)&&r.current.appendChild(a),()=>{n&&a&&n.appendChild(a)}},[]),t.a.createElement("div",{ref:r,className:"p-ia4_app_menu_button"})}c(jc,"AppMenuButton");var Sc=e("7LcW"),Yc=e("ZE3X"),zu=e("E3sx"),Ll=e("jm2/"),Or=e("nWdO"),Rr=e("5IZy"),sl=e("sjOx"),Ic=e("tCLD"),Tc=e("m5HF"),rl=e("EAKl"),Hi=e("eqVl"),fi=e("FroQ"),wl=e("+gmx"),Jd=e("t9mr"),il=e("SE44"),Yu=e.n(il),Xd=e("Q1kK"),pd=e.n(Xd),Ju=e("VA3Q");const Jc=new he.b("assistant"),qr=c(()=>{const r=Object(S.i)(),n=Object(d.c)(rl.s),a=Object(s.useCallback)(()=>{r(Object(fi.K)(null))},[r]),o=Object(s.useCallback)(()=>{r(Object(fi.x)())},[r]),i=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-slack-ai-nux-light").then(e.t.bind(null,"zk25",3)),[]),l=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-slack-ai-nux-light").then(e.t.bind(null,"RuwE",3)),[]);return n?t.a.createElement(Jd.a,{tourStep:Hi.e.FinishModal,title:Jc.rt("Ready to put Slack AI to work?"),primaryCtaText:Jc.t("Done"),onDismissModal:a,onClickPrimaryCta:o,clogUiStep:Oe.UiStep.SLACK_AI_NUX_FINISH_MODAL,getAnimationImportLight:i,getAnimationImportDark:l,staticAssetLight:Yu.a,staticAssetDark:pd.a},t.a.createElement("div",{className:"p-slack_ai_nux_modal__text margin_bottom_50"},Jc.t("Pick a busy channel or DM you\u2019ve been meaning to catch up on, and generate your first summary. It\u2019ll be like you never missed a thing.")),t.a.createElement("div",{className:"p-slack_ai_nux_modal__caption"},Jc.t("These tools use AI to generate responses, so it\u2019s important to review them for accuracy before use."))):null},"SlackAiNuxTourFinishModal");qr.displayName="SlackAiNuxTourFinishModal";var Qd=qr,Zd=e("BeLv"),Bl=e("GkJf"),Xu=e("eytI"),Qu=e.n(Xu),$d=e("SFEt"),bd=e.n($d),Ac=e("i9jZ"),cl=e("8kKn"),os=e("u0LO"),Wl=e("MRve");const Nc=new he.b("assistant"),fd=c(r=>{let{children:n}=r;const a=Object(S.i)(),o=Object(d.c)(rl.s),i=Object(d.c)(rl.q),l=Object(d.c)(rl.r),m=Object(d.c)(Tc.v),p=Object(d.c)(Ac.a)&&Object(Ye.i)(),E=!0,j=Object(d.c)(wl.i),I=Object(s.useCallback)(()=>{a(Object(Yo.a)())},[a]),G=Object(s.useCallback)(()=>{l&&I(),a(Object(fi.K)(null)),i&&a(Object(cl.a)())},[I,a,i,l]),Y=j===Hi.e.SearchAnswersCoachmark,{isOpen:se,closeCoachmark:be}=Object(Ut.a)(Ne.h.SLACK_AI_CONTEXTUAL_SEARCH_COACHMARK),Ee=Object(s.useCallback)(()=>{be(),a(Object(Wl.b)({component:os.c.SlackAiNfxSearch,type:os.a.Dismiss,reason:"slackAiInteractionsCounter"}))},[be,a]),_e=Object(s.useCallback)(()=>{l?m?(I(),a(Object(ls.a)({element:t.a.createElement(ta.a,{className:"p-slack_ai_nux_coachmark__loading_modal"},t.a.createElement("div",null))})),a(Object(fi.K)(Hi.e.Recap))):(a(Object(fi.K)(null)),a(Object(cl.a)())):(a(Object(fi.K)(Hi.e.FinishModal)),a(Object(ls.a)({element:t.a.createElement(Qd,null)})))},[I,a,l,m]),ge=Object(s.useCallback)(()=>{a(Object(Ic.a)({query:i?Nc.t("What is Project Gizmo?"):"",showAutocomplete:!0,commitSearch:!1,inputId:sl.x.OMNISWITCHER})),a(Object(fi.K)(Hi.e.SearchExample)),a(Object(cl.a)())},[a,i]),ye=Object(s.useCallback)(yn=>{let{text:xn}=yn;return t.a.createElement(Bl.a,{forceOpenInBrowser:!p||E,articleId:25604701408275},xn)},[p,E]),Ue=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-slack-ai-nux-light").then(e.t.bind(null,"RSxX",3)),[]),Re=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-slack-ai-nux-dark").then(e.t.bind(null,"zJnO",3)),[]);let tt=3,Ge=_e,Tt=Nc.t("Next");return i&&!l&&(Ge=se?void 0:ge,Tt=se?void 0:Nc.t("See Example"),tt=2),l&&(!m&&Y&&(tt=2,Tt=Nc.t("Done")),se&&(Ge=void 0,Tt=void 0)),o?t.a.createElement(Zd.a,{isOpen:Y||se,dismissCoachmark:se?Ee:G,titleText:Nc.t("Find answers faster"),bodyText:Nc.rt("Ask Slack AI a question, like asking a teammate. It does the work of finding relevant info and generating an answer. <a>Get tips</a>",{"<a>":ye}),onClickPrimaryButton:Ge,primaryCallToActionText:Tt,stepNumber:Y?2:void 0,totalStepCount:tt,arrowPosition:50,offsetX:0,centerOnArrow:!0,offsetY:-10,orientation:"bottom",clogUiStep:se?Oe.UiStep.SLACK_AI_CONTEXTUAL_SEARCH_COACHMARK:Oe.UiStep.SLACK_AI_NUX_SEARCH_ANSWERS_COACHMARK,getAnimationImportLight:Ue,getAnimationImportDark:Re,staticAssetLight:Qu.a,staticAssetDark:bd.a,useCustomOverlay:i&&!se},n):n},"SlackAiSearchAnswersNuxCoachmark");fd.displayName="SlackAiSearchAnswersNuxCoachmark";var qd=fd;const tr=new he.b("classic_nav"),eu=["CmdOrCtrl"],vd={query:void 0,plainTextQuery:void 0,isGovSlackWorkspace:!1,isFKeySearchEnabled:!1,shouldShowSlackAiCoachmark:!1};let ll=c(class extends s.Component{onClearClick(){this.props.clearSearchInput()}onKeyPress(n){(n.key==="Enter"||n.key===" ")&&this.openSearch()}onMouseDown(n){n.button!==0||n.ctrlKey||this.openSearch()}openSearch(){const n={action:"CLICK",ui_component:"CHANNEL_HEADER",ui_element:"NAV_SEARCH",entry_point:"ia"};this.props.openFromClick(),this.props.clogger.track(Oe.EventId.CLASSIC_NAV,{contexts:{ui_context:n}})}render(){const{teamName:n,query:a,plainTextQuery:o,isGovSlackWorkspace:i,isFKeySearchEnabled:l,shouldShowSlackAiCoachmark:m}=this.props,h=Object(g.default)("p-top_nav__search",{"p-top_nav__search--mac":Object(Ye.p)(),"p-top_nav__search--windows-linux":Object(Ye.x)()||Object(Ye.o)(),"p-top_nav__search--with-query":a}),p=Object(g.default)("p-top_nav__search__container"),E=tr.t("Clear search",{ns:"teams"});let j="";a?j=tr.rt("Search: {plainTextQuery}",{plainTextQuery:o}):i?j=tr.rt("Search {teamName} (GovSlack)",{teamName:n}):j=tr.rt("Search {teamName}",{teamName:n});const I=t.a.createElement("div",{className:p},t.a.createElement(Or.c,{tip:l||Object(Ye.i)()?t.a.createElement(eo.a,{title:tr.rt("Search {teamName}",{teamName:n}),modifiers:eu,mainKey:"G",useSlimModifiers:!0}):tr.rt("Search {teamName}",{teamName:n}),offsetY:4},t.a.createElement(ct.d,{ref:this.inputButtonRef,onMouseDown:this.onMouseDown,onKeyPress:this.onKeyPress,className:h,"aria-disabled":!1,"aria-label":a?void 0:tr.t("Search"),"aria-labelledby":a?"search-text":void 0,"data-qa":"top_nav_search"},t.a.createElement("div",{className:"p-top_nav__search__icon p-top_nav__search__icon--advanced-search"},t.a.createElement(Pe.a,{name:"search"})),t.a.createElement("span",{className:Object(g.default)("p-top_nav__search__text"),id:"search-text"},j))),a&&t.a.createElement(Or.c,{tip:tr.t("Clear search",{ns:"teams"}),delay:Or.a,hideFromScreenReader:!0,offsetY:4},t.a.createElement(ct.d,{onClick:this.onClearClick,className:"p-top_nav__search__clear","aria-label":E,"data-qa":"top_nav_search_clear"},t.a.createElement(Pe.a,{name:"close",size:"16"}))));return m?t.a.createElement(qd,null,I):I}constructor(n){super(n),this.onKeyPress=this.onKeyPress.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClearClick=this.onClearClick.bind(this),this.openSearch=this.openSearch.bind(this),this.inputButtonRef=t.a.createRef()}},"Search");ll.displayName="Search",ll.defaultProps=vd;function tu(r,n){return Object(nn.m)(r)||(n==null?void 0:n.name)||Object(Xt.h)()}c(tu,"getSelfEnterpriseOrgNameWithFallback");const gd=c(r=>{const n=Object(Sc.a)(r,sl.x.OMNISWITCHER),a=Object(nn.g)(r),o=Object(Xt.z)(a)?tu(r,a):Object(Xt.h)(a);return{query:n,teamName:o,plainTextQuery:n?Object(Uo.a)(n,[],!0):void 0,clogger:Object(Rr.a)({state:r}),isGovSlackWorkspace:Object(Ll.a)(r),isFKeySearchEnabled:Object(bn.u)(r,"f_key_search"),shouldShowSlackAiCoachmark:Object(wl.U)(r)}},"search_mapStateToProps"),nu=c(r=>({openFromClick:function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r(Object(Yc.a)(...a))},clearSearchInput:function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r(Object(zu.a)(...a))},openAdvancedSearchModal:function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r(Object(ls.a)(...a))}}),"mapDispatchToProps");var au=Object(Be.a)(gd,nu,null,{forwardRef:!0})(ll),kc=e("6CqW"),lr=e("i5Ig"),Yn=e("c+dP"),Fi=e("q6Tz");function dl(){return dl=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},dl.apply(this,arguments)}c(dl,"workspace_weaver_menu_extends");const Od=c(()=>{const r=Object(S.i)(),n=Object(s.useCallback)(()=>{r(Object(Fi.c)({event:{type:Ne.e.DEV_TRIGGER_IA4_NUX_TOUR}}))},[r]),a=Object(s.useCallback)(m=>{m&&r(Object(gn.m)({state:We.g.Flag,tip:m}))},[r]),o=Object(s.useCallback)(()=>a(We.f.FirstMessage),[a]),i=Object(s.useCallback)(()=>a(We.f.AddTeammates),[a]),l=Object(s.useCallback)(m=>t.a.createElement(Yn.f,dl({},m),t.a.createElement(Yn.b,{label:"IA4 NUX",onSelected:n}),t.a.createElement(Yn.d,null),t.a.createElement(Yn.c,{label:"Progressive Disclosure tips"}),t.a.createElement(Yn.b,{label:"First Message",onSelected:o}),t.a.createElement(Yn.b,{label:"Add Teammates",onSelected:i})),[n,o,i]);return t.a.createElement(Yn.e,{renderMenu:l,offsetX:-4,offsetY:4,position:"bottom-left"},t.a.createElement(Dn.d,{tip:"[Dev Only] Tips Menu",position:"bottom-right"},t.a.createElement(Wo.a,{backgroundStyle:"dark",icon:"bug","aria-label":"Opens the dev tips menu"})))},"WorkspaceWeaverDropdown");Od.displayName="WorkspaceWeaverDropdown";var Zu=Od,tc=e("4k0v"),$u=e("7JHn"),Pc=e("x5cI"),Vs=e("SQ0V");const Ed=Object(Vs.c)("Show an app home-like view for an AI app in the flexpane",(r,n,a)=>{let{appUserId:o}=a;r(Object(So.a)(Object(Mo.d)({appUserId:o})))});Ed.meta={name:"createThunk",key:"createThunkshowAiAppFlexpane",description:"Show an app home-like view for an AI app in the flexpane"};var Ul=e("Kmpi"),_d=e("x/ke"),qu=e("n5k6"),Cd=e("+GhL"),ou=e("Nnn3"),ei=e("9I4P");const yd=c(r=>{let{appUserId:n}=r;const a=Object(S.i)(),o=Object(d.c)(I=>Object(cr.g)(I,n));var i;const l=Object(d.c)(I=>(i=Object(ou.a)(I,o))!==null&&i!==void 0?i:void 0),m=Object(d.c)(Xn.g),h=Object(ei.b)(o,m),p=Object(d.c)(I=>Object(_d.c)(I,{serviceId:l,homeWorkspaceId:h})),E=Object(s.useCallback)(()=>{a(Ed({appUserId:n}))},[n,a]),j=Object(d.c)(I=>Object(Cd.a)(I,p));if(!(Object(qu.a)(p)||Object(Ul.d)(p)||Object(Ul.c)(p)))return{aiAppName:Object(Cd.i)(p),aiAppIconUrl:j,goToAiApp:E}},"useGetAiAppDetails");var su=e("n3y5");const ul={T01407S2H51:"U014RL4FJ4A",T07L2FPUY:"U01615H02HZ",T013MLBA89G:"U0160LKB5TL",E12KS1G65:"U069JDDAM53",E7T5PNK3P:"U067SBXGGG6"};var Hl=e("AFNo");const Fl=Object(Hl.c)(r=>{const n=Object(Xn.g)(r);return!!(Object(en.d)(r,"ai_apps_feature")==="on"&&n&&ul[n])});Fl.meta={name:"createSelector",key:"createSelectorisAiAppsButtonVisible",description:r=>{const n=Object(Xn.g)(r);return!!(Object(en.d)(r,"ai_apps_feature")==="on"&&n&&ul[n])}};function Kl(){return Kl=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Kl.apply(this,arguments)}c(Kl,"ai_apps_button_extends");const Vl=new he.b("ai_apps"),jd=c(()=>{const r=Object(d.c)(Fl),n=Object(d.c)(Xn.g),a=ul[n],o=yd({appUserId:a}),i=Object(s.useCallback)(l=>t.a.createElement($u.a,Kl({width:"auto"},l),t.a.createElement(Pc.a,{disabled:!0,label:"Claude",icon:t.a.createElement(Pe.a,{name:"bot",size:"20"})}),t.a.createElement(Pc.a,{disabled:!0,label:"ChatGPT",icon:t.a.createElement(Pe.a,{name:"bot",size:"20"})})),[]);return r?t.a.createElement("div",{className:"p-top_nav__ai_apps_button__container"},t.a.createElement(ct.d,{className:"p-top_nav__ai_apps_button padding_right_25","aria-label":Vl.t("AI assistant"),onClick:o==null?void 0:o.goToAiApp},t.a.createElement("div",{className:"p-top_nav__ai_apps_button_ai_icon"},t.a.createElement(su.a,{ariaHidden:!0,size:20,image:o==null?void 0:o.aiAppIconUrl})),o==null?void 0:o.aiAppName),t.a.createElement("div",{className:"p-top_nav__ai_apps_button__divider"}),t.a.createElement(Yn.e,{renderMenu:i,position:"bottom"},t.a.createElement(ct.d,{className:"p-top_nav__ai_apps_button","aria-haspopup":"menu","aria-label":Vl.t("AI assistant")},t.a.createElement("div",{className:"p-top_nav__ai_apps_button_ai_icon"},t.a.createElement(Pe.a,{name:"caret-down",size:"20"}))))):null},"AiAppsButton");jd.displayName="AiAppsButton";const em=new he.b("classic_nav");var Gm=t.a.memo(c(function(n){let{sidebarWidth:a,windowWidth:o,isShowingTabRailWorkspaceSwitcher:i}=n;const{windowId:l}=Object(s.useContext)(Z.a),{getSiblingView:m}=Object(kc.a)(l),h=Object(d.c)(la=>Object(Ze.X)(la,{getSiblingView:m})),p=Object(s.useRef)(null),E=Object(s.useRef)(null),j=Object(s.useRef)(null),I=Object(s.useRef)(null),G=Object(d.c)(Kt.g),Y=Object(tc.a)({view:"chrome"}),se=Object(d.c)(la=>Object(en.d)(la,"workspace_weaver")==="on"),be=Object(d.c)(Fl),Ee=Object(s.useCallback)(()=>{var la;(la=p.current)===null||la===void 0||la.focus()},[]),_e=Object(d.c)(xa.j),[ge,ye]=Object(s.useState)(280),[Ue,Re]=Object(s.useState)(),tt=Object(ht.a)(Object(ln.e)()?"--dt_color-theme-content-inv-pry":null);Object(s.useEffect)(()=>{Ie({ia4WindowsSymbolColor:tt,experimentDesktopIa4SunroofEnabled:_e})},[tt,_e]);const Ge=o>=960;Object(s.useEffect)(()=>{E!=null&&E.current&&E.current.offsetWidth!==ge&&ye(E.current.offsetWidth)}),Object(s.useEffect)(()=>{var la;const Ta=E==null||(la=E.current)===null||la===void 0?void 0:la.offsetLeft;let ao;!Ta||!ge?ao="50vw !important;":ao=`${Ta+ge/2}px !important`,Re(ao)},[ge,o]);const Tt=Object(s.useMemo)(()=>{const la=o<668,Ta=o>2e3;let qa={flexBasis:`${i?a+x.r:a}px`};return(la||Ta)&&(qa={flexGrow:1,flexBasis:"0px"}),qa},[o,i,a]);var yn;const xn=(yn=Object(O.b)(C.getAllWorkspaces))!==null&&yn!==void 0?yn:lr.a,Pn=Object(hn.c)();if(h||Pn)return t.a.createElement("div",{className:Object(g.default)("p-ia4_top_nav","p-ia4_top_nav--workspace_switcher",Y,{"p-ia4_top_nav--windows":Object(Ye.x)()})});const Lt=Object(sn.b)()&&xn.length>1,Vn=Object(bi.b)()&&se;return t.a.createElement(Dr.a,{id:"TopNav",index:$r.a.TOP_NAV,focusFn:Ee,enableSectionNavigation:!G},t.a.createElement(Ve.b,{className:Object(g.default)("p-ia4_top_nav",Y,{"p-ia4_top_nav--windows":Object(Ye.x)()}),"aria-label":em.t("History Navigation",{fallbackHash:"a278f7f931a7f3111829f9dc423196e7aa5d4413"}),"data-qa":"top-nav",ref:p},t.a.createElement("div",{className:"p-ia4_top_nav__native_ui_spacer"},Object(ln.e)()&&t.a.createElement(jc,null)),t.a.createElement("div",{className:"p-flexpane__preview-mode-overlay hidden"}),t.a.createElement("div",{className:"p-ia4_top_nav__container_wrapper"},t.a.createElement("div",{className:"p-ia4_top_nav__left_container",ref:I,style:Tt},t.a.createElement("div",{className:"p-ia4_top_nav__left_container--start",ref:I,style:Tt},Lt&&t.a.createElement(Ui,null)),t.a.createElement("div",{className:"p-ia4_top_nav__left_container--end margin_right_50",ref:I,style:Tt},t.a.createElement(vo,null),t.a.createElement(Pt,null))),t.a.createElement("div",{className:"p-ia4_top_nav__middle_container",ref:E},t.a.createElement(au,null),Ge&&t.a.createElement("style",null,`
							.c-search_modal.c-search_modal--ia4 > .popover {
								max-width: ${ge+16}px;
								min-width: ${ge+16}px;
								left: ${Ue};
							}
						`)),t.a.createElement("div",{className:Object(g.default)("p-ia4_top_nav__right_container",{margin_left_50:be}),ref:j},Vn&&t.a.createElement(Zu,null),t.a.createElement(xl,null),t.a.createElement(ir,null),t.a.createElement(jd,null),Object(ln.e)()&&t.a.createElement("div",{className:"p-ia4_top_nav__windows_controls"})))))},"TopNav")),tm=e("DiyJ");const Gl=new he.b("client");function Sd(r){let{isSidebarForceCollapsed:n}=r;const a=Object(S.i)(),o=Object(d.c)(V.c),i=Object(s.useCallback)(()=>{a(Object(tm.a)(!1))},[a]);return o&&n?t.a.createElement(ct.d,{className:"p-floating_sidebar_curtain","aria-label":Gl.t("Dismiss sidebar"),onClick:i}):null}c(Sd,"FloatingSidebarCurtain");var Ki=e("zmn3"),Xc=e("dJs+"),ml=e("sGyX"),lt=e("RAC7"),Id=e("LWrH"),nm=e("9Q0w"),ru=e("qttc"),Td=e("ZOzc"),am=e("ByMX"),ti=e("q0lC"),Ad=e("F+t2"),zm=e("dVyO"),de=e("Qrgz"),_=e("G6zW"),k=e("VYQz"),R=e("Y96m"),W=e("Rthn"),$=e("nl1t");function me(r){const n=Object(nn.g)(r),a=Object(bn.u)(r,"purchaser"),o=Object(Xt.z)(n),i=Object(Xt.L)(n),l=Object(ti.b)(r),m=Object(ti.g)(r),h=Object($.a)(r),E=o?l:i&&(m||a),j=Object(am.b)(r),I=Object(ti.e)(r),G=Object(de.d)(r),Y=Object(_.a)(r);return{canUserViewOrgDash:h,customizeOnlyAdmins:Object(Td.a)(r,"emoji_only_admins")&&Object(Td.a)(r,"slackbot_responses_only_admins"),purchaserPref:a,shouldShowBilling:E,showAnalytics:G,teamIsEnterprise:o,teamIsPaid:i,userCanLaunchWorkflowBuilder:Object(W.c)(r),userCanManageSlackConnect:Object(zm.a)(r),userIsAdmin:I,userIsOwner:m,userIsRestricted:j,userIsEnterpriseAdminOrOwner:l,userCanOpenOrgDashboard:l,userIsAppmin:Object(Ad.a)(r),userCanManageMembers:Object(k.a)(r),userCanManageRoles:Object(R.b)(r),userCanManageLegalHolds:Object(de.l)(r),showManageWorkflows:Y}}c(me,"getMenuConfigurationProps");var fe=e("c+bD"),ve=e("LkPg"),ke=e("XjEU"),Ae=e("a/vO"),Se=e("y8m0"),He=e("ITkT"),bt=e("1lov"),ot=e("x3CK"),Jt=e("TdVx"),St=e("Wn1n"),yt=e("BTpy");function Bt(r){if(r.secondaryView)return`${r.secondaryView}-${Object(Ki.a)(r.flexParams,(h,p)=>`${p}=${h}`).join("&")}`;const n=Object(Ki.a)(r.routeParams,(m,h)=>`${h}=${m}`);var a;let o=(a=r.primaryView)!==null&&a!==void 0?a:"";if(Object(va.a)(o)){var i,l;o=(l=(i=Object(Fa.i)(o))===null||i===void 0?void 0:i.fileIdOrQuipThreadId)!==null&&l!==void 0?l:""}return o+n.join("&")}c(Bt,"get_unique_history_getUniqueEntryKey");const Kn=["help","shortcuts","whats_new"];function Co(r){let{history:n,teamId:a,experimentThreadsInHistoryGroupOn:o=!1}=r;const i=n.filter(l=>{if(!Object(sn.b)()&&l.teamId!==a)return!1;var m,h,p;return l.primaryView==="Vall_threads"||Object(_a.j)((m=l.primaryView)!==null&&m!==void 0?m:"")||Object(qe.a)(l.primaryView)||Object(va.a)((h=l.primaryView)!==null&&h!==void 0?h:"",{includeTemp:!1})||o&&l.secondaryView==="thread"||Kn.includes((p=l.secondaryView)!==null&&p!==void 0?p:"")});return Object(ia.a)(i,Bt)}c(Co,"getUniqueHistory");var no=e("I3z+");const ut=new he.b("desktop-app-menu"),za=5;function Io(r){return r.replace("&","&&&")}c(Io,"escapeAmpersands");function io(r,n,a,o,i,l,m,h,p,E){const j=Object(Ye.p)(),I=Object(ot.c)(",",{kb:p},h),G={id:lt.c.PREFERENCES,type:"normal",label:ut.t("Preferences\u2026"),accelerator:`CmdOrCtrl+${I}`,order:j?10:20},Y=dr(r,j,h,p),se=[{id:lt.c.SWITCH_TO_CHANNEL,type:"normal",label:n?ut.t("Switch to Channel"):"",order:0,accelerator:"CmdOrCtrl+K"},{id:lt.c.ALL_UNREADS,type:"normal",label:n?ut.t("All Unreads"):"",order:10,accelerator:"CmdOrCtrl+Shift+A"},{id:lt.c.THREADS,type:"normal",label:n?ut.t("Threads"):"",order:11,accelerator:"CmdOrCtrl+Shift+T"},{id:lt.c.ALL_DMS,type:"normal",label:n?ut.t("All DMs"):"",order:12,accelerator:"CmdOrCtrl+Shift+K"},{id:lt.c.DRAFTS,type:"normal",label:n?ut.t("Drafts &&& sent",{fallbackHash:"50f1964d008cc3f1974523c1ac7b5a555460f87a"}):"",order:13},{id:lt.c.MENTIONS_REACTIONS,type:"normal",label:ut.t("Activity"),order:14,accelerator:"CmdOrCtrl+Shift+M"},E?{id:lt.c.LATER,type:"normal",label:ut.t("Later",{fallbackHash:"56e2f5d3634ea4aac5b56f1548e92680dd4cdd05",fallbackHashNs:"saved_for_later"}),order:15}:{id:lt.c.SAVED_ITEMS,type:"normal",label:n?ut.t("Saved Items"):"",order:15},{id:lt.c.CHANNEL_BROWSER,type:"normal",label:n?ut.t("Channel Browser"):"",order:20,accelerator:"CmdOrCtrl+Shift+L"},{id:lt.c.FILE_BROWSER,type:"normal",label:n?ut.t("File Browser"):"",order:21},{id:lt.c.PEOPLE_USER_GROUPS,type:"normal",label:n?ut.t("People &&& User Groups"):"",order:22,accelerator:"CmdOrCtrl+Shift+E"},{id:lt.c.APPS,type:"normal",label:ut.t("Workflows &&& Apps"),order:23},{id:lt.c.WORKFLOW_BUILDER,type:"normal",label:n?ut.t("Workflow Builder"):"",order:30},{id:lt.c.DOWNLOADS,type:"normal",label:n?ut.t("Downloads"):"",order:40,accelerator:"CmdOrCtrl+Shift+J"},{id:lt.c.PROFILE,type:"normal",label:n?ut.t("Profile"):"",order:50}],be=[],Ee=a?ut.t("Hide Sidebar"):ut.t("Show Sidebar");let _e="";m&&(_e=i?ut.t("Hide Workspaces"):ut.t("Show Workspaces"));const ge=[{id:o?lt.c.TOGGLE_FLOATING_SIDEBAR:lt.c.TOGGLE_SIDEBAR,type:"normal",label:Ee,order:10,accelerator:"CmdOrCtrl+Shift+D",enabled:l}];return m&&ge.push({id:lt.c.TOGGLE_TEAM_SIDEBAR,type:"normal",label:_e,order:11}),Object(Ye.j)("4.12")&&be.push({id:lt.c.SEARCH,type:"normal",label:n?ut.t("Search"):"",order:20,accelerator:"CmdOrCtrl+G"}),j?{[fe.a.SLACK]:[G],[fe.a.FILE]:Y,[fe.a.EDIT]:be,[fe.a.VIEW]:ge,[fe.a.JUMP_TO]:se}:{[fe.a.FILE]:[...Y,G],[fe.a.VIEW]:ge,[fe.a.JUMP_TO]:se}}c(io,"getStaticMenuItems");function _s(r,n,a,o){const i=r.getState(),l=Object(Xn.g)(i),m=Object(Ye.p)(),p=Object(ia.a)(n.filter(Ee=>Is(i,Ee,l)).slice(0,za+1),Ee=>{var _e;if(Kn.includes((_e=Ee.secondaryView)!==null&&_e!==void 0?_e:""))return Ee.secondaryView;const ge=Ee.routeParams,ye=Object(Ki.a)(ge,(Tt,yn)=>`${yn}=${Tt}`);var Ue;let Re=(Ue=Ee.primaryView)!==null&&Ue!==void 0?Ue:"";if(Object(va.a)(Re)){var tt,Ge;Re=(Ge=(tt=Object(Fa.i)(Re))===null||tt===void 0?void 0:tt.fileIdOrQuipThreadId)!==null&&Ge!==void 0?Ge:""}return Re+ye.join("&")}).map(Ee=>{let{teamId:_e,primaryView:ge,secondaryView:ye}=Ee;return{id:`${lt.a}-${_e}-${ge||ye}`,type:"normal",label:Er(ge||ye,i),after:[fe.b.NAVIGATE_FORWARD]}});p.length>0&&p.unshift({type:"separator",after:[fe.b.NAVIGATE_FORWARD]});const E=me(i),j=[];Object(Ye.j)("4.12")&&j.push({id:lt.c.CONTACT_US,type:"normal",label:o?ut.t("Contact Us"):"",order:50},{id:lt.c.FEEDBACK,type:"normal",label:o?ut.t("Give Feedback"):"",order:51});const I=[],G=Object(qe.a)(Object(St.a)(i)),Y=[],se=Object(en.d)(i,"tile_nav_os_menus")==="on",be=Object(Ac.a)(i);return se&&!be&&(Y.push({id:lt.c.NAVIGATE_TILE_LEFT,type:"normal",label:ut.t("Previous view"),order:12,accelerator:"Ctrl+Alt+Left"}),Y.push({id:lt.c.NAVIGATE_TILE_RIGHT,type:"normal",label:ut.t("Next view"),order:14,accelerator:"Ctrl+Alt+Right"})),Object(Ye.j)("4.12")&&G&&I.push({id:lt.c.FIND,type:"normal",label:o?ut.t("Find\u2026"):"",order:20,accelerator:"CmdOrCtrl+F"}),{[l]:{...m?{[fe.a.SLACK]:ts(i,E,a,o)}:{},[fe.a.FILE]:ns(i,E,m,a,o),[fe.a.VIEW]:Y,[fe.a.EDIT]:I,[ve.a.HISTORY]:p,[fe.a.HELP]:j}}}c(_s,"getWorkspaceMenuItems");function ts(r,n,a,o){const i=[];n.purchaserPref&&i.push({id:lt.c.CHANGE_SLACK_PLAN,type:"normal",label:ut.t("Change Slack Plan"),order:2});const l=bs(a,o);return i.push(l),i.push(...Ko(r,n)),i}c(ts,"getSlackMenuItems");function ns(r,n,a,o,i){const l=[],m=Object(bt.c)(r);if(l.push({id:lt.c.NEW_MESSAGE,type:"normal",label:ut.t("New Message"),accelerator:"CmdOrCtrl+N",order:0}),m&&l.push({id:lt.c.NEW_CHANNEL,type:"normal",label:ut.t("New Channel"),order:1}),Object(Jt.a)(r)&&!Object(Xt.H)(Object(nn.s)(r,Object(Xn.g)(r)))&&l.push({id:lt.c.NEW_CANVAS,type:"normal",label:ut.t("New Canvas"),accelerator:"CmdOrCtrl+Shift+N",order:2}),Object(He.e)(r)&&l.push({id:lt.c.INVITE_PEOPLE,type:"normal",label:ut.t("Invite People"),order:a?21:11}),!a){n.purchaserPref&&l.push({id:lt.c.CHANGE_SLACK_PLAN,type:"normal",label:ut.t("Change Slack Plan"),order:21}),l.push(...Ko(r,n));const h=bs(o,i);l.push(h)}return l}c(ns,"getFileMenuItems");function Ko(r,n){const a=Object(Ye.p)(),{customizeOnlyAdmins:o,shouldShowBilling:i,showAnalytics:l,teamIsEnterprise:m,userCanManageSlackConnect:h,userIsAdmin:p,userIsAppmin:E,userCanOpenOrgDashboard:j,userCanManageMembers:I,userCanManageRoles:G,userIsOwner:Y,userIsRestricted:se,showManageWorkflows:be}=n,Ee=!o,ge=p||Y,ye=m&&j,Ue=!se&&(p||Ee),Re=ge||ye,tt=h,Ge=E,Tt=I,yn=G,Pn=Re||(tt||Ge||i||Tt||yn||be),Lt=[];if(Tt&&Lt.push({id:lt.c.MANAGE_MEMBERS,type:"normal",label:ut.t("Manage Members"),order:0}),yn&&Lt.push({id:lt.c.MANAGE_ROLES,type:"normal",label:ut.t("Manage Roles"),order:1}),Ge&&Lt.push({id:lt.c.MANAGE_APPS,type:"normal",label:ut.t("Manage Apps"),order:1}),tt&&Lt.push({id:lt.c.MANAGE_SLACK_CONNECT_INVITATIONS,type:"normal",label:ut.t("Manage Slack Connect Invitations"),order:2}),Ue){const la=Object(Xn.g)(r),Ta=Object(nn.s)(r,la),ao=Object(Xt.h)(Ta);Lt.push({id:lt.c.CUSTOMIZE_WORKSPACE,type:"normal",label:ut.t("Customize {teamDisplayName}",{teamDisplayName:Object(ke.b)(Io(ao))}),order:10})}if(ge&&Lt.push({id:lt.c.WORKSPACE_SETTINGS,type:"normal",label:ut.t("Workspace Settings"),order:20}),ye&&Lt.push({id:lt.c.ORG_SETTINGS,type:"normal",label:ut.t("Organization Settings"),order:21}),l&&Lt.push({id:lt.c.ANALYTICS,type:"normal",label:ut.t("Analytics"),order:30}),i&&Lt.push({id:lt.c.BILLING,type:"normal",label:ut.t("Billing"),order:31}),be&&Lt.push({id:lt.c.MANAGE_WORKFLOWS,type:"normal",label:ut.t("Manage Workflows"),order:1}),Pn)return[{type:"submenu",label:Io(ut.t("Settings & Administration")),submenu:Lt,order:a?11:22}];const Vn=[];return Ue&&Vn.push({id:lt.c.CUSTOMIZE_WORKSPACE,type:"normal",label:ut.t("Customize Workspace"),order:a?12:22}),l&&Vn.push({id:lt.c.ANALYTICS,type:"normal",label:ut.t("Analytics"),order:a?13:23}),Vn}c(Ko,"getAdministrationMenuItems");function dr(r,n,a,o){const i=Object.keys(r);if(i.length>0){const l=i.slice(0,9).reduce((m,h)=>{const{name:p,order:E}=r[h];return m.push({id:`${lt.e}-${h}`,type:"normal",label:Io(Object(Xc.a)(p,{length:25})),accelerator:`CmdOrCtrl+${E+1}`,order:E}),m},[]);if(l.push({id:lt.c.SIGN_IN_TO_WORKSPACE,type:"normal",label:ut.t("Sign in to Another Workspace\u2026"),order:20},{id:lt.c.CREATE_NEW_WORKSPACE,type:"normal",label:ut.t("Create New Workspace"),order:30}),i.length>1){const m=Object(ot.c)("{",{kb:o},a),h=Object(ot.c)("}",{kb:o},a);l.push({id:lt.c.SELECT_NEXT_WORKSPACE,type:"normal",label:ut.t("Select Next Workspace"),accelerator:Object(Ye.p)()?`Command+${h}`:"Control+Tab",order:10},{id:lt.c.SELECT_PREVIOUS_WORKSPACE,type:"normal",label:ut.t("Select Previous Workspace"),accelerator:Object(Ye.p)()?`Command+${m}`:"Control+Shift+Tab",order:11})}return[{id:lt.c.WORKSPACE,type:"submenu",label:ut.t("Workspace"),order:n?20:10,submenu:l}]}return[{id:lt.c.SIGN_IN_TO_WORKSPACE,type:"normal",label:ut.t("Sign in to Another Workspace\u2026"),order:n?20:10},{id:lt.c.CREATE_NEW_WORKSPACE,type:"normal",label:ut.t("Create New Workspace"),order:n?21:11}]}c(dr,"getWorkspacesSubmenu");function bs(r,n){const a=Object.keys(r);if(a.length<1)return{};const o=a.reduce((i,l)=>{const{name:m,order:h}=r[l];return i.push({id:`${lt.f}-${l}`,type:"normal",label:Io(Object(Xc.a)(m,{length:25})),order:h}),i},[]);return{id:lt.c.SIGN_OUT,type:"submenu",label:n?ut.t("Sign Out"):"",order:50,submenu:o}}c(bs,"getSignoutSubmenu");function Er(r,n){if(r==="help")return ut.t("Help");if(r==="shortcuts")return ut.t("Keyboard shortcuts");if(r==="whats_new")return ut.t("What\u2019s new");if(r==="Vall_threads")return ut.t("Threads");if(Object(qe.a)(r))return Object(aa.t)(n,Object(Mt.d)(n,r),{imIncludeAtSign:!1});if(Object(va.a)(r)){const i=Object(yt.c)(n,r);if(i)return Object(_n.G)(i)}const a=Object(ko.b)(r);if(Object(Ba.a)(a==null?void 0:a.label)){var o;return(o=a.label(n))===null||o===void 0?void 0:o.replace("&","&&&")}}c(Er,"labelForView");function Is(r,n,a){let{teamId:o,primaryView:i,secondaryView:l}=n;if(l==="help")return!0;if(!i||o!==a)return!1;if(i==="Vall_threads"||Object(_a.j)(i))return!0;if(Object(qe.a)(i)){const m=Object(Mt.d)(r,i);return!!m&&!Object(wn.q)(m)&&!Object(wn.j)(m)}return Object(va.a)(i)?!!Object(yt.c)(r,i):!1}c(Is,"shouldIncludeHistoryItem");const Fr=c(r=>{const{allWorkspaces:n,workspacesMeta:a,focusedWorkspace:o,history:i,isEnabled:l,locale:m,keyboardLocale:h,localizedFeatures:p,isSidebarVisible:E,canToggleSidebar:j,isSidebarForceCollapsed:I,experimentHideTeamSidebarGroupOn:G,isTeamSidebarVisible:Y,experimentSavedForLaterGroupOn:se}=r,be=Object(s.useMemo)(()=>n.reduce((ge,ye,Ue)=>({...ge,[ye]:{...a[ye],order:Ue}}),{}),[n,a]),Ee=Object(s.useMemo)(()=>io(be,l,E,I,Y,j,G,p,h,se),[be,m,h,E,j,Y,G]),_e=Object(s.useMemo)(()=>{const ge=Object(v.getStoreInstanceByTeamId)(o);return _s(ge,i,be,l)},[o,i,be,l,m]);return l?t.a.createElement(ml.a,{globalMenus:Ee,workspaceMenus:_e}):null},"Menu");Fr.displayName="Menu";const ur=c((r,n)=>{let{isSidebarForceCollapsed:a}=n;const o=Object(C.getFocusedWorkspace)(r),i=Object(v.getStateByTeamId)(o),l=Object(V.b)(r),h=Object(V.c)(r),E=a?h:l,j=Object(V.a)(i);return{allWorkspaces:Object(C.getAllWorkspaces)(r),focusedWorkspace:Object(C.getFocusedWorkspace)(r),history:Object(Ae.a)(r),isEnabled:Object(ml.b)(),locale:Object(kn.a)(),workspacesMeta:Object(C.getWorkspacesMeta)(r),isSidebarVisible:E,canToggleSidebar:j,isTeamSidebarVisible:Object(Se.e)(r),experimentHideTeamSidebarGroupOn:Object(ru.a)(r),experimentSavedForLaterGroupOn:Object(no.d)(r)}},"app_menu_mapStateToProps");var ni=Object(nm.a)(Object(Id.a)(Object(Be.a)(ur)(Fr),r=>Object(C.getFocusedWorkspace)(r)),r=>Object(C.getFocusedWorkspace)(r)),Vi=e("g8rC"),nc=e("+vFE"),Ti=e("iJ8e"),ya=e("SvML"),To=e("gVOt"),$a=e("Enx8"),Ua=e("C3vN"),Ar=e("zCzZ"),Js=e("LvvF"),$n=e("ISSR"),xr=e("mq/9");const Cn=new he.b("desktop-app-menu");function ac(r){return r.replace("&","&&&")}c(ac,"multi_view_app_menu_escapeAmpersands");const oc=c((r,n)=>r?`Ctrl+${n}`:`Ctrl+Shift+${n}`,"getTabAccelerator");function Nd(r,n,a,o,i,l){const m=Object(Ye.p)(),h=Object(ot.c)(",",{kb:l},i),p={id:lt.c.PREFERENCES,type:"normal",label:Cn.t("Preferences\u2026"),accelerator:`CmdOrCtrl+${h}`,order:m?10:20},E=[{id:lt.c.SWITCH_TO_CHANNEL,type:"normal",label:Cn.t("Switch to Channel"),order:0,accelerator:"CmdOrCtrl+K"},{id:lt.c.ALL_UNREADS,type:"normal",label:Cn.t("All Unreads"),order:30,accelerator:"CmdOrCtrl+Shift+A"},{id:lt.c.THREADS,type:"normal",label:Cn.t("Threads"),order:31,accelerator:"CmdOrCtrl+Shift+T"},{id:lt.c.DRAFTS,type:"normal",label:Cn.t("Drafts &&& sent"),order:32},{id:lt.c.WORKFLOW_BUILDER,type:"normal",label:Cn.t("Workflow Builder"),order:40}],j=[{id:lt.c.SEARCH,type:"normal",label:Cn.t("Search"),order:20,accelerator:"CmdOrCtrl+G"}],I=[{id:lt.c.TOGGLE_WORKSPACE_SIDEBAR,type:"normal",label:a?Cn.t("Hide Workspaces"):Cn.t("Show Workspaces"),order:10,accelerator:"CmdOrCtrl+Shift+S"},{id:n?lt.c.TOGGLE_FLOATING_SIDEBAR:lt.c.TOGGLE_SIDEBAR,type:"normal",label:r?Cn.t("Hide Sidebar"):Cn.t("Show Sidebar"),order:11,accelerator:"CmdOrCtrl+Shift+D",enabled:o}];return m?{[fe.a.SLACK]:[p],[fe.a.FILE]:[],[fe.a.EDIT]:j,[fe.a.VIEW]:I,[fe.a.JUMP_TO]:E}:{[fe.a.FILE]:[p],[fe.a.VIEW]:I,[fe.a.JUMP_TO]:E}}c(Nd,"multi_view_app_menu_getStaticMenuItems");const sc=c((r,n,a,o,i,l,m,h)=>{var p,E;const j=(n==null||(p=n.primary)===null||p===void 0?void 0:p.viewType)===D.c.Channel,I=j?Object(Mt.d)(r,n==null||(E=n.primary)===null||E===void 0?void 0:E.id):void 0,G=Object(wn.g)(I),Y=Object(wn.i)(I),se=G||Y;let be=h?Cn.t("Start Huddle"):"Start Huddle";o&&!i?be=h?Cn.t("Join Huddle"):"Join Huddle":i&&(be=h?Cn.t("Leave Huddle"):"Leave Huddle");const Ee=Object(aa.db)(I)&&!Object(aa.pb)(I)&&!(Object(wn.k)(I)&&Object($n.a)(I));let _e=h?Cn.t("Mute Conversation"):"Mute Conversation";se&&m?_e=h?Cn.t("Unmute Conversation"):"Unmute Conversation":!se&&!m?_e=h?Cn.t("Mute Channel"):"Mute Channel":!se&&m&&(_e=h?Cn.t("Unmute Channel"):"Unmute Channel");const ge=G?Object(To.a)(I):void 0,ye=!!ge&&Object(Ua.ab)(Object(cr.g)(r,ge))&&!Object(Ar.g)(r,"hide_person_opt_out"),Ue=ye&&Object(Js.b)(r,ge),Re=ye&&ge?Object($a.a)(r,ge,!1,!1,!1,!1):void 0,tt=h?Cn.t("Hide {imMemberName}",{imMemberName:Re}):`Hide ${Re}`,Ge=h?Cn.t("Unhide {imMemberName}",{imMemberName:Re}):`Unhide ${Re}`,Tt=I?l.filter(Vn=>Vn.type===Ti.m||Vn.type===Ti.n&&!Object(nc.b)(Vn)).map(Vn=>({id:`${lt.b}-${I.id}-${Vn.id}`,type:"normal",label:Object(ya.b)(r,Vn)})):[],yn=h?Cn.t("Move Channel"):"Move Channel",xn=h?Cn.t("Move Conversation"):"Move Conversation",Pn=h?Cn.t("Leave Channel"):"Leave Channel",Lt=h?Cn.t("Close Conversation"):"Close Conversation";return[{id:lt.c.HUDDLE_ACTION,type:"normal",label:be,enabled:a,accelerator:"CmdOrCtrl+Shift+H",order:0},{id:lt.c.OPEN_WINDOW,type:"normal",label:h?Cn.t("Open in New Window"):"Open in New Window",enabled:j,order:10},{id:lt.c.CHANNEL_DETAILS,type:"normal",label:h?Cn.t("View Channel Details"):"View Channel Details",enabled:j,accelerator:"CmdOrCtrl+Shift+I",order:20},{id:lt.c.COPY_CHANNEL_SUBMENU,type:"submenu",label:h?Cn.t("Copy"):"Copy",order:21,enabled:j,submenu:[{id:lt.c.COPY_CHANNEL_NAME,type:"normal",label:h?Cn.t("Copy Name"):"Copy Name",enabled:j,order:0},{id:lt.c.COPY_CHANNEL_LINK,type:"normal",label:h?Cn.t("Copy Link"):"Copy Link",enabled:j,order:1},{id:lt.c.COPY_HUDDLE_LINK,type:"normal",label:h?Cn.t("Copy Huddle Link"):"Copy Huddle Link",enabled:j,order:2}]},{id:lt.c.OPEN_CHANNEL_CANVAS,type:"normal",label:h?Cn.t("View Channel Canvas"):"View Channel Canvas",enabled:j,accelerator:Object(Ye.p)()?"Cmd+Option+.":"Ctrl+Alt+.",order:22},{id:lt.c.BOOKMARKS_SUBMENU,type:"submenu",label:h?Cn.t("Bookmarks"):"Bookmarks",submenu:[],enabled:j,visible:!1,order:23},{id:lt.c.MARK_ALL_AS_READ,type:"normal",label:h?Cn.t("Mark All as Read"):"Mark All as Read",enabled:j,accelerator:"Esc",order:30},{id:lt.c.MOVE_CHANNEL_SUBMENU,type:"submenu",label:se?xn:yn,submenu:Tt,enabled:j,order:40},{id:lt.c.MUTE_CHANNEL,type:"normal",label:_e,enabled:j&&Ee,order:41},{id:lt.c.HIDE_PERSON,type:"normal",label:Ue?Ge:tt,visible:ye,order:42},{id:lt.c.CHANGE_NOTIFICATIONS,type:"normal",label:h?Cn.t("Change Notifications"):"Change Notifications",visible:!G,enabled:j,order:43},{id:lt.c.LEAVE_CHANNEL,type:"normal",label:se?Lt:Pn,enabled:j,order:50}]},"getConversationItems"),vi=c(function(r,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:20;const o=Object(Ye.p)(),i=c(h=>Object(Bn.a)({tab:h}),"labeller"),l=n.map((h,p)=>({id:`${lt.d}-${h}`,type:"normal",label:i(h),order:p}));return r.map((h,p)=>h===f.f.Browse?{id:lt.c.TAB_RAIL_MORE_SUBMENU,type:"submenu",label:i(h),order:a+p,submenu:l}:{id:`${lt.d}-${h}`,type:"normal",label:i(h),order:a+p,accelerator:oc(o,p+1)})},"getGoTabRailItems");function Ym(r,n,a,o,i,l,m,h,p,E,j,I,G,Y){var se,be;const Ee=r.getState(),_e=Object(Xn.g)(Ee),ge=Object(Ye.p)(),ye=me(Ee),Ue=[],Re=[],tt=[],Ge=(a==null||(se=a.primary)===null||se===void 0?void 0:se.viewType)===D.c.Channel,Tt=!!(a!=null&&a.secondary),yn=Tt&&(a==null||(be=a.secondary)===null||be===void 0?void 0:be.viewType)===D.c.Thread,xn=Object(xr.a)(Ee,a==null?void 0:a.secondary),Pn=xn?Cn.t("Close {viewName}",{viewName:xn,fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a",fallbackHashNs:"workflow_builder"}):void 0;return Ue.push({id:lt.c.FIND,type:"normal",label:j?Cn.t("Find\u2026"):"",order:20,enabled:Ge,accelerator:"CmdOrCtrl+F"}),Ue.push({id:lt.c.RECORD_VIDEO_CLIP,type:"normal",label:I?Cn.t("Record video clip\u2026"):"",enabled:Ge||yn,order:30}),Ue.push({id:lt.c.RECORD_AUDIO_CLIP,type:"normal",label:I?Cn.t("Record audio clip\u2026"):"",enabled:Ge||yn,order:31}),Tt&&Pn&&Re.push({id:lt.c.CLOSE_SECONDARY_VIEW,type:"normal",label:I?Pn:"",order:12,accelerator:"CmdOrCtrl+."}),tt.push({id:lt.c.CONTACT_US,type:"normal",label:Cn.t("Contact Us"),order:50},{id:lt.c.FEEDBACK,type:"normal",label:Cn.t("Give Feedback"),order:51}),{[_e]:{...ge?{[fe.a.SLACK]:yp(Ee,ye,n,j)}:{},[fe.a.FILE]:jp(Ee,ye,ge,n,j,I,G,Y),[fe.a.EDIT]:Ue,[fe.a.VIEW]:Re,[fe.a.JUMP_TO]:vi(p,E),[fe.a.CONVERSATION]:sc(Ee,a,o,i,l,m,h,I),[fe.a.HELP]:tt}}}c(Ym,"multi_view_app_menu_getWorkspaceMenuItems");function yp(r,n,a,o){const i=[];n.purchaserPref&&i.push({id:lt.c.CHANGE_SLACK_PLAN,type:"normal",label:Cn.t("Change Slack Plan"),order:2});const l=Qm(a,o);return i.push(l),i.push(...Jm(r,n)),i}c(yp,"multi_view_app_menu_getSlackMenuItems");function jp(r,n,a,o,i,l,m,h){const p=[],E=Object(bt.c)(r),j=Object(Tn.O)(r);if(p.push({id:lt.c.NEW_MESSAGE,type:"normal",label:Cn.t("New Message"),accelerator:"CmdOrCtrl+N",order:0}),E&&p.push({id:lt.c.NEW_CHANNEL,type:"normal",label:Cn.t("New Channel"),order:1}),Object(Jt.a)(r)&&!Object(Xt.H)(Object(nn.s)(r,Object(Xn.g)(r)))&&p.push({id:lt.c.NEW_CANVAS,type:"normal",label:Cn.t("New Canvas"),accelerator:"CmdOrCtrl+Shift+N",order:2}),j&&p.push({id:lt.c.NEW_HUDDLE,type:"normal",label:l?Cn.t("New Huddle"):"New Huddle",order:3}),a&&p.push({id:lt.c.SEARCH,type:"normal",label:i?Cn.t("Search"):"",order:10,accelerator:"CmdOrCtrl+G"}),p.push(...Xm(o,a,n,m,h)),Object(He.e)(r)&&p.push({id:lt.c.INVITE_PEOPLE,type:"normal",label:Cn.t("Invite People"),order:a?21:11}),p.push({id:lt.c.PROFILE,type:"normal",label:l?Cn.t("User Profile\u2026"):"User Profile\u2026",order:a?30:22}),p.push({id:lt.c.SET_STATUS,type:"normal",label:l?Cn.t("Set a Status\u2026"):"Set a Status\u2026",accelerator:"CmdOrCtrl+Shift+Y",order:a?31:23}),p.push({id:lt.c.DOWNLOADS,type:"normal",label:l?Cn.t("Downloads\u2026"):"Downloads\u2026",accelerator:"CmdOrCtrl+Shift+J",order:40}),!a){n.purchaserPref&&p.push({id:lt.c.CHANGE_SLACK_PLAN,type:"normal",label:Cn.t("Change Slack Plan"),order:21}),p.push(...Jm(r,n));const I=Qm(o,i);p.push(I)}return p}c(jp,"multi_view_app_menu_getFileMenuItems");function Jm(r,n){const a=Object(Ye.p)(),{customizeOnlyAdmins:o,shouldShowBilling:i,showAnalytics:l,teamIsEnterprise:m,userCanManageSlackConnect:h,userIsAdmin:p,userIsAppmin:E,userCanOpenOrgDashboard:j,userCanManageMembers:I,userCanManageRoles:G,userIsOwner:Y,userIsRestricted:se,showManageWorkflows:be}=n,Ee=!o,ge=p||Y,ye=m&&j,Ue=!se&&(p||Ee),Re=ge||ye,tt=h,Ge=E,Tt=I,yn=G,Pn=Re||(tt||Ge||i||Tt||yn||be),Lt=[];if(Tt&&Lt.push({id:lt.c.MANAGE_MEMBERS,type:"normal",label:Cn.t("Manage Members"),order:0}),yn&&Lt.push({id:lt.c.MANAGE_ROLES,type:"normal",label:Cn.t("Manage Roles"),order:1}),Ge&&Lt.push({id:lt.c.MANAGE_APPS,type:"normal",label:Cn.t("Manage Apps"),order:1}),tt&&Lt.push({id:lt.c.MANAGE_SLACK_CONNECT_INVITATIONS,type:"normal",label:Cn.t("Manage Slack Connect Invitations"),order:2}),Ue){const la=Object(Xn.g)(r),Ta=Object(nn.s)(r,la),ao=Object(Xt.h)(Ta);Lt.push({id:lt.c.CUSTOMIZE_WORKSPACE,type:"normal",label:Cn.t("Customize {teamDisplayName}",{teamDisplayName:Object(ke.b)(ac(ao))}),order:10})}if(ge&&Lt.push({id:lt.c.WORKSPACE_SETTINGS,type:"normal",label:Cn.t("Workspace Settings"),order:20}),ye&&Lt.push({id:lt.c.ORG_SETTINGS,type:"normal",label:Cn.t("Organization Settings"),order:21}),l&&Lt.push({id:lt.c.ANALYTICS,type:"normal",label:Cn.t("Analytics"),order:30}),i&&Lt.push({id:lt.c.BILLING,type:"normal",label:Cn.t("Billing"),order:31}),be&&Lt.push({id:lt.c.MANAGE_WORKFLOWS,type:"normal",label:Cn.t("Manage Workflows"),order:1}),Pn)return[{type:"submenu",label:ac(Cn.t("Settings & Administration")),submenu:Lt,order:a?11:22}];const Vn=[];return l&&Vn.push({id:lt.c.ANALYTICS,type:"normal",label:Cn.t("Analytics"),order:a?12:23}),Vn}c(Jm,"multi_view_app_menu_getAdministrationMenuItems");function Xm(r,n,a,o,i){const{customizeOnlyAdmins:l,userIsAdmin:m,userIsRestricted:h}=a,E=!h&&(m||!l),j=Object.keys(r);if(j.length>0){const I=j.slice(0,9).reduce((G,Y)=>{const{name:se,order:be}=r[Y];return G.push({id:`${lt.e}-${Y}`,type:"normal",label:ac(Object(Xc.a)(se,{length:25})),accelerator:`CmdOrCtrl+${be+1}`,order:be}),G},[]);if(E&&I.push({id:lt.c.CUSTOMIZE_WORKSPACE,type:"normal",label:Cn.t("Customize Workspace"),order:20}),I.push({id:lt.c.SIGN_IN_TO_WORKSPACE,type:"normal",label:Cn.t("Sign in to Another Workspace\u2026"),order:30},{id:lt.c.CREATE_NEW_WORKSPACE,type:"normal",label:Cn.t("Create New Workspace"),order:40}),j.length>1){const G=Object(ot.c)("{",{kb:i},o),Y=Object(ot.c)("}",{kb:i},o);I.push({id:lt.c.SELECT_NEXT_WORKSPACE,type:"normal",label:Cn.t("Select Next Workspace"),accelerator:Object(Ye.p)()?`Command+${Y}`:"Control+Tab",order:10},{id:lt.c.SELECT_PREVIOUS_WORKSPACE,type:"normal",label:Cn.t("Select Previous Workspace"),accelerator:Object(Ye.p)()?`Command+${G}`:"Control+Shift+Tab",order:11})}return[{id:lt.c.WORKSPACE,type:"submenu",label:Cn.t("Workspace"),order:n?20:10,submenu:I}]}return[{id:lt.c.SIGN_IN_TO_WORKSPACE,type:"normal",label:Cn.t("Sign in to Another Workspace\u2026"),order:n?20:10},{id:lt.c.CREATE_NEW_WORKSPACE,type:"normal",label:Cn.t("Create New Workspace"),order:n?21:11}]}c(Xm,"multi_view_app_menu_getWorkspacesSubmenu");function Qm(r,n){const a=Object.keys(r);if(a.length<1)return{};const o=a.reduce((i,l)=>{const{name:m,order:h}=r[l];return i.push({id:`${lt.f}-${l}`,type:"normal",label:ac(Object(Xc.a)(m,{length:25})),order:h}),i},[]);return{id:lt.c.SIGN_OUT,type:"submenu",label:n?Cn.t("Sign Out"):"",order:50,submenu:o}}c(Qm,"multi_view_app_menu_getSignoutSubmenu");const Zm=c(r=>{const{allWorkspaces:n,workspacesMeta:a,focusedWindowId:o,focusedWorkspace:i,currentViewSet:l,viewSupportsHuddle:m,viewHasActiveHuddle:h,userInActiveHuddle:p,channelSections:E,isMutedChannel:j,isEnabled:I,locale:G,keyboardLocale:Y,localizedFeatures:se,isSidebarVisible:be,isSidebarForceCollapsed:Ee,isWorkspaceSidebarVisible:_e,canToggleSidebar:ge,tabsToShow:ye,overflowTabs:Ue,experimentRevisedMenuIa4GroupOn:Re}=r,tt=Object(s.useMemo)(()=>n.reduce((yn,xn,Pn)=>({...yn,[xn]:{...a[xn],order:Pn}}),{}),[n,a]),Ge=Object(s.useMemo)(()=>Nd(be,Ee,_e,ge,se,Y),[tt,G,Y,be,_e,ge]),Tt=Object(s.useMemo)(()=>{const yn=Object(v.getStoreInstanceByTeamId)(i);return Ym(yn,tt,l,m,h,p,E,j,ye,Ue,I,Re,se,Y)},[l,m,h,p,E,j,o,i,tt,ye,Ue,I,G,se,Y]);return I?t.a.createElement(ml.a,{globalMenus:Ge,workspaceMenus:Tt}):null},"MultiViewAppMenu");Zm.displayName="MultiViewAppMenu";const Sp=c((r,n)=>{let{isSidebarForceCollapsed:a}=n;var o;const i=(o=Object(Fn.d)(r))!==null&&o!==void 0?o:f.e,l=Object(C.getFocusedWorkspace)(r),m=Object(v.getStateByTeamId)(l),h=Object(V.b)(r),p=Object(V.c)(r),E=Object(V.a)(m),G=a?p:h;var Y;return{allWorkspaces:Object(C.getAllWorkspaces)(r),focusedWorkspace:l,focusedWindowId:i,isEnabled:Object(ml.b)(),locale:Object(kn.a)(),workspacesMeta:Object(C.getWorkspacesMeta)(r),isSidebarVisible:G??!1,isWorkspaceSidebarVisible:(Y=Object(V.d)(r)&&Wt())!==null&&Y!==void 0?Y:!1,canToggleSidebar:E,experimentHideTeamSidebarGroupOn:Object(ru.a)(r),experimentSavedForLaterGroupOn:Object(no.d)(r),experimentRevisedMenuIa4GroupOn:Object(Vi.a)(r,"revised_menu_ia4","on")}},"multi_view_app_menu_mapStateToProps");var Ip=Object(nm.a)(Object(Id.a)(Object(Be.a)(Sp)(Zm),r=>Object(C.getFocusedWorkspace)(r)),r=>Object(C.getFocusedWorkspace)(r)),iu=e("MDWk"),Ai=e("/qcS"),$m=e("r31G"),hl=e("IiTT"),qm=e("9C2q"),eh=e("BfA7"),zl=e("1jr5"),pl=e("m40f"),Kr=e("WIr4"),Yl=e("nzWX"),bl=e("qN/r"),ae=e("/Q7G"),b=e("RR6E"),N=e("BTOl");function A(){return A=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},A.apply(this,arguments)}c(A,"banner_enable_notifications_extends");const oe=new he.b("notifications"),re=new he.b("setup_page"),ce=3,je=3650,Ce=Oe.UiStep.NOTIFICATOIN_BANNER_FIRST_PROMPT,Ke=Oe.UiStep.NOTIFICATOIN_BANNER_SECOND_PROMPT,rt=Oe.UiStep.NOTIFICATION_BANNER_FIRST_PROMPT_IA4,gt=Oe.UiStep.NOTIFICATION_BANNER_SECOND_PROMPT_IA4,Rn=Oe.UiStep.NOTIFICATION_BANNER_SUCCESS,co=Oe.UiStep.NOTIFICATION_BANNER_OPEN_PREFERENCES;let ca=c(class extends s.Component{componentDidMount(){const{notificationPermission:n,shouldHideBanner:a,clogger:o,enableIABanner:i,experimentDesktopIa4NewTeamsV3GroupTreatment:l}=this.props;Object(iu.a)(n,a)&&o.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.IMPRESSION,step:l?rt:Ce}},is_iap1:i})}componentDidUpdate(n,a){const{clogger:o,experimentDesktopIa4NewTeamsV3GroupTreatment:i,notificationPermission:l,shouldHideBanner:m,enableIABanner:h}=this.props,{showConfirmationBanner:p}=a,{showConfirmationBanner:E}=this.state;if(this.focusEnableButton&&!p&&E){var j;(j=this.enableNotificationsButton.current)===null||j===void 0||j.focus(),this.focusEnableButton=!1}!Object(iu.a)(n.notificationPermission,n.shouldHideBanner)&&Object(iu.a)(l,m)&&o.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.IMPRESSION,step:i?rt:Ce}},is_iap1:h}),!p&&E&&o.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.IMPRESSION,step:i?gt:Ke}},is_iap1:this.props.enableIABanner})}hasEnabledNotifications(){const{enableNotificationsClicked:n,isNotificationsEnabledPref:a,experimentDesktopIa4NewTeamsV3GroupTreatment:o}=this.props;return o&&n&&a}onClickDeferNotificationsBanner(){const{experimentDesktopIa4NewTeamsV3GroupTreatment:n}=this.props;Object(Yl.d)("defer_growl_banner","1",ce),this.props.clogger.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:n?gt:Ke,ui_properties:{element_name:"defer",element_type:"link"}}},is_iap1:this.props.enableIABanner}),this.setState(()=>({showConfirmationBanner:!1}))}onClickEnableNotificationsBanner(){const{experimentDesktopIa4NewTeamsV3GroupTreatment:n,onClickNotificationsEnabled:a}=this.props,{showConfirmationBanner:o}=this.state;let i;n?i=o?gt:rt:i=o?Ke:Ce,this.props.promptForPermissionAndSetPref().then(()=>{this.props.clogger.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:i,ui_properties:{element_type:"link",element_name:"enable"}}},is_iap1:this.props.enableIABanner}),this.setState(()=>({showConfirmationBanner:!1})),n&&a()})}onClickOpenPreferences(){this.props.clogger.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:co,ui_properties:{element_type:"link"}}},is_iap1:this.props.enableIABanner}),this.props.openPreferences()}onClickNeverNotificationsBanner(){const{experimentDesktopIa4NewTeamsV3GroupTreatment:n}=this.props;Object(Yl.d)("no_growl_banner","1",je),this.props.clogger.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:n?gt:Ke,ui_properties:{element_name:"never",element_type:"link"}}},is_iap1:this.props.enableIABanner}),this.setState(()=>({showConfirmationBanner:!1}))}onCloseEnableNotificationsBanner(){const{experimentDesktopIa4NewTeamsV3GroupTreatment:n}=this.props;this.props.hasKeyboardFocusWithin&&(this.focusEnableButton=!0);const a=this.hasEnabledNotifications();let o;a?o=Rn:o=n?rt:Ce,this.props.clogger.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:o,ui_properties:{element_name:"dismiss",element_type:"button"}}},is_iap1:this.props.enableIABanner}),a||this.setState(()=>({showConfirmationBanner:!0}))}renderBannerContents(){const{hasOnboardingUI:n,experimentDesktopIa4NewTeamsV3GroupTreatment:a,isNotificationsEnabledPref:o,enableNotificationsClicked:i}=this.props,l=c(m=>t.a.createElement(pl.a,{onClick:this.onClickEnableNotificationsBanner},m),"enableNotificationsLink");if(a){const m=c(p=>t.a.createElement(pl.a,{onClick:this.onClickOpenPreferences},p),"openPreferencesLink"),h=i&&o;return t.a.createElement("div",{className:"display_flex justify_content_center align_items_center"},h?t.a.createElement(t.a.Fragment,null,t.a.createElement(Ai.b,{text:":white_check_mark:",emojiSize:Ai.a.SMALL,isEmojiInlineWithText:!0}),t.a.createElement("span",{className:"margin_left_50"},re.rt("You\u2019re in the loop. <a>See more preferences</a>",{},p=>{let{tag:E,text:j}=p;return E!=="a"?null:m(j)}))):t.a.createElement(t.a.Fragment,null,t.a.createElement(Ai.b,{text:":bell:",emojiSize:Ai.a.SMALL,isEmojiInlineWithText:!0}),t.a.createElement("span",{className:"margin_left_50"},re.rt("Slack needs your permission to enable notifications. <a>Enable notifications</a>",{},p=>{let{tag:E,text:j}=p;return E!=="a"?null:l(j)}))))}return n?t.a.createElement(t.a.Fragment,null,t.a.createElement(pn.a,{type:"bell-o",className:"margin_right_75"}),re.rt("Slack needs your permission to enable notifications. <a>Enable notifications</a>",{},m=>{let{tag:h,text:p}=m;return h!=="a"?null:l(p)})):oe.rt("Slack needs your permission to {enableNotificationsLink}.",{enableNotificationsLink:l(oe.t("enable desktop notifications"))})}renderConfirmationBannerContents(){const{hasOnboardingUI:n,experimentDesktopIa4NewTeamsV3GroupTreatment:a}=this.props,o=c(m=>t.a.createElement(pl.a,{ref:this.enableNotificationsButton,onClick:this.onClickEnableNotificationsBanner},m),"enableNotificationsLink"),i=c(m=>t.a.createElement(pl.a,{onClick:this.onClickDeferNotificationsBanner},m),"askLaterLink"),l=c(m=>t.a.createElement(pl.a,{onClick:this.onClickNeverNotificationsBanner},m),"neverAskAgainLink");return a?t.a.createElement("div",{className:"display_flex justify_content_center align_items_center"},t.a.createElement(Ai.b,{text:":bell:",emojiSize:Ai.a.SMALL,isEmojiInlineWithText:!0}),t.a.createElement("span",{className:"margin_left_50"},re.rt("Are you sure? Without notifications, it\u2019s much harder for your team to reach you. <a>Enable notifications</a>\xA0<c>I\u2019ll do it later</c>",{},m=>{let{tag:h,text:p}=m;switch(h){case"a":return o(p);case"c":return t.a.createElement("div",{className:"padding_left_25 padding_right_25 inline_block"},i(p));default:return null}}))):n?t.a.createElement("div",{className:"p-workspace_banner__desktop_banner_contents"},t.a.createElement(pn.a,{type:"bell-o",className:"margin_right_75"}),t.a.createElement("div",{className:"p-workspace_banner__desktop_banner_main_text padding_right_25"},re.rt("Are you sure? Without notifications, it\u2019s much harder for your team to reach you. <a>Enable notifications</a>\xA0<c>I\u2019ll do it later</c>",{},m=>{let{tag:h,text:p}=m;switch(h){case"a":return o(p);case"c":return t.a.createElement("div",{className:"padding_left_25 padding_right_25"},i(p));default:return null}})),t.a.createElement("div",{className:"p-workspace_banner__desktop_banner_dont_ask_again"},l(re.t("Don\u2019t ask again on this device")))):t.a.createElement(t.a.Fragment,null,oe.t("We strongly recommend enabling desktop notifications if you'll be using Slack on this computer."),t.a.createElement("br",null),o(oe.t("Enable notifications"))," \u2022 ",i(oe.t("Ask me later"))," \u2022 ",l(oe.t("Never ask again on this computer")))}render(){const{onFocus:n,onBlur:a,enableSectionNavigation:o,notificationPermission:i,shouldHideBanner:l,experimentDesktopIa4NewTeamsV3GroupTreatment:m,enableNotificationsClicked:h}=this.props,{showConfirmationBanner:p}=this.state,E=this.confirmationBanner,j=this.enableNotificationsBanner,I=this.hasEnabledNotifications()||Object(iu.a)(i,l);return t.a.createElement(t.a.Fragment,null,p?t.a.createElement(E,A({enableSectionNavigation:o,className:Object(g.default)("p-workspace_banner__desktop-notifications",{"p-workspace_banner__desktop-notifications--ia4":m}),onFocus:n,onBlur:a,showCloseButton:m,isFixedPosition:!1},m&&{onClose:this.onClickNeverNotificationsBanner}),this.renderConfirmationBannerContents()):I&&t.a.createElement(j,{enableSectionNavigation:o,type:"info",className:Object(g.default)("p-workspace_banner__desktop-notifications",{"p-workspace_banner__desktop-notifications--ia4":m}),showCloseButton:!0,onClose:this.onCloseEnableNotificationsBanner,isFixedPosition:!1,onFocus:n,onBlur:a,closeOnDismiss:h},this.renderBannerContents()))}constructor(n){super(n),Object(Kr.a)(this,["onClickEnableNotificationsBanner","onCloseEnableNotificationsBanner","onClickDeferNotificationsBanner","onClickNeverNotificationsBanner","onClickOpenPreferences"]),this.state={showConfirmationBanner:!1},this.focusEnableButton=!1,this.enableNotificationsButton=t.a.createRef(),this.enableNotificationsBanner=n.enableIABanner?hl.a:zl.c,this.confirmationBanner=n.enableIABanner?hl.a:zl.c}},"BannerEnableNotifications");ca.displayName="BannerEnableNotifications",ca.defaultProps={notificationPermission:"default",shouldHideBanner:!1,enableIABanner:!1,hasKeyboardFocusWithin:!1,onFocus:tn.a,onBlur:tn.a,hasOnboardingUI:!1,enableSectionNavigation:!1};const La=c((r,n)=>{let{getSiblingView:a}=n;const o=Object(b.c)(r)||Object(N.a)(r);return{notificationPermission:Object(ae.a)(r),shouldHideBanner:Object(Ze.X)(r,{getSiblingView:a}),clogger:Object(Rr.a)({state:r}),hasOnboardingUI:Object(Ze.ib)(r),isNotificationsEnabledPref:Object(bn.u)(r,"growls_enabled"),experimentDesktopIa4NewTeamsV3GroupTreatment:o}},"banner_enable_notifications_mapStateToProps"),Jo=c(r=>({promptForPermissionAndSetPref:()=>r(Object($m.b)()),openPreferences:()=>r(Object(bl.a)({activeSection:"notifications"}))}),"banner_enable_notifications_mapDispatchToProps");var Xo=Object(qm.a)(Object(eh.a)(Object(Be.a)(La,Jo)(ca))),Ns=e("Rzhv"),nr=e("LFu7");const _r=new he.b("files");let mr=c(class extends s.Component{componentDidMount(){this.clog(Oe.UiAction.IMPRESSION)}onCloseEnablePopupsBanner(){this.clog(Oe.UiAction.CLOSE),this.props.toggleBanner(!1)}clog(n){const{clogger:a,enableIABanner:o}=this.props;o&&a.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:n}},is_iap1:!0})}render(){const{isBannerShowing:n,enableSectionNavigation:a}=this.props,o=this.enablePopupsBanner;return n&&!Object(Ye.i)()&&t.a.createElement(t.a.Fragment,null,t.a.createElement(o,{enableSectionNavigation:a,type:"info",showCloseButton:!0,onClose:this.onCloseEnablePopupsBanner,isFixedPosition:!1},_r.rt("Please allow pop-ups in your browser. You can <a>contact Slack</a> if you need help.",{},i=>{let{text:l,key:m}=i;return t.a.createElement(Ra.a,{key:m,href:`http://my.${Object(Zr.n)()}/help/requests/new`},l)})))}constructor(n){super(n),Object(Kr.a)(this,["onCloseEnablePopupsBanner"]),this.enablePopupsBanner=n.enableIABanner?hl.a:zl.c}},"BannerEnablePopups");mr.displayName="BannerEnablePopups",mr.defaultProps={toggleBanner:tn.a,enableIABanner:!1,enableSectionNavigation:!1};const Cr=c(r=>({isBannerShowing:Object(nr.a)(r),clogger:Object(Rr.a)({state:r})}),"banner_enable_popups_mapStateToProps"),Gs=c(r=>({toggleBanner:function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r(Object(Ns.a)(...a))}}),"banner_enable_popups_mapDispatchToProps");var Vr=Object(Be.a)(Cr,Gs)(mr),ar=e("i6hy"),us=e("1Wxh"),Gr=e("AIwM");const Xs=new he.b("setup_page"),ai=3,gi=3650,Nr=Oe.UiStep.DOWNLOAD_APP_BANNER_FIRST_PROMPT,Oi=Oe.UiStep.DOWNLOAD_APP_BANNER_SECOND_PROMPT;let zr=c(class extends s.Component{componentDidMount(){const{shouldHideBanner:n,clogger:a,enableIABanner:o}=this.props;Object(us.a)(n)&&a.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.IMPRESSION,step:Nr,ui_component_variant:Oe.UiComponentVariant.STRAIGHT_TO_SSB_DOWNLOAD_SLACK_APP_TREATMENT}},is_iap1:o})}componentDidUpdate(n,a){const{showConfirmationBanner:o}=a,{showConfirmationBanner:i}=this.state;if(this.focusEnableButton&&!o&&i){var l;(l=this.deferDownloadButton.current)===null||l===void 0||l.focus(),this.focusEnableButton=!1}!Object(us.a)(n.shouldHideBanner)&&Object(us.a)(this.props.shouldHideBanner)&&this.props.clogger.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.IMPRESSION,step:Nr,ui_component_variant:Oe.UiComponentVariant.STRAIGHT_TO_SSB_DOWNLOAD_SLACK_APP_TREATMENT}},is_iap1:this.props.enableIABanner}),!o&&i&&this.props.clogger.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.IMPRESSION,step:Oi,ui_component_variant:Oe.UiComponentVariant.STRAIGHT_TO_SSB_DOWNLOAD_SLACK_APP_TREATMENT}},is_iap1:this.props.enableIABanner})}onClickDeferDownloadAppBanner(){const{clogger:n,enableIABanner:a}=this.props;Object(Yl.d)("defer_download_banner","1",ai),n.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:Oi,ui_component_variant:Oe.UiComponentVariant.STRAIGHT_TO_SSB_DOWNLOAD_SLACK_APP_TREATMENT,ui_properties:{element_name:"defer",element_type:"link"}}},is_iap1:a}),this.setState(()=>({showConfirmationBanner:!1}))}onClickDownloadOrOpenAppBanner(n){const{clogger:a,enableIABanner:o}=this.props;Object(Yl.d)("defer_download_banner","1",ai);const i=this.state.showConfirmationBanner?Oi:Nr;a.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:i,ui_component_variant:Oe.UiComponentVariant.STRAIGHT_TO_SSB_DOWNLOAD_SLACK_APP_TREATMENT,ui_properties:{element_type:"link",element_name:n}}},is_iap1:o}),this.setState(()=>({showConfirmationBanner:!1}))}onClickNeverDownloadAppBanner(){const{clogger:n,enableIABanner:a}=this.props;Object(Yl.d)("no_download_banner","1",gi),n.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:Oi,ui_component_variant:Oe.UiComponentVariant.STRAIGHT_TO_SSB_DOWNLOAD_SLACK_APP_TREATMENT,ui_properties:{element_name:"never",element_type:"link"}}},is_iap1:a}),this.setState(()=>({showConfirmationBanner:!1}))}onCloseDownloadAppBanner(){this.props.hasKeyboardFocusWithin&&(this.focusEnableButton=!0),this.props.clogger.track(Oe.EventId.BANNER_ACTION,{contexts:{ui_context:{action:Oe.UiAction.CLICK,step:Nr,ui_component_variant:Oe.UiComponentVariant.STRAIGHT_TO_SSB_DOWNLOAD_SLACK_APP_TREATMENT,ui_properties:{element_name:"dismiss",element_type:"button"}}},is_iap1:this.props.enableIABanner}),this.setState(()=>({showConfirmationBanner:!0}))}renderBannerContents(){const{teamId:n,teamUrl:a}=this.props;return t.a.createElement(t.a.Fragment,null,t.a.createElement(pn.a,{type:"laptop",className:"margin_right_75"}),t.a.createElement(Gr.a,{teamId:n,teamUrl:a,onClickDownloadOrOpenAppBanner:this.onClickDownloadOrOpenAppBanner,includeLinks:!0}))}renderConfirmationBannerContents(){const{teamId:n}=this.props;return t.a.createElement("div",{className:"p-workspace_banner__desktop_banner_contents"},t.a.createElement(pn.a,{type:"laptop",className:"margin_right_75"}),t.a.createElement("div",{className:"p-workspace_banner__desktop_banner_main_text padding_right_25"},Xs.rt("Would you like to be reminded again later? <a>Remind me later</a> or <c>download Slack now</c>",{},a=>{let{tag:o,text:i}=a;switch(o){case"a":return t.a.createElement(pl.a,{ref:this.deferDownloadButton,onClick:this.onClickDeferDownloadAppBanner},i);case"c":return t.a.createElement(Ra.a,{href:Object(ar.a)({teamId:n}),onClick:()=>this.onClickDownloadOrOpenAppBanner("download")},i);default:return null}})),t.a.createElement("div",{className:"p-workspace_banner__desktop_banner_dont_ask_again"},t.a.createElement(pl.a,{onClick:this.onClickNeverDownloadAppBanner},Xs.t("Don\u2019t ask again on this device"))))}render(){const{onFocus:n,onBlur:a,enableSectionNavigation:o}=this.props,{showConfirmationBanner:i}=this.state,l=this.confirmationBanner,m=this.downloadAppBanner;return t.a.createElement(t.a.Fragment,null,i?t.a.createElement(l,{enableSectionNavigation:o,className:"p-workspace_banner__desktop-download-app",onFocus:n,onBlur:a,showCloseButton:!1,isFixedPosition:!1},this.renderConfirmationBannerContents()):Object(us.a)(this.props.shouldHideBanner)&&t.a.createElement(m,{enableSectionNavigation:o,type:"info",className:"p-workspace_banner__desktop-download-app",showCloseButton:!0,onClose:this.onCloseDownloadAppBanner,isFixedPosition:!1,onFocus:n,onBlur:a},this.renderBannerContents()))}constructor(n){super(n),Object(Kr.a)(this,["onClickDownloadOrOpenAppBanner","onCloseDownloadAppBanner","onClickDeferDownloadAppBanner","onClickNeverDownloadAppBanner"]),this.state={showConfirmationBanner:!1},this.focusEnableButton=!1,this.deferDownloadButton=t.a.createRef(),this.downloadAppBanner=n.enableIABanner?hl.a:zl.c,this.confirmationBanner=n.enableIABanner?hl.a:zl.c}},"BannerDownloadApp");zr.displayName="BannerDownloadApp",zr.defaultProps={shouldHideBanner:!1,enableIABanner:!1,hasKeyboardFocusWithin:!1,onFocus:tn.a,onBlur:tn.a,enableSectionNavigation:!1};const Ei=c((r,n)=>{let{getSiblingView:a}=n;const o=Object(nn.g)(r);return{shouldHideBanner:Object(Ze.X)(r,{getSiblingView:a}),clogger:Object(Rr.a)({state:r}),teamId:Object(Xt.n)(o),teamUrl:Object(Xt.v)(o)}},"banner_download_app_mapStateToProps");var Lr=Object(qm.a)(Object(eh.a)(Object(Be.a)(Ei)(zr))),Cs=e("rq2v");const Mc=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"P1qF"))),oi=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"Lnmw"))),Dc=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"jZRf"))),Rc=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"i3jN"))),xc=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"wOK1"))),Ia=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"89zG"))),Ts=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"Geup"))),Qc=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"AaVa"))),kd=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"4Emp"))),om=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"01FL"))),sm=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"1X/k")));var cu={spaceName:Ne.g.CLIENT_FOOTER,notifications:{[Ne.h.DISCOUNT_SEAT_PROMO_ONE_WEEK_LEFT_BANNER]:{component:oi},[Ne.h.DUNNING_NOTICE]:{component:Ts},[Ne.h.MOBILE_AWARENESS_BANNER]:{component:Mc},[Ne.h.MOBILE_SOCIAL_PROOF_BANNER]:{component:Dc},[Ne.h.PRO_LOCKIN_CLIENT_BANNER]:{component:Rc},[Ne.h.RUSSIAN_LOCALE_USER_DEPRECATION_NOTICE]:{component:xc},[Ne.h.RUSSIAN_LOCALE_TEAM_DEPRECATION_NOTICE]:{component:xc},[Ne.h.SESSION_EXPIRY_WARNING_BANNER_15]:{component:Ia},[Ne.h.SESSION_EXPIRY_WARNING_BANNER_120]:{component:Ia},[Ne.h.CHECKOUT_RESCUE_BANNER]:{component:Qc},[Ne.h.JCB_PROMO_OFFER_BANNER]:{component:kd},[Ne.h.IA4_NFX_GRID_ADMINS_BANNER]:{component:om},[Ne.h.TWO_FACTOR_REQUIRE_ADMIN_BANNER]:{component:sm}}},lu=e("ctiz"),rm=e("OEBs"),pa=e("+CZ0"),fl=e("oBB2"),vl=e("KciV"),Pa=e("sOAz"),or=e("0dq7"),gl=e("Atq3"),th=e("t409"),im=e("lwuw"),nh=e("EqkZ"),wr=e("sgFo"),cm=e("9vpw"),du=e("CPBm");const As=new he.b("huddles_banner");function uu(r){let{alertType:n,team:a,huddleChannelId:o}=r;const i=Object(d.c)(Tn.H),l=Object(d.c)(Ro.i),m=Object(s.useCallback)(()=>{Object(dt.Nb)()},[]),h=Object(zt.a)(),p=Object(d.c)(be=>!!Object(it.U)(be,"isCameraEnabled")),E=Object(d.c)(wr.Z),j=Object(s.useCallback)(()=>{Object(v.dispatchForClientStore)(Object(im.a)({enableAudioOnly:!0,isCameraEnabled:p,clogElementSource:"huddle_banner_enable_audio_only_mode_button"}))},[p]),I=Object(s.useCallback)(()=>{Object(v.dispatchForClientStore)(Object(im.a)({enableAudioOnly:!1,isCameraEnabled:p,clogElementSource:"huddle_banner_enable_audio_only_mode_button"}))},[p]),G=Object(S.i)(),Y=Object(s.useCallback)(()=>{o&&G(Object(fl.a)())},[G,o]),se=Object(s.useCallback)(()=>{G(Object(cm.a)({source:du.c.MiniPlayer}))},[G]);if(!i||!n)return null;switch(n){case Pa.a.NoConnection:return As.t("No internet connection. Waiting for network\u2026",{fallbackHash:"71cc860867af33b2f5357de2f6704aed8150cd39",fallbackHashNs:"calls"});case Pa.a.Connecting:return As.t("Trying to connect\u2026",{fallbackHash:"89e02e73cd6d241d50c5e6b63551c27e0f7afc75",fallbackHashNs:"status_display_manager"});case Pa.a.NoUserAudioDevice:return As.t("Please check your microphone \u2014 Slack isn\u2019t receiving any audio right now.");case Pa.a.NoUserAudioStream:return As.rt("Looks like we can\u2019t find your microphone. Please check your connection to share audio in Slack.",{fallbackHash:"a41e4c70800b494ccfeb188382d2f8bda1a0da47",fallbackHashNs:"status_display_manager"});case Pa.a.NoSystemAudio:return Object(Ye.p)()?l>0?As.rt("Allow microphone access in <a>system preferences</a>. If you\u2019ve already granted permissions please <b>restart Slack</b>.",{fallbackHash:"fc2306649e656b7a84d32831a5cd4cab4f441fbc"},be=>{let{text:Ee,tag:_e}=be;return _e==="a"?t.a.createElement(Ra.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone"},Ee):_e==="b"?t.a.createElement(Ra.a,{onClick:m},Ee):null}):As.rt("Allow microphone access in <a>system preferences</a>. If you\u2019ve already granted permissions, quit and reopen Slack.",{fallbackHash:"fc2306649e656b7a84d32831a5cd4cab4f441fbc"},be=>{let{text:Ee,tag:_e}=be;return _e==="a"?t.a.createElement(Ra.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone"},Ee):null}):As.rt("Allow microphone access in <a>windows settings</a>. If you\u2019ve already granted permissions, quit and reopen Slack.",{fallbackHash:"1e833fe876c89da116f9ceac4da108c954dda71f"},be=>{let{text:Ee,tag:_e}=be;return _e==="a"?t.a.createElement(Ra.a,{href:"ms-settings:privacy-microphone"},Ee):null});case Pa.a.NoSystemScreenShare:return Object(nh.b)();case Pa.a.DisplayDisconnected:return As.t("Stopped screen sharing because your monitor was disconnected.");case Pa.a.ScreenShareError:return As.rt("Couldn\u2019t share your screen. Please try leaving and re-joining the huddle, and <a>contact us</a> if the problem continues.",{fallbackHash:"9a3ea0598e7f4b115b6f5ea75d98c145395ac46e",fallbackHashNs:"developer_app_settings"},be=>{let{text:Ee,tag:_e}=be;return _e==="a"?t.a.createElement(Ra.a,{target:"_blank",key:_e,href:`${Object(Xt.v)(a)}help/requests/new`},Ee):null});case Pa.a.SSNotFoundError:return As.t("Can\u2019t share your screen because the requested device isn\u2019t connected.",{fallbackHash:"9a3ea0598e7f4b115b6f5ea75d98c145395ac46e",fallbackHashNs:"developer_app_settings"});case Pa.a.SSNotReadableError:return Object(nh.c)();case Pa.a.SlowNetwork:return As.t("Your network connection is unstable.",{fallbackHash:"b1420473ac72f166f93ce209a4290c5647abbc49",fallbackHashNs:"calls"});case Pa.a.NoAudioOutputAudioElementError:return As.rt("Slack has detected a problem with your audio. Try restarting to reset your connection.");case Pa.a.NoAudioOutputAudioLevelError:return As.rt("Slack has detected a problem with your audio. Try restarting to reset your connection.");case Pa.a.NoOrLowInputAudioLevelError:return As.rt("Slack has detected a problem with your microphone. Try restarting to reset your connection.");case Pa.a.NoSystemVideo:return Object(Ye.p)()?As.rt("Please check your <a>system preferences</a> to give camera access to Slack. If you\u2019ve already granted permissions, quit and reopen Slack.",{fallbackHash:"52eaa6f9c83350396b6f1e0e371de7e24d41892d"},be=>{let{text:Ee,tag:_e}=be;return _e==="a"?t.a.createElement(Ra.a,{href:"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera"},Ee):null}):As.rt("Please check your <a>windows settings</a> to give camera access to Slack. If you\u2019ve already granted permissions, quit and reopen Slack.",{fallbackHash:"b2c896677180e51db35e820ccf453b9cbceb19c3"},be=>{let{text:Ee,tag:_e}=be;return _e==="a"?t.a.createElement(Ra.a,{href:"ms-settings:privacy-webcam"},Ee):null});case Pa.a.NoUserVideoDevice:return As.t("No cameras found",{fallbackHash:"a41e4c70800b494ccfeb188382d2f8bda1a0da47"});case Pa.a.NoUserVideoStream:return As.rt("Looks like we can\u2019t find your camera. Please check your connection to share video in Slack.",{fallbackHash:"92e06e3492fdba0cd5a6e26297bfe7054708c512"});case Pa.a.PeerMuteRequest:return null;case Pa.a.NoBrowserAudioPermission:return As.rt("Please enable your microphone in your browser\u2019s address bar.",{fallbackHash:"92e06e3492fdba0cd5a6e26297bfe7054708c512",fallbackHashNs:"calls"});case Pa.a.AudioOnlyModeActive:return As.rt("<strong>Audio-only mode has been enabled. <l>Turn off audio-only mode.</l></strong>",{fallbackHash:"b21dc5005f788dc5ef07e9d28f5bded0bf57d22a"},be=>{let{text:Ee,tag:_e}=be;return _e==="l"?t.a.createElement(Ra.a,{onClick:I},Ee):null});case Pa.a.AudioOnlyModeRecommended:switch(E){case!0:return E?As.rt("<strong>Your connection is unstable. See details by <l>opening the troubleshooting panel</l></strong>",null,be=>{let{text:Ee,tag:_e}=be;return _e==="l"?t.a.createElement(Ra.a,{onClick:se},Ee):null}):"";case!1:return As.rt("<strong>Your connection is unstable. To improve performance, <l>turn on audio-only mode.</l></strong>",{fallbackHash:"b21dc5005f788dc5ef07e9d28f5bded0bf57d22a"},be=>{let{text:Ee,tag:_e}=be;return _e==="l"?t.a.createElement(Ra.a,{onClick:j},Ee):null});default:{const be=E;return h.warn("HUDDLES",`Reached exhaustive switch case: ${be}`),null}}case Pa.a.NoBrowserVideoPermission:return As.rt("Please enable your camera in your browser\u2019s address bar.",{fallbackHash:"a41e4c70800b494ccfeb188382d2f8bda1a0da47",fallbackHashNs:"calls"});case Pa.a.AudioInputTrackMuted:return As.rt("<b>Your microphone is muted by your system settings</b>. Go to your <a>system settings</a> to unmute your microphone.",{fallbackHash:"92e06e3492fdba0cd5a6e26297bfe7054708c512",fallbackHashNs:"calls"},be=>{let{text:Ee,tag:_e}=be;return _e==="a"?t.a.createElement(Ra.a,{href:th.c},Ee):null});case Pa.a.HiddenUserJoinedHuddle:return As.rt("<b>Someone you\u2019ve hidden joined this huddle. <l>Leave Huddle</l></b>",{},be=>{let{text:Ee,tag:_e}=be;return _e==="l"?t.a.createElement(Ra.a,{onClick:Y},Ee):null});case Pa.a.SpeakingWhenMuted:case Pa.a.UpdateSlack:case Pa.a.RemotePeerMuted:case Pa.a.RemotePeerSlowConnection:case Pa.a.ScreenShareFreeTeam:case Pa.a.NoGroupCallsForFreeTeam:case Pa.a.NoiseSuppressionCPUThrottled:case Pa.a.ExternalUsersInHuddle:return null;default:return Object(gl.a)(n)}}c(uu,"useAlertText"),uu.displayName="useAlertText";const Jl=c(r=>{let{className:n,enableSectionNavigation:a=!1}=r;const o=Object(S.i)(),{current:i}=Object(s.useRef)(Object(vl.a)("HUDDLE-ALERT-BANNER")),l=Object(O.b)(pa.b),m=Object(O.b)(pa.a),h=Object(O.b)(pa.t),p=Object(d.c)(Tn.g),E=p==null?void 0:p.type,j=Object(O.b)(pa.e),I=j?Object(nn.s)(Object(v.getStateByTeamId)(j),j):null,G=uu({alertType:E,team:I,huddleChannelId:l}),Y=Object(s.useCallback)(()=>{E&&o(Object(Pa.c)(E))},[o,E]),se=!p||h!==or.a.STARTED||!l||!m||!G;return Object(s.useEffect)(()=>{if(!se)return i.info(`Displaying huddle alert banner of type: ${E}`),()=>{i.info(`Hiding huddle alert banner of type: ${E}`)}},[se,E,i]),se?null:t.a.createElement(De.a,{eventId:Oe.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:Oe.UiComponentName.HUDDLES_BANNER,elementName:E,clogImpression:!0},t.a.createElement(hl.a,{enableSectionNavigation:a,type:p!=null&&p.isWarning?"warning":"neutral",showCloseButton:!!(p!=null&&p.dismissible),isFixedPosition:!1,preventTypeOverride:!0,onClose:Y,className:Object(g.default)("p-huddle_banner",n),topOffset:"auto"},(p==null?void 0:p.icon)&&t.a.createElement(pn.a,{type:p==null?void 0:p.icon})," ",G))},"HuddleBanner");Jl.displayName="HuddleBanner";var mu=Jl,ah=e("at8L"),oh=e("hbaT"),Md=e("ouAP"),sh=e("NR1w"),rh=e("hqzA");const hu=new he.b("file"),Tp=c(r=>{switch(r){case Md.a.EditTextFile:return hu.rt("<strong>Unable to edit.</strong> Connect to an approved network and try again.",{fallbackHash:"578eea54954554109edcc575c7397a7a87aced89"});case Md.a.ExpandTextFile:return hu.rt("<strong>Unable to expand.</strong> Connect to an approved network and try again.",{fallbackHash:"578eea54954554109edcc575c7397a7a87aced89"});case Md.a.ViewFile:return hu.rt("<strong>Unable to view.</strong> Connect to an approved network and try again.",{fallbackHash:"578eea54954554109edcc575c7397a7a87aced89"});case Md.a.DownloadFile:case Md.a.Default:default:return hu.rt("<strong>Unable to download.</strong> Connect to an approved network and try again.",{fallbackHash:"578eea54954554109edcc575c7397a7a87aced89"})}},"getTextByAction"),ih=c(()=>{const r=Object(S.i)(),n=Object(d.c)(rh.a),a=Tp(n),o=Object(s.useCallback)(()=>{r(Object(sh.a)())},[r]);return t.a.createElement(zl.c,{type:"warning",isFixedPosition:!1,onClose:o},a)},"BannerDownloadBlocked");ih.displayName="BannerDownloadBlocked";var Ap=ih;function lm(){return lm=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},lm.apply(this,arguments)}c(lm,"workspace_banner_extends");const Np={[Ne.h.SSB_LITE_BANNER]:{component:oh.c}};let ch=c(class extends s.PureComponent{onClickNotificationsEnabled(){this.setState(()=>({enableNotificationsClicked:!0}))}render(){const{locale:n,showEnableNotificationsBanner:a,showEnablePopupBanner:o,showDownloadAppBanner:i,isMegaphoneDataLoaded:l,showDownloadSsbBanner:m,showDownloadSsbBannerBasedOnMegaphone:h,showClientFooterBanners:p,showHuddlesBanner:E,enableSectionNavigation:j,showDownloadBlockedBanner:I}=this.props,{enableNotificationsClicked:G}=this.state;if(!l)return null;let Y,se;return p?(se="workspace-banner-megaphone-container",Y=t.a.createElement(Cs.c,lm({},cu,{enableSectionNavigation:j}))):h?(se="workspace-banner-megaphone-container",Y=t.a.createElement(Cs.c,{spaceName:Ne.g.CLIENT_FOOTER,enableSectionNavigation:j,notifications:Np})):m?(se="workspace-banner-download-ssb",Y=t.a.createElement(oh.c,{enableSectionNavigation:j})):I?(se="workspace-banner-download-blocked",Y=t.a.createElement(Ap,null)):E?(se="workspace-banner-huddle-banner",Y=t.a.createElement(mu,{enableSectionNavigation:j})):i?(se="workspace-banner-download-app",Y=t.a.createElement(Lr,{enableIABanner:!0,enableSectionNavigation:j})):o?(se="workspace-banner-enable-popups",Y=t.a.createElement(Vr,{enableIABanner:!0,enableSectionNavigation:j})):(a||G)&&(se="workspace-banner-enable-notifications",Y=t.a.createElement(Xo,{enableIABanner:!0,enableSectionNavigation:j,enableNotificationsClicked:G,onClickNotificationsEnabled:this.onClickNotificationsEnabled})),t.a.createElement("div",{key:n,className:"p-client__banners p-ia__workspace_banner","data-qa":se},Y)}constructor(n){super(n),this.state={enableNotificationsClicked:!1},this.onClickNotificationsEnabled=this.onClickNotificationsEnabled.bind(this)}},"WorkspaceBanner");ch.displayName="WorkspaceBanner";const kp=c(r=>{const n=Object(Yl.f)(),a=Object(ka.c)(r,Ne.g.CLIENT_FOOTER),o=a===Ne.h.SSB_LITE_BANNER,i=Object(rm.b)(r);return{enableSectionNavigation:!Object(Kt.g)(r),isMegaphoneDataLoaded:Object(ka.a)(r),showClientFooterBanners:!o&&!!a,showEnablePopupBanner:!i&&Object(nr.a)(r)&&!Object(Ye.i)(),showEnableNotificationsBanner:Object(lu.w)()&&Object(ae.a)(r)!=="denied"&&n.no_growl_banner!=="1"&&n.defer_growl_banner!=="1",showDownloadAppBanner:!i&&Object(us.b)(r),showDownloadSsbBanner:Object(ah.a)(r),showDownloadSsbBannerBasedOnMegaphone:Object(ah.b)(r),showHuddlesBanner:Object(Tn.db)(r),showDownloadBlockedBanner:Object(rh.c)(r)}},"workspace_banner_mapStateToProps");var Pp=Object(Be.a)(kp)(ch),hr=e("3TfL"),rc=e("4unc");function Mp(){const r=Object(O.b)(C.getBootedWorkspaces),[n,a]=Object(s.useState)([]);return Object(s.useEffect)(()=>{const o=r.filter(l=>{const m=Object(v.getStoreInstanceByTeamId)(l);if(!m)return!1;const h=m.getState();return Object(da.m)(h)});a(o);const i=r.map(l=>{const m=Object(v.getStoreInstanceByTeamId)(l);if(!m)return null;let h,p=o.includes(l);return m.subscribe(()=>{const E=m.getState();if(E===h)return;h=E;const j=Object(da.m)(E);j!==p&&(p=j,a(I=>j&&!I.includes(l)?[...I,l]:!j&&I.includes(l)?I.filter(G=>G!==l):I))})});return()=>{i.forEach(l=>l==null?void 0:l())}},[r]),n}c(Mp,"useUnreadWorkspaces");function lh(){return t.a.createElement("div",{className:"p-unread_dot"})}c(lh,"UnreadDot"),lh.displayName="UnreadDot";var Xl=lh,Zc=e("0cEW"),Dd=e("Gbja"),dm=e("MeLy"),dh=e("qDsB");const pu=new he.b("ia4"),Vt={eventId:Oe.EventId.NEWXP_JOIN_TEAM,uiStep:Oe.UiStep.NFX_TEAM_SWITCHER_COACHMARK,elementType:Oe.ElementType.COACHMARK,clogImpression:!0},Gt=c(r=>{let{children:n}=r;const a=Object(S.i)(),{closure:o,currentStep:i,isOpen:l,nextStep:m,totalSteps:h}=Object(En.a)(ps.c.TeamSwitcherCoachmark),p=Object(s.useCallback)(()=>{a(Object(gn.i)(m))},[a,m]),E=Object(s.useCallback)(()=>{a(Object(gn.i)(o))},[o,a]),j=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:i,totalSteps:h}),[i,h]),I=Object(s.useMemo)(()=>t.a.createElement(is.b,{ariaLabel:pu.t("Quickly check for new activity and move between conversations. {currentStep} of {totalSteps}",{currentStep:i,totalSteps:h}),className:"p-nfx_team_switcher_coachmark",centerOnArrow:!0,arrowPosition:30,offsetY:60,isOpen:l,title:pu.t("Easily switch between your organizations and workspaces"),bodyText:pu.rt("Quickly check for new activity and move between conversations.<steps></steps>",{"<steps>":j}),onClickPrimaryButton:p,primaryCallToActionText:pu.t("Next"),closeCoachmark:E,autoClogProps:Vt}),[j,i,E,p,l,h]);return t.a.createElement(Za.c,{coachmarkElement:I,orientation:"right-top"},n)},"NFXTeamSwitcherCoachmark");Gt.displayName="NFXTeamSwitcherCoachmark";var Mn=Gt,yr=e("toaU"),si=e("CTtb"),kr=e("TGBA"),ri=e("1myf"),Pr=e("NOj5"),ic=e("Z0Cl"),um=e("HI9p"),mm=e("F3Uw"),Ol=e("CpTu"),El=e("c7k8"),Dp=e("QOYf"),Rp=e("Iq/s"),_l=e("bXid"),Gf=e("yIs4"),zf=e("vFlG"),Yf=e("NFsq"),Iy=e("jJ7u"),Ty=e("ROZo");const Ay=Object(Ty.a)("TS.prefs.removeTeamFromEnterpriseExcludeTeamPref",tn.a);var Rd=e("JfJV"),Ny=e("WhMD"),Ql=e("G5NC"),ky=e("Afhv"),Py=e("PvfP"),Jf=e("60mp");const Cl=new he.b("workspace_directory"),My=480,Dy=1024,xd="ENTERPRISE_DISCOVER_WORKSPACES",Ni="WORKSPACE_DIR",ki=Object(wt.b)(),yl=c(()=>window.innerWidth<=My,"calculateIsMobileView"),Ry=c(()=>window.innerWidth<=Dy,"calculateIsTabletView"),bu={dialog:"dialog",largeCard:"largeCard",smallCard:"smallCard"},Ld="SHOW_ALL";function Xf(){const r=Cl.t("Requires an invite to join");return{requestCardLarge:Cl.t("Awaiting admin approval to join"),requestDialog:n=>Cl.t("Requested access on {requestDate}",{requestDate:Object(Ny.a)(n)}),inviteOnlyWithLockIcon:t.a.createElement("span",null,t.a.createElement(pn.a,{legacy:!0,type:"lock",key:"private-icon",className:"nudge_bottom_2"}),r),inviteOnly:r}}c(Xf,"initCaptions"),Xf.displayName="initCaptions";function Qf(r,n){let{context:a=bu.smallCard}=n;const o=Xf(),{date_requested_join:i,discoverable:l,is_member:m}=r;return m?null:l==="closed"&&i?a===bu.largeCard?o.requestCardLarge:o.requestDialog(i):l==="invite_only"?a===bu.largeCard?o.inviteOnlyWithLockIcon:o.inviteOnly:null}c(Qf,"getWorkspaceCaption");function uh(r,n,a){let o=document.createElement("a");o.href=n;const i=`${o.protocol}//${r.domain}.${o.host}/`;return o=null,i}c(uh,"createWorkspaceURL");function hm(r){return Object(zf.a)(r,"profile")||Object(zf.a)(r,"enterprise_user")}c(hm,"isMemberData");function QL(r){let{type:n,teamName:a,errorType:o}=r;if(n==="success")return Cl.rt("Request to create <strong>{teamName}</strong> sent! You\u2019ll be notified once it\u2019s reviewed.",{teamName:a});const i={name_taken:Cl.rt("Request failed: The name <strong>{teamName}</strong> is already taken by another workspace.",{teamName:a}),name_is_empty:Cl.t("Request failed: A name is required."),name_too_long:Cl.t("Request failed: The name you provided is too long."),reason_too_long:Cl.t("Request failed: The reason you provided is too long."),unknown:Cl.rt("Request failed: The response error was <strong>{error}</strong>.",{error:o||"unknown"})};return i[o]||i.unknown}c(QL,"getWorkspaceCreationRequestToastText");function xy(r){if(r)if(Object(Ye.j)("2.8"))ki.info(Ni,`switchToTeamById - Calling legacyDisplayTeamById('${r}') in the SSB.`),Object(dt.qb)(r);else{ki.info(Ni,`switchToTeamById - SSB < 2.8, fallback to using an iframe to open ${r}`);const n=document.createElement("iframe"),a=`slack://open?team=${r}`;n.src=a,document.body.appendChild(n),setTimeout(()=>n.remove(),1e3)}}c(xy,"switchToTeamById");const Ly=c((r,n,a,o,i)=>{const l=n&&n==="open_profile"&&a,m=l?Iy.F:yr.a,h=l?{teamId:r.id,memberId:a}:{teamId:r.id};if(!Object(sn.b)()){const j=Object(Rd.k)(m,h);if(o){const G=o;G.location.href=j}const I=Object(sn.a)(r.subdomain)||`_team_${r.id}`;Object(ky.a)(j,I);return}const p=Object(v.getStateForClientStore)();if(Object(C.getWorkspacesMeta)(p)[r.id])Object(Rd.h)(m,h,{reason:"find-more-workspaces"});else{ki.info(Ni,`fetchAuthAndSetFocusedWorkspace - for team ${r.id}`);const j=!1;Object(C.isUserNotMemberOfAnyWorkspaceInOrg)(p,i)?Object(Jf.e)():Object(v.dispatchForClientStore)(Object(Py.a)({teamId:r.id,avoidRedirectLoops:j}))}},"navigateInSonic"),wy=c((r,n)=>{let{user:a={},team:o={},anchorPage:i,doLaunchInNewTab:l=!1,onActionResolve:m=tn.a,channelRedirect:h=null,postLaunchAction:p=null,userIdFromURL:E=null,windowOpener:j,redir:I=null}=n;var G;if(Object(Ql.a)()){const Re=Object(nn.o)(r),tt=Re==null?void 0:Re.id;return Ly(o,p,E,j,tt),m({workspace:o})}const Y=Object(vt.e)(r,"signin_url"),se=new URLSearchParams(window==null||(G=window.location)===null||G===void 0?void 0:G.search),be=se==null?void 0:se.get("from_desktop_app"),Ee=se==null?void 0:se.has("aswebauth"),_e=Object(vt.e)(r,"is_ssb_browser_signin")||be,ge=Object(vt.e)(r,"force_fallback"),ye=Object(Rr.a)({state:r});let Ue=`${uh(o,Y,h)}messages`;if(Fy({teamId:o.id,anchorPage:i,clogger:ye}),_e&&(Ue=`${uh(o,Y,h)}ssb/signin_redirect${ge?"/fallback":""}`),h&&(Ue=`${Ue}/${h}`),p&&p==="open_profile"&&E&&(Ue=`${Ue}/team/${E}`),I&&(Ue=`${uh(o,Y,h)}?redir=${I}`),Ee&&(Ue=`${uh(o,Y,h)}ssb/signin_redirect?aswebauth=1`),Object(vt.h)(r)&&Object(Xn.g)(r)===o.id)return ki.info(Ni,`onWorkspaceLaunch - User has team ${o.id} to launch currently open. Do nothing and resolve the action (which closes the modal).`),m({workspace:o});if(Object(Ye.i)()){ki.info(Ni,"onWorkspaceLaunch - Detected that user is logged in via the SSB.");let Re=Object(dt.vb)();ki.info(Ni,`onWorkspaceLaunch - Successfully called legacyGetSignedInTeamIds and returned ${Re}`);const tt={name:a.name,id:a.id,team_id:o.id,team_name:Object(Xt.h)(o),team_url:Ue};if(!Object(Yf.a)(Re,o.id))ki.info(Ni,`onWorkspaceLaunch - calling didSignIn on ${JSON.stringify(tt)}`),Object(dt.r)(tt),Re=Object(dt.vb)();else if(ki.info(Ni,`onWorkspaceLaunch - User already signed into workspace '${o.id}'`),Object(Yf.a)(Re,o.id)){let Ge;Object(Ye.j)("3.0")?(ki.info(Ni,`onWorkspaceLaunch - SSB >= 3.0, attempting to determine if team ${o.id} has a valid session.`),xy(o.id),Ge=Object(dt.rb)(),Ge?Ge.hasValidSession?ki.info(Ni,`onWorkspaceLaunch - currentTeam.hasValidSession for ${o.id}. Work done.`):(ki.info(Ni,`onWorkspaceLaunch - current session NOT valid. Signing into ${o.id}.`),Object(dt.r)(tt)):(ki.info(Ni,`onWorkspaceLaunch - currentTeam not found. Calling didSignIn() for ${o.id}.`),Object(dt.r)(tt))):(ki.info(Ni,`onWorkspaceLaunch - SSB < 3.0, cannot determine session state. Calling didSignIn() for ${o.id}.`),Object(dt.r)(tt))}m({workspace:o}),ki.info(Ni,`onWorkspaceLaunch - Removing team from enterprise excluded team pref ${o.id}`),Ay(o.id)}else if(l){if(j){const Re=j;Re.location.href=Ue}else window.open(Ue,"_blank");m({workspace:o})}else window.location=Ue;return null},"onWorkspaceLaunch"),Zf=Object(Vs.c)("Event handler when the Launch Workspace button is clicked",(r,n,a)=>{let{user:o={},team:i={},anchorPage:l,doLaunchInNewTab:m=!1,onActionResolve:h=tn.a,channelRedirect:p=null,postLaunchAction:E=null,userIdFromURL:j=null,redir:I=null,windowOpener:G}=a;const Y=n();return wy(Y,{user:o,team:i,anchorPage:l,doLaunchInNewTab:m,onActionResolve:h,channelRedirect:p,postLaunchAction:E,userIdFromURL:j,redir:I,windowOpener:G})});Zf.meta={name:"createThunk",key:"createThunkonWorkspaceLaunchThunk",description:"Event handler when the Launch Workspace button is clicked"};function By(r){let{trackingCode:n="",clogger:a}=r;const o={anchor_page:"workspace_directory",tracking_code:n},i={action:"impression"};a.track(xd,{...o,contexts:{ui_context:i}})}c(By,"recordPageView");function Wy(r){let{teamId:n,trackingCode:a,clogger:o}=r;const i={entity_key:"workspace_detail",anchor_page:"workspace_directory",target_team_id:n,tracking_code:a},l={action:"impression",action_status:1};o.track(xd,{...i,contexts:{ui_context:l}})}c(Wy,"recordWorkspaceView");const Uy=c(r=>{let{anchorPage:n,numSearchResults:a,clogger:o}=r;const i={action:"",action_status:0,ui_element:""},l={entity_key:"",anchor_page:0,num_search_results:0};i.action="impression",i.action_status=a?1:2,i.ui_element="SEARCH_BAR",l.entity_key="search_workspaces",l.anchor_page=n,l.num_search_results=a,o.track(xd,{...l,contexts:{ui_context:i}})},"clogUserSearch"),Hy=c(r=>{let{searchType:n="workspace",clogger:a}=r;const o={anchor_page:"workspace_directory",entity_key:"search_workspaces"},i={action:"impression",ui_element:n==="workspace"?"DIRECTORY_SEARCH_FREE":"DIRECTORY_SEARCH_BY_COLLEAGUE"};a.track(xd,{...o,contexts:{ui_context:i}})},"recordDirectorySearch");function Fy(r){let{teamId:n,anchorPage:a,fromWhere:o="",clogger:i}=r;const l={anchor_page:a,entity_key:"launch_workspace",target_team_id:n,tracking_code:o},m={action:"click",action_status:1};i.track(xd,{...l,contexts:{ui_context:m}})}c(Fy,"recordTeamLaunch");function ZL(r){let{step:n,clogger:a}=r;const o={anchor_page:"grid_onboarding",target_team_id:0},i={action:"impression",step:n};a.track(xd,{...o,contexts:{ui_context:i}})}c(ZL,"recordOnboardingImpression");function $L(r){let{step:n,clogger:a}=r;const o={anchor_page:"grid_onboarding",target_team_id:0},i={action:"click",ui_element:"exit",step:n};a.track(xd,{...o,contexts:{ui_context:i}})}c($L,"recordOnboardingSkip");var Lc=e("bJ5w"),xp=e("wqO4");function Lp(){return Lp=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Lp.apply(this,arguments)}c(Lp,"workspace_directory_button_extends");const $c=new he.b("workspace_directory"),wc={launch:"launch",join:"join",request:"request",request_sent:"request_sent",default:"default"},Ky=c(r=>{let{displayDirectoryInModal:n}=r;const a="primary",o="join";return{text:n?$c.t("Join and Open"):$c.t("Join and Launch Slack"),type:a,"data-qa-ws-directory-button-type":a,"data-qa-ws-directory-button-text":o,"data-qa":o}},"getJoinButtonProps"),Vy=c(()=>{const r="primary",n="request_to_join";return{text:$c.t("Request to Join"),type:r,"data-qa-ws-directory-button-type":r,"data-qa-ws-directory-button-text":n,"data-qa":n}},"getRequestToJoinButtonProps"),Gy=c(()=>{const r="primary",n="request_sent";return{text:$c.t("Request Sent"),type:r,"data-qa-ws-directory-button-type":r,"data-qa-ws-directory-button-text":n,"data-qa":n,disabled:!0}},"getRequestSentButtonProps"),zy=c(r=>{let{displayDirectoryInModal:n}=r;const a="primary",o="launch";return{text:n?$c.t("Open"):$c.t("Launch in Slack"),type:a,"data-qa-ws-directory-button-type":a,"data-qa-ws-directory-button-text":o,"data-qa":o}},"getLaunchButtonProps"),Yy=c(()=>{const r="outline",n="default";return{type:r,text:$c.t("View Details",{fallbackHash:"6319b15f86fee6c8e5aa4846437f377ec352787c"}),"data-qa-ws-directory-button-type":r,"data-qa-ws-directory-button-text":n,"data-qa":n}},"getDefaultButtonProps");let wp=c(class extends s.Component{onClick(n){n.stopPropagation(),n.preventDefault(),this.handleButtonAction()}onKeyPress(n){n.stopPropagation(),n.preventDefault(),n.which===13&&this.handleButtonAction()}onWorkspaceJoin(){let{windowOpener:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{user:a,team:o,onActionReject:i,onActionResolve:l,anchorPage:m,doUpsertJoin:h,doLaunchInNewTab:p,channelRedirect:E,postLaunchAction:j,userIdFromURL:I,redir:G}=this.props;return Object(Ql.a)()&&Object(xp.d)(!1),this.props.callJoinWorkspace({teamId:o.id,anchorPage:m,doUpsertJoin:h}).then(()=>{const Y={};h&&(Y.workspace={...o,is_member:!0}),l(Y),Object(Ql.a)()&&!Object(sn.b)()&&Object(xp.d)(!0)}).then(()=>this.props.onWorkspaceLaunch({team:o,user:a,onActionResolve:l,anchorPage:m,doLaunchInNewTab:p,windowOpener:n,channelRedirect:E,postLaunchAction:j,userIdFromURL:I,redir:G})).catch(Y=>{Object(Ql.a)()&&Object(xp.d)(!0),n&&(this.setLoading(!1),n.close()),i({node:t.a.createElement("span",null,$c.rt("Workspace couldn\u2019t be joined. Please reload and try again.")),err:Y})})}onWorkspaceRequestToJoin(){const{team:n,onActionReject:a,onActionResolve:o,anchorPage:i}=this.props;return this.props.callRequestToJoinWorkspace({teamId:n.id,anchorPage:i}).then(()=>{o({node:t.a.createElement("div",{className:"display_flex"},t.a.createElement(pn.a,{type:"check-circle-o",className:"margin_right_50 sk_lilypad_green"}),t.a.createElement("span",null,$c.rt("<strong>Request sent!</strong> You\u2019ll be notified by email when a Workspace Admin grants access."))),workspace:{...n,date_requested_join:String(Math.floor(Date.now()))}})}).then(()=>{this.setLoading(!1)}).catch(l=>{a({node:t.a.createElement("span",null,$c.rt("Your request couldn\u2019t be sent. Please reload and try again.")),err:l})})}getButtonProps(n){const{displayDirectoryInModal:a}=this.props;switch(n){case wc.launch:return zy({displayDirectoryInModal:a});case wc.request:return Vy();case wc.join:return Ky({displayDirectoryInModal:a});case wc.request_sent:return Gy();case wc.default:return Yy();default:return null}}setLoading(n){this.setState(()=>({loading:n}))}handleButtonAction(){const{team:n,user:a,onActionResolve:o,anchorPage:i,doLaunchInNewTab:l,channelRedirect:m,postLaunchAction:h,userIdFromURL:p,redir:E}=this.props;if(this.buttonType==="default")return this.props.onDefaultButtonClick();if(this.setLoading(!0),this.buttonType==="join"){if(l){const j=window.open("","_blank");return this.onWorkspaceJoin({windowOpener:j})}return this.onWorkspaceJoin()}return this.buttonType==="request"?this.onWorkspaceRequestToJoin():(this.buttonType==="launch"&&(this.props.onWorkspaceLaunch({team:n,user:a,onActionResolve:o,anchorPage:i,doLaunchInNewTab:l,channelRedirect:m,postLaunchAction:h,userIdFromURL:p,redir:E}),this.setLoading(!1),l||this.props.closeModal()),null)}render(){const{team:n,buttonContext:a,customClasses:o,size:i}=this.props,{loading:l}=this.state,m=Qy(n,{context:a});this.buttonType=m;const h=this.getButtonProps(m);if(!m||Object(Je.a)(h))return null;const{id:p}=n,{text:E,...j}=h,I=j.disabled||l;return t.a.createElement(ct.c,Lp({},j,{className:o,onClick:this.onClick,onKeyPress:this.onKeyPress,"data-workspace-id":p,"data-qa-ws-directory-button":!0,loading:l,disabled:I,size:i}),E)}constructor(n){super(n),this.state={loading:!1},this.buttonType=null,this.onClick=this.onClick.bind(this),this.onKeyPress=this.onKeyPress.bind(this)}},"WorkspaceDirectoryButton");wp.displayName="WorkspaceDirectoryButton",wp.defaultProps={user:null,buttonContext:"largeCard",customClasses:"",onWorkspaceLaunch:tn.a,onDefaultButtonClick:tn.a,doLaunchInNewTab:!1,displayDirectoryInModal:!1,callJoinWorkspace:tn.a,callRequestToJoinWorkspace:tn.a,size:"large",onActionReject:tn.a,onActionResolve:tn.a,doUpsertJoin:!1,channelRedirect:null,postLaunchAction:null,userIdFromURL:null,closeModal:tn.a,redir:null};const Jy=c(r=>({user:Object(cr.c)(r),displayDirectoryInModal:Object(Ql.a)()}),"workspace_directory_button_mapStateToProps"),Xy={closeModal:Yo.a,callJoinWorkspace:Lc.e,callRequestToJoinWorkspace:Lc.g,onWorkspaceLaunch:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Zf(...n)}};var $f=Object(Be.a)(Jy,Xy)(wp);function Qy(r,n){let{context:a=bu.smallCard}=n;const{is_member:o,date_requested_join:i,is_assigned:l,discoverable:m}=r;if(o)return wc.launch;if(a!==bu.smallCard){if(l)return wc.join;switch(m){case"open":return wc.join;case"closed":if(!i)return wc.request;if(a===bu.largeCard)return wc.request_sent;break;case"unlisted":break;default:}return null}return wc.default}c(Qy,"getWorkspaceButton");var qf=e("j4mf");const ev=new he.b("workspace_directory"),pm={large:"large",small:"small"},tv={large:64,small:48};let Bp=c(class extends s.Component{componentDidMount(){this.setIsMobileView(yl()),window.addEventListener("resize",this.onResize)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}onCardClick(n){n.stopPropagation(),n.preventDefault(),this.isSmallVariationCard()&&this.openDialog()}onKeyPress(n,a){if(n.preventDefault(),n.key==="Enter")switch(a){case"openDialog":if(this.isSmallVariationCard())return this.openDialog();break;default:}return null}onResize(){this.setIsMobileView(yl())}setIsMobileView(n){this.setState(()=>({isMobileView:n}))}isLargeVariationCard(){return this.props.size===pm.large}isSmallVariationCard(){return this.props.size===pm.small}openDialog(){const{team:n,openDialog:a}=this.props;a({team:n})}renderAvatar(){const{team:n}=this.props,a=this.isLargeVariationCard()&&!this.state.isMobileView?tv[pm.large]:tv[pm.small];return t.a.createElement("div",{className:"display_flex"},t.a.createElement(_l.a,{entityType:"workspace",customClasses:this.isSmallVariationCard()?"cursor_pointer":"",dimension:a,entityData:n,featureReactMessages:!0}))}renderButton(){const{team:n,size:a,onActionReject:o,onActionResolve:i,anchorPage:l,doLaunchInNewTab:m,redir:h}=this.props,p=this.isLargeVariationCard()?"large":"medium";return t.a.createElement($f,{redir:h,team:n,buttonContext:`${a}Card`,customClasses:"p-workspace_directory_card__button",onDefaultButtonClick:this.openDialog,onActionReject:o,onActionResolve:i,anchorPage:l,doLaunchInNewTab:m,size:p})}renderWorkspaceDescription(){const{description:n}=this.props.team;return t.a.createElement("div",{className:"p-workspace_directory_card__description","data-qa-ws-directory-card-description":!0},n)}renderWorkspaceName(){const{name:n}=this.props.team;return t.a.createElement("span",{className:"p-workspace_directory_card__title","data-qa-ws-directory-card-title":!0,title:n},n)}renderWorkspaceStatus(){const{team:n}=this.props;if(this.isSmallVariationCard())return null;const a=Qf(n,{context:"largeCard"});return a?t.a.createElement("div",{className:"p-workspace_directory_card__status"},a):null}renderWorkspaceSubtitle(){const{team:n}=this.props,{isMobileView:a}=this.state,{date_requested_join:o,discoverable:i,domain:l,user_counts:{active_members:m}={}}=n;let h="";m!=null&&(h=ev.t("{activeMembers} active members",{activeMembers:Object(qf.a)(m)}));let p;return this.isLargeVariationCard()&&!a?(h&&(h=t.a.createElement("span",{className:"border_right padding_right_50 margin_right_50 float_left"},h)),p=t.a.createElement("div",null,h,t.a.createElement("span",{className:"overflow_ellipsis"},`${l}.${Object(Zr.n)()}`))):this.isSmallVariationCard()&&i==="closed"&&o?p=t.a.createElement("span",null,ev.t("Awaiting admin approval")):p=t.a.createElement("span",{className:"overflow_ellipsis"},h),t.a.createElement("div",{className:"p-workspace_directory_card__subtitle","data-qa-ws-directory-card-subtitle":!0},p)}render(){const{size:n,className:a}=this.props,{id:o}=this.props.team,i=Object(g.default)("p-workspace_directory_card",a,{"p-workspace_directory_card--large":this.isLargeVariationCard(),"p-workspace_directory_card--small":this.isSmallVariationCard()});return t.a.createElement("div",{className:i,onClick:this.onCardClick,"data-workspace-id":o,"data-qa-ws-directory-card":!0,"data-qa-ws-directory-card-size":n,role:"presentation"},t.a.createElement("div",{className:"display_flex flex_direction_column"},t.a.createElement("div",{className:"display_flex align_self_start full_width"},this.renderAvatar(),t.a.createElement("div",{className:"p-workspace_directory_card__heading nudge_top_1"},this.renderWorkspaceName(),this.renderWorkspaceSubtitle())),this.renderWorkspaceStatus(),this.renderWorkspaceDescription()),this.renderButton())}constructor(n){super(n),this.onCardClick=this.onCardClick.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.onResize=this.onResize.bind(this),this.openDialog=this.openDialog.bind(this),this.state={isMobileView:!1}}},"WorkspaceDirectoryCard");Bp.displayName="WorkspaceDirectoryCard",Bp.defaultProps={size:pm.large,className:"",onActionResolve:tn.a,onActionReject:tn.a,anchorPage:"",openDialog:tn.a,doLaunchInNewTab:!1,redir:null};const qL={};var nv=Bp,Zy=e("xWuZ"),$y=e("mX9+"),qy=e("hbEN"),Zl=e("Lgge");const ej={item:Te.default.object,type:Te.default.oneOf(["member","workspace"]),featureReactMessages:Te.default.bool.isRequired},tj={item:{},type:"member"};let mh=c(class extends s.PureComponent{maybeRenderEmail(n){return n?t.a.createElement("div",{className:"p-workspace_search_options_list_item__secondary_content_item"},n):null}maybeRenderTitle(n){return n?t.a.createElement("div",{className:"p-workspace_search_options_list_item__secondary_content_item"},n):null}renderEntityIcon(n){let{item:a,type:o}=n;const{featureReactMessages:i}=this.props;return t.a.createElement(_l.a,{entityType:o,dimension:36,entityData:a,customClasses:"p-workspace_search_options_list_item__avatar",featureReactMessages:i})}renderItemAsMember(n){let{item:a,type:o}=n;const i=Object(ea.a)(a,"profile"),{real_name:l,email:m,title:h}=i;return t.a.createElement("div",{className:"p-workspace_search_options_list_item"},this.renderEntityIcon({item:a,type:o}),t.a.createElement("div",{className:"p-workspace_search_options_list_item__content nudge_bottom_3"},t.a.createElement("div",{className:"p-workspace_search_options_list_item__primary_content"},l),t.a.createElement("div",{className:"p-workspace_search_options_list_item__secondary_content"},this.maybeRenderTitle(h),this.maybeRenderEmail(m))))}renderItemAsWorkspace(n){let{item:a,type:o}=n;const{name:i,description:l}=a;return t.a.createElement("div",{className:"p-workspace_search_options_list_item"},this.renderEntityIcon({item:a,type:o}),t.a.createElement("div",{className:"p-workspace_search_options_list_item__content nudge_bottom_3"},t.a.createElement("div",{className:"p-workspace_search_options_list_item__primary_content"},i),t.a.createElement("div",{className:"p-workspace_search_options_list_item__secondary_content"},l)))}render(){const{item:n,type:a}=this.props;return a==="member"?this.renderItemAsMember({item:n,type:a}):this.renderItemAsWorkspace({item:n,type:a})}constructor(n){super(n),Object(Kr.a)(this,["maybeRenderTitle","maybeRenderEmail"])}},"WorkspaceSearchOptionsListItem");mh.displayName="WorkspaceSearchOptionsListItem",mh.propTypes=ej,mh.defaultProps=tj;var av=e("HiDb"),nj=e("3Hq1"),Wp=e("RMmo"),jl=e("52Wj"),aj=e("zwLc"),ov=e("MYuU"),oj=e("YH8F"),sj=e("LpvA"),ew=e("7P7G");function hh(){return hh=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},hh.apply(this,arguments)}c(hh,"workspace_search_select_extends");const sv={default:"default",short:"short"},bm=new he.b("form"),rj={autoSelectFirstOption:Te.default.bool,className:Te.default.string,displayValue:Te.default.string,focusOnMount:Te.default.bool,id:Te.default.string,isLoading:Te.default.bool,labelId:Te.default.string,membersOnly:Te.default.bool,name:Te.default.string,onChange:Te.default.func,onClearButtonClick:Te.default.func.isRequired,onClose:Te.default.func,onFilterInputChange:Te.default.func,onOptionHighlighted:Te.default.func,onOutsideClick:Te.default.func,onOpen:Te.default.func,onScroll:Te.default.func,optionClassName:Te.default.string,optionGroups:Te.default.array,options:Te.default.array,optionsListOffsetBottom:Te.default.number,optionsListOffsetTop:Te.default.number,optionsListWidth:Te.default.number,optionsRowHeight:Te.default.number,pillarClassName:Te.default.string,placeholder:Te.default.string,selectedOption:Te.default.object,selectedValueClassName:Te.default.string,type:Te.default.oneOf(Object(kr.a)(sv)),useFullWidthOptions:Te.default.bool,usePlaceholderOption:Te.default.bool,wrapperClassName:Te.default.string,value:Te.default.string},ij={className:null,displayValue:void 0,focusOnMount:!0,id:`select-${Object(ov.d)()}`,isLoading:!1,labelId:null,membersOnly:!0,name:null,onChange:tn.a,onClose:tn.a,onFilterInputChange:tn.a,onOptionHighlighted:tn.a,onOutsideClick:tn.a,onOpen:tn.a,optionClassName:void 0,optionGroups:void 0,options:void 0,optionsListOffsetBottom:0,optionsListOffsetTop:0,optionsListWidth:void 0,pillarClassName:void 0,placeholder:void 0,selectedOption:void 0,selectedValueClassName:void 0,type:sv.default,usePlaceholderOption:!0,wrapperClassName:null,value:""};let ph=c(class extends sj.a{componentDidMount(){this.initKeyCommands(),this.props.focusOnMount&&this.focus()}componentDidUpdate(n,a){const{onClose:o,onOpen:i,selectedOption:l}=this.props,{isOpen:m,selectedOptionValue:h}=this.state;if(l){const p=hm(l)?Object(jl.e)(l):Object(ea.a)(l,"name");p!==h&&this.setSelectedOptionValue(p)}else h&&this.setSelectedOptionValue("");this.state.isOpen?(document.addEventListener("click",this.onOutsideClicked),a.isOpen||(this.filterInput&&this.filterInput.focus(),i(this.filterInput))):(document.removeEventListener("click",this.onOutsideClicked),a.isOpen&&o()),this.filterInput&&m&&this.filterInput.focus()}componentWillUnmount(){document.removeEventListener("click",this.onOutsideClicked),this.resetKeyCommads()}onBlurred(){this.preventFocusAndBlur||this.toggleOpenState(!1)}onClicked(n){n.target===this.filterInput?this.toggleOpenState(!0):this.toggleOpenState()}onClearInput(){const{onClearButtonClick:n}=this.props;this.filterInput&&(this.filterInput.value=""),this.setFilterQuery(""),this.setSelectedOptionValue(""),this.toggleOpenState(!1),n()}onFilterInputChanged(){if(this.filterInput){const n=this.filterInput.value;this.props.onFilterInputChange(n),this.setFilterQuery(n)}}onFocused(){this.preventFocusAndBlur||this.toggleOpenState(!0);const{displayValue:n}=this.props;n&&this.filterInput&&(this.filterInput.value=n)}onKeyPressedEsc(){this.state.isOpen&&(this.toggleOpenState(!1),this.focus())}onKeyPressedUpOrDown(n){this.state.isOpen||(this.toggleOpenState(!0),n.stopPropagation())}onOptionSelected(){let{value:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!n)return;const a=this.getSelectedOptionDisplayValue({value:n});this.setSelectedOptionValue(a),this.props.onChange(n),this.toggleOpenState(!1),this.filterInput&&this.filterInput.blur()}onOutsideClicked(n){this.wrapper&&!this.wrapper.contains(n.target)&&(this.toggleOpenState(!1),this.props.onOutsideClick())}onWrapperMouseDownOrTouchStart(){this.preventFocusAndBlur=!0}onWrapperMouseUpOrTouchEnd(){this.preventFocusAndBlur=!1}onSearchAgainTriggered(){const{onClearButtonClick:n}=this.props;this.preventFocusAndBlur=!0,this.filterInput&&(this.filterInput.value=""),this.setFilterQuery(""),this.setSelectedOptionValue(""),n(),this.filterInput.focus(),this.toggleOpenState(),this.preventFocusAndBlur=!1}maybeShowOptions(){const{selectedOption:n,membersOnly:a}=this.props,o=this.getFilterQuery(),i=a?this.getFilteredOptions:this.getFilteredOptionGroups;return o.length>0||n?i():[]}getPlaceholder(){return this.props.placeholder||bm.t("Choose an option\u2026")}getFilteredOptionGroups(){const{optionGroups:n,usePlaceholderOption:a}=this.props,o=this.getFilterQuery();return n?!o&&a?[this.getPlaceholderOptionGroup(),...n]:n:null}getFilteredOptions(){const{options:n,usePlaceholderOption:a}=this.props,o=this.getFilterQuery();return n?!o&&a?[this.getPlaceholderOption(),...n]:n:null}getFilterQuery(){return Object(ea.a)(this,"filterInput.value","")}getOptionsListEmptyMessage(){return this.getFilterQuery().length>0?this.renderOptionsListEmptyMessage():this.renderOptionsListHintText()}getOptionsListTargetMeasurements(){var n;const{optionsListOffsetBottom:a,optionsListOffsetTop:o,optionsListWidth:i}=this.props,l=this.select.getBoundingClientRect(),m=this.select.offsetTop-Object(oj.a)(this.select,this.select.offsetParent),h=this.select.offsetLeft,p=((n=this.select.offsetParent)===null||n===void 0?void 0:n.clientHeight)-m,E=m+l.height,j=l.bottom,I=l.top,G=l.left,Y=i||l.width;return{bottom:j,offsetBottom:a,offsetTop:o,relativeBottom:E,relativeLeft:h,relativeTop:p,top:I,left:G,width:Y,height:l.height}}getPlaceholderOption(){return{isPlaceholder:!0,label:this.getPlaceholder(),value:""}}getPlaceholderOptionGroup(){return{isPlaceholder:!0,options:[this.getPlaceholderOption()]}}getSelectedOptionDisplayValue(){let{value:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{optionGroups:a,options:o}=this.props,i=a?Object(av.a)(a,"options"):o,l=Object(Ol.a)(i,{value:n});return Object(ea.a)(l,"displayValue")}setFilterQuery(n){this.setState(()=>({filterQuery:n}))}setSelectedOptionValue(n){this.setState(()=>({selectedOptionValue:n}))}setRef(n){return a=>{this[n]=a}}focus(){this.preventFocusAndBlur=!0,this.filterInput&&this.filterInput.focus(),this.toggleOpenState(!0),this.preventFocusAndBlur=!1}blur(){this.select.blur(),this.filterInput&&this.filterInput.blur()}filterOption(n){const a=n.label.toLowerCase(),o=this.getFilterQuery().toLowerCase();return a.indexOf(o)!==-1}initKeyCommands(){this.keyCommands=new Wp.a(this.select),this.keyCommands.bindAll([{keys:["esc"],handler:this.onKeyPressedEsc},{keys:["up","down"],handler:this.onKeyPressedUpOrDown}])}resetKeyCommads(){this.keyCommands&&this.keyCommands.reset()}toggleOpenState(n){this.setState(a=>{const o={isOpen:Object(nj.a)(n)?!a.isOpen:n};return o.isOpen||(o.filterQuery=""),o})}renderFilterInput(){const{filterQuery:n,selectedOptionValue:a}=this.state,{displayValue:o}=this.props,i={"aria-label":"Filter for option list",className:"c-input_select__filter_input p-workspace-search__select",onChange:this.onFilterInputChanged,placeholder:this.getPlaceholder(),ref:this.setRef("filterInput"),type:"text"};return a&&!n?i.value=a:!a&&this.filterInput&&!this.filterInput.value?i.value=this.filterInput.value:!a&&o&&!n?i.value=o:i.value=n,t.a.createElement("input",hh({},i))}renderOptionsListMaybe(){if(!this.state.isOpen)return null;const{autoSelectFirstOption:n,id:a,isLoading:o,membersOnly:i,optionClassName:l,optionsRowHeight:m,pillarClassName:h,useFullWidthOptions:p,value:E,onScroll:j,onOptionHighlighted:I}=this.props,G=i?240:400,Y=Object(ov.a)(a,this.state.selectedOptionValue);return t.a.createElement(aj.a,{"aria-activedescendant":Y,autoSelectFirstOption:n,emptyStateMessage:this.getOptionsListEmptyMessage(),isLoading:o,maxListHeight:G,onOptionSelected:this.onOptionSelected,optionClassName:l,onScroll:j,optionGroups:i?null:this.maybeShowOptions(),options:i?this.maybeShowOptions():null,optionsRowHeight:m,pillarClassName:h,targetMeasurements:this.getOptionsListTargetMeasurements(),useFullWidthOptions:p,value:E,onActiveOptionUpdated:I})}renderOptionsListEmptyMessage(){const n=this.getFilterQuery(),a=bm.rt('No workspaces found matching <span class="sk_primary_foreground bold">{query}</span>.',{query:n}),o=bm.t("Try searching for another workspace or searching for a coworker\u2019s workspace.",{fallbackHash:"0510ca1cd25051641bb2e75c9019d2edc16b225e"});return t.a.createElement("div",{className:"p-workspace_search__no-results-message"},t.a.createElement("p",{className:"margin_0"},a),t.a.createElement("p",{className:"margin_0"},o))}renderOptionsListHintText(){const{membersOnly:n}=this.props,a=n?bm.rt('Enter a coworker\u2019s <span class="sk_primary_foreground bold">name</span> or <span class="sk_primary_foreground bold">email address</span>.',{fallbackHash:"fe21e75f81eba52944f792242cfa57bbcae1a925"}):bm.rt('Enter a coworker\u2019s <span class="sk_primary_foreground bold">name</span> or <span class="sk_primary_foreground bold">email address</span>, or search for a <span class="sk_primary_foreground bold">specific workspace</span>.',{fallbackHash:"71ebad0616ccf32b3ee08f64956ebbaa36a7366c"});return t.a.createElement("div",{className:"p-workspace_search__no-results-message"},t.a.createElement("p",{className:"margin_0"},a))}render(){const{autoSelectFirstOption:n,className:a,displayValue:o,isLoading:i,labelId:l,membersOnly:m,name:h,onChange:p,onClearButtonClick:E,onClose:j,onFilterInputChange:I,onOutsideClick:G,onOpen:Y,onOptionHighlighted:se,onScroll:be,optionClassName:Ee,options:_e,optionsListOffsetBottom:ge,optionsListOffsetTop:ye,optionsListWidth:Ue,optionsRowHeight:Re,optionGroups:tt,pillarClassName:Ge,placeholder:Tt,selectedOption:yn,selectedValueClassName:xn,type:Pn,useFullWidthOptions:Lt,usePlaceholderOption:Vn,wrapperClassName:la,...Ta}=this.props,{filterQuery:ao}=this.state,qa=Object(g.default)("c-input_select__wrapper",la),po=Object(g.default)("c-input_select",{"c-input_select--active":this.state.isOpen,"c-input_select--short":Pn==="short"},a),Qo=Object(g.default)("p-workspace_search__clear-button",{hidden:!ao&&!o});return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:qa,onMouseDown:this.onWrapperMouseDownOrTouchStart,onMouseUp:this.onWrapperMouseUpOrTouchEnd,onTouchStart:this.onWrapperMouseDownOrTouchStart,onTouchEnd:this.onWrapperMouseUpOrTouchEnd,ref:this.setRef("wrapper"),role:"group"},t.a.createElement("div",hh({},Ta,{"aria-labelledby":l,className:po,"data-name":h,onBlur:this.onBlurred,onMouseDown:this.onClicked,onFocus:this.onFocused,ref:this.setRef("select")}),this.renderFilterInput()),this.renderOptionsListMaybe()),t.a.createElement(ct.d,{className:Qo,onClick:this.onClearInput,ref:this.setRef("closeButton")}))}constructor(n){if(!n.optionGroups&&!n.options)throw new Error('WorkspaceSearchSelect requires an "optionGroups" or "options" prop.');super(n),this.preventFocusAndBlur=!1,this.state={filterQuery:"",isOpen:!1,selectedOptionValue:""},Object(Kr.a)(this,["getFilteredOptions","getFilteredOptionGroups","onBlurred","onClearInput","onClicked","onFilterInputChanged","onFocused","onKeyPressedEsc","onKeyPressedUpOrDown","onOptionSelected","onOutsideClicked","onWrapperMouseDownOrTouchStart","onWrapperMouseUpOrTouchEnd","setRef"])}},"WorkspaceSearchSelect");ph.displayName="WorkspaceSearchSelect",ph.propTypes=rj,ph.defaultProps=ij;var cj=ph;function Up(){return Up=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Up.apply(this,arguments)}c(Up,"workspace_search_extends");const fm=new he.b("workspace_directory"),lj={className:Te.default.string,containerIdSelector:Te.default.string,fetchDirectoryWorkspaces:Te.default.func.isRequired,fetchMembers:Te.default.func.isRequired,focusOnMount:Te.default.bool,membersOnly:Te.default.bool,onClearInput:Te.default.func,onOptionsListOpened:Te.default.func,onOptionsListClosed:Te.default.func,prepopulatedOption:Te.default.object,triggerAction:Te.default.func},dj={className:"",containerIdSelector:"",focusOnMount:!0,membersOnly:!0,onClearInput:tn.a,onOptionsListClosed:tn.a,onOptionsListOpened:tn.a,prepopulatedOption:void 0,triggerAction:tn.a};let bh=c(class extends s.Component{componentDidMount(){const{prepopulatedOption:n,membersOnly:a}=this.props;Object(Je.a)(n)||this.setPrepopulatedOptionData(n),this.getOptionsFetcher(),a||(this.keyCommands=this.initKeyCommands())}componentDidUpdate(n){const{prepopulatedOption:a}=this.props,{prepopulatedOption:o}=n;!Object(Je.a)(a)&&a!==o&&this.setPrepopulatedOptionData(a)}componentWillUnmount(){this.keyCommands&&this.keyCommands.reset()}onChange(n){const{membersOnly:a}=this.props,{currentOptionsData:o,currentSearchQuery:i}=this.state;let l,m,h;if(n===Ld)l={id:Ld,displayValue:i},h=o;else if(a)l=Object(Ol.a)(o,{id:n}),m=Object(jl.e)(l),h=[l];else{l=Object(Ol.a)(Object(Zy.a)(Object(kr.a)(o)),{id:n});const p=hm(l);m=p?Object(jl.e)(l):Object(ea.a)(l,"name"),p?h={members:[l],workspaces:[]}:h={members:[],workspaces:[l]}}this.setState(()=>({value:n,selectedOptionData:l,currentSearchQuery:n===Ld?i:m,nextCursorMark:"*",currentOptionsData:h}),this.triggerActionWithValue)}onClearButtonClicked(){const{onClearInput:n}=this.props;this.clearInput(),n()}onClose(){const{onOptionsListClosed:n}=this.props;this.setIsAnOptionHighlighted(!1),n()}onFilterInputChange(n){const{triggerAction:a,membersOnly:o}=this.props;this.setIsLoading(!0),this.setSelectedOptionData(null),this.setPrepopulatedOptionData(null),this.setValue(null),o&&a({selectedOptionData:null}),this.getOptionsFetcher(n)}onKeyPressedEnter(){if(this.props.membersOnly)return;const{selectedOptionData:n,currentSearchQuery:a,isAnOptionHighlighted:o}=this.state;if(!a||o)return;const i=Object(ea.a)(this.select,"filterInput.value",a);n||(this.select.blur(),this.setState(()=>({selectedOptionData:{id:Ld,displayValue:i},currentSearchQuery:i,nextCursorMark:"*"}),this.triggerActionWithValue))}onOpen(){const{onOptionsListOpened:n}=this.props;n()}onOptionHighlighted(n){const a=!Object(Je.a)(n);this.setIsAnOptionHighlighted(a)}onScroll(n){const{currentSearchQuery:o,currentOptionsData:i=[],totalResultsCount:l}=this.state,{clientHeight:m,scrollHeight:h,scrollTop:p}=n;h-(p+m)<200&&i.length<l&&this.getOptionsFetcher(o,{doFetchNextPage:!0})}onSearchAgainTriggered(){this.select.onSearchAgainTriggered()}getBoundingRect(n){return this._workspaceSearchBoundingContainer||(this._workspaceSearchBoundingContainer=document.getElementById(n)),this._workspaceSearchBoundingContainer?this._workspaceSearchBoundingContainer.getBoundingClientRect():{}}getOptionsFetcher(n){let{forceNewSearch:a=!1,doFetchNextPage:o=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{currentSearchQuery:i}=this.state,{membersOnly:l}=this.props,m=l?this.fetchMemberData:this.fetchMemberAndWorkspaceData,h={searchTerm:n};return!o&&n===i&&!a?null:(h.nextCursorMark=i===n?this.state.nextCursorMark:"",this.setCurrentSearchQuery(n),m({args:h,forceNewSearch:a,newSearchQuery:n,stashedSearchQuery:i}))}getPlaceHolderText(n){const a=fm.t("Search for a coworker",{fallbackHash:"11e43c3e03ca9d0bfb9803a393b8dc33dd707df9"}),o=fm.t("Search");return n?a:o}setCurrentOptionGroupsData(n){let{memberOptionData:a,workspaceOptionData:o,isNewSearch:i,totalResultsCount:l,memberResultsCount:m=0,workspaceResultsCount:h=0}=n;const{currentOptionsData:p}=this.state;let E;const j=(m||h)&&!l?m+h:l;i?E={members:a,workspaces:o}:E={members:Object(Pr.a)(Object(ea.a)(p,"members"),a,"id"),workspaces:Object(Pr.a)(Object(ea.a)(p,"workspaces"),o,"id")},this.setState(()=>({currentOptionsData:E,totalResultsCount:j,memberResultsCount:m,workspaceResultsCount:h})),this.setIsLoading(!1)}setCurrentOptionsData(n){let{optionData:a,isNewSearch:o,totalResultsCount:i}=n;const{currentOptionsData:l}=this.state;let m;o?m=a:m=Object(Pr.a)(l,a,"id"),this.setState(()=>({currentOptionsData:m,totalResultsCount:i})),this.setIsLoading(!1)}setCurrentSearchQuery(n){this.setState(()=>({currentSearchQuery:n}))}setIsAnOptionHighlighted(n){this.setState(()=>({isAnOptionHighlighted:n}))}setIsLoading(n){this.setState(()=>({loadingResults:n}))}setNextCursorMark(n){this.setState(()=>({nextCursorMark:n}))}setPrepopulatedOptionData(n){this.setState(()=>({prepopulatedOptionData:n}))}setSelectRef(n){this.select=n}setSelectedOptionData(n){this.setState(()=>({selectedOptionData:n}))}setValue(n){this.setState(()=>({value:n}))}blur(){this.select.blur()}clearInput(){const{triggerAction:n}=this.props;this.setSelectedOptionData(null),this.setCurrentSearchQuery(null),this.setPrepopulatedOptionData(null),this.setValue(null),this.getOptionsFetcher(),n({selectedOptionData:null,type:null}),this.select.toggleOpenState()}fetchMemberAndWorkspaceData(n){let{args:a,forceNewSearch:o,newSearchQuery:i,stashedSearchQuery:l}=n;const{fetchMembers:m}=this.props,h=[m(a),this.props.fetchDirectoryWorkspaces(a)];return Zl.b.all(h).then(p=>{const{items:E=[],next_cursor_mark:j,num_found:I}=p[0],{items:G=[],next_cursor_mark:Y,num_found:se}=p[1];let be;!E.length&&j!=="*"&&!G.length&&Y!=="*"||(E.length&&!G.length?this.setNextCursorMark(j):G.length&&!E.length&&this.setNextCursorMark(Y),E.length&&!G.length?be=I:G.length&&!E.length&&(be=se),this.setCurrentOptionGroupsData({memberOptionData:E,workspaceOptionData:G,isNewSearch:o||l!==i,totalResultsCount:be,memberResultsCount:I,workspaceResultsCount:se}))})}fetchMemberData(n){let{args:a,forceNewSearch:o,newSearchQuery:i,stashedSearchQuery:l}=n;const{fetchMembers:m}=this.props;return m(a).then(h=>{const{items:p=[],next_cursor_mark:E,num_found:j}=h;!p.length&&E!=="*"||(this.setNextCursorMark(E),this.setCurrentOptionsData({optionData:p,isNewSearch:o||l!==i,totalResultsCount:j}))})}focus(){this.select.focus()}formatMemberOptionData(n){const a=Object(jl.e)(n),o=Object(ea.a)(n,"id");return{label:this.renderMemberItemTemplate({item:n,type:"member"}),value:o,displayValue:a}}formatMemberOptionsGroupsHeader(){const{memberResultsCount:n,selectedOptionData:a}=this.state,o=a?1:n;return fm.t("Search by coworker ({num})",{num:o})}formatOptionsDataArrayOrObject(n){const{membersOnly:a}=this.props;let o=[];if(a)o=Object(Ki.a)(n,i=>this.formatMemberOptionData(i));else{const{members:i,workspaces:l}=n,m=Object(ea.a)(i,"length",0),h=Object(ea.a)(l,"length",0);if(m){const p={label:this.formatMemberOptionsGroupsHeader(),options:[]},E=h>0?Object($y.a)(i,0,4):i;p.options=Object(Ki.a)(E,j=>this.formatMemberOptionData(j)),o.push(p)}if(h){const p={label:this.formatWorkspaceOptionsGroupsHeader(),options:[]};p.options=Object(Ki.a)(l,E=>this.formatWorkspaceOptionData(E)),o.push(p)}}return o}formatWorkspaceOptionData(n){const a=Object(ea.a)(n,"name"),o=Object(ea.a)(n,"id");return{label:this.renderMemberItemTemplate({item:n,type:"workspace"}),value:o,displayValue:a}}formatWorkspaceOptionsGroupsHeader(){const{prepopulatedOption:n}=this.props,{currentSearchQuery:a,workspaceResultsCount:o,selectedOptionData:i}=this.state,l=Object(ea.a)(n,"displayValue","")?Object(ea.a)(n,"displayValue",""):a,m=i?1:o,h=yl()?50:150,p=Object(ea.a)(l,"length",0)>h?`${l.slice(0,h)}...`:l;return fm.t("Workspaces matching \u201C{query}\u201D ({num})",{query:Object(he.k)(p),num:m})}initKeyCommands(){const n=new Wp.a;return n.bindAll([{keys:["enter"],handler:this.onKeyPressedEnter}]),n}triggerActionWithValue(){const{triggerAction:n}=this.props,{selectedOptionData:a}=this.state,o=hm(a)?"member":"workspace";n({selectedOptionData:a,type:o})}renderMemberItemTemplate(n){let{item:a,type:o}=n;return t.a.createElement(mh,{item:a,type:o,featureReactMessages:!0})}renderShowAllWorkspacesListItem(){const{currentSearchQuery:n}=this.state;return t.a.createElement("div",{className:"p-workspace_search_options_list_item"},t.a.createElement("div",{className:"p-workspace_search__search_icon_wrapper"},t.a.createElement(pn.a,{type:"search"})),t.a.createElement("div",{className:"p-workspace_search_options_list_item__content nudge_bottom_1"},t.a.createElement("div",{className:"p-workspace_search_options_list_item__alternate_content"},fm.rt('All workspace results for <span class="p-workspace_search_options_list_item__alternate_content--highlight">{query}</span>',{query:n}))))}render(){const{containerIdSelector:n,membersOnly:a,focusOnMount:o}=this.props,{value:i,currentOptionsData:l,loadingResults:m,currentSearchQuery:h,prepopulatedOptionData:p,selectedOptionData:E}=this.state,{bottom:j=0,top:I=0}=this.getBoundingRect(n),G={autoSelectFirstOption:!0,className:"p-workspace_search",displayValue:h,focusOnMount:o,isLoading:m,membersOnly:a,onChange:this.onChange,onClearButtonClick:this.onClearButtonClicked,onClose:this.onClose,onFilterInputChange:this.debouncedOnFilterInputChange,onOpen:this.onOpen,onOptionHighlighted:this.onOptionHighlighted,onScroll:this.onScroll,optionsListOffsetBottom:window.innerHeight-j,optionsListOffsetTop:I,optionsRowHeight:48,placeholder:this.getPlaceHolderText(a),pillarClassName:"p-workspace_search",selectedOption:E,usePlaceholderOption:!1,useFullWidthOptions:!0,value:i,wrapperClassName:"p-workspace_search__wrapper"};if(a?G.options=this.formatOptionsDataArrayOrObject(l):G.optionGroups=this.formatOptionsDataArrayOrObject(l),p&&!i)if(Object(ea.a)(p,"id")===Ld)G.selectedOption=p,G.displayValue=Object(ea.a)(p,"displayValue");else{const Y=hm(p)?this.formatMemberOptionData(p):this.formatWorkspaceOptionData(p);G.selectedOption=p,G.displayValue=Object(ea.a)(Y,"displayValue")}return t.a.createElement("div",{className:"position_relative"},t.a.createElement(cj,Up({},G,{ref:this.setSelectRef})))}constructor(n){super(n),this.state={nextCursorMark:"*",totalResultsCount:null,memberResultsCount:null,workspaceResultsCount:null,currentOptionsData:[],currentSearchQuery:"",prepopulatedOptionData:void 0,selectedOptionData:void 0,value:void 0,loadingResults:!0,isAnOptionHighlighted:!1},Object(Kr.a)(this,["clearInput","formatMemberOptionData","formatOptionsDataArrayOrObject","getOptionsFetcher","fetchMemberData","fetchMemberAndWorkspaceData","onChange","onClearButtonClicked","onFilterInputChange","onOptionHighlighted","onScroll","renderMemberItemTemplate","setIsAnOptionHighlighted","setCurrentSearchQuery","setIsLoading","setValue","triggerActionWithValue","onClose","onKeyPressedEnter","onOpen","setSelectRef"]),this.select=null,this.debouncedOnFilterInputChange=Object(qy.a)(this.onFilterInputChange,100)}},"WorkspaceSearch");bh.displayName="WorkspaceSearch",bh.propTypes=lj,bh.defaultProps=dj;const uj={fetchMembers:Lc.A,fetchDirectoryWorkspaces:Lc.l};var Hp=Object(Be.a)(null,uj,null,{forwardRef:!0})(bh),vm=e("i9y5"),wd=e("rAyg"),rv=e("Nyj0"),mj=e("6kzs"),iv=e("fDBt");function Fp(){return Fp=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Fp.apply(this,arguments)}c(Fp,"full_page_list_extends");let Kp=c(class extends rv.a{isScrolling(){return this.props.isScrolling}getContainerHeight(){return this.getContentHeight()}getScrollTop(){return this.props.scrollTop}setScrollTop(n){this.props.scrollElement&&(this.props.scrollElement instanceof HTMLElement?this.props.scrollElement.scrollTop=Math.ceil(n):this.props.scrollElement.scrollTo({top:Math.ceil(n)}))}getClassName(){return this.props.className}onScroll(n){this.relayout(),this.props.onScroll(n,{scrollTop:this.getScrollTop(),scrollHeight:this.getContentHeight(),clientHeight:this.props.height})}render(){const{width:n,height:a}=this.props;if(n===0||a===0)return null;const o=this.getClassName(),i=this.renderContents();return t.a.createElement("div",{className:o,style:{width:n,height:"auto"},onScroll:this.onScroll,role:this.props.role},i)}},"BaseFullLengthList");Kp.displayName="BaseFullLengthList",Kp.defaultProps={...rv.a.defaultProps,className:"",onScroll:tn.a,scrollElement:null,defaultRowHeight:200,topOffset:0,height:0,isScrolling:!1,scrollTop:0};const hj=t.a.memo(t.a.forwardRef(c(function(n,a){const{window:o,windowId:i,windowToken:l}=Object(s.useContext)(Z.a);return t.a.createElement(Kp,Fp({},n,{ref:a,window:o,windowId:i,windowToken:l}))},"FullLengthList")));let Vp=c(class extends s.PureComponent{getContentHeight(){return this.list.getContentHeight()}getVisibleRange(){return this.list.getVisibleRange()}setListRef(n){this.list=n}invalidateRowHeights(){this.heightCache.invalidate()}scrollToKey(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.list.scrollToKey(n,a)}render(){const{keys:n,className:a,rowRenderer:o,scrollElement:i,topOffset:l}=this.props,{height:m,isScrolling:h,scrollTop:p}=this.props,E=i||window;return t.a.createElement(go.a,{disableHeight:!0},j=>{let{width:I}=j;return t.a.createElement("div",{className:a},t.a.createElement(hj,{width:I,height:m,keys:n,layout:this.layout,rowRenderer:o,isScrolling:h,scrollTop:Math.max(p-l,0),scrollElement:E,ref:this.setListRef,topOffset:l}))})}constructor(n){super(n),this.heightCache=new iv.a({DEFAULT_HEIGHT:this.props.defaultRowHeight}),this.layout=new mj.a({heightCache:this.heightCache}),this.list=null,this.setListRef=this.setListRef.bind(this)}},"FullPageList");Vp.displayName="FullPageList";var fu=e("ycWl"),fh=e("oY18");const Bc=new he.b("grid_onboarding"),pj={orgName:Te.default.string,selectedMember:Te.default.object.isRequired,fetchDirectoryWorkspaces:Te.default.func.isRequired,scrollElement:Te.default.any,enqueueToast:Te.default.func,onFooterClick:Te.default.func,clogger:Te.default.object.isRequired},bj={orgName:"",scrollElement:window,enqueueToast:tn.a,onFooterClick:tn.a},fj=24,vj=1200,cv=Object(wt.b)();function gj(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Object(ic.a)(r,function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return n.discoverable==="open"||n.discoverable==="closed"||n.discoverable==="unlisted"&&n.is_assigned})}c(gj,"getJoinableWorkspaces");function Gp(r){let{totalWorkspaces:n,onWorkspaces:a}=r;return!n&&a}c(Gp,"hasNoAccessToWorkspaces");function lv(r){let{totalWorkspaces:n,onWorkspaces:a}=r;return!n&&!a}c(lv,"hasNoWorkspaces");function dv(){return{oneJoinableWorkspace:Bc.t("Join this workspace to start working with them on Slack."),moreThanOneJoinableWorkspaces:Bc.t("Join the workspace that seems right for your role to get started."),noAccess:Bc.t("Get in touch with them to be invited to a workspace they\u2019re in."),noWorkspaces:Bc.t("Try searching for someone else on your team."),onApiError:Bc.rt("You may want to try <a>reloading this page</a> and searching again, or try searching for someone else.",null,r=>{let{text:n,key:a,tag:o}=r;return o==="a"?t.a.createElement(Ra.a,{onClick:()=>Object(fu.a)({reason:"Search failure, user initiated reload via link in error message",reasonKey:"search_results_failure"}),target:"_self",key:a},n):{text:n}})}}c(dv,"initSubheadings"),dv.displayName="initSubheadings";const Oj=c(r=>{let{workspaces:n,noAccessToWorkspaces:a,noWorkspaces:o,hasApiError:i}=r;const l=dv();if(i)return l.onApiError;const m=gj(n).length;return m===1?l.oneJoinableWorkspace:m>1?l.moreThanOneJoinableWorkspaces:a?l.noAccess:o?l.noWorkspaces:""},"getSubheadingText"),Ej=c(r=>{let{noAccessToWorkspaces:n,noWorkspaces:a,memberRealName:o,totalWorkspaces:i,hasApiError:l}=r;return l?Bc.t("We ran into some trouble fetching {memberName}\u2019s workspaces",{memberName:Object(he.k)(o)}):n?Bc.t("{memberName} isn\u2019t in a workspace you have access to",{memberName:Object(he.k)(o)}):a?Bc.t("{memberName} hasn\u2019t joined a workspace",{memberName:Object(he.k)(o)}):Bc.t("{memberName} is in {numWorkspaces, plural, =1 {# workspace} other {# workspaces}}",{memberName:Object(he.k)(o),numWorkspaces:i})},"getHeadingText");let vh=c(class extends s.Component{componentDidMount(){window.addEventListener("resize",this.onResize),this.clientHeight=window.innerHeight,this.setSelectedMember(this.props.selectedMember)}componentDidUpdate(n,a){this.maybeFetchNextPage(a),this.maybeTriggerNewSearch(a),this.maybeUpdateMemberRealName(a)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}onButtonActionReject(n){let{node:a}=n;a&&this.setToastText(a)}onButtonActionResolve(n){let{node:a,i:o,workspace:i}=n;Object(Gf.a)(o)&&i&&this.setWorkspaceByIndex({index:o,workspace:i}),a&&this.setToastText(a)}onFooterClick(){this.props.onFooterClick()}onResize(){this.clientHeight=window.innerHeight;const n=yl(),a=this.state.isMobileView!==n;(n||a)&&this.resultsList.invalidateRowHeights()}onScroll(n){let{scrollTop:a,scrollHeight:o}=n;this.doInfiniteScrollHandler({scrollTop:a,scrollHeight:o})}onSearchAgainButtonClick(n){n.preventDefault(),n.stopPropagation();const a=this.searchBar;a!=null&&a.onSearchAgainTriggered&&a.onSearchAgainTriggered()}onSelectColleague(n){const{selectedOptionData:a}=n;a&&this.setSelectedMember(a)}getListKeys(){return this.state.workspaces?this.state.workspaces.map(n=>String(n.id)):[]}setHasApiError(n){this.setState(()=>({hasApiError:n}))}setListRef(n){this.resultsList=n}setLoadingWorkspaces(n){this.setState(()=>({loadingWorkspaces:n}))}setMemberRealName(n){this.setState(()=>({memberRealName:n}))}setSearchBarRef(n){this.searchBar=n}setSelectedMember(n){this.setState(()=>({selectedMember:n}))}setToastText(n){this.props.enqueueToast({element:t.a.createElement(wd.a,{position:"bottom-right",offsetY:50},n)})}setWorkspaceByIndex(n){let{index:a,workspace:o}=n;this.setState(i=>{const l=[].concat(i.workspaces);return a>=l.length?(cv.warn(`SearchResultsScreen: Out of bounds index ${a} passed into setWorkspaceByIndex`),i):(l[a]=o,{workspaces:l})})}setWorkspaceFetchOptions(n){let{workspaces:a,totalWorkspaces:o,onWorkspaces:i,nextCursorMark:l}=n;this.setState(()=>({workspaces:a,totalWorkspaces:o,onWorkspaces:i,nextCursorMark:l}))}clearWorkspaceFetchOptions(){this.setWorkspaceFetchOptions({workspaces:[],totalWorkspaces:0,onWorkspaces:!1,nextCursorMark:null})}doInfiniteScrollHandler(n){let{scrollTop:a,scrollHeight:o}=n;const i=this.hasScrolledWithinScrollThreshold({scrollTop:a,scrollHeight:o});i&&!this.hasFetchedAllWorkspaces()?this.setLoadingWorkspaces(!0):!i&&this.hasFetchedAllWorkspaces()&&this.setLoadingWorkspaces(!1)}fetchWorkspaces(){const{nextCursorMark:n,selectedMember:a}=this.state;return this.setHasApiError(!1),this.props.fetchDirectoryWorkspaces({nextCursorMark:n,id:Object(ea.a)(a,"id"),type:"single_user"}).then(o=>{this.setLoadingWorkspaces(!1);const{num_found:i,on_workspaces:l,items:m}=o,h=m?[].concat(this.state.workspaces,m):[];this.setWorkspaceFetchOptions({workspaces:h,totalWorkspaces:i,onWorkspaces:l,nextCursorMark:o.next_cursor_mark}),n||Uy({anchorPage:"grid_onboarding",numSearchResults:Object(ea.a)(o,"num_found",0),clogger:this.props.clogger})}).catch(o=>{this.setHasApiError(!0),this.setLoadingWorkspaces(!1),cv.error("SearchResultsScreen: Error in FetchWorkspaces -",o)})}hasFetchedAllWorkspaces(){return this.state.workspaces.length===this.state.totalWorkspaces}hasScrolledWithinScrollThreshold(n){let{scrollHeight:a,scrollTop:o}=n;return a-(o+this.clientHeight)<vj}maybeFetchNextPage(n){!n.loadingWorkspaces&&this.state.loadingWorkspaces&&this.fetchWorkspaces()}maybeTriggerNewSearch(n){n.selectedMember!==this.state.selectedMember&&(this.clearWorkspaceFetchOptions(),this.setLoadingWorkspaces(!0))}maybeUpdateMemberRealName(n){if(n.selectedMember!==this.state.selectedMember){const a=Object(jl.e)(this.state.selectedMember);this.setMemberRealName(a)}}renderFooter(){const{orgName:n}=this.props,a=Object(g.default)("p-grid_onboarding__footer","p-grid_onboarding__footer_link",{margin_top_250:!this.noWorkspacesToDisplay||!this.doRenderSearchAgainButton,margin_top_150:this.noWorkspacesToDisplay});return t.a.createElement(Ra.a,{onClick:this.onFooterClick,className:a},Bc.rt("View all {orgName} workspaces",{orgName:n}),t.a.createElement(pn.a,{legacy:!0,type:"chevron-right",key:"footer-chevron-icon",className:"p-grid_onboarding__footer_icon"}))}renderHeading(){const{totalWorkspaces:n,selectedMember:a,hasApiError:o}=this.state,i=Object(jl.e)(a),l=Ej({noAccessToWorkspaces:this.userHasNoAccessToWorkspaces,noWorkspaces:this.memberHasNoWorkspaces,totalWorkspaces:n,memberRealName:i,hasApiError:o}),m=Object(g.default)("p-grid_onboarding__results_heading_container",{align_center:this.noWorkspacesToDisplay});return t.a.createElement("div",{className:m},t.a.createElement("span",{className:"p-grid_onboarding__results_heading"},t.a.createElement(_l.a,{entityType:"member",dimension:fj,entityData:a,featureReactMessages:!0,customClasses:"p-grid_onboarding_results__icon"}),l))}renderInfiniteSpinner(){return t.a.createElement("div",{className:"p-grid_onboarding__spinner"},t.a.createElement(vm.a,{size:"jumbo",className:"inline_block full_width margin_top_200"}))}renderResults(){const{loadingWorkspaces:n,selectedMember:a}=this.state;return n&&this.memberHasNoWorkspaces||!a?this.renderInfiniteSpinner():t.a.createElement(t.a.Fragment,null,this.renderHeading(),this.renderSubheading(),!this.noWorkspacesToDisplay&&this.renderWorkspaceList(),n&&this.renderInfiniteSpinner(),this.doRenderSearchAgainButton&&this.renderSearchAgainButton(),!n&&this.renderFooter())}renderSearchAgainButton(){return t.a.createElement("div",{className:"display_flex justify_content_center margin_top_150"},t.a.createElement(ct.f,{type:"outline",onClick:this.onSearchAgainButtonClick},Bc.t("Search Again")))}renderSearchBar(){return t.a.createElement("div",{className:"p-grid_onboarding_results__search"},t.a.createElement(Hp,{triggerAction:this.onSelectColleague,containerIdSelector:"colleagueSearchResults",membersOnly:!0,className:"margin_bottom_200",prepopulatedOption:this.props.selectedMember,ref:this.setSearchBarRef}))}renderSubheading(){const{workspaces:n,hasApiError:a}=this.state,o=Oj({workspaces:n,noAccessToWorkspaces:this.userHasNoAccessToWorkspaces,noWorkspaces:this.memberHasNoWorkspaces,hasApiError:a}),i=Object(g.default)("p-grid_onboarding__results_subheading",{align_center:this.noWorkspacesToDisplay});return t.a.createElement("div",{className:i},o)}renderWorkspaceCard(n){const{workspaces:a,totalWorkspaces:o}=this.state,i=Object(g.default)("p-grid_onboarding_results__list_item",{margin_bottom_0:n===o-1});return t.a.createElement(nv,{team:a[n],size:"large",className:i,onActionResolve:l=>this.onButtonActionResolve({...l,i:n}),onActionReject:l=>this.onButtonActionReject({...l,i:n}),anchorPage:"grid_onboarding"})}renderWorkspaceList(){const{scrollElement:n}=this.props;return t.a.createElement(El.j,{scrollElement:n,onScroll:this.onScroll},a=>{let{height:o,isScrolling:i,onChildScroll:l,scrollTop:m,registerChild:h}=a;return t.a.createElement("div",{className:"p-grid_onboarding_results__list",ref:h},t.a.createElement(Vp,{keys:this.getListKeys(),rowRenderer:this.renderWorkspaceCard,ref:this.setListRef,scrollElement:n,onScroll:l,height:o,isScrolling:i,scrollTop:m,overscanRatio:1/0}))})}render(){const{totalWorkspaces:n,onWorkspaces:a,loadingWorkspaces:o,hasApiError:i,selectedMember:l}=this.state;return Object(Je.a)(l)?null:(this.userHasNoAccessToWorkspaces=Gp({totalWorkspaces:n,onWorkspaces:a}),this.memberHasNoWorkspaces=lv({totalWorkspaces:n,onWorkspaces:a}),this.noWorkspacesToDisplay=this.userHasNoAccessToWorkspaces||this.memberHasNoWorkspaces,this.doRenderSearchAgainButton=!o&&this.noWorkspacesToDisplay&&!i,t.a.createElement("div",{className:"p-grid_onboarding__results",id:"colleagueSearchResults"},this.renderSearchBar(),this.renderResults()))}constructor(n){super(n),this.state={isMobileView:!1,loadingWorkspaces:!1,nextCursorMark:null,memberRealName:"",selectedMember:{},workspaces:[],totalWorkspaces:0,onWorkspaces:!1,hasApiError:!1},this.resultsList=null,this.searchBar=null,this.userHasNoAccessToWorkspaces=!1,this.memberHasNoWorkspaces=!1,this.noWorkspacesToDisplay=!1,this.doRenderSearchAgainButton=!1,Object(Kr.a)(this,["onFooterClick","onResize","onScroll","setListRef","setSearchBarRef","renderWorkspaceCard","getListKeys","onSearchAgainButtonClick","onSelectColleague","setWorkspaceFetchOptions","fetchWorkspaces","onButtonActionReject","onButtonActionResolve","setToastText","setLoadingWorkspaces"])}},"SearchResultsScreen");vh.displayName="SearchResultsScreen",vh.propTypes=pj,vh.defaultProps=bj;const _j=c((r,n)=>{let{selectedMember:a}=n;const o=Object(nn.m)(r),i=Object(Rr.a)({state:r});return{selectedMember:a,orgName:o,clogger:i}},"search_results_screen_mapStateToProps"),Cj={enqueueToast:fh.a,fetchDirectoryWorkspaces:Lc.l};var tw=Object(Be.a)(_j,Cj)(vh);function zp(){return zp=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},zp.apply(this,arguments)}c(zp,"workspace_directory_banner_extends");let Yp=c(class extends s.PureComponent{onClose(n){this.props.onClose(n)}onKeyPress(n){return n.preventDefault(),n.which===13?this.props.onClose(n):null}renderBannerText(){const{title:n,description:a}=this.props;return t.a.createElement("div",{className:"p-workspace_directory_banner__text"},t.a.createElement("div",{className:"p-workspace_directory_banner__title"},n),t.a.createElement("span",{className:"p-workspace_directory_banner__description"},a))}renderCloseButton(){const{isHidden:n}=this.props;return t.a.createElement(ct.d,{tabIndex:n?-1:0,className:"p-workspace_directory_banner__close_btn",onClick:this.onClose,onKeyPress:this.onKeyPress},t.a.createElement(pn.a,{type:"times"}))}render(){const{showCloseButton:n,className:a,refToForward:o}=this.props,i=Object(g.default)("p-workspace_directory_banner",a);return t.a.createElement("div",{ref:o,className:i},this.renderBannerText(),n&&this.renderCloseButton())}constructor(n){super(n),this.onClose=this.onClose.bind(this),this.onKeyPress=this.onKeyPress.bind(this)}},"WorkspaceDirectoryBanner");Yp.displayName="WorkspaceDirectoryBanner",Yp.defaultProps={title:"",description:"",showCloseButton:!1,onClose:tn.a,className:"",isHidden:!0,refToForward:null};var uv=t.a.forwardRef((r,n)=>t.a.createElement(Yp,zp({refToForward:n},r))),yj=e("HOkk"),mv=e("aolG");function Jp(){return Jp=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Jp.apply(this,arguments)}c(Jp,"workspace_directory_dialog_extends");const Bd=new he.b("workspace_directory");let Xp=c(class extends s.Component{componentDidMount(){const{team:n}=this.props;this.setWorkspace(n),this.fetchWorkspaceInfo()}onWorkspaceLeave(n){const{team:a,onLeaveReject:o,onLeaveResolve:i,onDone:l}=this.props;return n.preventDefault(),this.props.callLeaveWorkspace({teamId:a==null?void 0:a.id}).then(()=>i({workspace:{...a,is_member:!1}})).then(()=>l()).catch(m=>o({node:t.a.createElement("span",null,Bd.rt("Workspace couldn\u2019t be left. Please reload and try again.")),err:m}))}getTitleAria(){const{name:n=""}=this.state.team;return n||"Workspace Name"}setLoading(n){this.setState(()=>({loading:n}))}setWorkspace(n,a){this.setState(()=>({team:n}),a)}canLeaveWorkspace(){const{is_member:n,can_leave:a}=this.state.team,{isGuest:o}=this.props;return n&&a&&!o}fetchWorkspaceInfo(){const{id:n}=this.props.team;return this.setLoading(!0),this.props.fetchEnterpriseTeamById({teamId:n,additionalOptions:{include_admins:!0}}).then(a=>{this.setWorkspace(a,()=>this.setLoading(!1))})}listifyAdminRealNames(n){const a=Object(Ki.a)(n,o=>Object(jl.e)(o));return Object(he.h)(a,{noEscape:!0})}renderButton(){const{onActionReject:n,onActionResolve:a,redir:o}=this.props,{team:i,loading:l}=this.state;if(l)return null;const h=!(Object(Ye.i)()||Object(Ql.a)()&&Object(sn.b)());return t.a.createElement($f,{redir:o,team:i,customClasses:"margin_top_100",buttonContext:"dialog",onActionReject:n,onActionResolve:a,anchorPage:"workspace_directory",size:"medium",doLaunchInNewTab:h,channelRedirect:this.props.channelRedirect,postLaunchAction:this.props.postLaunchAction,userIdFromURL:this.props.userIdFromURL,doUpsertJoin:!0})}renderDialogBody(){if(this.state.loading)return this.renderInfiniteSpinner();const{description:n,admins:a,user_counts:o}=this.state.team,i=[];n&&i.push({heading:Bd.t("About"),text:n,key:"dialog-description"}),i.push({heading:Bd.t("Active members"),text:Bd.t("{activeMembers}",{activeMembers:Object(qf.a)(Object(ea.a)(o,"active_members",0))}),key:"dialog-active-members"},{heading:Bd.t("Workspace admins"),text:this.listifyAdminRealNames(a),key:"dialog-admins"});const l=c(m=>t.a.createElement("div",{key:m.key},t.a.createElement("p",{className:"margin_bottom_25 bold"},m.heading),t.a.createElement("p",null,m.text)),"renderParagraph");return t.a.createElement("div",{className:"p-workspace_directory_dialog__body"},i.map(m=>l(m)))}renderDialogFooter(){return t.a.createElement(ct.d,{className:"p-workspace_directory_dialog__leave",onClick:this.onWorkspaceLeave},Bd.t("Leave this workspace"))}renderDialogHeader(n){const{team:a}=this.state,{name:o="",domain:i=""}=a,l=Object(g.default)("p-workspace_directory_dialog__header",{"p-workspace_directory_dialog__header--mobile":yl()});return t.a.createElement("div",{className:l},t.a.createElement(_l.a,{entityType:"workspace",dimension:100,entityData:a,featureReactMessages:!0}),t.a.createElement("div",{className:"p-workspace_directory_dialog__name"},Bd.t("{name}",{name:Object(he.k)(o)})),t.a.createElement("div",{className:"p-workspace_directory_dialog__domain"},`${i}.${Object(Zr.n)()}`),this.renderDialogHeaderCaption(n),this.renderButton())}renderDialogHeaderCaption(n){const{loading:a}=this.state;return a||!n?null:t.a.createElement("span",{className:"p-workspace_directory_dialog__caption"},t.a.createElement(pn.a,{size:"inherit",type:"exclamation-circle",align:"baseline",className:"margin_right_25",legacy:!0}),n)}renderDialogOnMobile(n){const a=this.canLeaveWorkspace();return t.a.createElement(mv.a,{showCancelButton:!1,showCloseButton:!1,showGoButton:!1,position:"fixed",modalBodyClasses:"p-workspace_directory_dialog--mobile"},this.renderDialogHeader(n),t.a.createElement("div",{className:"p-workspace_directory_dialog__contents--mobile"},this.renderDialogBody(),a&&this.renderDialogFooter()))}renderInfiniteSpinner(){return t.a.createElement("div",{className:"overflow_hidden margin_100"},t.a.createElement(vm.a,{size:"jumbo",className:"inline_block full_width"}))}render(){const{team:n}=this.state,a=Qf(n,{context:"dialog"});if(yl())return this.renderDialogOnMobile(a);const{displayDirectoryInModal:o}=this.props,i=Object(g.default)("p-workspace_directory_dialog",{"p-workspace_directory_dialog--focus_ring":!o});let l={contentLabel:a,className:i,showCloseButton:!0,showCancelButton:!1,showGoButton:!1,showHeader:!0,title:this.renderDialogHeader(a),titleAria:this.getTitleAria(),useSlackScrollbar:!1,showFooter:!1,shouldCloseOnOverlayClick:!0,invertCloseButton:!0};return this.canLeaveWorkspace()&&(l={...l,showFooter:!0,footerText:this.renderDialogFooter()}),t.a.createElement(yj.a,Jp({},l),this.renderDialogBody())}constructor(n){super(n),this.state={team:{},loading:!1},this.onWorkspaceLeave=this.onWorkspaceLeave.bind(this),this.setLoading=this.setLoading.bind(this)}},"WorkspaceDirectoryDialog");Xp.displayName="WorkspaceDirectoryDialog",Xp.defaultProps={callLeaveWorkspace:tn.a,onClose:tn.a,onActionResolve:tn.a,onActionReject:tn.a,fetchEnterpriseTeamById:tn.a,onLeaveReject:tn.a,onLeaveResolve:tn.a,onDone:tn.a,fetchTeam:tn.a,isGuest:!1,displayDirectoryInModal:!1,channelRedirect:null,postLaunchAction:null,userIdFromURL:null,redir:null};const jj={callLeaveWorkspace:Lc.f,fetchEnterpriseTeamById:Lc.m};var Sj=Object(Be.a)(null,jj)(Xp),hv=e("um7Q"),Ij=e("Efzj");function Qp(){return Qp=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Qp.apply(this,arguments)}c(Qp,"navigation_bar_extends");let Zp=c(class extends s.Component{renderCenterContents(){const{centerClassName:n,renderCenterContents:a}=this.props,o=Object(g.default)("p-navigation_bar__center",n);return t.a.createElement("div",{className:o},a&&a())}renderLogo(){const{logoLink:n,logoAriaLabel:a,logoLinkProps:o,renderLogo:i}=this.props;if(i)return i();const l=t.a.createElement("div",{className:"p-navigation_bar__logo","data-qa":"nav_bar_logo","aria-label":"Slack"});return n?t.a.createElement(Ij.a,Qp({href:n,"aria-label":a,className:"flex_none"},o),l):l}renderRightContents(){const{rightClassName:n,renderRightContents:a}=this.props,o=Object(g.default)("p-navigation_bar__right",n);return t.a.createElement("div",{className:o},a&&a())}renderTitle(){const{title:n,team:a,isEnterprise:o}=this.props;return t.a.createElement("div",{className:"p-navigation_bar__heading"},t.a.createElement(_l.a,{entityType:o?"org":"workspace",dimension:28,entityData:a,customClasses:"flex_none",featureReactMessages:!0}),t.a.createElement("span",{className:"p-navigation_bar__title nudge_bottom_1"},n))}render(){const{title:n}=this.props;return t.a.createElement("nav",{className:"p-navigation_bar"},t.a.createElement("div",{className:"p-navigation_bar__left"},this.renderLogo(),n&&this.renderTitle()),this.renderCenterContents(),this.renderRightContents())}},"NavigationBar");Zp.displayName="NavigationBar",Zp.defaultProps={logoLink:null,logoAriaLabel:null,logoLinkProps:{},title:null,team:{},isEnterprise:null,renderRightContents:tn.a,centerClassName:null};var Tj=Zp,Aj=Tj,pv=e("+tZp");function $p(){return $p=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},$p.apply(this,arguments)}c($p,"workspace_directory_header_extends");const gm=new he.b("workspace_directory");let qp=c(class extends s.Component{onMenuItemSelected(n,a){a.preventDefault();const o=`${window.location.origin}/account/settings`;switch(n){case"settings":window.open(o,"_self");break;default:}return null}onSelectOption(n){this.props.onOptionSelected(n)}maybeRenderManageOrganizationButton(){if(!this.props.displayManageOrgButton)return null;const n=gm.t("Manage Organization",{fallbackHash:"35677e6e3c1751d4a193cc6db0f31a75016c019f"});return t.a.createElement(ct.f,{"data-qa":"ws_directory_manage_org_button",className:"p-workspace_directory_header__manage_org no_underline nudge_bottom_1",type:"outline",href:"/manage",target:"_blank"},n)}maybeRenderSearchBar(){const{selectedSearchOption:n}=this.props;return!this.props.displaySearchBar||this.props.isMobileView?null:t.a.createElement("div",{className:"p-workspace_directory_header__search","data-qa":"ws_directory_search_bar"},t.a.createElement(Hp,{prepopulatedOption:n,membersOnly:!1,containerIdSelector:"directory_mount_point",triggerAction:this.onSelectOption,onClearInput:this.props.onClearHeaderInput,focusOnMount:!1}))}renderAvatar(){const{user:n}=this.props;return t.a.createElement(Yn.e,{"data-qa":"ws_directory_user_menu_trigger",renderMenu:this.renderUserMenu,position:"bottom-right",offsetX:0,offsetY:7.5},t.a.createElement(ct.d,{className:"p-workspace_directory_header__user_icon"},t.a.createElement(_l.a,{entityType:"member",dimension:36,entityData:n,customClasses:"flex_none cursor_pointer",featureReactMessages:!0,isInteractive:!1})))}renderUserMenu(n){const{prefCompliantMemberName:a,enterprise:o,signoutUrl:i}=this.props,l=c(()=>t.a.createElement(Yn.b,{key:"workspace_directory_user_menu_name",label:t.a.createElement("span",{className:"black"},a),description:gm.t("Account settings",{fallbackHash:"e32707613d1f53b92e6162cc5ddb4a9bb58a2ec6"}),href:"/account/settings",onSelected:h=>this.onMenuItemSelected("settings",h),className:"no_underline"}),"renderAccountSettingsMenuItem"),m=c(()=>t.a.createElement(Yn.b,{key:"workspace_directory_user_menu_sign_out",label:gm.t("Sign out of {orgName}",{orgName:Object(he.k)(o.name)}),href:i,className:"no_underline",showLinkIndicatorIcon:!1,target:"_self",danger:!0}),"renderSignoutMenuItem");return t.a.createElement(Yn.f,$p({},n,{menuClassNames:"p-workspace_directory_header__menu","data-qa":"ws_directory_user_menu"}),l(),t.a.createElement(Yn.d,null),m())}renderUserSettings(){return t.a.createElement("div",{className:"p-workspace_directory_header__settings"},this.maybeRenderManageOrganizationButton(),this.renderAvatar())}render(){const{enterprise:n,isMobileView:a,organizationUrl:o}=this.props,i=a?gm.t("Directory"):gm.t("Workspace Directory");return t.a.createElement(Aj,{"data-qa":"ws_directory_header",title:i,team:n,isEnterprise:!0,logoAriaLabel:"Slack",logoLink:o,renderRightContents:this.renderUserSettings,renderCenterContents:this.maybeRenderSearchBar})}constructor(n){super(n),Object(Kr.a)(this,["maybeRenderSearchBar","onSelectOption","onMenuItemSelected","renderUserMenu","renderUserSettings"])}},"WorkspaceDirectoryHeader");qp.displayName="WorkspaceDirectoryHeader",qp.defaultProps={isMobileView:!1,displayManageOrgButton:!1,displaySearchBar:!1,prefCompliantMemberName:"",organizationUrl:"",selectedSearchOption:{},onOptionSelected:tn.a,onClearHeaderInput:tn.a};const Nj=c((r,n)=>{let{user:a,enterprise:o={}}=n;return{signoutUrl:Object(vt.e)(r,"signout_url"),prefCompliantMemberName:Object(pv.a)(r,a),organizationUrl:Object(hv.b)(r,o.domain)}},"workspace_directory_header_mapStateToProps");var kj=Object(Be.a)(Nj)(qp),bv=e("XhtD");function eb(){return eb=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},eb.apply(this,arguments)}c(eb,"workspace_grid_list_extends");let tb=c(class Sy extends s.PureComponent{static getUpdatedRowIndex(n){let{currentRow:a=0,prevColumns:o=0,updatedColumns:i=0}=n;if(!a)return 0;if(o===i)return a;const l=a*o;return Math.floor(l/i)}componentDidMount(){window.addEventListener("resize",this.onResize),this.calculateColumns()}componentDidUpdate(n,a){if(this.state.columns!==a.columns){var o;const i=Sy.getUpdatedRowIndex({currentRow:this.currentRow,prevColumns:a.columns,updatedColumns:this.state.columns});this.currentRow=i;const l=this.getKeyForRow(i);this.keys.length&&((o=this.list)===null||o===void 0||o.scrollToKey(l))}}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}onResize(){var n;const{start:a}=(n=this.list)===null||n===void 0?void 0:n.getVisibleRange();a?this.currentRow=a:this.currentRow=0,this.calculateColumns()}onScroll(n){return this.props.onScroll(n)}getContentHeight(){var n;return(n=this.list)===null||n===void 0?void 0:n.getContentHeight()}getKeyForRow(n){return this.keys[n]}getListKeys(){return this.keys}getWorkspacesByRowIndex(n){const{columns:a}=this.state,{workspaces:o}=this.props,i=this.rowsByIndex[n],l=Math.min(i+a,o.length);return Object(bv.a)(i,l)}setColumns(n){this.setState(()=>({columns:n}))}setListRef(n){this.list=n}calculateColumns(){const n=window.innerWidth;let a=3;yl(n)?a=1:Ry(n)?a=2:a=3,this.state.columns!==a&&this.setColumns(a)}renderCell(n){const{workspaces:a,renderWorkspaceCard:o}=this.props,i=a[n];return i?t.a.createElement("div",{className:"p-workspace_grid_list__cell",key:`grid_list_cell_${n}`},o(i)):null}renderRow(n){const a=this.getWorkspacesByRowIndex(n),o=Object(g.default)("p-workspace_grid_list__row",{"p-workspace_grid_list__row--one_column":this.state.columns===1});return t.a.createElement("div",{className:o},a.map(i=>this.renderCell(i)))}render(){const{topOffset:n,scrollElement:a,...o}=this.props;return this.rowsByIndex=Object(bv.a)(0,this.props.workspaces.length,this.state.columns),this.keys=this.rowsByIndex.map(i=>i.toString()),t.a.createElement(Vp,eb({keys:this.getListKeys(),rowRenderer:this.renderRow,ref:this.setListRef,scrollElement:this.props.scrollElement,onScroll:this.onScroll,topOffset:this.props.topOffset},o))}constructor(n){super(n),Object(Kr.a)(this,["onScroll","onResize","setListRef","getListKeys","renderRow","renderCell"]),this.state={columns:3},this.list=null,this.keys=[],this.rowsByIndex=[],this.currentRow=0}},"WorkspaceGridList");tb.displayName="WorkspaceGridList",tb.defaultProps={scrollElement:window,onScroll:tn.a,renderWorkspaceCard:tn.a,topOffset:0};var Pj=tb,Mj=e("Vfgr"),Dj=e("7JUD");const Sl=new he.b("enterprise_workspaces"),Rj={closeModal:Te.default.func,enqueueToast:Te.default.func,requestCreateWorkspaceApi:Te.default.func},xj={closeModal:tn.a,enqueueToast:tn.a,requestCreateWorkspaceApi:tn.a},fv=255,vv=512,Lj={name:"check-circle"},vu={required:"required",nameTaken:"nameTaken",maxLength:"maxLength"};function gh(r){let{closeModal:n,requestCreateWorkspaceApi:a,enqueueToast:o}=r;const[i,l]=Object(s.useState)(),[m,h]=Object(s.useState)(),[p,E]=Object(s.useState)(!1),[j,I]=Object(s.useState)(!1),[G,Y]=Object(s.useState)(vu.required),[se,be]=Object(s.useState)(vu.required);function Ee(){I(!1),E(!0),a({workspaceName:i,workspaceMessage:m,reason:"workspace_directory_request_new_workspace"}).then(()=>{o({element:t.a.createElement(wd.a,{position:"bottom-right",offsetY:50,svgIconProps:Lj},t.a.createElement("span",null,Sl.rt("Request to create <b>{teamName}</b> sent! You\u2019ll be notified once it\u2019s reviewed.",{teamName:i,fallbackHash:"bcd78b90fe6edca94ab36bd728070ebcb90c9ff3",fallbackHashNs:"workspace_directory"})))}),n()}).catch(Ue=>{let{data:Re}=Ue;E(!1),Re.error==="name_taken"?Y(vu.nameTaken):I(!0)})}c(Ee,"handleSubmit"),Ee.displayName="handleSubmit";function _e(Ue,Re){let{maxLength:tt}=Re;const Ge=Object(Mj.a)(Ue);if(!Ge)return vu.required;if(tt&&Ge.length>tt)return vu.maxLength}c(_e,"getValidationError");function ge(Ue){I(!1),l(Ue);const Re=_e(Ue,{maxLength:fv});Y(Re)}c(ge,"onWorkspaceNameChange");function ye(Ue){I(!1),h(Ue);const Re=_e(Ue,{maxLength:vv});be(Re)}return c(ye,"onWorkspaceMessageChange"),t.a.createElement(Dj.a,{labelledby:"request_workspace__title-bar",centered:!0,closeModal:n},t.a.createElement(ta.i,null,t.a.createElement(ta.l,{id:"request_workspace__title-bar",title:Sl.t("Request creation of a new workspace")})),t.a.createElement(ta.d,null,t.a.createElement(ta.e,null,j&&t.a.createElement(Wi.d,{level:"error",className:"margin_bottom_100"},Sl.t("Sorry! Something went wrong. Please try again.",{fallbackHash:"48faa2ac6ac6d273cd7dacbe15a5b6f7e1822087",fallbackHashNs:"edit_profile"})),t.a.createElement("p",null,Sl.t("To create a new workspace, you\u2019ll need to send a request to an organization administrator. Before sending this request, be sure to check the Find Workspaces list to see whether a similar workspace already exists.")),t.a.createElement(qs.b,{htmlFor:"p-request-workspace__name_input",id:"p-request-workspace__name_label",text:Sl.t("Workspace Name")},t.a.createElement(pi.a,{ariaDescribedby:"p-request-workspace__name_label",id:"p-request-workspace__name_input",name:"workspace_name",size:"large",useInlineAlert:!0,onChange:ge,errorText:G===vu.nameTaken?Sl.t("That workspace name is already taken.",{fallbackHash:"26cf402314e8bf926ba97077c467adcadb1c715e",fallbackHashNs:"enterprise_dashboard"}):void 0,value:i,isRequired:!0,minCharacterLimit:1,maxCharacterLimit:fv})),t.a.createElement(qs.b,{htmlFor:"p-request-workspace__message_input",id:"p-request-workspace__message_label",text:Sl.t("Message to administrators")},t.a.createElement(Ss.a,{ariaDescribedby:"p-request-workspace__message_label",id:"p-request-workspace__message_input",name:"workspace_message",size:"large",useInlineAlert:!0,onChange:ye,value:m,isRequired:!0,minCharacterLimit:1,maxCharacterLimit:vv})))),t.a.createElement(ta.g,null,t.a.createElement(ta.h,null,t.a.createElement(ta.c,{"data-qa":"request_workspace_dialog_cancel_button",type:"outline"},Sl.t("Cancel")),t.a.createElement(ta.c,{"data-qa":"request_workspace_dialog_go_button",onClick:Ee,loading:p,disabled:!!(se||G||j)},Sl.t("Send Request")))))}c(gh,"RequestWorkspaceDialog"),gh.displayName="RequestWorkspaceDialog",gh.propTypes=Rj,gh.defaultProps=xj;const wj={closeModal:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(Yo.a)(...n)},enqueueToast:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(fh.a)(...n)},requestCreateWorkspaceApi:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(Lc.x)(...n)}};var Bj=Object(Be.a)(null,wj)(gh),Wj=Bj,Uj=e("CPJ1"),Oh=e("Awbm"),gv=e("n5Lk"),gu=e("T1zM");function Eh(){return Eh=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Eh.apply(this,arguments)}c(Eh,"workspace_directory_extends");const Br=new he.b("workspace_directory"),Hj=300,_h=Object(wt.b)();let nb=c(class Vm extends s.Component{static sortListByWorkspaceName(n){return Object(ri.a)(n,a=>a.name)}componentDidMount(){this.setIsMobileView(yl()),window.addEventListener("resize",this.onResize),this.clientHeight=window.innerHeight,this.setLoadingWorkspaces("allWorkspaces",!0),this.setLoadingWorkspaces("yourWorkspaces",!0),this.props.launchTeamId&&(this.trackingCode="workspace_url",this.fetchTeam(this.props.launchTeamId));const{hasSeenOnboardingBanner:n}=this.props;this.setHideOnboardingBanner(n),By({trackingCode:this.trackingCode,clogger:this.props.clogger}),this.props.clogger.track(Oe.EventId.AUTH_ENTERPRISE_WORKSPACES,{contexts:{ui_context:{action:Oe.UiAction.IMPRESSION}}});const a=this.props.queryString&&Object(ea.a)(this.props.queryString,"user",null);a&&this.fetchSingleMemberToPrepopulate(a);const o=this.props.queryString&&Object(ea.a)(this.props.queryString,"redir",null);o&&(this.redir=o)}componentDidUpdate(n,a){this.headerPane&&(this.headerPaneHeight=this.headerPane.clientHeight);const o=this.getListHeight("yourWorkspaces");if(o!==this.state.allWorkspaces.topOffset&&this.setListTopOffset({workspaceListKey:"allWorkspaces",topOffset:o}),!this.props.hasSeenOnboardingBanner&&this.onboardingBanner&&!this.onboardingBannerHeight&&(this.onboardingBannerHeight=this.onboardingBanner.clientHeight),!a.hideOnboardingBanner&&this.state.hideOnboardingBanner){var i;(i=this.windowScroller)===null||i===void 0||i.updatePosition()}a.selectedOption!==this.state.selectedOption&&this.fetchSearchResults(),this.maybeFetchNextPage(a)}componentWillUnmount(){window.removeEventListener("resize",this.onResize)}onActionReject(n){let{node:a,err:o}=n;a&&this.setToastText(a),_h.error("Error with Workspace Action in WorkspaceDirectory - ",o)}onActionResolve(){let{node:n,workspace:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(a)if(a.member){if(this.onWorkspaceJoin({workspace:a}),this.props.displayDirectoryInModal)return this.onFullscreenModalClose()}else a.date_requested_join&&this.onWorkspaceRequested({workspace:a});return n&&this.setToastText(n),this.props.clogger.track(Oe.EventId.AUTH_ENTERPRISE_WORKSPACES_OPEN,{contexts:{ui_context:{action:Oe.UiAction.CLICK}}}),this.closeDialog()}onClearHeaderInput(){const n=this.pageSearch;n!=null&&n.clearInput&&n.clearInput()}onFullscreenModalClose(){this.dialog&&this.dialog.close(),this.props.onClose&&this.props.onClose()}onOnboardingBannerDismiss(){this.setHideOnboardingBanner(!0),this.props.setUserPrefByApi({pref:"seen_onboarding_banner",value:!0}).catch(n=>_h.error("Error setting seen_onboarding_banner user pref",n))}onResize(){this.clientHeight=window.innerHeight,this.setIsMobileView(yl());const n=this.getListHeight("yourWorkspaces");this.setListTopOffset({workspaceListKey:"allWorkspaces",topOffset:n})}onScroll(n){const o=n.currentTarget.scrollTop>=this.headerPaneHeight;if(o){const i=this.pageSearch;i!=null&&i.blur&&i.blur()}o!==this.state.hasScrolledPastHeaderPane&&this.setHasScrolledPastHeaderPane(o)}onSearchAgainButtonClick(){const n=this.pageSearch;n!=null&&n.onSearchAgainTriggered&&n.onSearchAgainTriggered()}onSelectOption(n){this.setSearchResultsOptions(n)}onWindowScrollerScroll(n){let{scrollTop:a}=n;this.doInfiniteScrollHandler({scrollTop:a})}onWorkspaceJoin(n){let{workspace:a}=n;this.setState(o=>{const i=this.maybeUpsertWorkspaceToSearchResults(o,a),l=o.yourWorkspaces.workspaces,m=Object(Pr.a)([a],l,"id"),h=o.yourWorkspaces.totalWorkspaces+1;return{yourWorkspaces:{...o.yourWorkspaces,workspaces:Vm.sortListByWorkspaceName(m),totalWorkspaces:h},searchResults:{...o.searchResults,workspaces:Vm.sortListByWorkspaceName(i)}}})}onWorkspaceLeave(n){let{workspace:a}=n;this.setState(o=>{const i=this.maybeUpsertWorkspaceToSearchResults(o,a),{yourWorkspaces:{workspaces:l}}=o,m=Object(ic.a)(l,I=>I.id!==a.id),h=o.yourWorkspaces.totalWorkspaces-1,p=o.allWorkspaces.workspaces,E=Object(Pr.a)([a],p,"id");return{yourWorkspaces:{...o.yourWorkspaces,workspaces:m,totalWorkspaces:h},allWorkspaces:{...o.allWorkspaces,workspaces:Vm.sortListByWorkspaceName(E)},searchResults:{...o.searchResults,workspaces:Vm.sortListByWorkspaceName(i)}}},()=>{this.closeDialog()})}onWorkspaceRequested(n){let{workspace:a}=n;a&&this.setState(o=>{const i=[...o.allWorkspaces.workspaces],l=Object(um.a)(i,h=>h.id===a.id);return l<0?null:(i[l]=a,{allWorkspaces:{...o.allWorkspaces,workspaces:i}})})}getListHeading(n){const{selectedOption:a}=this.state;if(n==="allWorkspaces"){const{totalWorkspaces:o}=this.state.allWorkspaces,{totalWorkspaces:i}=this.state.yourWorkspaces;return Br.t("Browse {numWorkspaces, plural, =1 {# workspace} other {# workspaces}}",{numWorkspaces:Math.max(o-i,0)})}if(n==="yourWorkspaces")return Br.t("Your Workspaces");if(n==="searchResults"){const{loadingWorkspaces:o,totalWorkspaces:i}=this.state.searchResults,l=Object(ea.a)(a,"selectedOptionData");if(o)return null;if(Object(ea.a)(a,"type")==="member"){const m=Object(jl.e)(l),h=Br.t("{memberName} is in {workspaceCount, plural, =1 {# workspace} other {# workspaces}}",{memberName:m,workspaceCount:i});return t.a.createElement(t.a.Fragment,null,t.a.createElement(_l.a,{entityType:"member",dimension:28,entityData:l,customClasses:"margin_right_75",featureReactMessages:!0,isInteractive:!1}),h)}if(Object(ea.a)(a,"type")==="workspace"&&i===0)return Br.t("No workspaces found matching \u201C{searchQuery}\u201D",{searchQuery:"SEARCH QUERY"});if((!Object(ea.a)(a,"type")||l.id===Ld)&&i>0)return Br.t("{workspaceCount, plural, =1 {# workspace} other {# workspaces}} matching \u201C{searchQuery}\u201D",{workspaceCount:i,searchQuery:Object(ea.a)(l,"displayValue")});if(Object(ea.a)(a,"type")==="workspace"&&i>0)return Br.t("{workspaceCount, plural, =1 {# workspace} other {# workspaces}} matching \u201C{workspaceName}\u201D",{workspaceCount:i,workspaceName:Object(ea.a)(a,"selectedOptionData.name")})}return""}getListHeight(n){return this.listRefs[n]?this.listRefs[n].getContentHeight():0}getWorkspaceListTopOffset(n){return this.state[n]?this.state[n].topOffset:0}getWorkspacesForList(n){if(n==="allWorkspaces"){const{workspaces:a}=this.state.allWorkspaces,{workspaces:o}=this.state.yourWorkspaces;return Object(mm.a)(a,o,"id")}return n==="yourWorkspaces"?this.state.yourWorkspaces.workspaces:n==="searchResults"?this.state.searchResults.workspaces:[]}setDialogWorkspaceDetail(n,a){this.setState(()=>({dialogWorkspaceDetail:n}),a)}setHasApiError(n,a){this.setState(o=>({[n]:{...o[n],hasApiError:a}}))}setHasScrolledPastHeaderPane(n){this.setState(()=>({hasScrolledPastHeaderPane:n}))}setHeaderPaneRef(n){this.headerPane=n}setHideOnboardingBanner(n){this.setState(()=>({hideOnboardingBanner:n}))}setIsMobileView(n){this.setState(()=>({isMobileView:n}))}setListRef(n){let{workspaceListKey:a,ref:o}=n;this.listRefs[a]=o}setListTopOffset(n){let{workspaceListKey:a,topOffset:o}=n;this.setState(i=>({[a]:{...i[a],topOffset:o}}))}setLoadingWorkspaces(n,a){this.setState(o=>({[n]:{...o[n],loadingWorkspaces:a}}))}setOnboardingBannerRef(n){this.onboardingBanner=n}setPageRef(n){this.page=n}setPageSearchRef(n){this.pageSearch=n}setSearchResultsOptions(n){this.setState(()=>({searchResults:{totalWorkspaces:0,workspaces:[],cursorMark:null,hasApiError:!1,topOffset:0},selectedOption:n}))}setToastText(n){this.props.enqueueToast({element:t.a.createElement(wd.a,{position:"bottom-right",offsetY:50},n)})}setViewingHiddenWorkspace(n){this.setState(()=>({viewingHiddenWorkspace:n}))}setWindowScrollerRef(n){this.windowScroller=n}setWorkspaceFetchOptions(n,a){let{workspaces:o=lr.a,totalWorkspaces:i=0,onWorkspaces:l=!1,nextCursorMark:m=null}=a;this.setState(h=>({[n]:{...h[n],workspaces:o,totalWorkspaces:i,onWorkspaces:l,nextCursorMark:m}}))}closeDialog(){this.props.displayDirectoryInModal||(window.history.replaceState({},"","/"),this.props.closeModal())}doInfiniteScrollHandler(n){let{scrollTop:a}=n;const o=this.hasFetchedAllWorkspaces("yourWorkspaces")?"allWorkspaces":"yourWorkspaces";let i=this.getListHeight("yourWorkspaces");o==="allWorkspaces"&&(i+=this.getListHeight("allWorkspaces"));const l=this.hasScrolledWithinScrollThreshold({scrollTop:a,scrollHeight:i});l&&!this.hasFetchedAllWorkspaces(o)?this.setLoadingWorkspaces(o,!0):!l&&this.hasFetchedAllWorkspaces(o)&&this.setLoadingWorkspaces(o,!1)}fetchSearchResults(){const{selectedOptionData:n,type:a}=this.state.selectedOption,o={};n&&(this.setLoadingWorkspaces("searchResults",!0),Object(ea.a)(n,"id")===Ld?o.searchTerm=n.displayValue:(o.id=n.id,o.type=a==="member"?"single_user":"single_workspace"),Hy({searchType:a,clogger:this.props.clogger}),this.fetchWorkspacesWithArgs(o))}fetchSingleMemberToPrepopulate(n){this.props.fetchRawMembersFromAPI({ids:[n]}).then(a=>{const o={selectedOption:{selectedOptionData:a.members[0],type:"member"}};this.setState(o)})}fetchTeam(n){return this.props.fetchEnterpriseTeamById({teamId:n}).then(a=>{this.setSearchResultsOptions({selectedOptionData:a,type:"workspace"}),this.openDialog({team:a})}).catch(a=>{this.setViewingHiddenWorkspace(!0),_h.error("Error fetching workspace detail for launch_team_id -",a)})}fetchWorkspaces(){let{additionalOptions:n,workspaceListKey:a="allWorkspaces"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{nextCursorMark:o}=this.state[a];return this.setHasApiError(a,!1),this.props.fetchDirectoryWorkspaces({nextCursorMark:o,...n}).then(i=>{const{num_found:l,on_workspaces:m,items:h}=i;let p=h;o&&(p=Object(Pr.a)(this.state[a].workspaces,p,"id")),this.setWorkspaceFetchOptions(a,{workspaces:p,totalWorkspaces:l,onWorkspaces:m,nextCursorMark:i.next_cursor_mark}),this.setLoadingWorkspaces(a,!1)}).catch(i=>{this.setHasApiError(a,!0),this.setLoadingWorkspaces(a,!1),_h.error("WorkspaceDirectory: Error in FetchWorkspaces -",i)})}fetchWorkspacesWithArgs(n){let{type:a,id:o,searchTerm:i}=n;const{id:l}=this.props.user,{selectedOption:m}=this.state,h=Object(Je.a)(m),p=o===l&&h?"yourWorkspaces":"searchResults";return this.fetchWorkspaces({workspaceListKey:p,additionalOptions:{type:a,id:o,searchTerm:i}})}hasFetchedAllWorkspaces(n){return this.state[n].workspaces.length>=this.state[n].totalWorkspaces}hasScrolledWithinScrollThreshold(n){let{scrollHeight:a,scrollTop:o}=n;return a-(o+this.clientHeight)<Hj}maybeFetchNextPage(n){!n.allWorkspaces.loadingWorkspaces&&this.state.allWorkspaces.loadingWorkspaces&&this.fetchWorkspaces(),!n.yourWorkspaces.loadingWorkspaces&&this.state.yourWorkspaces.loadingWorkspaces&&this.fetchWorkspacesWithArgs({id:this.props.user.id,type:"single_user"})}maybeUpsertWorkspaceToSearchResults(n,a){const o=Object(ea.a)(n.searchResults,"workspaces",[]);return Object(Ol.a)(o,l=>a.id===l.id)?Object(Pr.a)([a],o,"id"):o}openDialog(n){let{team:a}=n;this.props.displayDirectoryInModal||window.history.replaceState({},"",`/workspace/${a.id}${window.location.search}`),Wy({teamId:a.id,trackingCode:this.trackingCode,clogger:this.props.clogger}),this.setDialogWorkspaceDetail(a,()=>{this.dialog=this.props.openModal({element:this.renderDialog(),isStackable:!0,name:"find-more-workspaces-info"})})}openWorkspaceRequestForm(){const{openModal:n}=this.props;n({element:t.a.createElement(Wj,null),isStackable:!0})}renderAllWorkspaces(n){return this.renderList({listProps:n,workspaceListKey:"allWorkspaces"})}renderDialog(){const{dialogWorkspaceDetail:n,displayDirectoryInModal:a}=this.state,{user:o}=this.props,i=Object(ea.a)(this.props.queryString,"channel",null),l=Object(ea.a)(this.props.queryString,"action",null),m=Object(ea.a)(this.props.queryString,"user",null),h=Object(Oh.a)(o);return t.a.createElement(Sj,{team:n,redir:this.redir,displayDirectoryInModal:a,onClose:this.closeDialog,onActionResolve:this.onActionResolve,onActionReject:this.onActionReject,onLeaveResolve:this.onWorkspaceLeave,onLeaveReject:this.onActionReject,isGuest:h,channelRedirect:i,postLaunchAction:l,userIdFromURL:m})}renderDirectoryInModal(){const{enterprise:n}=this.props,a=Object(g.default)("p-workspace_directory__page","p-workspace_directory__page--modal_view");return t.a.createElement(mv.a,{onCancel:this.onFullscreenModalClose,showCancelButton:!1,showGoButton:!1,title:Br.t("Workspaces at {orgName}",{orgName:n.name,__react:!0}),position:"fixed",modalBodyClasses:"p-workspace_directory__modal_body",modalClasses:"p-workspace_directory_modal",fullBleedModalBodyContent:!0,withHeader:!0},t.a.createElement("div",{className:a,onScroll:this.onScroll,ref:this.setPageRef},this.renderDirectoryPage()))}renderDirectoryLists(n){const{selectedOption:a}=this.state,{onChildScroll:o,registerChild:i,...l}=n,m={onScroll:o,scrollElement:this.page,...l};return Object(ea.a)(a,"selectedOptionData")?t.a.createElement("div",{ref:i},this.renderSearchResults(m)):t.a.createElement("div",{ref:i},this.renderYourWorkspaces(m),this.renderAllWorkspaces(m))}renderDirectoryPage(){const{user:n}=this.props,{viewingHiddenWorkspace:a}=this.state,{workspaces:o,loadingWorkspaces:i}=this.state.allWorkspaces,{workspaces:l,loadingWorkspaces:m}=this.state.yourWorkspaces,h=!m&&Object(Je.a)(l),p=!i&&Object(Je.a)(o);return h&&Object(Oh.a)(n)?this.renderEmptyState({isZeroWorkspaceGuest:!0}):p&&h?this.renderEmptyState({isZeroWorkspaceOrg:!0}):a?this.renderEmptyState({isHiddenWorkspace:!0}):t.a.createElement("div",{className:"p-workspace_directory",id:"workspace_directory"},this.renderWorkspaceDirectoryHeaderPane(),this.renderWorkspaceDirectoryBody())}renderEmptyState(n){const{enterprise:a}=this.props;return t.a.createElement("div",{className:"p-workspace_directory__empty_state_container"},t.a.createElement(zj,Eh({enterprise:a},n)))}renderInfiniteSpinner(){let{renderFullPage:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=Object(g.default)("p-workspace_directory__spinner",{"p-workspace_directory__spinner--fs":!!n});return t.a.createElement("div",{className:a},t.a.createElement(vm.a,{size:"jumbo",className:"inline_block full_width margin_top_200"}))}renderList(n){let{listProps:a,workspaceListKey:o}=n;const i=this.getWorkspacesForList(o),{loadingWorkspaces:l}=this.state[o];if(o==="searchResults"&&Object(Je.a)(i)&&!l)return this.renderSearchEmptyState();if(Object(Je.a)(i)&&!l)return null;const m=this.getWorkspaceListTopOffset(o),h=this.getListHeading(o);return t.a.createElement(t.a.Fragment,null,this.renderListHeading(h),t.a.createElement("div",{className:"p-workspace_directory__list"},t.a.createElement(Pj,Eh({scrollElement:this.page,workspaces:i,renderWorkspaceCard:this.renderWorkspaceCard,topOffset:m,ref:p=>this.setListRef({workspaceListKey:o,ref:p})},a))),l&&this.renderInfiniteSpinner())}renderListHeading(n){return t.a.createElement("p",{className:"p-workspace_directory__list_title"},n)}renderOnboardingBanner(){const{hasSeenOnboardingBanner:n}=this.props;if(n)return null;const{hideOnboardingBanner:a}=this.state,o=Object(g.default)("p-workspace_directory__banner","p-workspace_directory__banner--onboarding",{"p-workspace_directory__banner--hidden":a}),i=Br.t("Workspaces are where you and your coworkers communicate and get work done. To get started, find your team\u2019s workspace.",{fallbackHash:"279ba864c12d251994bf0cdb4f3e32475596cf75"});return t.a.createElement(uv,{title:Br.t("What is a workspace?"),description:i,className:o,onClose:this.onOnboardingBannerDismiss,isHidden:a,showCloseButton:!0,ref:this.setOnboardingBannerRef})}renderSearchEmptyState(){const{searchResults:n,selectedOption:a}=this.state,o=Object(ea.a)(a,"selectedOptionData");let i,l;if(hm(o)){const m=Object(ea.a)(n,"totalWorkspaces"),h=Object(ea.a)(n,"onWorkspaces"),p=Object(jl.e)(o);return lv({totalWorkspaces:m,onWorkspaces:h})&&!Gp({totalWorkspaces:m,onWorkspaces:h})&&(i=Br.t("{memberName} hasn\u2019t joined any workspaces",{memberName:p}),l=Br.rt("Try <a>searching for someone else</a> on your team, or for a specific workspace",null,E=>{let{text:j,key:I,tag:G}=E;return G==="a"?t.a.createElement(Ra.a,{onClick:()=>this.onSearchAgainButtonClick(),key:I},j):{text:j}})),Gp({totalWorkspaces:m,onWorkspaces:h})&&(i=Br.t("{memberName} isn\u2019t in a workspace you have access to",{memberName:p}),l=Br.rt("Get in touch with {memberName} to be invited to a workspace they\u2019re in, or try <a>searching for someone else</a> on your team.",{memberName:p},E=>{let{text:j,key:I,tag:G}=E;return G==="a"?t.a.createElement(Ra.a,{onClick:()=>this.onSearchAgainButtonClick(),key:I},j):{text:j}})),t.a.createElement("div",{className:"align_center"},t.a.createElement("p",{className:"p-workspace_directory__list_title inline_flex margin_top_75"},t.a.createElement(_l.a,{entityType:"member",dimension:28,entityData:o,customClasses:"margin_right_75",featureReactMessages:!0}),i),t.a.createElement("p",{className:"p-workspace_directory__list_empty_state_text"},l))}return i=Br.t("No workspaces found matching \u201C{searchTerm}\u201D",{searchTerm:Object(ea.a)(o,"displayValue")}),l=Br.rt("Try <a>searching for another workspace</a> or searching for a teammate\u2019s workspaces.",{fallbackHash:"685ffe432e42b323b21d2c436d0a1f2c5fb40cfc"},m=>{let{text:h,key:p,tag:E}=m;return E==="a"?t.a.createElement(Ra.a,{onClick:()=>this.onSearchAgainButtonClick(),key:p},h):{text:h}}),t.a.createElement("div",{className:"align_center"},t.a.createElement("p",{className:"p-workspace_directory__list_title inline_flex margin_top_75"},i),t.a.createElement("p",{className:"p-workspace_directory__list_empty_state_text"},l))}renderSearchResults(n){return this.renderList({listProps:n,workspaceListKey:"searchResults"})}renderTitle(){const{name:n}=this.props.enterprise;return t.a.createElement("div",{className:"p-workspace_directory__title"},Br.t("Workspaces at {name}",{name:Object(he.k)(n)}))}renderWorkspaceCard(n){if(Object(Je.a)(n))return null;const a=Object(Ye.i)()||Object(Ql.a)()&&Object(sn.b)(),o=Object(ea.a)(this.props.queryString,"aswebauth",void 0)!==void 0,i=!(a||o);return t.a.createElement(nv,{team:n,key:n.id,redir:this.redir,size:"small",onActionResolve:this.onActionResolve,onActionReject:this.onActionReject,openDialog:this.openDialog,anchorPage:"workspace_directory",doLaunchInNewTab:i,doUpsertJoin:!0})}renderWorkspaceDirectoryBody(){const{searchResults:n,hideOnboardingBanner:a}=this.state,o=Object(g.default)("p-workspace_directory__body",{"p-workspace_directory__body--has_banner":!a}),i={};return this.onboardingBannerHeight&&!a&&(i.transform=`translate3d(0, ${this.onboardingBannerHeight}px, 0)`),this.page?t.a.createElement(t.a.Fragment,null,this.renderOnboardingBanner(),t.a.createElement("div",{"data-js":"workspace_directory_body",className:o,style:i},t.a.createElement(El.j,{scrollElement:this.page,onScroll:this.onWindowScrollerScroll,ref:this.setWindowScrollerRef},l=>this.renderDirectoryLists(l)),!Object(ea.a)(n,"loadingWorkspaces")&&this.renderWorkspaceRequestBanner())):null}renderWorkspaceDirectoryHeader(){const{user:n,userCanOpenOrgDashboard:a,enterprise:o}=this.props,{isMobileView:i,hasScrolledPastHeaderPane:l,selectedOption:m}=this.state;return t.a.createElement(kj,{enterprise:o,displayManageOrgButton:a,displaySearchBar:this.headerPane&&l,"data-js":"workspace_directory_sticky_header",user:n,isMobileView:i,selectedSearchOption:Object(ea.a)(m,"selectedOptionData"),onOptionSelected:this.onSelectOption,onClearHeaderInput:this.onClearHeaderInput})}renderWorkspaceDirectoryHeaderPane(){const{displayDirectoryInModal:n,user:a}=this.props,o=Object(g.default)("p-workspace_directory__header_pane",{margin_top_75:n});return t.a.createElement("div",{className:o,"data-js":"workspace_directory_header_pane",ref:this.setHeaderPaneRef},!n&&this.renderTitle(),!Object(Oh.a)(a)&&this.renderWorkspaceSearchInput())}renderWorkspaceRequestBanner(){const{allowWorkspaceRequest:n}=this.props;if(!n)return null;const a=Br.rt("Your team might not be using Slack yet. You may ask your admins to <Link>create a new workspace</Link>.",null,o=>{let{text:i}=o;return t.a.createElement(Ra.a,{onClick:this.openWorkspaceRequestForm},i)});return t.a.createElement(uv,{title:Br.t("Can\u2019t find your workspace?"),description:a,className:"p-workspace_directory__banner p-workspace_directory__banner--workspace_request",onClose:tn.a})}renderWorkspaceSearchInput(){const{selectedOption:n}=this.state;return t.a.createElement("div",{className:"p-workspace_directory__search"},t.a.createElement(Hp,{containerIdSelector:"workspace_directory",ref:this.setPageSearchRef,membersOnly:!1,triggerAction:this.onSelectOption,prepopulatedOption:Object(ea.a)(n,"selectedOptionData")}))}renderYourWorkspaces(n){return this.renderList({listProps:n,workspaceListKey:"yourWorkspaces"})}render(){const{displayDirectoryInModal:n}=this.props,{workspaces:a,loadingWorkspaces:o}=this.state.allWorkspaces,{workspaces:i,loadingWorkspaces:l}=this.state.yourWorkspaces,m=l&&Object(Je.a)(i),h=o&&Object(Je.a)(a),p=m||h;return n?this.renderDirectoryInModal():t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-workspace_directory__wrapper"},this.renderWorkspaceDirectoryHeader(),t.a.createElement(Rp.a,null),p&&this.renderInfiniteSpinner({renderFullPage:!0}),t.a.createElement("div",{className:"p-workspace_directory__page",onScroll:this.onScroll,ref:this.setPageRef},this.renderDirectoryPage())),!Object(Dp.a)()&&t.a.createElement(gv.a,null))}constructor(n){super(n),this.state={isMobileView:!1,hasScrolledPastHeaderPane:!1,allWorkspaces:{totalWorkspaces:0,workspaces:[],cursorMark:null,hasApiError:!1,topOffset:0},yourWorkspaces:{totalWorkspaces:0,workspaces:[],cursorMark:null,hasApiError:!1,topOffset:0},searchResults:{totalWorkspaces:0,workspaces:[],cursorMark:null,hasApiError:!1,topOffset:0},dialogWorkspaceDetail:null,selectedOption:null,hideOnboardingBanner:!0,viewingHiddenWorkspace:!1},this.dialog=null,this.headerPaneHeight=null,this.clientHeight=null,this.page=null,this.pageSearch=null,this.redir=null,this.listRefs={allWorkspaces:null,yourWorkspaces:null},this.windowScroller=null,this.onboardingBannerHeight=0,this.trackingCode="",Object(Kr.a)(this,["setPageRef","setPageSearchRef","setHeaderPaneRef","setOnboardingBannerRef","onScroll","onWindowScrollerScroll","onFullscreenModalClose","onResize","openWorkspaceRequestForm","openDialog","closeDialog","onOnboardingBannerDismiss","onWorkspaceLeave","onActionResolve","onActionReject","onSelectOption","onClearHeaderInput","setToastText","setListRef","setWindowScrollerRef","renderWorkspaceCard","fetchSingleMemberToPrepopulate"])}},"WorkspaceDirectory");nb.displayName="WorkspaceDirectory",nb.defaultProps={user:{},userCanOpenOrgDashboard:!1,enqueueToast:tn.a,openModal:tn.a,closeModal:tn.a,allowWorkspaceRequest:!1,showRequestDialog:tn.a,launchTeamId:null,displayDirectoryInModal:!0,onClose:tn.a,hasSeenOnboardingBanner:!1,queryString:null,setUserPrefByApi:tn.a};const Fj=c((r,n)=>{let{userId:a}=n;const o=Object(nn.o)(r)||{},i=Object(cr.g)(r,a),l=Object(Ar.n)(r,"enterprise_team_creation_request"),m=l&&l.is_enabled&&!Object(Oh.a)(i),h=Object(Ql.a)(),p=Object(bn.u)(r,"seen_onboarding_banner"),E=Object(Rr.a)({state:r});return{enterprise:o,user:{id:a,...i},userCanOpenOrgDashboard:Object(de.x)(r),allowWorkspaceRequest:m,displayDirectoryInModal:h,hasSeenOnboardingBanner:p,clogger:E}},"workspace_directory_mapStateToProps"),Kj={enqueueToast:fh.a,openModal:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Object(ls.a)(...n)},closeModal:Yo.a,fetchRawMembersFromAPI:Uj.h,setUserPrefByApi:gu.f,fetchEnterpriseTeamById:Lc.m,fetchDirectoryWorkspaces:Lc.l};var Vj=Object(Be.a)(Fj,Kj,null,{areStatePropsEqual:(r,n)=>Object(q.a)(r,n,2)})(nb);const Ou=new he.b("workspace_directory");let ab=c(class extends s.PureComponent{redirectToDirectory(){const{directoryUrl:n}=this.props;window.open(`${n}/signin/find-workspaces`,"_self")}renderBody(){const{isZeroWorkspaceGuest:n,isZeroWorkspaceOrg:a,isHiddenWorkspace:o}=this.props;return n?this.renderZeroWorkspaceGuestBody():a?this.renderZeroWorkspaceOrgBody():o?this.renderHiddenWorkspaceBody():null}renderFooter(){const{enterprise:n}=this.props;return t.a.createElement(Ra.a,{onClick:this.redirectToDirectory,className:"p-workspace_directory_empty_state__footer"},Ou.t("View all {orgName} workspaces",{orgName:Object(he.k)(n.name)}),t.a.createElement(pn.a,{type:"chevron-right",key:"footer-chevron-icon",inline:!0}))}renderHeading(){const{enterprise:n,isHiddenWorkspace:a}=this.props,o=a?Ou.t("No workspace found"):Ou.t("No available workspaces");return t.a.createElement("span",{className:"p-workspace_directory_empty_state__heading"},t.a.createElement("span",{className:"p-workspace_directory_empty_state__icon"},t.a.createElement(_l.a,{entityType:"org",dimension:28,entityData:n,customClasses:"flex_none",featureReactMessages:!0})),o)}renderHiddenWorkspaceBody(){const{enterprise:n}=this.props;return t.a.createElement("p",{className:"p-workspace_directory_empty_state__body"},Ou.t("Either this workspace doesn\u2019t exist, or you do not have access to it. If you need to be added to a workspace, contact the {orgName} IT team.",{orgName:Object(he.k)(n.name)}))}renderZeroWorkspaceGuestBody(){const{enterprise:n}=this.props;return t.a.createElement("p",{className:"p-workspace_directory_empty_state__body"},Ou.t("You have a guest account with {orgName}, which means someone needs to invite you to join a workspace. You may want to get in touch with the person who helped you create an account.",{orgName:Object(he.k)(n.name)}))}renderZeroWorkspaceOrgBody(){const{enterprise:n}=this.props;return t.a.createElement("p",{className:"p-workspace_directory_empty_state__body"},Ou.t("{orgName} doesn\u2019t have any open workspaces that you can join. If you need to be added to a workspace, contact your manager or the {orgName} IT team.",{orgName:Object(he.k)(n.name)}))}render(){return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-workspace_directory_empty_state"},this.renderHeading(),this.renderBody()),this.props.isHiddenWorkspace&&this.renderFooter())}constructor(n){super(n),this.redirectToDirectory=this.redirectToDirectory.bind(this)}},"WorkspaceDirectoryEmptyState");ab.displayName="WorkspaceDirectoryEmptyState",ab.defautlProps={isZeroWorkspaceGuest:!1,isZeroWorkspaceOrg:!1,isHiddenWorkspace:!1};const Gj=c((r,n)=>{let{enterprise:a}=n;return{directoryUrl:Object(hv.b)(r,a.domain)}},"workspace_directory_empty_state_mapStateToProps");var zj=Object(Be.a)(Gj)(ab),Yj=Vj;const Ov=Object(Vs.c)("Opens the Find More Workspaces modal.",(r,n,a)=>{r(Object(ls.a)({element:t.a.createElement(Yj,{userId:a}),name:"find-more-workspaces",isStackable:!0}))});Ov.meta={name:"createThunk",key:"createThunkopenFindMoreWorkspacesModal",description:"Opens the Find More Workspaces modal."};var ob=Ov,Ev=e("BeL+"),sb=e("bPB8"),Jj=e("Ufy+"),Il=e("SRik"),Xj=e("ZqW8"),Ch=e("aerA"),rb=e("jjSj"),Qj=e("EMk1"),ib=e("K/6f");const cb={},_v="bad_email_domain",Zj="domain_not_found",lb=c(function(r,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=a&&a.get_info,i={email:r,get_info:o};return(Object(bi.b)()||Object(bi.f)())&&location.search.includes("skipCheck=1")?Zl.a.resolve({isOk:!0,apiResponse:{}}):new Zl.a(l=>{Object(rb.a)("signup.checkEmail",i,(m,h)=>{if(m)return l({isOk:!0,apiResponse:h});let p;return h.error===_v?p=Object(ib.a)(_v,{emailDomain:n}):h.error===Zj?cb[n]=!1:o&&(cb[n]=!0),l({isOk:!1,errorKey:h.error,errorMessage:p||Object(ib.a)(h.error)||Object(ib.a)(Ch.c)})})})},"checkEmailApi"),$j=function(){var r=Object(U.coroutine)(function*(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=Object(Qj.b)(n);if(!o.isValid)return{isOk:!1,errorKey:o.errorKey,errorMessage:o.errorMessage};const i=a.timeout||2e3,l=n.split("@")[1],m=a.getInfo&&cb[l]===void 0,h=m;if(h&&i){let p,E=!1,j;return lb(n,l,{...a,getInfo:m}).then(I=>{E||(E=!0,p(I),clearInterval(j))}),j=setTimeout(()=>{E||lb(n,l).then(I=>{E||(E=!0,p(I))})},i),new Zl.a(I=>{p=I})}return lb(n,l,{getInfo:h})});return c(function(a){return r.apply(this,arguments)},"checkEmail")}();var qj=e("6Tgc"),nw=e("tqPD");const db=new he.b("setup_page"),Cv=c(r=>{const n=Object(S.i)(),a=Object(s.useCallback)(()=>{n(Object(Yo.a)())},[n]),o=Object(Ev.a)(Object(sb.a)(r.teamIds.map(Ge=>{if(!Ge)return null;const Tt=Object(v.getStoreInstanceByTeamId)(Ge);return Tt?Object(Ua.h)(Object(cr.c)(Tt.getState())):null}))),i=Object(s.useRef)(),[l,m]=Object(s.useState)(o[0]||""),[h,p]=Object(s.useState)(Il.a.Empty),[E,j]=Object(s.useState)(!1),[I,G]=Object(s.useState)(!1),[Y,se]=Object(s.useState)(!1),[be,Ee]=Object(s.useState)(!1);let _e;const ge=Object(s.useCallback)(Object(U.coroutine)(function*(){if(se(!0),!(yield $j(l,{getInfo:!0})).isOk){se(!1);return}(yield Object(rb.b)("signup.confirmEmail",{email:l,locale:Object(he.m)()})).ok?G(!0):se(!1)}),[l]),ye=c(()=>{p(Il.a.Empty)},"onChangeCode"),Ue=Object(s.useCallback)(function(){var Ge=Object(U.coroutine)(function*(Tt){Ee(!0),p(Il.a.Processing),j(!0);const yn=yield Object(Xj.a)(l,Tt,"fyt");if(yn.isValid){const xn=yn&&yn.apiResponse;if(xn&&xn.enterprise&&xn.is_domain_claimed)return;try{const Pn={email_misc:!1,locale:Object(he.m)(),last_tos_acknowledged:"tos_mar2018",login:!0},{teamCreationData:Lt}=yield new Zl.a((la,Ta)=>{Object(rb.a)("signup.createTeam",Pn,(ao,qa)=>{if(ao)la({ok:ao,teamCreationData:qa});else{const po=new Error(qa.error);po.data=qa,Ta(po)}})}),Vn=Lt.team_id;yield Object(Jf.c)(),a(),Object(Rd.h)(yr.a,{teamId:Vn},{reason:"team-sidebar/create-a-new-workspace"})}catch{Ee(!1)}}else Ee(!1),i.current.clear(),j(!1),yn.errorKey===Ch.d?p(Il.a.Ratelimited):yn.errorKey===Ch.a?p(Il.a.RequestNewCode):yn.errorKey===Ch.e?p(Il.a.Blocked):p(Il.a.Error)});return function(Tt){return Ge.apply(this,arguments)}}(),[a,l]),Re=c(()=>{be||(a(),_e==null||_e({action:Oe.UiAction.CLICK,elementName:"close_modal"}))},"onCloseModal"),tt=o.map(Ge=>({label:Ge,value:Ge}));return t.a.createElement(De.a,{eventId:Oe.EventId.NEWXP_TEAM_CREATE,uiStep:Oe.UiStep.SETUP_INVITES_SKIP_MODAL,clogImpression:!0,trackClogRef:Ge=>{_e=Ge}},t.a.createElement(ta.a,{closeModal:Re,centered:!0},t.a.createElement(ta.i,null,t.a.createElement(ta.l,{title:"Create a new workspace"})),t.a.createElement(ta.d,null,t.a.createElement(ta.e,null,!I&&t.a.createElement(t.a.Fragment,null,t.a.createElement("p",null,"Select an email"),t.a.createElement(qj.a,{options:tt,ariaLabel:"Please select an option",selectId:"thePerfectSelect",width:250,selectedOption:tt.find(Ge=>Ge.value===l),onOptionSelected:Ge=>{m(Ge.value)}}),t.a.createElement(ct.c,{loading:Y,disabled:Y,className:"margin_top_100 margin_bottom_100",onClick:ge},"Get code for ",l)),I&&t.a.createElement("form",{className:"p-get_started_confirmation_code",onSubmit:Ge=>Ge.preventDefault()},t.a.createElement("p",null,db.rt("We\u2019ve sent a 6-character code to <strong>{email}</strong>. The code expires shortly, so please enter it soon.",{email:l,fallbackHash:"3da1137f95fe18b1a0d0e21fd75e6866bbdbddd8",fallbackHashNs:"find_team"})),t.a.createElement("div",{className:"p-get_started_confirmation_code__input_container"},t.a.createElement("fieldset",{className:"p-get_started_confirmation_code__input_fieldset"},t.a.createElement("legend",{className:"offscreen"},db.t("6-digit confirmation code",{fallbackHashNs:"team_creation",fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),t.a.createElement(Jj.a,{isNumbersOnly:!1,ref:i,isCheckError:h===Il.a.Error,onFillCode:Ue,onChange:ye,isDisabled:E})),t.a.createElement(Il.b,{status:h,isCentered:!0}))))),t.a.createElement(ta.g,null,t.a.createElement(ta.h,null,t.a.createElement(ta.c,{disabled:be,type:"outline"},db.t("Cancel"))))))},"CreateNewWorkspaceModal");Cv.displayName="CreateNewWorkspaceModal";var eS=Cv,tS=e("lgOv");const yv=c(r=>{let{click:n,iconName:a,label:o,ariaLabel:i,closeModal:l}=r;const m=Object(s.useCallback)(()=>{n(),l==null||l()},[n,l]);return t.a.createElement("div",{className:"p-add_workspace_item__row dt-hocus:surf-pry"},t.a.createElement(ct.d,{className:"p-add_workspace_item__button",onClick:m,"aria-label":i},t.a.createElement("div",{className:"p-add_workspace_item__icon"},t.a.createElement(Pe.a,{name:a})),t.a.createElement("span",null,o)))},"AddWorkspaceItem");yv.displayName="AddWorkspaceItem";var nS=yv,ub=e("rgq8"),jv=e("H9Gx");function yh(){return yh=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},yh.apply(this,arguments)}c(yh,"add_workspaces_menu_extends");const jh="TEAM_SIDEBAR_CONTEXT_CLICK",Om=new he.b("team_picker"),Sv=new he.b("find_team"),aS={openFindMoreWorkspacesModal:Te.default.func.isRequired,currentUserId:Te.default.string.isRequired,currentTeam:Te.default.object.isRequired,teams:Te.default.arrayOf(Te.default.object).isRequired,clogger:Te.default.object,menuProps:Te.default.object,shouldUseInClientWorkspaceCreation:Te.default.func,openCreateWorkspaceModal:Te.default.func,signedInEmails:Te.default.arrayOf(Te.default.string),isWorkspaceSwitcher:Te.default.bool,closeModal:Te.default.func},oS={clogger:{},menuProps:void 0,shouldUseInClientWorkspaceCreation:tn.a,openCreateWorkspaceModal:tn.a,signedInEmails:[],isWorkspaceSwitcher:!1,closeModal:tn.a};let Sh=c(class extends s.PureComponent{getOneWorkpacePerOrg(){return Object(ia.a)(Object(kr.a)(this.props.teams),"enterprise_id").filter(a=>a.enterprise_id)}openFindMoreWorkspacesModal(n){const{currentTeam:a}=this.props;a.enterprise_id===n.enterprise_id?this.props.openFindMoreWorkspacesModal(this.props.currentUserId):Object(Rd.h)(yr.a,{teamId:n.id},{reason:"team-sidebar/selectTeam"}).then(()=>{const o=Object(v.getStoreInstanceByTeamId)(n.id),i=Object(vt.a)(o.getState());o.dispatch(ob(i))})}render(){const{menuProps:n}=this.props,o=this.getOneWorkpacePerOrg().map(l=>({label:Om.t("Find more {orgName} workspaces",{orgName:Object(he.k)(l.enterprise_name),fallbackHash:"dd66a93e6f6188c0604a2fbe2e6641d07655e43e"}),click:c(()=>this.openFindMoreWorkspacesModal(l),"click"),key:l.enterprise_id})),i=[{label:Om.t("Sign in to another workspace"),click:this.openSignIn,key:"sign-in"},{label:Sv.t("Create a new workspace"),click:this.openCreateNewWorkspace,key:"create"},{label:Om.t("Find workspaces"),click:this.openFindGlobalWorkspaces,key:"find"}].concat(o);if(this.props.clogger.track(jh),this.props.isWorkspaceSwitcher){const l=Om.t("Sign in to another workspace"),m=Sv.t("Create a new workspace"),h=Om.t("Find workspaces");return t.a.createElement(t.a.Fragment,null,[{label:l,ariaLabel:l,click:this.openSignIn,key:"sign-in",iconName:"user-add"},{label:h,ariaLabel:h,click:this.openFindGlobalWorkspaces,key:"find",iconName:"search"},{label:m,ariaLabel:m,click:this.openCreateNewWorkspace,key:"create",iconName:"plus"}].map(p=>t.a.createElement(nS,{key:p.key,label:p.label,ariaLabel:p.ariaLabel,iconName:p.iconName,click:p.click,closeModal:this.props.closeModal})))}return t.a.createElement(Yn.a,yh({},n,{width:300,template:i}))}constructor(n){super(n),this.openSignIn=()=>{this.props.clogger.trackClickWithContext({event:jh,contexts:{ui_context:{action:"click",ui_properties:{element_name:"sign_in_to_your_workspace"},ui_component:"menu"}}}),Object(jv.a)()},this.openCreateNewWorkspace=()=>{this.props.clogger.trackClickWithContext({event:jh,contexts:{ui_context:{action:"click",ui_properties:{element_name:"create_new_workspace"},ui_component:"menu"}}}),this.props.shouldUseInClientWorkspaceCreation()?this.props.openCreateWorkspaceModal({teamIds:Object.keys(this.props.teams)}):Object(ub.a)()},this.openFindGlobalWorkspaces=()=>{this.props.clogger.trackClickWithContext({event:jh,contexts:{ui_context:{action:"click",ui_properties:{element_name:"find_your_workspace"},ui_component:"menu"}}}),Object(tS.a)()},this.openFindMoreWorkspacesModal=this.openFindMoreWorkspacesModal.bind(this)}},"AddWorkspacesMenu");Sh.displayName="AddWorkspacesMenu",Sh.propTypes=aS,Sh.defaultProps=oS;const sS=c(r=>()=>Object(en.d)(r(),"create_workspace_in_client")==="treatment","shouldUseInClientWorkspaceCreationFn"),rS=c(r=>{const n=Object(nn.g)(r),o=Object(v.getStoreInstanceByTeamId)(n.id).getState();return{currentUserId:Object(vt.a)(r),currentTeam:Object(nn.g)(r),clogger:Object(Rr.a)({state:o}),shouldUseInClientWorkspaceCreation:sS(()=>r)}},"add_workspaces_menu_mapStateToProps"),iS=c(r=>({openFindMoreWorkspacesModal:function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r(ob(...a))},openCreateWorkspaceModal:n=>r(Object(ls.a)({element:t.a.createElement(eS,yh({},n)),name:"create-new-workspace-modal"}))}),"add_workspaces_menu_mapDispatchToProps");var Iv=Object(Be.a)(rS,iS)(Sh),cS=e("npde");const lS=new he.b("team_picker"),Tv=c(r=>{let{closeModal:n}=r;const a=Object(d.c)(nn.g),o=Object(s.useMemo)(()=>[a],[a]);return t.a.createElement(ta.b,{maxWidth:472},t.a.createElement(ta.d,null,t.a.createElement(ta.l,{title:lS.t("Add a workspace")}),t.a.createElement(ta.e,{className:"p-add_team_modal__content_section"},t.a.createElement(Iv,{teams:o,isWorkspaceSwitcher:!0,closeModal:n}))))},"AddTeamModal");Tv.displayName="AddTeamModal";var dS=Object(cS.a)(Tv),Wc=e("LzG2");const uS=new he.b("team_picker"),Av=c(()=>t.a.createElement("div",{className:Object(g.default)("p-add_team_label")},t.a.createElement("div",{className:"p-add_team_label__icon"},t.a.createElement(Pe.a,{name:"plus",variation:"filled",size:"20"})),t.a.createElement("div",null,uS.t("Add a workspace"))),"AddTeamLabel");Av.displayName="AddTeamLabel";var mS=Av,Em=e("h2vS"),_m=e("tifU");function Ih(){return Ih=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Ih.apply(this,arguments)}c(Ih,"account_switcher_row_extends");const Cm=new he.b("team_picker"),hS=c(r=>{let{hasUnreads:n,mentionCount:a,hasSessionExpired:o,isPendingAuth:i}=r;if(o)return Cm.t("Logged out");if(i)return Cm.t("Finish logging in");const l=Cm.t("{maxBadgeCount}+",{maxBadgeCount:hr.b}),m=a&&a>hr.b?l:a;if(a)return Cm.t("{mentionCount, plural, =1 {{count} new mention} other {{count} new mentions}}",{mentionCount:a,count:m});if(n)return Cm.t("Has new messages")},"getBadgeDescription"),mb=c(r=>{let{index:n,teamName:a,teamIcon:o,teamUrl:i,hasSessionExpired:l,isPendingAuth:m,mentionCount:h,hasUnreads:p,isCurrentFocusedTeam:E,isGovSlackWorkspace:j}=r,I;l?I=t.a.createElement("div",{className:"p-account_switcher__signed_out_badge","data-qa":"team_signed_out_badge"},t.a.createElement(pn.a,{type:"warning",className:"p-account_switcher__signed_out_badge__stroke"}),t.a.createElement(pn.a,{type:"warning-filled"})):m?I=t.a.createElement("div",{className:"p-account_switcher__locked_badge"},t.a.createElement("img",{src:"/img/sidebar_lock_icon.svg",alt:"",height:"16"})):h>0?I=t.a.createElement("div",{className:"p-account_switcher__row_unread_counts"},t.a.createElement(rc.b,{count:h,maxCount:hr.b,style:rc.a.red})):p&&(I=t.a.createElement("div",{className:"p-account_switcher__row_unread_counts"},t.a.createElement("div",{className:"p-account_switcher__row_unread_dot"})));const G=t.a.createElement(Ur.a,{ariaHidden:!0,icon:o,size:36,teamName:a}),Y=hS({hasSessionExpired:l,isPendingAuth:m,mentionCount:h,hasUnreads:p}),se=Object(s.useCallback)(()=>j?t.a.createElement(pn.a,{className:Object(g.default)("p-team_sidebar__govslack_icon",{"p-team_sidebar__govslack_icon--active":E}),type:"gov-slack",size:"inherit"}):null,[j,E]),be=!Object(Ye.i)()&&!Object(sn.b)()&&E?null:t.a.createElement("div",{className:Object(g.default)("p-account_switcher__row_tile_and_unreads",{"p-account_switcher__row--focused_team":E})},t.a.createElement("div",{className:"p-account_switcher__row_icon"},G),!E&&I,se()),Ee=Object(Ye.p)()?"\u2318":"Ctrl ";return t.a.createElement(t.a.Fragment,null,be,t.a.createElement("div",{className:"p-account_switcher__row_team"},t.a.createElement("div",{className:"p-account_switcher__row_name p-account_switcher_peeks-card__title",id:`account_switcher__team-name-${n}`},a),t.a.createElement("div",{className:"p-account_switcher__row_url p-account_switcher_peeks-card__subtitle"},i)),Y&&t.a.createElement("div",{id:`account_switcher__row_description_${n}`,hidden:!0},`${a}, ${Y}`),t.a.createElement("div",{className:"p-account_switcher__row_shortcut"},Object(Ye.i)()&&n<9&&`${Ee}${n+1}`))},"AccountSwitcherRow");mb.displayName="AccountSwitcherRow";const Nv=c(r=>{const{teamMeta:n,isBooted:a,failedToBoot:o,...i}=r,{isExpired:l,isPendingAuth:m}=n;if(!a||o){const{id:be,domain:Ee,icon:_e,name:ge,url:ye}=n,Ue=Object(Xt.v)({id:be,url:ye,domain:Ee||""},"",!0);return t.a.createElement(mb,Ih({teamName:ge,teamUrl:Ue,teamIcon:_e,hasSessionExpired:!!l,isPendingAuth:m,mentionCount:0,hasUnreads:!1},i))}const h=Object(v.getStateByTeamId)(n.id),p=Object(nn.g)(h),E=Object(Xt.m)(p),j=Object(Xt.h)(p),I=Object(Xt.v)(p,"",!0),G=Object(da.m)(h),Y=Object(Em.a)(h)+Object(_m.h)(h),se=Object(Ll.a)(h);return t.a.createElement(mb,Ih({teamName:j,teamUrl:I,teamIcon:E,hasSessionExpired:!!l,isPendingAuth:m,mentionCount:Y,hasUnreads:G,isGovSlackWorkspace:se},i))},"ConnectedAccountSwitcherRow");Nv.displayName="ConnectedAccountSwitcherRow";var pS=Nv;function hb(){return hb=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},hb.apply(this,arguments)}c(hb,"team_switcher_team_row_extends");const kv=c(r=>{let{team:n,index:a,isCurrentFocusedTeam:o}=r;const i=Object(O.b)(C.getBootedWorkspaces);var l;const m=(l=Object(O.b)(C.getFailedToBootWorkspaces))!==null&&l!==void 0?l:[],h=i.includes(n.id),p=m.includes(n.id),E={teamMeta:n,index:a,isBooted:h,failedToBoot:p,isCurrentFocusedTeam:o,"aria-labelledby":`account_switcher__team-name-${a} account_switcher__team-shortcut-${a}`,"aria-describedby":`account_switcher__row_description_${a}`};return t.a.createElement(pS,hb({},E))},"TeamSwitcherTeamRow");kv.displayName="TeamSwitcherTeamRow";var bS=kv,fS=e("mYQK"),vS=e.n(fS),gS=e("0cMZ");const OS=new he.b("native_apps_entry_points"),ES={onClick:{enableClogAction:!0}},{downloadLink:_S}=Object(gS.b)(),Pv=c(()=>Object(Ye.i)()||vS.a.chromeBook?null:OS.rt("<a>Get the Slack app</a> to see notifications from your other workspaces",null,r=>{let{text:n,tag:a}=r;return a==="a"?t.a.createElement(Ra.a,{href:_S,autoClogProps:ES},n):null}),"GetSlackAppItem");Pv.displayName="GetSlackAppItem";var CS=Pv,ow=e("6hhF");function pb(){return pb=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},pb.apply(this,arguments)}c(pb,"team_switcher_menu_extends");const yS=new he.b("classic_nav"),Mv=c(r=>{let{onClose:n,restoreFocusFn:a,...o}=r;const i=Object(S.i)(),l=Object(d.c)(Xn.i);var m;const h=(m=Object(O.b)(C.getWorkspacesMeta))!==null&&m!==void 0?m:lr.b,p=Object(Va.a)(),{maybeClosePeek:E}=Object(s.useContext)(Wc.a),j=Object.values(h).sort((Re,tt)=>Object(he.l)(Re.name,tt.name)).filter(Re=>Re.id!==l);l&&j.unshift(h[l]);const I=!Object(Ye.i)()&&!Object(sn.b)()&&j.length>1,G=Object(O.b)(C.getAllWorkspaces),Y=j.map(Re=>Re.id),se=Object(sn.b)()?G:Y,be=Object(s.useCallback)(()=>{i(dS())},[i]),Ee=Object(s.useCallback)(Re=>{E(),(Re==null?void 0:Re.key)==="Escape"&&a()},[E,a]),_e=Object(s.useCallback)(Re=>{const tt=h[Re];if(!tt)return;const Ge=Object(Xt.v)({domain:"app"},`client/${tt.id}${fn.a.location.search}`);fn.a.open(Ge,"_self")},[h]),ge=Object(s.useCallback)(Re=>{if(n==null||n(),E({forceClose:!0}),Re>=se.length)return;const tt=se[Re];!Object(Ye.i)()&&!Object(sn.b)()&&se.length>1?_e(tt):(Object(si.a)({currentTeamStore:Object(v.getStoreInstanceByTeamId)(tt),newWorkspaceId:tt,navigateToRouteProps:{routeName:yr.a}}),p.track(Oe.EventId.TEAM_SIDEBAR_CLICK,{source_team_id:l,target_team_id:tt,items_count:se.length}))},[n,E,se,_e,p,l]),ye=se.map((Re,tt)=>{const Ge=h[Re],Tt=l===Re;return t.a.createElement(Yn.b,{key:Ge.id,className:"p-team_switcher_menu__item dt-hocus:base-pry",type:Ho.b.radio,checked:Tt,classNameListItem:"p_team-switcher-menu__item__team",menuCallbackId:tt,ariaLabelledBy:`account_switcher__team-name-${tt}`,ariaDescribedBy:`account_switcher__row_description_${tt} account_switcher__team-shortcut-${tt}`},t.a.createElement(bS,{team:Ge,index:tt,isCurrentFocusedTeam:Tt}))});ye.push(t.a.createElement(Yn.b,{className:"p-team_switcher_menu__item p-team_switcher_menu__item--add dt-hocus:base-pry",onSelected:be,key:"team_switcher_add"},t.a.createElement(mS,null)));const Ue=[t.a.createElement(Yn.d,{key:"team_switcher_separator--browser1"}),t.a.createElement("div",{className:"p-team_switcher_popover__notification_container",key:"team_switcher__download_cta"},t.a.createElement("span",{className:"p-team_switcher_popover--bold_text"},yS.t("Never miss a notification")),t.a.createElement("div",null,t.a.createElement(CS,null))),t.a.createElement(Yn.d,{key:"team_switcher_separator--browser2"})];return se.length>1&&I&&ye.splice(1,0,...Ue),t.a.createElement(Yn.f,pb({},o,{onTriggerClose:Ee,width:360,menuClassNames:"p-team_switcher_menu p-team_switcher_menu--animate-in p-peek_card p-peek_card--as-card",onMenuItemSelected:ge}),ye)},"TeamSwitcherMenu");Mv.displayName="TeamSwitcherMenu";var jS=Mv;const SS={backgroundColor:"rgba(0, 0, 0, 0.15)",inset:0},IS={top:0,left:0,bottom:80,right:0,width:360,height:0},Dv=c(r=>{let{children:n,restoreFocusFn:a}=r;const o=Object(s.useCallback)(()=>t.a.createElement(Mn,null,t.a.createElement(jS,{position:"bottom-left",offsetX:4,offsetY:9,allowanceX:0,targetBounds:IS,restoreFocusFn:a},t.a.createElement("div",null))),[a]),i=Object(dh.a)(ps.c.TeamSwitcherCoachmark);return t.a.createElement(dm.a,{subtype:"team-switcher-peek-trigger"},t.a.createElement(Dd.a,{renderContent:o,offsetX:-20,offsetY:4,allowanceX:4,position:Zc.b.BottomLeft,forceOpenOnClick:!0,isOpen:i,peekId:"workspace-switcher",overlayStyle:i?SS:void 0,ariaHidden:i,triggerDelay:300},n))},"TeamSwitcherPeekTrigger");Dv.displayName="TeamSwitcherPeekTrigger";var TS=Dv;const AS=c(()=>{const[r,n]=Object(s.useState)(0),[a,o]=Object(s.useState)();var i;const l=(i=Object(O.b)(C.getBootedWorkspaces))!==null&&i!==void 0?i:lr.a,m=Object(d.c)(nn.g);var h;const p=(h=Object(Xt.n)(m))!==null&&h!==void 0?h:void 0;return Object(s.useEffect)(()=>{const E={};l.filter(I=>I!==p).forEach(I=>{let G=0;const Y=Object(v.getStoreInstanceByTeamId)(I);if(Y){const se=Y.getState();G=Object(Em.a)(se)+Object(_m.h)(se)}E[I]=G}),o(I=>Object(q.a)(I,E)?I:E);const j=l.map(I=>{const G=Object(v.getStoreInstanceByTeamId)(I);if(!G)return null;let Y,se=E[I]||0;return G.subscribe(()=>{const be=G.getState();if(be===Y)return;Y=be;const Ee=Object(Em.a)(be)+Object(_m.h)(be);Ee!==se&&(se=Ee,o(_e=>({..._e,[I]:Ee})))})});return()=>{j.forEach(I=>I==null?void 0:I())}},[l,p]),Object(s.useEffect)(()=>{if(!a)return;let E=0;for(const[j,I]of Object.entries(a))!l.includes(j)||j===p||(E+=I);n(E)},[l,p,a]),{mentionCountByWorkspace:a,totalMentionsCount:r}},"useWorkspaceSwitcherBadgeCount");var Wd=e("HKlo"),Rv=e("GJt6");const ym=new he.b("classic_nav"),NS={elementName:"account_switcher_button",onClick:{enableClogAction:!0}},kS=2,xv=c(r=>{let{isNarrowWindow:n}=r;var a;const o=(a=Object(O.b)(C.getAllWorkspaces))!==null&&a!==void 0?a:lr.a,i=Object(d.c)(lo=>Object(en.d)(lo,"workspace_icon_for_single_workspace_users")==="on"),l=Object(d.c)(nn.g);var m;const h=(m=Object(Xt.n)(l))!==null&&m!==void 0?m:void 0;var p;const E=(p=Object(d.c)(nn.f))!==null&&p!==void 0?p:l,j=Object(d.c)(lo=>Object(Td.a)(lo,"use_workspace_icon_for_single_workspace_users",Object(Xt.n)(E)));var I,G;const Y=((G=((I=Object(d.c)(Xn.f))!==null&&I!==void 0?I:[]).length)!==null&&G!==void 0?G:0)===1,se=i&&j&&Y?E:l;var be;const Ee=(be=Object(Xt.n)(se))!==null&&be!==void 0?be:void 0,_e=Object(O.b)(lo=>Object(C.hasWorkspaceFailedToBoot)(lo,h)),ge=Object(O.b)(C.getWorkspacesMeta),ye=ge==null?void 0:ge[Ee],Ue=_e?ye==null?void 0:ye.icon:Object(Xt.m)(se),Re=_e?ye==null?void 0:ye.name:Object(Xt.h)(se),tt=Mp(),{mentionCountByWorkspace:Ge,totalMentionsCount:Tt}=AS(),xn=(Ge?Object.keys(Ge):[]).filter(lo=>lo!==h).filter(lo=>Ge&&Ge[lo]>0),Pn=tt.filter(lo=>lo!==h).filter(lo=>!xn.includes(lo)),Vn=[...xn,...Pn].length!==0,la=Object(s.useCallback)(()=>Tt>0?ym.t("{mentionCount, plural, =1 {{count} new mention} other {{count} new mentions}}",{mentionCount:Tt,count:Tt&&Tt>hr.b?ym.t("{maxBadgeCount}+",{maxBadgeCount:hr.b}):Tt}):Vn?ym.t("Has new messages"):"",[Vn,Tt]),Ta=Object(s.useMemo)(()=>ym.t("Switch workspaces\u2026 ({currentWorkSpace}) {description}",{currentWorkSpace:Re,description:la()}),[Re,la]),ao=Object(Ye.p)()?"cmd + option + s":"ctrl + alt + s",qa=o.filter(lo=>lo!==h).slice(0,kS),po=Object(d.c)(Ll.a),Qo=Object(s.useCallback)(()=>po?t.a.createElement(pn.a,{className:"p-team_sidebar__govslack_icon",type:"gov-slack",size:"inherit"}):null,[po]),oo=Object(s.useRef)(null),ma=Object(s.useMemo)(()=>t.a.createElement("div",null,t.a.createElement("span",{hidden:!0,id:"workspace-notification-summary-shortcut-hint"},ym.t("Use {WorkspaceNotificationSummaryShortcut} from anywhere in Slack to get a summary of workspace notifications",{WorkspaceNotificationSummaryShortcut:ao})),t.a.createElement(ct.d,{className:"p-account_switcher","aria-label":Ta,"aria-describedby":"workspace-notification-summary-shortcut-hint",autoClogProps:NS,"aria-haspopup":"menu",ref:oo},qa.map(lo=>t.a.createElement("div",{className:"p-account_switcher__phantom_team_icon",key:lo,role:"none"})),t.a.createElement(Ur.a,{icon:Ue,size:n?24:36,teamName:Re,className:"p-account_switcher__team_icon p-account_switcher__team_icon--current"}),Tt>0?t.a.createElement(rc.b,{count:Tt,maxCount:hr.b}):Vn&&t.a.createElement(Xl,null),Qo())),[ao,Ta,Ue,Re,Vn,Qo,qa,Tt,n]),Lo=Object(s.useCallback)(()=>{const lo=oo.current;return lo?(lo.focus(),!0):!1},[oo]),zo=Object(s.useCallback)(()=>{var lo;oo==null||(lo=oo.current)===null||lo===void 0||lo.focus()},[oo]);return Object(Rv.a)(Wd.c.WORKSPACE_SWITCHER_MENU_BUTTON,Lo),t.a.createElement(At.b,{subtype:"account-switcher"},t.a.createElement(TS,{restoreFocusFn:zo},ma))},"AccountSwitcher");xv.displayName="AccountSwitcher";var PS=xv,Eu=e("ZKjC"),Lv=e("BjeH");const wv=Object(Eu.b)((r,n)=>{let{getSiblingView:a}=n;return Object(Ze.db)(r,{getSiblingView:a,steps:[We.m.TeamName,We.m.Profile,We.m.Welcome]})?!1:Object(Ze.db)(r,{getSiblingView:a,steps:[We.m.CalendarContactImport]})?Object(Lv.a)(r).length>0||Object(Ze.O)(r):!0});wv.meta={name:"createSelector",key:"createSelectorisHomeTabActive",description:(r,n)=>{let{getSiblingView:a}=n;return Object(Ze.db)(r,{getSiblingView:a,steps:[We.m.TeamName,We.m.Profile,We.m.Welcome]})?!1:Object(Ze.db)(r,{getSiblingView:a,steps:[We.m.CalendarContactImport]})?Object(Lv.a)(r).length>0||Object(Ze.O)(r):!0}};function Bv(){const{windowId:r}=Object(s.useContext)(Z.a),{getSiblingView:n}=Object(kc.a)(r),a=Object(d.c)(nn.g),o=Object(Xt.m)(a),i=Object(Xt.h)(a),l=Object(d.c)(h=>Object(Ze.cb)(h,{getSiblingView:n})),m=Object(d.c)(Ze.J);return t.a.createElement("div",{className:"p-account_switcher p-account_switcher--setup"},l&&!m?t.a.createElement("i",{className:"c-team_icon p-account_switcher__icon",role:"img","aria-hidden":!0}):t.a.createElement(Ur.a,{icon:o,size:36,teamName:l?m:i,className:"p-account_switcher__team_icon p-account_switcher__team_icon--setup"}))}c(Bv,"SetupAccountSwitcher"),Bv.displayName="SetupAccountSwitcher";var MS=Object(s.memo)(Bv),ii=e("gl0Z"),DS=e("YsUP");const _u=new he.b("client");function RS(r,n){return!Object(Gf.a)(n)||Object(DS.a)(n)||n===0?null:{get[f.f.Home](){return _u.t("with unreads",{fallbackHash:"08f53bb533ed3306e2efcc5fc8bf8b2daca3127f",fallbackHashNs:"client"})},get[f.f.DMs](){return _u.t("{badgeCounts, plural, =1 {# unread} other {# unreads}}",{badgeCounts:n,fallbackHash:"76fcbfb007590d10fabb287bc4b343d5e19bfaba",fallbackHashNs:"client"})},get[f.f.Activity](){return _u.t("{badgeCounts, plural, =1 {# notification} other {# notifications}}",{badgeCounts:n,fallbackHash:"b6ea7ac0be24273cb26b5ffab8311349111869be",fallbackHashNs:"client"})},get[f.f.Later](){return _u.t("{badgeCounts, plural, =1 {# notification} other {# notifications}}",{badgeCounts:n,fallbackHash:"b6ea7ac0be24273cb26b5ffab8311349111869be",fallbackHashNs:"client"})},get[f.f.Browse](){return _u.t("{badgeCounts, plural, =1 {# notification} other {# notifications}}",{badgeCounts:n,fallbackHash:"b6ea7ac0be24273cb26b5ffab8311349111869be",fallbackHashNs:"client"})},[f.f.Search]:null,[f.f.Channels]:null,[f.f.People]:null,[f.f.Platform]:null,[f.f.Huddles]:null,[f.f.Files]:null,get[f.f.Canvases](){return _u.t("with unread starred canvases",{fallbackHash:"08f53bb533ed3306e2efcc5fc8bf8b2daca3127f",fallbackHashNs:"client"})},[f.f.SalesHome]:null,[f.f.Lists]:null,[f.f.ExternalConnections]:null,[f.f.AiSummaryList]:null,[f.f.ExternalConnectionsTemp]:null,[f.f.Records]:null,[f.f.Assistant]:null,[f.f.FilesPrototype]:null,[f.f.Solutions]:null,[f.f.SlackKitPlayground]:null}[r]}c(RS,"getTabAriaDescription");const xS="tab_rail_tab_item_description";function cc(r){return`${xS}_${r}`}c(cc,"getTabRailTabItemAriaDescribedById");const Wv=c(r=>{let{tab:n,badgeCount:a}=r;const o=cc(n),i=Object(s.useMemo)(()=>RS(n,a),[a,n]);return i?t.a.createElement("div",{id:o,hidden:!0},i):null},"BadgeAriaDescription");Wv.displayName="BadgeAriaDescription";var Cu=Wv;const Uv=c(r=>{let{badgeCounts:n}=r;const o=Object(d.c)(Q.a)===f.f.Later;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"bookmark",variation:o?"filled":void 0,size:"20"}))),t.a.createElement(rc.b,{count:n[ii.a.LATER],maxCount:hr.b}),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.Later})),t.a.createElement(Cu,{tab:f.f.Later,badgeCount:(n==null?void 0:n[ii.a.LATER])||0}))},"LaterTab");Uv.displayName="LaterTab";var LS=Object(s.memo)(Uv),Hv=e("eVCY"),wS=e("Qz+u"),BS=e("1afx");function Fv(){const r=Object(d.c)(Q.a),n=Object(d.c)(Hv.r),a=Object(d.c)(o=>Object(wS.a)(o,BS.b.SalesHomeNotification));return n?t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"sales",size:"20",variation:r===f.f.SalesHome?"filled":void 0}))),a!==0&&t.a.createElement(Xl,null),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.SalesHome}))):null}c(Fv,"SalesHomeTabButton"),Fv.displayName="SalesHomeTabButton";var WS=Object(s.memo)(Fv),jm=e("pgVm");function Kv(){const n=Object(d.c)(Q.a)===f.f.Platform,a=Object(d.c)(xa.q);return Object(d.c)(jm.d)?t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"play",size:"20",variation:n?"filled":void 0}))),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.Platform,experimentDesktopIa4GroupOn:a}))):null}c(Kv,"AutomationsTabButton"),Kv.displayName="AutomationsTabButton";var US=Object(s.memo)(Kv),Vv=e("YEN2");function Gv(r){let{hideUnreads:n=!1,isActive:a=!1,badgeCounts:o,className:i}=r;const l=Object(d.c)(j=>Object(Vv.a)(j,f.f.DMs)),m=o&&o[ii.a.HOME]>0,h=o&&o[ii.a.DMS]>0,p=!l&&h,E=t.a.createElement(Pe.a,{name:"home",variation:a?"filled":void 0,size:"20"});return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button--home"},t.a.createElement("div",{className:Object(g.default)("p-tab_rail__button__icon",i)},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},E)),p?t.a.createElement(rc.b,{count:o[ii.a.DMS],maxCount:hr.b}):m&&!n&&t.a.createElement(Xl,null)),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.Home})),t.a.createElement(Cu,{tab:f.f.Home,badgeCount:(o==null?void 0:o[ii.a.HOME])||0}))}c(Gv,"HomeTabContent"),Gv.displayName="HomeTabContent";var HS=Object(s.memo)(Gv),bb=e("9a6/");const zv=Object(Eu.b)(r=>r.dmsToast&&r.dmsToast[0]);zv.meta={name:"createSelector",key:"createSelectorgetCurrentToast",description:r=>r.dmsToast&&r.dmsToast[0]};const FS=Object(Eu.b)(r=>r.dmsToast);FS.meta={name:"createSelector",key:"createSelectorgetToastQueue",description:r=>r.dmsToast};var Yv=e("2md2"),Sm=e("pFNT");let fb=c(class extends s.Component{componentDidMount(){this.props.currentToast&&this.props.clearQueue()}componentDidUpdate(n,a){const o=n.currentToast&&n.currentToast.userId,i=this.props.currentToast&&this.props.currentToast.userId,l=n.currentToast&&n.currentToast.key,m=this.props.currentToast&&this.props.currentToast.key;m&&m!==l&&(i&&i!==o?this.startToastTimer():this.props.shiftToast()),this.state.waiting&&!a.waiting&&this.startWaitTimer()}componentWillUnmount(){this.props.shiftToast(),this.toastTimer&&clearTimeout(this.toastTimer),this.waitTimer&&clearTimeout(this.waitTimer)}shouldShowToast(){return this.props.currentToast&&this.state.newToast&&!this.state.waiting}startToastTimer(){this.setState(()=>({newToast:!0})),this.toastTimer=window.setTimeout(()=>{this.setState(n=>({...n,waiting:!0,newToast:!1}))},bb.a.DISPLAY)}startWaitTimer(){this.waitTimer=window.setTimeout(()=>{this.setState(n=>({...n,waiting:!1})),this.props.shiftToast()},bb.a.WAIT)}startPause(){this.toastTimer&&(clearTimeout(this.toastTimer),this.setState(n=>({...n,paused:!0}))),this.clearToastTimer&&(clearTimeout(this.clearToastTimer),this.clearToastTimer=null)}endPause(){this.clearToastTimer||(this.clearToastTimer=window.setTimeout(()=>{this.setState(n=>({...n,waiting:!0,newToast:!1,paused:!1})),this.clearToastTimer=null},bb.a.HIDE_AFTER_HOVER))}render(){const{currentToast:n,stopAnimations:a,variation:o}=this.props,{paused:i}=this.state,l=this.shouldShowToast()?t.a.createElement("div",{className:Object(g.default)("p-bloop",{"p-bloop--paused":i,"p-bloop__link--no_animation":a,"p-bloop__link__icon":!0})},t.a.createElement(Sm.c,{size:20,userId:n.userId,isInteractive:!1,tabIndex:-1})):null,m=t.a.createElement("div",{className:Object(g.default)("p-bloop__link__icon p-bloop__link",{"p-bloop__link--toasting":!!l,"p-bloop__link--no_animation":a,"p-bloop__link--hide":i})},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"direct-messages",variation:o,size:"20"})));return t.a.createElement("div",{style:{position:"relative"}},l,m)}constructor(n){super(n),this.startPause=this.startPause.bind(this),this.endPause=this.endPause.bind(this),this.state={waiting:!1,newToast:!1,paused:!1}}},"Bloop");fb.displayName="Bloop",fb.defaultProps={currentToast:void 0,shiftToast:tn.a,clearQueue:tn.a,stopAnimations:!1,variation:void 0};const KS=c(r=>{const n=zv(r);let a={};if(n){const{userId:o}=n;a={userName:Object($a.a)(r,o)}}return{...a,currentToast:n,stopAnimations:!Object(bn.u)(r,"a11y_animations")}},"bloop_mapStateToProps"),VS=c(r=>({shiftToast:()=>r(Object(Yv.e)()),clearQueue:()=>r(Object(Yv.a)())}),"bloop_mapDispatchToProps");var GS=Object(Be.a)(KS,VS)(fb);function Jv(r){let{badgeCounts:n,hideMentions:a=!1,isActive:o=!1}=r;const i=Object(d.c)(xa.n);return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},i?t.a.createElement(GS,{variation:o?"filled":void 0}):t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"direct-messages",variation:o?"filled":void 0,size:"20"}))),!a&&t.a.createElement(rc.b,{count:n[ii.a.DMS],maxCount:hr.b}),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.DMs})),t.a.createElement(Cu,{tab:f.f.DMs,badgeCount:(n==null?void 0:n[ii.a.DMS])||0}))}c(Jv,"DmsTabContent"),Jv.displayName="DmsTabContent";var zS=Object(s.memo)(Jv),YS=e("Fsnq"),vb=e("QNVd"),JS=e("2WsT"),Xv=e("UhFq");const Qv=new he.b("classic_nav");let gb=c(class extends s.Component{componentDidMount(){this.props.currentToast&&this.props.clearQueue()}componentDidUpdate(n,a){const o=n.currentToast&&n.currentToast.emoji,i=this.props.currentToast&&this.props.currentToast.emoji;i&&i!==o&&this.startToastTimer(),this.state.waiting&&!a.waiting&&this.startWaitTimer()}componentWillUnmount(){this.props.shiftToast(),this.toastTimer&&clearTimeout(this.toastTimer),this.waitTimer&&clearTimeout(this.waitTimer)}shouldShowToast(){return!this.props.prefExcludeReactions&&this.props.currentToast&&this.state.newToast&&!this.state.waiting}startToastTimer(){this.setState(()=>({newToast:!0})),this.toastTimer=window.setTimeout(()=>{this.setState(n=>({...n,waiting:!0,newToast:!1}))},vb.a.DISPLAY)}startWaitTimer(){this.waitTimer=window.setTimeout(()=>{this.setState(n=>({...n,waiting:!1})),this.props.shiftToast()},vb.a.WAIT)}startPause(){this.toastTimer&&(clearTimeout(this.toastTimer),this.setState(n=>({...n,paused:!0}))),this.clearToastTimer&&(clearTimeout(this.clearToastTimer),this.clearToastTimer=null)}endPause(){this.clearToastTimer||(this.clearToastTimer=window.setTimeout(()=>{this.setState(n=>({...n,waiting:!0,newToast:!1,paused:!1})),this.clearToastTimer=null},vb.a.HIDE_AFTER_HOVER))}renderTip(){const{userName:n,channelName:a,isDirectMessage:o,currentToast:i}=this.props,{otherUsers:l}=i,m=Object(YS.a)(l),h=m===0?n:Qv.rt("{userName} and {numOthers,plural,=1{# other}other{# others}}",{userName:n,numOthers:m}),p=o?Qv.t("Direct Message"):a;return t.a.createElement(t.a.Fragment,null,h,t.a.createElement("span",{className:"p-activity_toast_ia2022__activity__toast__tip_sub"},p))}render(){const{currentToast:n,stopAnimations:a,iconType:o}=this.props,{paused:i}=this.state,l=this.shouldShowToast()?t.a.createElement(Or.c,{tip:this.renderTip(),position:"right",onShow:this.startPause,onHide:this.endPause},t.a.createElement("div",{className:Object(g.default)("p-activity_toast_ia2022__activity__toast p-activity_toast_ia2022__activity__toast--with-tooltip",{"p-activity_toast_ia2022__activity__toast--paused":i,"p-activity_toast_ia2022__link--no_animation":a,"p-activity_toast_ia2022__link__icon":!0})},t.a.createElement(Ai.b,{text:`:${n.emoji}:`,url:n.url,emojiSize:Ai.a.MEDIUM,forceDisplay:!0}))):null,m=t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(pn.a,{type:o,size:20,className:Object(g.default)("p-activity_toast_ia2022__link__icon p-activity_toast_ia2022__link__activity",{"p-activity_toast_ia2022__link__activity--toasting":!!l,"p-activity_toast_ia2022__link--no_animation":a,"p-activity_toast_ia2022__link__activity--hide":i}),"data-qa":`sidebar-icon-${o}`}));return t.a.createElement("div",{style:{position:"relative"}},l,m)}constructor(n){super(n),this.startPause=this.startPause.bind(this),this.endPause=this.endPause.bind(this),this.state={waiting:!1,newToast:!1,paused:!1}}},"ActivityToast");gb.displayName="ActivityToast",gb.defaultProps={currentToast:void 0,shiftToast:tn.a,clearQueue:tn.a,stopAnimations:!1,prefExcludeReactions:!1,isDirectMessage:!1,iconType:"bell"};const XS=c(r=>{const n=Object(JS.a)(r);let a={};if(n){const{userId:o,channelId:i}=n,l=Object(Mt.d)(r,i),m=Object(aa.t)(r,l);a={userName:Object($a.a)(r,o),channelName:m,isDirectMessage:Object(wn.g)(l)}}return{...a,currentToast:n,stopAnimations:!Object(bn.u)(r,"a11y_animations"),prefExcludeReactions:Object(bn.u)(r,"mentions_exclude_reactions")}},"activity_toast_mapStateToProps"),QS=c(r=>({shiftToast:()=>r(Object(Xv.e)()),clearQueue:()=>r(Object(Xv.a)())}),"activity_toast_mapDispatchToProps");var ZS=Object(Be.a)(XS,QS)(gb),Zv=e("aNr4");function $v(r){let{badgeCounts:n,hideMentions:a=!1,isActive:o=!1}=r;const i=Object(d.c)(xa.k),l=Object(d.c)(Zv.m),m=Object(d.c)(p=>!Object(bn.u)(p,"activity_include_threads_in_badge_count")),h=c(()=>a?null:i&&m&&n[ii.a.ACTIVITY]===0&&l>0?t.a.createElement("span",{className:"p-unread_dot"}):t.a.createElement(rc.b,{count:n[ii.a.ACTIVITY],maxCount:hr.b}),"renderBadge");return h.displayName="renderBadge",t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement(ZS,{iconType:o?"bell":"bell-o"})),h(),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.Activity})),t.a.createElement(Cu,{tab:f.f.Activity,badgeCount:(n==null?void 0:n[ii.a.ACTIVITY])||0}))}c($v,"ActivityTabContent"),$v.displayName="ActivityTabContent";var $S=Object(s.memo)($v);function qv(r){let{badgeCounts:n,hasUnreads:a,hideMentions:o=!1,isNarrowWindow:i=!1,isSetupPage:l=!1}=r;const m=Object(d.c)(Ao.u),h=n[ii.a.BROWSE]||0,p=!l&&!o,E=!l&&a&&!h&&!o||!m;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:i?"ellipsis-vertical":"ellipsis-horizontal",variation:"filled",size:"20"})),E&&t.a.createElement(Xl,null)),p&&t.a.createElement(rc.b,{count:h,maxCount:hr.b}),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.Browse})),t.a.createElement(Cu,{tab:f.f.Browse,badgeCount:h}))}c(qv,"BrowseTabContent"),qv.displayName="BrowseTabContent";var qS=Object(s.memo)(qv);function eg(){const n=Object(d.c)(Q.a)===f.f.Huddles;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"headphones",size:"20",variation:n?"filled":void 0}))),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.Huddles})))}c(eg,"HuddlesTabButton"),eg.displayName="HuddlesTabButton";var eI=Object(s.memo)(eg),tg=e("AutL");function ng(){const n=Object(d.c)(Q.a)===f.f.Canvases,a=Object(d.c)(tg.a),i=Object(d.f)(l=>a.map(m=>Object(qo.e)(l,m,!0)).filter(m=>!Object(_n.zb)(m)&&!Object(_n.Tb)(m))).some(l=>l.show_badge);return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"canvas-browser",size:"20",variation:n?"filled":void 0}))),i&&!n&&t.a.createElement(Xl,null),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.Canvases})),i&&t.a.createElement(Cu,{tab:f.f.Canvases,badgeCount:1}))}c(ng,"CanvasTabContent"),ng.displayName="CanvasTabContent";var tI=Object(s.memo)(ng);function ag(r){let{isExternalConnectionsTemp:n,hasUnreads:a}=r;const o=n?f.f.ExternalConnectionsTemp:f.f.ExternalConnections,l=Object(d.c)(Q.a)===o;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"buildings",size:"20",variation:l?"filled":void 0}))),a&&t.a.createElement(Xl,null),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:o})))}c(ag,"ExternalConnectionsTabContent"),ag.displayName="ExternalConnectionsTabContent";var nI=Object(s.memo)(ag),og=e("aVYy"),Pi=e("Zrm2");const Wr=new he.b("client"),Ob={get[f.f.Home](){return Wr.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"view"})},get[f.f.DMs](){return Wr.t("DMs",{fallbackHash:"0e8e35d8bb95c59f0127ab5d32edb472ca6c21ad",fallbackHashNs:"view"})},get[f.f.Activity](){return Wr.t("Activity",{fallbackHash:"81c0d915fa6d82fd30661c5e66e204cea52bb2b5",fallbackHashNs:"view"})},get[f.f.Later](){return Wr.t("Later",{fallbackHash:"56e2f5d3634ea4aac5b56f1548e92680dd4cdd05",fallbackHashNs:"view"})},get[f.f.Search](){return Wr.t("Search",{fallbackHash:"bce06414177f72ab70e6387b6af9f8ceef0d6049",fallbackHashNs:"view"})},get[f.f.Browse](){return Wr.t("More\u2026",{fallbackHash:"4bab2d8fe13fa6ab57f80098b414f0f734c5dd25",fallbackHashNs:"view"})},get[f.f.Channels](){return Wr.t("Channels",{fallbackHash:"18e03e2a37ba37df713f9665ef752fb8b40fc1e8",fallbackHashNs:"ia4"})},get[f.f.People](){return Wr.t("People",{fallbackHash:"b37554f695b15005fd23907b9488e0a8ad4bca5f",fallbackHashNs:"ia4"})},get[f.f.Platform](){return Wr.t("Automations",{fallbackHash:"82542d6d0a0aa0c1e9afdbe2f29d3057618daec2",fallbackHashNs:"view"})},get[f.f.Huddles](){return Wr.t("Huddles",{fallbackHash:"cfed893a3dc774c76cbd9efb20d641aad32eff33",fallbackHashNs:"ia4"})},get[f.f.Files](){return Wr.t("Files",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b",fallbackHashNs:"view_header"})},get[f.f.FilesPrototype](){return Wr.t("Content",{fallbackHash:"6ce6c512ea433a7fc5c8841628e7696cd0ff7f2b",fallbackHashNs:"view_header"})},get[f.f.Canvases](){return Wr.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"ia4"})},get[f.f.SalesHome](){return Wr.t("Sales",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"ia4"})},get[f.f.ExternalConnections](){return Wr.t("External connections",{fallbackHash:"1414032968e6344d2d3cd0ba2b96dca7cd6df78f"})},get[f.f.ExternalConnectionsTemp](){return Wr.t("External connections",{fallbackHash:"1414032968e6344d2d3cd0ba2b96dca7cd6df78f"})},get[f.f.Lists](){return Wr.t("Lists",{fallbackHash:"57c9502a7d7d48fd4a86b45fefb2b163491c3ae1",fallbackHashNs:"files"})},get[f.f.AiSummaryList](){return Wr.t("Slack AI",{fallbackHash:"ec69c0bbf2c6c23b26450de89827e6a8b5614f8c",fallbackHashNs:"assistant"})},get[f.f.Assistant](){return"Assistant"},get[f.f.Records](){return"Records"},get[f.f.Solutions](){return"Solutions"},get[f.f.SlackKitPlayground](){return"Slack Kit Playground"}};function Gi(r,n,a){return r===f.f.Browse&&n&&a&&a.includes(n)?`${Ob[r]}: ${Ob[n]}`:Ob[r]}c(Gi,"getTabAriaLabel");var aI=e("cDjR"),Im=e("UtWR");const sg=6,rg=-44,ig=c(r=>{let{children:n,offsetX:a=sg,renderContent:o,forceTabWhenNavigating:i,peekId:l}=r;const m=Object(s.useCallback)(()=>t.a.createElement(Im.a,{type:f.k.Modal,windowId:f.e,shouldNavigateInContext:!0,forceTabWhenNavigating:i},o()),[o,i]);return t.a.createElement(Dd.a,{offsetX:a,offsetY:rg,position:Zc.b.RightBottom,renderContent:m,peekId:l},n)},"TabPeekTrigger");ig.displayName="TabPeekTrigger";var qc=ig,lc=e("Oq1V"),oI=e("9B1d"),sI=e("0EEA"),rI=e("4tFG"),Eb=e("itAW"),Tm=e("qr0+"),iI=e("srzd"),cI=e("/Hvu"),lI=e("/vXU"),dI=e("H3/J");const cg=c(r=>{let{triggerId:n,uiPage:a,onClick:o}=r;const i=Object(S.i)(),l=Object(d.c)(I=>Object(Eb.f)(I,{triggerId:n},!0)),m=Object(s.useCallback)(I=>{i(Object(lI.a)({e:I,triggerId:l.id,uiPage:a})),o&&o()},[i,o,l,a]),h=Object(d.c)(I=>{var G;return!(l==null||(G=l.workflow)===null||G===void 0)&&G.workflow_id?Object(iI.a)(I,l.workflow.workflow_id):void 0}),p=Object(cI.a)({trigger:l,workflow:h});if(!p)return null;const{title:E,description:j}=p;return t.a.createElement("div",{className:"p-automations_item_container","aria-hidden":!0,onClick:m},t.a.createElement("div",{className:"p-automations_item-icon_container"},t.a.createElement(dI.a,{shortcutInfo:p,size:36,className:"p-automations_item-icon"})),t.a.createElement("div",{className:"p-automations_item-information"},t.a.createElement("div",{className:"p-automations_item-information--name"},t.a.createElement(Xa.a,{lines:1,breakWords:!1},t.a.createElement("span",null,E))),t.a.createElement("div",{className:"p-automations_item-information--description"},t.a.createElement(Xa.a,{lines:1,breakWords:!1},t.a.createElement("span",null,j)))))},"AutomationsItem");cg.displayName="AutomationsItem";var uI=cg;const lg=new he.b("search"),mI={small:120,medium:175,large:250},dg=c(r=>{let{keys:n,width:a,height:o}=r;const i=Object(s.useRef)(null),{maybeClosePeek:l}=Object(s.useContext)(Wc.a),m=Object(s.useCallback)((h,p)=>{let{key:E}=p;if(E.length)return E==="list-loading"?t.a.createElement(t.a.Fragment,null,[...Array(10)].map((j,I)=>t.a.createElement(sI.a,{key:I,missingTextSizes:mI,className:"p-explorer_result--list"}))):t.a.createElement(uI,{onClick:()=>{l()},uiPage:"workflows_peek_view",triggerId:E})},[l]);return t.a.createElement(Tm.b,{keys:n,ref:i,width:a,height:o,rowRenderer:m})},"AutomationsList");dg.displayName="AutomationsList";const hI=t.a.createElement(oI.a,{minimizedView:!0,clogSource:"more-platform-peek-view-create-button"}),ug=c(()=>{const r=Object(S.i)(),n=Object(d.c)(jm.d),{workflows:a}=Object(d.c)(rI.c),o=Object(d.c)(Eb.d)||[],i=o.length;Object(F.a)(()=>{r(Object(aI.b)())});const l=a?["list-loading"]:o.map(h=>h.id),m=Object(s.useMemo)(()=>t.a.createElement("span",null,lg.t("Automations"),i>0&&t.a.createElement("span",{className:"p-peek_card__header_subtitle"},n?lg.t("{count} recently used",{count:i}):`${i} recently used`)),[i,n]);return t.a.createElement(lc.a,{header:m,classNameSuffix:"automations",contentClassName:Object(g.default)("p-view_sidebar","p-view_sidebar--list"),headerButtons:hI},t.a.createElement(go.a,null,h=>{let{width:p,height:E}=h;return t.a.createElement(dg,{keys:l,width:p,height:E})}))},"AutomationsPeekView");ug.displayName="AutomationsPeekView";const mg=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement(ug,null),[]);return t.a.createElement(qc,{renderContent:a,forceTabWhenNavigating:f.f.Platform,peekId:f.f.Platform},n)},"AutomationsPeekTrigger");mg.displayName="AutomationsPeekTrigger";var pI=mg,_b=e("AdTA"),bI=e("8gWv"),Th=e("NfYe"),fI=e("z4cG"),hg=e("cqkq"),vI=e("b+9Q");const Ah=new he.b("ia4"),gI={eventId:Oe.EventId.NEWXP_JOIN_TEAM,uiStep:Oe.UiStep.NFX_MORE_PEEK_COACHMARK,elementType:Oe.ElementType.COACHMARK,clogImpression:!0},pg=c(r=>{let{children:n}=r;const a=Object(S.i)(),{closure:o,currentStep:i,isOpen:l,nextStep:m,totalSteps:h}=Object(En.a)(ps.c.MorePeekCoachmark),p=Object(s.useCallback)(()=>{a(Object(gn.i)(m))},[a,m]),E=Object(s.useCallback)(()=>{a(Object(gn.i)(o))},[o,a]),j=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:i,totalSteps:h}),[i,h]),I=Object(s.useMemo)(()=>t.a.createElement(is.b,{ariaLabel:Ah.t("More is a launchpad for all of Slack\u2019s collaboration tools. {currentStep} of {totalSteps}",{currentStep:i,totalSteps:h}),arrowPosition:20,bodyText:Ah.rt("More is a launchpad for all of Slack\u2019s collaboration tools.<steps></steps>",{"<steps>":j}),centerOnArrow:!0,className:"p-nfx_more_peek_coachmark",closeCoachmark:E,isOpen:l,offsetY:36,onClickPrimaryButton:p,primaryCallToActionText:Ah.t("Next"),title:Ah.t("Find collaboration tools fast"),width:400,autoClogProps:gI}),[j,i,E,p,l,h]);return t.a.createElement(Za.c,{coachmarkElement:I,orientation:"right-top"},n)},"NFXMorePeekCoachmark");pg.displayName="NFXMorePeekCoachmark";var OI=pg,$l=e("9r2y"),ql=e("Qrj/"),bg=e("FFIf"),Nh=e("0Xjs"),Cb=e("NgZ7");const Am="seen_files_tab",fg=Object(Eu.b)(r=>{if(!ql.a.isAnyTreatment(r)||Object(bn.u)(r,"onboarding_complete")||Object(Cb.a)(r,Am))return!0;const n=Nh.d.FILES,{totalCount:a}=Object(bg.c)(r,n);return a>0});fg.meta={name:"createSelector",key:"createSelectorshouldShowFilesInMore",description:r=>{if(!ql.a.isAnyTreatment(r)||Object(bn.u)(r,"onboarding_complete")||Object(Cb.a)(r,Am))return!0;const n=Nh.d.FILES,{totalCount:a}=Object(bg.c)(r,n);return a>0}};var EI=e("zKio"),vg=e("83nZ");const _I=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"Kx7x"))),gg={spaceName:Ne.g.AUTOMATIONS_SIDEBAR_MENU_ITEM,notifications:{[Ne.h.AUTOMATION_NEW_CALLOUT]:{component:_I}}};var sw=gg,Og=e("mNat"),yb=e("6FZx");function kh(){return kh=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},kh.apply(this,arguments)}c(kh,"browse_peek_menu_item_extends");const Eg=new he.b("search");function _g(r){let{ariaDescribedBy:n,ariaLabel:a,badge:o,hasUnreads:i,callout:l,svgIconProps:m,id:h,menuItemProps:p,shortcutNumber:E,subtitle:j,title:I,...G}=r,Y=null;return E&&(Y=Object(Ye.p)()?Eg.rt("^{keyboardNumber}",{keyboardNumber:E}):Eg.rt("Ctrl Shift {keyboardNumber}",{keyboardNumber:E})),t.a.createElement(Yn.b,kh({ariaLabel:a,ariaDescribedBy:n},p,G),t.a.createElement("div",{className:Object(g.default)("p-more_menu_icon",i&&"p-more_menu_icon--with_unreads")},t.a.createElement(Pe.a,kh({size:"20"},m))),t.a.createElement("div",{className:"p-ia4_create_menu__item__label"},t.a.createElement("div",{id:`${h}-title`,className:"p-ia4_create_menu__item__label__title"},I,l),t.a.createElement("div",{id:h,className:"p-ia4_create_menu__item__label__subtitle"},j)),o,Y&&t.a.createElement("span",{className:"p-more_menu_shortcuts"},Y))}c(_g,"BrowsePeekMenuItem"),_g.displayName="BrowsePeekMenuItem";var Yr=Object(yb.b)(_g),jb=e("GWPn");const CI=new he.b("search");function Cg(){return t.a.createElement(jb.a,{className:"p-more_menu_callout"},CI.t("NEW"))}c(Cg,"BrowsePeekMenuItemNewCallout"),Cg.displayName="BrowsePeekMenuItemNewCallout";var yI=Object(s.memo)(Cg),yg=e("9Rsq"),Mi=e("Bypp"),Sb=e("EYPE");const jI=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"/ilZ")));var SI={spaceName:Ne.g.MORE_PEEK_MENU,notifications:{[Ne.h.MORE_PEEK_MENU_TABS_CUSTOMIZATION_NUX_MENU_ITEM]:{component:jI}}},iw=e("WAGc");function Ib(){return Ib=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Ib.apply(this,arguments)}c(Ib,"tabs_customization_menu_item_extends");const II=new he.b("search"),TI={clogImpression:!0,elementName:"tabs_customization_menu_item",onClick:{enableClogAction:!0},uiComponentName:Oe.UiComponentName.TABS_CUSTOMIZATION_MENU_ITEM},jg=c(r=>{let{onClick:n,...a}=r;const o=Object(d.c)(b.c),i=Object(d.c)(l=>!!Object(ka.c)(l,Ne.g.MORE_PEEK_MENU));return o||i?null:t.a.createElement(Yn.b,Ib({},a,{autoClogProps:TI,className:"p-more_menu_infobox--menu",onSelected:n,type:"custom"}),t.a.createElement("div",{className:"p-more_menu_infobox--steady"},II.t("Customize navigation bar")))},"TabsCustomizationMenuItem");jg.displayName="TabsCustomizationMenuItem";var AI=Object(yb.b)(Object(s.memo)(jg)),yu=e("OaiI"),Sg=e("uZL6"),NI=e("yd7g"),kI=e("pOmS");const PI=Object(Sg.a)(Mt.j,da.d,Xn.e,(r,n,a)=>{if(!r.length||!(a!=null&&a.length))return lr.b;const o=r.reduce((i,l)=>{const m=Object(kI.a)(l);return m&&a.includes(m)&&(i[l.id]=m),i},{});return Object.keys(n).reduce((i,l)=>{var m;const h=o[l];return h&&!i[h]&&!((m=n[l])===null||m===void 0)&&m.unreadCnt&&(i[h]=!0),i},{})}),Ig={home:!1,browseTab:!1,all:!1},Tb=Object(Sg.a)(PI,Xn.e,NI.a,(r,n,a)=>!n||Object(Je.a)(r)?Ig:n.reduce((i,l)=>(l in r&&(i.all=!0,i[a.includes(l)?"home":"browseTab"]=!0),i),{...Ig}));function Ph(){return Ph=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Ph.apply(this,arguments)}c(Ph,"browse_peek_trigger_extends");const ho=new he.b("search"),MI={backgroundColor:"rgba(0, 0, 0, 0.15)",inset:0},DI={eventId:Oe.EventId.OPEN_PREFERENCES,onClick:{enableClogAction:!0},uiStep:Oe.UiStep.MORE_PEEK},RI=c(()=>{const r=tn.a,{onResetSearch:n}=Object(EI.a)({scrollToTop:r,context:"browse_peek"});return Object(F.a)(()=>{n&&n()}),null},"InitFileSearch"),Ab=[f.f.ExternalConnections,f.f.ExternalConnectionsTemp],Tg=c(r=>{let{overflowTabs:n,refToTriggerElement:a}=r;const o=Object(S.i)(),i=Object(d.c)(b.c),l=Object(d.c)(_t=>Object(Je.a)(Object(Eb.d)(_t))),m=Object(d.c)(_m.i),h=Object(d.c)(jm.g),p=m<vI.c,E=Object(d.c)(hg.e),j=Object(d.c)(hg.a),I=Object(d.c)(fI.a),G=Object(og.a)(),Y=Object(d.c)(Zv.c),se=Object(d.c)(Q.a),be=Object(d.c)(fg),Ee=Object(d.c)($l.c),_e=Object(d.c)(_t=>Object(Th.g)(_t)&&Tb(_t).browseTab),ge=Object(d.c)(_t=>Object(bn.u)(_t,"seen_sidebar_tabrail_more_automations_callout")),ye=Object(d.c)(_t=>Object(bn.u)(_t,"onboarding_complete")),Ue=Object(d.c)(_t=>Object(Cb.a)(_t,Am)),Re=Object(d.c)(bI.b),tt=Object(d.c)(Sb.a).slice(0,9),Ge=Object(d.c)(_t=>Object(bn.u)(_t,"seen_more_tab_lists_new_badge")),yn=Object(d.c)(yu.isListsNuxNewBadgeEnabled)&&Object(Og.o)(),{maybeClosePeek:xn}=Object(s.useContext)(Wc.a),Pn=Object(d.c)(_t=>Object(Vv.a)(_t,f.f.DMs));Object(F.a)(()=>{!ge&&h&&o(Object(gu.f)({pref:"seen_sidebar_tabrail_more_automations_callout",value:!0}))}),Object(s.useEffect)(()=>{be&&!ye&&!Ue&&o(Object(vg.a)({pref:Am,value:!0,reason:Am}))},[o,be,Ue,ye]),Object(s.useEffect)(()=>{!Ge&&yn&&o(Object(gu.f)({pref:"seen_more_tab_lists_new_badge",value:!0}))},[o,Ge,yn]);const Lt=Object(s.useCallback)(_t=>{switch(_t){case f.f.DMs:return o(Object(Pi.b)({tab:f.f.DMs,reason:Pi.a.Click}));case f.f.Activity:return o(Object(Pi.b)({tab:f.f.Activity,reason:Pi.a.Click}));case f.f.SalesHome:return o(Object(Pi.b)({tab:f.f.SalesHome,reason:Pi.a.Click}));case f.f.Later:return o(Object(Pi.b)({tab:f.f.Later,reason:Pi.a.Click}));case f.f.Files:return o(Object(So.a)(Object(Mo.fb)()));case f.f.ExternalConnections:case f.f.ExternalConnectionsTemp:return o(Object(_b.a)());case f.f.Platform:return o(E?l?Object(So.a)(Object(Mo.X)(fa.a.Shortcuts)):Object(So.a)(Object(Mo.gb)()):j?Object(So.a)(Object(Mo.X)(fa.a.Apps)):Object(Pi.b)({tab:f.f.Platform,reason:Pi.a.Click}));case f.f.Channels:return o(Object(So.a)(Object(Mo.X)(fa.a.BrowseChannels)));case f.f.People:return o(Object(So.a)(Object(Mo.X)(fa.a.BrowsePeople)));case f.f.Huddles:return o(Object(So.a)(Object(Mo.X)(fa.a.Huddles)));case f.f.Lists:return o(Object(So.a)(Object(Mo.X)(fa.a.BrowseLists)));case f.f.Canvases:return o(Object(So.a)(Object(Mo.i)()));case f.f.AiSummaryList:return o(Object(So.a)(Object(Mo.W)()));case f.f.Assistant:return o(Object(Pi.b)({tab:f.f.Assistant,reason:Pi.a.Click}));default:Object(gl.a)(_t)}},[o,l,E,j]),Vn=Object(s.useCallback)(()=>{var _t;a==null||(_t=a.current)===null||_t===void 0||_t.focus(),xn()},[a,xn]),la=Object(s.useCallback)(_t=>{Vn(),Lt(_t)},[Vn,Lt]),Ta=Object(s.useCallback)(()=>{Vn()},[Vn]),ao=Object(s.useCallback)((_t,ja)=>t.a.createElement(t.a.Fragment,null,t.a.createElement(rc.b,{style:rc.a.themed,count:_t,maxCount:hr.b}),t.a.createElement("div",{hidden:!0,id:`${ja}-mention-count`},ho.t("{mentionCount, plural, =1 {{count} new mention} other {{count} new mentions}}",{mentionCount:_t,count:_t,ns:"team_picker"}))),[]),qa=Object(s.useCallback)(_t=>({id:_t,key:_t,className:"p-ia4_create_menu__item",type:Ho.b.radio,checked:_t===se,onSelected:()=>la(_t),autoClogProps:{eventId:Oe.EventId.TAB_RAIL,elementName:_t,onClick:{enableClogAction:!0}}}),[se,la]),po=n.some(_t=>Ab.includes(_t)),Qo=Object(s.useMemo)(()=>{const _t=[];return po&&_t.push(...Ab),_t.length>0&&n.some(ja=>!_t.includes(ja))},[po,n]),oo=Object(s.useCallback)(()=>!Ee&&!Ue?t.a.createElement(RI,null):null,[Ee,Ue]),ma=Object(s.useMemo)(()=>t.a.createElement(Cs.c,Ph({},gg,{className:"p-more_menu_callout"})),[]),Lo=Object(s.useMemo)(()=>t.a.createElement(yI,null),[]),zo=Object(s.useCallback)(()=>{o(Object(bl.a)({activeSection:yg.a.tabRail})),Vn()},[Vn,o]),lo=Object(s.useCallback)(_t=>{let{text:ja}=_t;return t.a.createElement(Ra.a,{autoClogProps:DI,onClick:zo},ja)},[zo]),Sr=Object(s.useMemo)(()=>i?t.a.createElement(t.a.Fragment,null,t.a.createElement("p",{className:"p-more_menu_header__title margin_bottom_0"},ho.t("Productivity-boosting tools")),t.a.createElement("p",{className:"p-more_menu_header__subtitle margin_bottom_0"},ho.rt("There\u2019s more to discover in More. To customize your tab bar and More, head to <a>preferences</a>.",{"<a>":lo,fallbackHash:"8d98609f1c0834d3c9d6a6b84393298159f829ee"}))):ho.t("More"),[i,lo]);return t.a.createElement(Yn.f,{menuClassNames:Object(g.default)("p-more_menu p-peek_card p-peek_card--as-card p-peek_card--animate-in p-peek_card--browse",{"p-more_menu--with_customization":!i}),width:360,onTriggerClose:Ta,"aria-label":ho.t("More"),noMargin:!i},oo(),t.a.createElement(Yn.c,{label:Sr,className:Object(g.default)("p-more_menu_header p-peek_card__header",{"p-more_menu_header--new_teams_v3":i})}),n.map(_t=>{const ja=tt.findIndex(ci=>ci===_t)+1;switch(_t){case f.f.DMs:return t.a.createElement(Yr,{ariaDescribedBy:"dms-description",ariaLabelledBy:`dms-description-title ${f.f.DMs}-mention-count`,ariaLabel:ho.t("Direct messages",{ns:"ia4"}),badge:Pn?!!G[ii.a.DMS]&&ao(G[ii.a.DMS],f.f.DMs):void 0,svgIconProps:Object(Mi.a)(_t),id:"dms-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Direct messages with your team"),title:ho.t("DMs")});case f.f.Activity:return t.a.createElement(Yr,{ariaDescribedBy:"activity-description",ariaLabelledBy:`activity-description-title ${f.f.Activity}-mention-count`,ariaLabel:ho.t("Activity"),badge:!!Y&&ao(Y,f.f.Activity),svgIconProps:Object(Mi.a)(_t),id:"activity-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Updates on what\u2019s happening"),title:ho.t("Activity")});case f.f.SalesHome:return t.a.createElement(Yr,{ariaDescribedBy:"sales-home-description",ariaLabelledBy:"sales-home-description-title",ariaLabel:ho.t("Sales"),svgIconProps:Object(Mi.a)(_t),id:"sales-home-description",menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Where you go to close the deals"),title:ho.t("Sales")});case f.f.Later:return t.a.createElement(Yr,{ariaDescribedBy:"later-description",ariaLabelledBy:`later-description-title ${f.f.Later}-mention-count`,ariaLabel:ho.t("Later"),badge:!!G[ii.a.LATER]&&ao(G[ii.a.LATER],f.f.Later),svgIconProps:Object(Mi.a)(_t),id:"later-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Saved messages to review later"),title:ho.t("Later")});case f.f.Assistant:return t.a.createElement(Yr,{ariaDescribedBy:"assistant-description",ariaLabelledBy:"assistant-description-title",ariaLabel:Re?ho.t("Assistant"):"",svgIconProps:Object(Mi.a)(_t),id:"assistant-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:Re?ho.t("Get some assistance from AI"):"",title:Re?ho.t("Assistant"):""});case f.f.AiSummaryList:return t.a.createElement(Yr,{ariaDescribedBy:"slack-assistant-description",ariaLabelledBy:"slack-assistant-description-title",ariaLabel:ho.t("Slack AI"),svgIconProps:Object(Mi.a)(_t),id:"slack-assistant-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Summarize a conversation or ask a question"),title:ho.t("Slack AI")});case f.f.Huddles:return t.a.createElement(Yr,{ariaDescribedBy:"huddles-description",ariaLabelledBy:"huddles-description-title",ariaLabel:ho.t("Huddles",{ns:"page_huddles"}),svgIconProps:Object(Mi.a)(_t),id:"huddles-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Collaborate and gather in real time"),title:ho.t("Huddles",{ns:"page_huddles"})});case f.f.Canvases:return t.a.createElement(Yr,{ariaDescribedBy:"canvases-description",ariaLabelledBy:"canvases-description-title",ariaLabel:ho.t("Canvases"),callout:p&&Lo,svgIconProps:Object(Mi.a)(_t),id:"canvases-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Curate content and collaborate"),title:ho.t("Canvases")});case f.f.Lists:return t.a.createElement(Yr,{ariaDescribedBy:"lists-description",ariaLabelledBy:"lists-description-title",ariaLabel:ho.t("Lists"),callout:yn&&Lo,svgIconProps:Object(Mi.a)(_t),id:"lists-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Track and manage projects"),title:ho.t("Lists")});case f.f.Files:return t.a.createElement(Yr,{ariaDescribedBy:"files-description",ariaLabelledBy:"files-description-title",ariaLabel:ho.t("Files"),svgIconProps:Object(Mi.a)(_t),id:"files-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Documents, clips, and attachments"),title:ho.t("Files")});case f.f.Platform:var wa,Bs;return t.a.createElement(Yr,{ariaDescribedBy:"platform-description",ariaLabelledBy:"platform-description-title",ariaLabel:(wa=Object(Bn.a)({tab:f.f.Platform}))!==null&&wa!==void 0?wa:"",callout:ma,svgIconProps:Object(Mi.a)(_t),id:"platform-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Create and find workflows and apps"),title:(Bs=Object(Bn.a)({tab:f.f.Platform}))!==null&&Bs!==void 0?Bs:""});case f.f.Channels:return t.a.createElement(Yr,{ariaDescribedBy:"channels-description",ariaLabel:ho.t("Channels"),ariaLabelledBy:"channels-description-title",svgIconProps:Object(Mi.a)(_t),id:"channels-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Browse your team\u2019s conversations"),title:ho.t("Channels")});case f.f.People:return t.a.createElement(Yr,{ariaDescribedBy:"people-description",ariaLabel:ho.t("People"),ariaLabelledBy:"people-description-title",svgIconProps:Object(Mi.a)(_t),id:"people-description",key:_t,menuItemProps:qa(_t),shortcutNumber:ja>0?ja:void 0,subtitle:I?ho.t("Your team, org chart and user groups"):ho.t("Your team and user groups"),title:ho.t("People")});default:return null}}),Qo&&t.a.createElement(Yn.d,null),n.map(_t=>{if(!Ab.includes(_t))return null;const ja=tt.findIndex(wa=>wa===_t);return t.a.createElement(Yr,{ariaDescribedBy:"external-connections-description",ariaLabelledBy:"external-connections-description-title",ariaLabel:ho.t("External connections"),svgIconProps:Object(Mi.a)(_t),id:"external-connections-description",key:_t,menuItemProps:qa(_t),hasUnreads:_e,shortcutNumber:ja>0?ja:void 0,subtitle:ho.t("Work with people from other organizations",{fallbackHash:"3e6a0155c8e248ab70693641c91dd48651854388"}),title:ho.t("External connections")})}),t.a.createElement(Cs.b,Ph({},SI,{onClick:zo,shouldAlwaysRenderChildren:!0,shouldPassPropsToChildren:!0}),t.a.createElement(AI,{onClick:zo})))},"BrowsePeekMenu");Tg.displayName="BrowsePeekMenu";const Ag=c(r=>{let{overflowTabs:n,children:a}=r;const o=Object(s.useRef)(null),i=t.a.Children.only(a),l=t.a.cloneElement(i,{ref:o}),m=Object(dh.a)(ps.c.MorePeekCoachmark),h=Object(s.useCallback)(()=>t.a.createElement(OI,null,t.a.createElement(Tg,{refToTriggerElement:o,overflowTabs:n})),[n]);return t.a.createElement(Dd.a,{allowanceY:4,offsetX:sg,offsetY:rg,renderContent:h,forceOpenOnClick:!0,peekId:f.f.Browse,isOpen:m,overlayStyle:m?MI:void 0,ariaHidden:m},l)},"BrowsePeekTrigger");Ag.displayName="BrowsePeekTrigger";var xI=Ag,LI=e("ygq4"),wI=e("VelS");const BI=new he.b("ia4"),WI=t.a.createElement(wI.a,null),Ng=c(()=>t.a.createElement(lc.a,{header:BI.t("Direct messages"),classNameSuffix:"dms",contentClassName:Object(g.default)("p-view_sidebar","p-view_sidebar--list"),headerButtons:WI},t.a.createElement(LI.a,{shouldTrackScroll:!1,compactDisplay:!0,isPeekView:!0})),"DmsPeekView");Ng.displayName="DmsPeekView";const kg=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement(Ng,null),[]);return t.a.createElement(qc,{renderContent:a,forceTabWhenNavigating:f.f.DMs,peekId:f.f.DMs},n)},"DmsPeekTrigger");kg.displayName="DmsPeekTrigger";var UI=kg,HI=e("xaOx"),cw=e("MAiY");const FI=new he.b("ia4"),Pg=c(()=>t.a.createElement(lc.a,{header:FI.t("Home"),classNameSuffix:"home",contentClassName:"p-ia4_channel_list"},t.a.createElement(HI.a,null)),"HomePeekView");Pg.displayName="HomePeekView";const Mg=c(r=>{let{children:n}=r;const a=Object(d.c)(xa.v),o=Object(s.useCallback)(()=>t.a.createElement(Pg,null),[]);return a?t.a.createElement(qc,{renderContent:o,forceTabWhenNavigating:f.f.Home,peekId:f.f.Home},n):n},"HomePeekTrigger");Mg.displayName="HomePeekTrigger";var KI=Mg,VI=e("7lMM"),GI=e("us8H"),zI=e("8Bdi"),Dg=e("LaoO"),YI=e("ymtc");const JI=new he.b("ia4"),Rg=c(()=>{const r=Object(S.i)(),n=Object(d.c)(rl.j),a=Object(d.c)(Ac.a),o=Object(d.c)(xa.e),i=Object(d.c)(xa.f),l=(o||i)&&a,{maybeClosePeek:m}=Object(s.useContext)(Wc.a),h=c(()=>{i&&r(Object(YI.j)({})),m()},"setupRemoteControlChildWindow"),p=t.a.createElement(t.a.Fragment,null,n&&t.a.createElement(zI.a,null),t.a.createElement(GI.a,null),l&&t.a.createElement(Dg.a,{view:"Pactivity",containerOrigin:f.k.Peek,initialColumnMode:ie.c.Single,tooltipPosition:"top",onOpen:h,shouldForceNavigateInContext:o}));return t.a.createElement(lc.a,{header:JI.t("Activity"),classNameSuffix:"activity",contentClassName:Object(g.default)("p-view_sidebar","p-view_sidebar--list"),headerButtons:p},t.a.createElement(VI.a,{shouldTrackScroll:!1,className:"p-activity_ia4_page--peek"}))},"ActivityPeekView");Rg.displayName="ActivityPeekView";const xg=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement(Rg,null),[]);return t.a.createElement(qc,{renderContent:a,forceTabWhenNavigating:f.f.Activity,isViewContainer:!0,peekId:f.f.Activity},n)},"ActivityPeekTrigger");xg.displayName="ActivityPeekTrigger";var XI=xg,Lg=e("yHFC"),wg=e("QRgo"),QI=e("7i3U"),ZI=e("AArn"),$I=e("QN65"),qI=e("if5N"),eT=e("2jTV");const Nb=new he.b("saved_for_later"),Bg=c(r=>{let{loading:n,items:a,clientTheme:o}=r;const i=Object(s.useContext)(ZI.a),l=a.map(p=>Object($I.b)(p)),m=Object(s.useRef)(null),h=Object(s.useCallback)((p,E)=>{let{key:j,hasFocus:I}=E;return t.a.createElement(qI.a,{isMessageExpanded:!1,item:a[p],key:j,hasFocus:!!I&&i,setHighlightedTab:tn.a})},[i,a]);return t.a.createElement("div",{className:`p-saved_for_later_page__list_wrapper p-saved_for_later_page__list_wrapper--${o}`},n&&t.a.createElement(vm.a,{size:"medium",noMargin:!0,floating:!0}),t.a.createElement(go.a,null,p=>{let{width:E,height:j}=p;return t.a.createElement(Tm.b,{ref:m,className:Object(g.default)("p-saved_for_later_page__list"),width:E,height:j,"aria-label":Nb.t("Saved for Later"),keys:l,rowRenderer:h,animateOnScroll:!1})}))},"LaterList");Bg.displayName="LaterList";const Wg=c(()=>{const r=Object(S.i)(),n=Object(s.useRef)(null),a=Object(d.f)(Lg.a),[o,i]=Object(s.useState)(()=>!a.length),m=Object(d.c)(Ac.a),h=Object(d.c)(Lg.k),{maybeClosePeek:p}=Object(s.useContext)(Wc.a),E=Object(d.c)(dn.a);Object(s.useEffect)(()=>{o&&r(Object(eT.b)({filter:wg.b.saved})).then(()=>{i(!1)})},[o,r]);const j=t.a.createElement("span",null,Nb.t("Later"),h.uncompletedCount>0&&t.a.createElement("span",{className:"p-peek_card__header_subtitle"},Nb.t("{count} in progress",{count:h.uncompletedCount}))),I=m?t.a.createElement(Dg.a,{view:"Plater",containerOrigin:f.k.Peek,initialColumnMode:ie.c.Single,tooltipPosition:"top",onOpen:p}):null;return t.a.createElement(lc.a,{header:j,headerButtons:I,classNameSuffix:"later",contentClassName:Object(g.default)("p-view_sidebar","p-view_sidebar--list")},!o&&a.length===0?t.a.createElement(QI.a,{activeTab:wg.b.saved,emptyStateRef:n}):t.a.createElement(Bg,{items:a,loading:o,clientTheme:E}))},"LaterPeekView");Wg.displayName="LaterPeekView";const Ug=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement(Wg,null),[]);return Object(d.c)(no.c)?t.a.createElement(qc,{renderContent:a,forceTabWhenNavigating:f.f.Later,peekId:f.f.Later},n):n},"LaterPeekTrigger");Ug.displayName="LaterPeekTrigger";var tT=Ug,Nm=e("GUXX"),nT=e("9vPN"),aT=e("Da3Y"),oT=e("Nyfl"),sT=e("JQAH"),rT=e("3K5w"),iT=e("fbTU"),cT=e("VvJB"),lT=e("forh"),dT=e("kIVU"),uT=e.n(dT);const Hg=new he.b("modernselling"),Fg=c(r=>{let{info:n}=r;var a;const o=(a=n.payload.opportunities)===null||a===void 0?void 0:a[0];return n.notification_type==="scheduled"?t.a.createElement("div",{className:Object(g.default)("sk_primary_foreground",{bold:n.is_unread})},t.a.createElement(Pe.a,{inline:!0,name:"calendar"})," ",Hg.t("Scheduled")):o?t.a.createElement("div",{className:"bold"},t.a.createElement(Pe.a,{inline:!0,name:"sf-opportunity",variation:"filled"})," ",o.name):t.a.createElement("div",{className:Object(g.default)("sk_primary_foreground",{bold:n.is_unread})},t.a.createElement(Pe.a,{inline:!0,name:"reminder"})," ",Hg.t("Reminder"))},"FeedItemTitle");Fg.displayName="FeedItemTitle";const Kg=c(r=>{let{info:n,last:a}=r;var o;return t.a.createElement("div",{className:Object(g.default)({"p-sales_notifications_peek__feed_item__card--last":a,"p-sales_notifications_peek__feed_item__card--unread":n.is_unread},"p-sales_notifications_peek__feed_item__card")},t.a.createElement("div",{className:"p-sales_notifications_peek__feed_item__title"},t.a.createElement(Fg,{info:n,last:a}),t.a.createElement("div",{className:"display_flex flex_direction_row align_items_center"},n.is_unread?t.a.createElement("span",{className:"p-sales_notifications_peek__feed_item__unread_dot"}):null)),t.a.createElement("div",{className:"p-sales_notifications_peek__feed_item__info"},t.a.createElement("div",{className:"display_flex align_items_start"},t.a.createElement("img",{className:"p-sales_notifications_peek__feed_item__icon",src:(o=n.icon_url)!==null&&o!==void 0?o:uT.a,alt:n.notification_type})),t.a.createElement("div",{className:"p-sales_notifications_peek__feed_item__info_text"},t.a.createElement("div",{className:"p-sales_notifications_peek__feed_item__info_container"},t.a.createElement("span",{className:"p-sales_notifications_peek__feed_item__info_title"},n.payload.workflow.title),t.a.createElement("span",{className:Object(g.default)("p-sales_notifications_peek__feed_item__info_datetime",{bold:n.is_unread})},Object(Ws.g)(n.created_ts,"{ago}"))),t.a.createElement(lT.a,{blocks:n.body,blocksContainerContext:cT.a.sales_home_notification}))))},"FeedItem");Kg.displayName="FeedItem";var mT=Kg,hT=e("oWj6"),pT=e("j7RM"),bT=e.n(pT),fT=e("f+eM"),vT=e.n(fT);const Ud=new he.b("modernselling"),Vg=c(r=>{let{limit:n}=r;const a=Object(iT.a)(n),o=Object(sT.a)(),i=Object(rT.a)(),m=Object(d.c)(dn.a)==="dark"?bT.a:vT.a,{maybeClosePeek:h}=Object(s.useContext)(Wc.a),p=Object(s.useCallback)(()=>{i(fa.a.SalesNotifications),h()},[h,i]),E=Object(s.useCallback)(()=>{o(),h()},[h,o]),[j,I]=Object(s.useState)([]),[G,Y]=Object(s.useState)(!0),[se,be]=Object(s.useState)(!1),Ee=Object(oT.a)(()=>{const ye=new iv.a({DEFAULT_HEIGHT:100});return new hT.a({heightCache:ye})},[]);Object(F.a)(()=>{a().then(ye=>{I(ye.notifications)}).catch(()=>{be(!0)}).finally(()=>{Y(!1)})});const _e=Object(s.useCallback)(ye=>t.a.createElement(mT,{info:j[ye],last:ye===j.length-1}),[j]),ge=Object(s.useMemo)(()=>j.filter(ye=>ye.is_acn).length,[j]);return se?t.a.createElement(Wi.d,{type:"boxed",level:"error",icon:"slack",align:"left"},Ud.t("Something went wrong. Please retry again later.")):t.a.createElement(De.a,{clogImpression:!0,elementName:"lob_sales_notifications_total",elementType:Oe.ElementType.CLIENT_PAGE,elementValue:j.length.toString(),enableClogImpressionOffScreen:!0},t.a.createElement(De.a,{clogImpression:!0,elementName:"lob_sales_admin_notifications_total",elementType:Oe.ElementType.CLIENT_PAGE,elementValue:ge.toString()},t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-sales_notifications_peek__feed__container"},G&&t.a.createElement("div",{className:"p-sales_notifications_peek__feed__spinner_container"},t.a.createElement(vm.a,{size:"jumbo"})),j.length===0&&!G?t.a.createElement("div",{className:"p-sales_notifications_peek__feed__empty"},t.a.createElement("img",{alt:Ud.t("Empty notifications placeholder image"),srcSet:m,height:"85",width:"auto"}),t.a.createElement("div",{className:"p-sales_notifications_peek__feed__empty__title"},Ud.t("No notifications yet")),t.a.createElement("div",null,Ud.t("When the conditions you\u2019ve set up are met,")),t.a.createElement("div",null,Ud.t("the notifications will appear here.")),t.a.createElement(ct.f,{className:"margin_top_75",type:"outline",onClick:p},Ud.t("Manage Notifications"))):t.a.createElement(go.a,null,ye=>{let{width:Ue,height:Re}=ye;return t.a.createElement(Tm.b,{animateOnScroll:!1,height:Re,keys:Object(av.a)(j,tt=>tt.created_ts),layout:Ee,rowRenderer:_e,onItemClick:E,width:Ue,disableKeyboardShortcuts:!1,useGlobalKeyboardShortcuts:!1})})),t.a.createElement("div",{className:"p-sales_notifications_peek__feed__footer"},t.a.createElement("div",{className:"p-sales_notifications_peek__feed__footer--text"},Ud.t("Visit Sales to see more",{fallbackHash:"4e6dcd39183a5c4574321fa0381dbfa09eca6e74"}))))))},"Feed");Vg.displayName="Feed";var Gg=Vg;const zg=new he.b("ia4"),Yg=c(()=>{const r=Object(d.c)(Nm.o),n=Object(d.c)(Nm.v);return!Object(Je.a)(n)&&r?t.a.createElement(lc.a,{header:zg.t("Sales"),classNameSuffix:"sales-home",contentClassName:"p-ia4_channel_list"},t.a.createElement(Gg,{limit:16})):null},"SalesHomePeekViewOld");Yg.displayName="SalesHomePeekViewOld";const Jg=c(()=>t.a.createElement(lc.a,{header:zg.t("Sales"),classNameSuffix:"sales-home",contentClassName:"p-ia4_channel_list"},t.a.createElement(Gg,{limit:16})),"SalesHomePeekView");Jg.displayName="SalesHomePeekView";const gT=c(r=>()=>r?t.a.createElement(Jg,null):t.a.createElement(t.a.Fragment,null,null),"sales_home_peek_trigger_renderContent"),Xg=c(r=>{let{children:n}=r;const a=Object(S.i)(),o=Object(nT.a)(),i=Object(d.c)(Nm.o),l=Object(d.c)(Nm.v),m=!Object(Je.a)(l)&&i,h=Object(d.c)(Hv.c),p=Object(d.c)(Nm.ib);Object(s.useEffect)(()=>{Object(U.coroutine)(function*(){!h&&!m&&(yield o()),h&&p===null&&a(Object(aT.a)())})()},[a,h,o,m,p]);const E=Object(s.useCallback)(()=>t.a.createElement(Yg,null),[]);return t.a.createElement(qc,{renderContent:h?gT(p):E,forceTabWhenNavigating:f.f.SalesHome,peekId:f.f.SalesHome},n)},"SalesHomePeekTrigger");Xg.displayName="SalesHomePeekTrigger";var OT=Xg,ET=e("Fz9P"),_T=e("mZyw"),CT=e("308K");const yT=new he.b("search"),Qg=c(()=>{const r=Object(Bn.a)({tab:f.f.Files,experimentDesktopIa4GroupOn:!0}),n=Object(s.useMemo)(()=>t.a.createElement(CT.a,null),[]),{rows:a}=Object(_T.a)({groupRowsByDate:!1}),o=Object(s.useMemo)(()=>({listLoading:n}),[n]);return t.a.createElement(lc.a,{header:r,classNameSuffix:"files"},t.a.createElement(ET.a,{rows:a,resultListAriaLabel:yT.t("Recent files",{fallbackHash:"95c6a85a61ec3f4fefa80882adb555d78ef45199",fallbackHashNs:"search"}),fragments:o,namespace:"peek_files_recently_viewed"}))},"FilesPeekView");Qg.displayName="FilesPeekView";const Zg=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement(Qg,null),[]);return Object(d.c)(xa.l)?t.a.createElement(qc,{renderContent:a,peekId:f.f.Files},n):n},"FilesPeekTrigger");Zg.displayName="FilesPeekTrigger";var jT=Zg;const $g=Object(Eu.b)(r=>Object(bn.u)(r,"has_starred_item")===!0);$g.meta={name:"createSelector",key:"createSelectorshouldShowLaterTabButton",description:r=>Object(bn.u)(r,"has_starred_item")===!0};var ST=e("x5Wd");const qg=new he.b("saved_for_later"),IT=1e3*5,eO=c(r=>{let{children:n,isActive:a}=r;const o=Object(S.i)(),i=Object(s.useRef)(null),l=Object(s.useContext)(ST.a),m=Object(d.c)($g),h=Object(d.c)(se=>Object(ka.c)(se,Ne.g.TAB_RAIL_LATER_TAB)===Ne.h.LATER_TAB_BUTTON_NUDGE),p=Object(d.c)(se=>Object(bn.u)(se,"a11y_animations"));Object(s.useEffect)(()=>{h&&(p?i.current=setTimeout(()=>{o(Object(Us.a)({action:Ne.f.IMPRESSION,spaceName:Ne.g.TAB_RAIL_LATER_TAB}))},IT):o(Object(jn.a)({action:Ne.f.IMPRESSION,notificationName:Ne.h.LATER_TAB_BUTTON_NUDGE})))},[o,h,p]),Object(s.useEffect)(()=>()=>{i.current&&(clearTimeout(i.current),i.current=null)},[]);const E=Object(s.useCallback)(()=>e.e("sparkles-wobbly.json").then(e.t.bind(null,"NMEl",3)),[]),j=Object(s.useCallback)(se=>{se==null||se.stopPropagation(),o(Object(jn.a)({notificationName:Ne.h.LATER_TAB_BUTTON_NUDGE,action:Ne.f.DISMISS}))},[o]);if(!m)return null;const I=h&&(Boolean(l)||!p),G=h&&!l&&p,Y=t.a.createElement(is.b,{title:qg.rt("Now you\u2019ve got Later"),offsetX:-8,orientation:"right",centerOnArrow:!0,isOpen:!a&&I,closeCoachmark:j,isMegaphoneCoachmark:!1,bodyText:qg.rt("We added a tab for you to quickly access the messages you save for later.")});return t.a.createElement(Za.c,{coachmarkElement:Y,orientation:"right"},t.a.createElement("div",{className:"p-later_tab_button__sparkles_container",role:"none"},!a&&G&&t.a.createElement("div",{className:"p-later_tab_button__sparkles"},t.a.createElement(Hs.a,{getAnimationImport:E,autoplay:!0,loop:!0})),n))},"LaterTabButtonNudge");eO.displayName="LaterTabButtonNudge";var TT=eO;function kb(){return kb=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},kb.apply(this,arguments)}c(kb,"later_in_more_tab_nudge_extends");const AT="p-later_in_more_tab_coachmark",tO=new he.b("ia4"),nO=c(r=>{let{children:n,renderCoachmark:a,experimentDesktopIa4NewTeamsV3GroupTreatment:o,onClose:i,UNSAFE_parentSelector:l}=r;if(!o)return t.a.createElement(t.a.Fragment,null,n);const m=tO.t("Now you\u2019ve got Later",{fallbackHash:"8bb6efd2758bf9afe6876eaecbf1a4379d808da8"}),h=tO.t("We added a new view to the More menu for you to quickly access the messages you save for later.",{fallbackHash:"91b9ef81ed76ac1acc9cef9d0fa63cc0d9db7c63"}),p=a({title:m,bodyText:h,centerOnArrow:!0,offsetX:0,offsetY:0,arrowPosition:0,closeCoachmark:i,orientation:Za.a.Right,className:AT,UNSAFE_parentSelector:l});return t.a.createElement(Za.c,{coachmarkElement:p,orientation:"right"},n)},"LaterTabInMoreCoachmark");nO.displayName="LaterTabInMoreCoachmark";const aO=c(r=>{let{children:n,shouldShowTabNudge:a}=r;const{closeCoachmark:o,renderCoachmark:i,isOpen:l}=Object(Ut.a)(Ne.h.LATER_TAB_BUTTON_NUDGE,Ne.g.TAB_RAIL_LATER_TAB),m=Object(d.c)(h=>Object(b.c)(h)||Object(N.a)(h));return!m||!l||!a?n:t.a.createElement(nO,{renderCoachmark:i,experimentDesktopIa4NewTeamsV3GroupTreatment:m,onClose:o},n)},"ConnectedLaterTabInMoreCoachmark");aO.displayName="ConnectedLaterTabInMoreCoachmark";const lw=c(r=>t.a.createElement(is.b,kb({},r)),"renderCoachmarkForHubble");var NT=aO,Pb=e("VP3E"),kT=e("3R77"),PT=e.n(kT);const Mh=new he.b("ia4"),oO="p-nfx_more_coachmark",MT={eventId:Oe.EventId.NEWXP_JOIN_TEAM,uiStep:Oe.UiStep.NFX_MORE_COACHMARK,elementType:Oe.ElementType.COACHMARK,clogImpression:!0},sO=c(r=>{let{children:n}=r;const a=Object(S.i)(),{closure:o,currentStep:i,isOpen:l,nextStep:m,totalSteps:h}=Object(En.a)(ps.c.MoreCoachmark),p=Object(s.useCallback)(()=>{a(Object(gn.i)(m))},[a,m]),E=Object(s.useCallback)(()=>{a(Object(gn.i)(o))},[o,a]),j=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:i,totalSteps:h}),[i,h]),{onAfterOpen:I}=Object(Pb.a)({className:oO,withResizeObserver:!0,backgroundClassName:"p-nfx_more_coachmark--highlight"}),G=Object(d.c)(Ee=>Object(bn.u)(Ee,"a11y_animations")),Y=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-home-more.json").then(e.t.bind(null,"Ytfg",3)),[]),se=Object(s.useMemo)(()=>G?t.a.createElement(Hs.a,{autoplay:!0,className:"p-nfx_more_coachmark--hero p-nfx_more_coachmark--rounded",getAnimationImport:Y,svgClassName:"p-nfx_more_coachmark--rounded",loop:!0}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:PT.a,className:"p-nfx_more_coachmark--hero p-nfx_more_coachmark--rounded"}),[Y,G]),be=Object(s.useMemo)(()=>t.a.createElement(is.b,{ariaLabel:Mh.t("More is a launchpad for all of Slack\u2019s collaboration tools. {currentStep} of {totalSteps}",{currentStep:i,totalSteps:h}),arrowPosition:20,bodyText:Mh.rt("More is a launchpad for all of Slack\u2019s collaboration tools.<steps></steps>",{"<steps>":j}),centerOnArrow:!0,className:oO,closeCoachmark:E,isOpen:l,offsetX:0,offsetY:25,onClickPrimaryButton:p,primaryCallToActionText:Mh.t("Next"),title:Mh.t("Find collaboration tools fast"),width:400,autoClogProps:MT,onAfterOpen:I,orientation:Za.a.Right,hero:se}),[j,i,E,p,l,h,I,se]);return t.a.createElement(Za.c,{coachmarkElement:be,orientation:"right-top"},n)},"NFXMoreCoachmark");sO.displayName="NFXMoreCoachmark";var DT=sO,RT=e("/CxC"),xT=e.n(RT),LT=e("uJ28"),wT=e.n(LT);const Dh=new he.b("ia4"),BT={backgroundColor:"rgba(0, 0, 0, 0.15)"},WT={eventId:Oe.EventId.NEWXP_JOIN_TEAM,uiStep:Oe.UiStep.NFX_ACTIVITY_COACHMARK,elementType:Oe.ElementType.COACHMARK,clogImpression:!0},rO=c(r=>{let{children:n}=r;const a=Object(S.i)(),o=Object(d.c)(se=>!!Object(bn.u)(se,"a11y_animations")),{closure:i,currentStep:l,isOpen:m,nextStep:h,totalSteps:p}=Object(En.a)(ps.c.ActivityCoachmark),E=Object(s.useCallback)(()=>{a(Object(gn.i)(h))},[a,h]),j=Object(s.useCallback)(()=>{a(Object(gn.i)(i))},[i,a]),I=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:l,totalSteps:p}),[l,p]),G=Object(s.useMemo)(()=>t.a.createElement("img",{alt:"","aria-hidden":!0,src:o?xT.a:wT.a,width:"100%"}),[o]),Y=Object(s.useMemo)(()=>t.a.createElement(is.b,{ariaLabel:Dh.t("Mentions, threads and reactions are all in one place. {currentStep} of {totalSteps}",{currentStep:l,totalSteps:p}),className:"p-nfx_activity_coachmark",offsetX:-10,isOpen:m,title:Dh.t("Quickly see all your notifications in Activity"),bodyText:Dh.rt("Mentions, threads and reactions are all in one place.<steps></steps>",{"<steps>":I}),hero:G,onClickPrimaryButton:E,primaryCallToActionText:Dh.t("Next"),closeCoachmark:j,autoClogProps:WT,overlayStyle:BT,width:440}),[I,l,j,E,G,m,p]);return t.a.createElement(Za.c,{coachmarkElement:Y,orientation:"right"},n)},"NFXActivityCoachmark");rO.displayName="NFXActivityCoachmark";var UT=rO,ju=e("0VB0");const HT={elementName:"home_button",onClick:{enableClogAction:!0}};function FT(r){let{autoClogProps:n=lr.b,onClick:a}=r;const o=Object(S.i)(),[i,l]=Object(s.useState)(!1),m=Object(d.c)(Y=>Object(Q.a)(Y)===f.f.Home),h=Object(d.c)(Y=>Object(ka.c)(Y,Ne.g.TAB_RAIL_HOME_TAB)===Ne.h.HOME_TAB_BUTTON_NUDGE),p=!m&&h,E=Object(d.c)(Y=>Object(bn.u)(Y,"a11y_animations")),{top_nav_bg:j}=Object(d.c)(Tc.b),I=Object(ju.r)(j),G=Object(s.useCallback)((Y,se)=>{if(!(!E&&p&&(se==null?void 0:se.target)instanceof Node&&!se.currentTarget.contains(se.target)))return(p||i)&&(l(!1),o(Object(Us.a)({action:Ne.f.CLICK,spaceName:Ne.g.TAB_RAIL_HOME_TAB}))),a(Y,se)},[i,o,E,p,a]);return Object(s.useMemo)(()=>({autoClogProps:{...n,...HT,uiStep:p||i?Oe.UiStep.HOME_TAB_NUDGE:""},...p&&E&&{className:Object(g.default)("p-home_tab_button--pulse-animation",{"p-home_tab_button--pulse-animation--light":I,"p-home_tab_button--pulse-animation--dark":!I})},canTrackHomeTabClick:i,isHomeTabNudging:p,onClick:G,setCanTrackHomeTabClick:l}),[n,i,G,E,p,I])}c(FT,"useHomeTabProps");var iO=e("wuvV");function KT(r){let{children:n,duration:a}=r;const o=Object(S.i)(),i=Object(s.useRef)(null);return Object(iO.a)(Ne.h.HOME_TAB_BUTTON_NUDGE),Object(s.useEffect)(()=>(i.current=setTimeout(()=>{o(Object(Fi.c)({event:{spaces:[Ne.g.TAB_RAIL_HOME_TAB],type:Ne.e.REQUEST_SPACES}}))},a),()=>{i.current&&clearTimeout(i.current)}),[o,a]),t.a.createElement(t.a.Fragment,null,n)}c(KT,"HomeTabNudgeAnimation");var VT=KT;const cO=new he.b("view"),GT={uiComponentName:Oe.UiComponentName.HOME_TAB_NUDGE_COACHMARK,elementName:"home_tab_nudge_coachmark_close"};function lO(r){let{children:n,duration:a,setCanTrackHomeTabClick:o}=r;const i=Object(S.i)(),l=Object(s.useRef)(null),[m,h]=Object(s.useState)(!0);Object(iO.a)(Ne.h.HOME_TAB_BUTTON_NUDGE),Object(s.useEffect)(()=>()=>{l.current&&clearTimeout(l.current)},[i]);const p=Object(s.useCallback)(j=>{j==null||j.stopPropagation(),h(!1),o(!0),i(Object(jn.a)({action:Ne.f.DISMISS,notificationName:Ne.h.HOME_TAB_BUTTON_NUDGE})),l.current=setTimeout(()=>{o(!1),i(Object(Fi.c)({event:{spaces:[Ne.g.TAB_RAIL_HOME_TAB],type:Ne.e.REQUEST_SPACES}}))},a)},[i,a,o]),E=Object(s.useMemo)(()=>t.a.createElement(is.b,{title:cO.t("Curious about where to start"),offsetX:-8,orientation:"right",centerOnArrow:!0,isOpen:m,closeCoachmark:p,isMegaphoneCoachmark:!1,bodyText:cO.t("Head back to home to send your first message"),autoClogProps:GT}),[p,m]);return t.a.createElement(Za.c,{coachmarkAnchorClassNames:"p-home_tab_button__coachmark_anchor",coachmarkElement:E,orientation:"right"},n)}c(lO,"HomeTabNudgeCoachmark"),lO.displayName="HomeTabNudgeCoachmark";var zT=lO;const YT=30*1e3;function dO(r){let{canTrackHomeTabClick:n,children:a,duration:o=YT,isHomeTabNudging:i,setCanTrackHomeTabClick:l}=r;const m=Object(d.c)(h=>Object(bn.u)(h,"a11y_animations"));return i||n?m?t.a.createElement(VT,{duration:o},a):t.a.createElement(zT,{duration:o,setCanTrackHomeTabClick:l},a):t.a.createElement(t.a.Fragment,null,a)}c(dO,"HomeTabNudge"),dO.displayName="HomeTabNudge";var JT=dO,Mb=e("Iwbv"),km=e("5oHh");const uO=new he.b("ia4"),XT={clogImpression:!0,elementName:"activity_tab_reveal_coachmark",elementType:Oe.ElementType.COACHMARK,eventId:Oe.EventId.TAB_RAIL,uiStep:Oe.UiStep.ACTIVITY_TAB_REVEALED_COACHMARK},mO=c(r=>{let{children:n}=r;const a=Object(S.i)(),o=Object(d.c)(b.c),i=Object(d.c)(E=>Object(ka.c)(E,Ne.g.IN_PRODUCT_COACHMARK)===Ne.h.ACTIVITY_TAB_REVEALED_COACHMARK);Object(s.useEffect)(()=>{i&&a(Object(jn.a)({action:Ne.f.IMPRESSION,notificationName:Ne.h.ACTIVITY_TAB_REVEALED_COACHMARK}))},[a,i]);const l=Object(s.useCallback)(E=>{E==null||E.stopPropagation(),a(Object(jn.a)({action:Ne.f.DISMISS,notificationName:Ne.h.ACTIVITY_TAB_REVEALED_COACHMARK})),a(Object(km.a)())},[a]),m=Object(s.useCallback)(()=>{l(),a(Object(bl.a)({activeSection:"tab_rail"}))},[l,a]),h=Object(s.useCallback)(E=>{let{text:j}=E;return t.a.createElement(Ra.a,{onClick:m},j)},[m]),p=Object(s.useMemo)(()=>t.a.createElement(is.b,{title:o?uO.t("You\u2019re on a roll \u2014 say hello to DMs and Activity",{fallbackHash:"595fe68a01c26db5851d7bf7982d59f8e137c629"}):"",offsetX:-8,autoClogProps:XT,orientation:"right",centerOnArrow:!0,isOpen:i,closeCoachmark:l,isMegaphoneCoachmark:!1,bodyText:o?uO.rt("Easily catch up on your DMs and notifications. If you want to customize your tabs, head to <a>preferences</a>.",{"<a>":h,fallbackHash:"6f06b7d0adfa907d3601fada31b92d223d5ec87c"}):""}),[l,o,i,h]);return!o||!i?n:t.a.createElement(Za.c,{coachmarkElement:p,orientation:"right"},n)},"ActivityTabRevealCoachmark");mO.displayName="ActivityTabRevealCoachmark";var QT=mO,Db=e("gPPH"),hO=e("SG8L"),pO=e("Cv6v"),bO=e("Fxe3"),ZT=e("D+av"),fO=e("rQl4"),$T=e("Ij/s"),Rh=e("8z04"),vO=e("+zSZ"),qT=e("FcR8"),gO=e("Qy8E"),OO=e("U3SE"),EO=e("eJPC");const xh=new he.b("quip-files-browser"),eA=5,tA={onClick:{enableClogAction:!0},elementName:"new_canvas_button_peek_view"},_O=c(r=>{let{keys:n,width:a,height:o,experimentCanvasCollectionPrototypeGroupOn:i}=r;const l=Object(s.useRef)(null),m=Object(S.i)(),{maybeClosePeek:h}=Object(s.useContext)(Wc.a),p=c(j=>t.a.createElement(vO.a,{fileId:j,detailType:Rh.a.LAST_UPDATED}),"getFileDetailOveride");p.displayName="getFileDetailOveride";const E=Object(s.useCallback)((j,I)=>{let{key:G}=I;if(G.length)return G==="favorites-heading"?t.a.createElement("div",{key:G,className:"p-peek_card__header"},i?xh.t("Favorites"):void 0):G==="recents-heading"?t.a.createElement("div",{key:G,className:"p-peek_card__header"},i?xh.t("Recents"):void 0):G==="favorites-loading"||G==="recents-loading"?t.a.createElement(t.a.Fragment,null,[...Array(13)].map((Y,se)=>t.a.createElement(bO.a,{key:se,className:Object(g.default)("p-explorer_result--list")}))):t.a.createElement(hO.a,{key:G,className:Object(g.default)("p-explorer_result--list",{"p-explorer_result--list--last":j===n.length-1}),fileId:G,showActions:!1,useListStyling:!0,detailType:Rh.a.LAST_UPDATED,detailTextOverride:p(G),onClick:()=>{m(Object(qT.a)({fileId:G,source:as.a.CANVAS_TAB_PEEK})),h()},showStarredStatus:!0,useNewChannelCanvasNaming:!0})},[m,i,n.length,h]);return t.a.createElement("div",{className:"p-canvases_peek_trigger"},t.a.createElement(Tm.b,{keys:n,ref:l,width:a,height:o,rowRenderer:E}))},"CanvasesList");_O.displayName="CanvasesList";const CO=c(()=>{const r=Object(S.i)(),n=Object(d.c)(tg.a).slice(0,eA),a=Object(s.useRef)(Object(Db.a)()),o=Object(d.c)(fO.a),i=Object(d.c)(fO.b),{results:l,isLoading:m}=Object(pO.a)(a.current,Nh.r.QUIP_FILES),h=Object(d.c)(Y=>Object(en.d)(Y,"canvas_collection_prototype")==="on"&&Object(xa.q)(Y));Object(s.useEffect)(()=>{h&&!n.length&&r(Object(ZT.a)())},[n.length,r,h]),Object(s.useEffect)(()=>{!i&&l.length>0&&r(Object($T.c)({fileIds:l}))},[r,i,l]);const p=Object(s.useCallback)(Y=>{r(Object(gO.a)({source:EO.a.CANVASES_PEEK_VIEW,inTile:Object(OO.a)(Y)}))},[r]),j=i?o:l,I=Object(s.useMemo)(()=>[m&&!i?"recents-loading":j],[j,m,i]),G=t.a.createElement(Wo.a,{"data-qa":"canvas_explorer_create_button","aria-label":xh.t("New canvas",{fallbackHash:"6cd287b7403ecddfea11738faf851e48d6088be9",fallbackHashNs:"channel_sidebar"}),onClick:p,autoClogProps:tA},t.a.createElement(Pe.a,{name:"add-channel-canvas",size:"18"}));return t.a.createElement(lc.a,{header:xh.t("Canvases"),classNameSuffix:"canvases",contentClassName:Object(g.default)("p-view_sidebar","p-view_sidebar--list"),headerButtons:G},t.a.createElement(go.a,null,Y=>{let{width:se,height:be}=Y;return t.a.createElement(_O,{keys:I.flat(),width:se,height:be,experimentCanvasCollectionPrototypeGroupOn:h})}))},"CanvasesPeekView");CO.displayName="CanvasesPeekView";const yO=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement(CO,null),[]);return t.a.createElement(qc,{renderContent:a,peekId:f.f.Canvases},n)},"CanvasesPeekTrigger");yO.displayName="CanvasesPeekTrigger";var nA=yO,aA=e("kzto"),jO=e("HBKY"),oA=e("IuGH"),SO=e("NYmr"),sA=e("uoFi"),Lh=e("UnpP"),ed=e("790+");const Pm=new he.b("lists"),rA=12,IO=c(r=>{let{keys:n,width:a,height:o}=r;const i=Object(s.useRef)(null),l=Object(S.i)(),{maybeClosePeek:m}=Object(s.useContext)(Wc.a),h=c(j=>t.a.createElement(vO.a,{fileId:j,detailType:Rh.a.LAST_UPDATED}),"getFileDetailOveride");h.displayName="getFileDetailOveride";const p=Object(s.useCallback)(j=>{l(Object(oA.a)({listFileId:j})),m()},[l,m]),E=Object(s.useCallback)((j,I)=>{let{key:G}=I;if(G)return G.startsWith("lists-loading")?t.a.createElement(bO.a,{key:G,className:"p-lists_peek_trigger__list_item"}):t.a.createElement(hO.a,{key:G,className:"p-lists_peek_trigger__list_item",fileId:G,showActions:!1,useListStyling:!0,detailType:Rh.a.LAST_UPDATED,detailTextOverride:h(G),onClick:()=>p(G)})},[p]);return t.a.createElement(Tm.b,{className:"p-lists_peek_trigger",keys:n,ref:i,width:a,height:o,rowRenderer:E})},"ListsList");IO.displayName="ListsList";const TO=c(()=>{const r=Object(S.i)(),{maybeClosePeek:n}=Object(s.useContext)(Wc.a),a=Object(s.useRef)(Object(Db.a)()),o=Object(d.c)(Ao.M),i=Object(d.c)(Ao.N),l=Object(d.c)(yu.isListsTranslationsEnabled),m=Object(d.c)(Ao.x),{results:h,isLoading:p}=Object(pO.a)(a.current,Nh.r.LISTS),E=i>0,j=Object(s.useMemo)(()=>E&&!m?o:h.flat().filter(se=>!Object(_n.Tb)(se)).map(se=>se==null?void 0:se.id),[o,h,E,m]),I=Object(s.useCallback)(()=>{r(Object(SO.a)()),n()},[r,n]),G=Object(s.useMemo)(()=>p&&(!E||m)?Array.from({length:rA},(se,be)=>`lists-loading-${be}`):j,[j,p,E,m]),Y=Object(s.useMemo)(()=>t.a.createElement(Wo.a,{"data-qa":"lists_peek_create_button","aria-label":Pm.t("New list"),onClick:I,size:"small"},t.a.createElement(Pe.a,{name:"plus",size:"18"})),[I]);return Object(s.useEffect)(()=>{(!E||m)&&j.length>0&&r(Object(sA.r)({listsIds:j}))},[r,j,E,m]),t.a.createElement(lc.a,{header:Pm.t("Lists"),classNameSuffix:"lists",contentClassName:Object(g.default)("p-view_sidebar","p-view_sidebar--list"),headerButtons:Y},t.a.createElement(At.b,{subtype:"lists"},!p&&G.length===0?t.a.createElement(ed.a,{description:l?Pm.t("Here\u2019s a pony."):"Here\u2019s a pony.",isExtended:!0,title:l?Pm.rt("{emoji} No Lists",{emoji:t.a.createElement(Lh.b,{emojiSize:Lh.a.LARGE,text:"horse",className:"p-lists_peek_trigger___no_results_emoji"})}):t.a.createElement(t.a.Fragment,null,t.a.createElement(Lh.b,{emojiSize:Lh.a.LARGE,text:"horse",className:"p-lists_peek_trigger___no_results_emoji"}),"No Lists"),secondaryActionText:l?Pm.t("Create a List"):"Create a List",onClickSecondaryAction:I}):t.a.createElement(go.a,null,se=>{let{width:be,height:Ee}=se;return t.a.createElement(IO,{keys:G,width:be,height:Ee})})))},"ListsPeekView");TO.displayName="ListsPeekView";const AO=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement(TO,null),[]);return t.a.createElement(qc,{renderContent:a,peekId:f.f.Lists},n)},"ListsPeekTrigger");AO.displayName="ListsPeekTrigger";var iA=AO;function NO(){const n=Object(d.c)(Q.a)===f.f.Lists,a=Object(d.c)(xa.q);return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},t.a.createElement(Pe.a,{name:"lists",size:"20",variation:n?"filled":void 0}))),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:f.f.Lists,experimentDesktopIa4GroupOn:a})))}c(NO,"ListsTabContent"),NO.displayName="ListsTabContent";var cA=Object(s.memo)(NO),lA=e("oasj"),dA=e("6ric"),kO=e("stxl"),uA=e("Z/QC"),PO=e.n(uA),mA=e("UPgx"),MO=e.n(mA),DO=e("79wK");const Rb=new he.b("ia4"),hA={clogImpression:!0,elementName:"canvas_tab_reveal_coachmark",elementType:Oe.ElementType.COACHMARK,eventId:Oe.EventId.CANVAS_TAB_COACHMARK,uiStep:Oe.UiStep.CANVAS_TAB_REVEAL_COACHMARK},dw=DO.a.TAB_COACHMARK;function RO(r){let{areAnimationsEnabled:n,children:a,isOpen:o,onClose:i,renderCoachmark:l}=r;const m=Object(d.c)(I=>Object(en.d)(I,"canvas_tab_customization")==="on"),h=m?Rb.rt("Find your canvases right here",{fallbackHash:"b05694bee08833ae1df5324e55f7fae8c1406ba6"}):"",p=m?Rb.t("Keep your thoughts all in one spot for easy access.",{fallbackHash:"fa8ac39a270d2160498bfb66242818d843570e62"}):"",E=Object(s.useMemo)(()=>t.a.createElement("img",{alt:"","aria-hidden":!0,className:"p-canvas_tab_reveal_coachmark__hero",src:n?PO.a:MO.a,width:"100%"}),[n]),j=l({className:"p-canvas_tab_reveal_coachmark",title:h,bodyText:p,ariaLabel:p,centerOnArrow:!0,isOpen:o,offsetX:12,offsetY:30,arrowPosition:20,autoClogProps:hA,closeCoachmark:i,hero:E,isMegaphoneCoachmark:!1,width:400,onClickPrimaryButton:i,primaryCallToActionText:Rb.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"channel_sidebar"})});return m?t.a.createElement(Za.c,{coachmarkElement:j,orientation:"right-top"},a):t.a.createElement(t.a.Fragment,null,a)}c(RO,"BaseCanvasTabRevealCoachmark"),RO.displayName="BaseCanvasTabRevealCoachmark";function xO(r){let{children:n}=r;const a=Object(S.i)(),o=Object(d.c)(j=>Object(en.d)(j,"canvas_tab_customization")==="on"),i=Object(d.c)(j=>Object(en.d)(j,"canvases_tab_customization")==="treatment_auto_add_tab"),l=Object(d.c)(j=>!!Object(bn.u)(j,"a11y_animations")),{closeCoachmark:m,renderCoachmark:h}=Object(Ut.a)(Ne.h.CANVAS_TAB_COACHMARK),p=Object(d.c)(j=>Object(ka.c)(j,Ne.g.IN_PRODUCT_COACHMARK)===Ne.h.CANVAS_TAB_COACHMARK),E=Object(s.useCallback)(()=>{m(),a(Object(jn.a)({action:Ne.f.DISMISS,notificationName:Ne.h.CANVAS_TAB_COACHMARK}))},[m,a]);return!o||!i?t.a.createElement(t.a.Fragment,null,n):t.a.createElement(RO,{areAnimationsEnabled:l,isOpen:p,onClose:E,renderCoachmark:h},n)}c(xO,"CanvasTabRevealCoachmark"),xO.displayName="CanvasTabRevealCoachmark";var pA=xO,xb=e("da/D");const Lb=new he.b("ia4"),bA={clogImpression:!0,elementName:"canvas_tab_suggestion_coachmark",elementType:Oe.ElementType.COACHMARK,eventId:Oe.EventId.CANVAS_TAB_COACHMARK,uiStep:Oe.UiStep.CANVAS_TAB_SUGGESTION_COACHMARK},uw=DO.a.TAB_COACHMARK;function LO(r){let{areAnimationsEnabled:n,children:a,isOpen:o,onClickPrimaryButton:i,onClose:l,renderCoachmark:m}=r;const h=Object(d.c)(G=>Object(en.d)(G,"canvas_tab_customization")==="on"),p=h?Lb.t("Add canvas to your navigation bar"):"",E=h?Lb.t("Looking for a canvas? We got you - just add canvas to your navigation bar, so you can always find your work."):"",j=Object(s.useMemo)(()=>t.a.createElement("img",{alt:"","aria-hidden":!0,className:"p-canvas_tab_reveal_coachmark__hero",src:n?PO.a:MO.a,width:"100%"}),[n]),I=m({className:"p-canvas_tab_reveal_coachmark",title:p,bodyText:E,ariaLabel:E,centerOnArrow:!0,isOpen:o,offsetX:12,offsetY:30,arrowPosition:20,autoClogProps:bA,closeCoachmark:l,hero:j,isMegaphoneCoachmark:!1,width:400,onClickPrimaryButton:i,primaryCallToActionText:h?Lb.t("Add Now"):""});return t.a.createElement(Za.c,{coachmarkElement:I,orientation:"right-top"},a)}c(LO,"BaseCanvasTabSuggestionCoachmark"),LO.displayName="BaseCanvasTabSuggestionCoachmark";function wO(r){let{children:n}=r;const a=Object(S.i)(),o=Object(d.c)(I=>Object(en.d)(I,"canvas_tab_customization")==="on"),i=Object(d.c)(I=>Object(en.d)(I,"canvases_tab_customization")==="treatment_suggest_add_tab"),l=Object(d.c)(I=>!!Object(bn.u)(I,"a11y_animations")),{closeCoachmark:m,renderCoachmark:h}=Object(Ut.a)(Ne.h.CANVAS_TAB_COACHMARK),p=Object(d.c)(I=>Object(ka.c)(I,Ne.g.IN_PRODUCT_COACHMARK)===Ne.h.CANVAS_TAB_COACHMARK),E=Object(s.useCallback)(()=>{m(),a(Object(jn.a)({action:Ne.f.DISMISS,notificationName:Ne.h.CANVAS_TAB_COACHMARK}))},[m,a]),j=Object(s.useCallback)(()=>{a(Object(xb.a)({tabName:f.f.Canvases,value:!0})),E()},[a,E]);return!o||!i?t.a.createElement(t.a.Fragment,null,n):t.a.createElement(LO,{areAnimationsEnabled:l,isOpen:p,onClickPrimaryButton:j,onClose:E,renderCoachmark:h},n)}c(wO,"CanvasTabSuggestionCoachmark"),wO.displayName="CanvasTabSuggestionCoachmark";var fA=wO,BO=e("aHgF"),WO=e("3uxa"),vA=e("Xpiw"),gA=e("6Bm6");const Mm=Object(Vs.c)("Handles the opening of Activity, Later, or Canvases page in a child window",(r,n,a)=>{let{id:o,shouldNavigateInContext:i}=a;const l={activity:Object(Mo.c)(),later:Object(Mo.O)(),canvases:Object(Mo.i)()};if(!Object.keys(l).includes(o))return;const m={[f.k.Primary]:l[o]};r(Object(gA.a)({viewSet:m,shouldNavigateInContext:i}))});Mm.meta={name:"createThunk",key:"createThunkopenBrowserInChildWindow",description:"Handles the opening of Activity, Later, or Canvases page in a child window"};var OA=e("ZTSm"),EA=e("5eP/"),_A=e("lx3m");const td=new he.b("external_connections"),UO=c(()=>{const r=Object(S.i)(),n=Object(d.c)(Th.g),a=Object(d.c)(Y=>Tb(Y).browseTab),{maybeClosePeek:o}=Object(s.useContext)(Wc.a),i=Object(s.useCallback)(()=>{r(Object(So.a)(Object(Mo.v)())),o()},[r,o]),l=Object(s.useCallback)(()=>{r(Object(So.a)(Object(Mo.z)())),o()},[r,o]),m=Object(s.useCallback)(()=>{r(Object(_b.a)({invitationsTabId:_A.c.received})),o()},[r,o]),h=Object(s.useMemo)(()=>({name:"buildings"}),[]),p=Object(s.useMemo)(()=>({name:"workspace"}),[]),E=Object(s.useMemo)(()=>({name:"paper-plane"}),[]),j=Object(s.useMemo)(()=>({id:"organizations",key:"organizations",className:"p-ia4_create_menu__item",type:Ho.b.radio,onSelected:()=>i(),autoClogProps:{eventId:Oe.EventId.TAB_RAIL,elementName:"organizations",onClick:{enableClogAction:!0}}}),[i]),I=Object(s.useMemo)(()=>({id:"workspaces",key:"workspaces",className:"p-ia4_create_menu__item",type:Ho.b.radio,onSelected:()=>l(),autoClogProps:{eventId:Oe.EventId.TAB_RAIL,elementName:"workspaces",onClick:{enableClogAction:!0}}}),[l]),G=Object(s.useMemo)(()=>({id:"invitations",key:"invitations",className:"p-ia4_create_menu__item",type:Ho.b.radio,onSelected:()=>m(),autoClogProps:{eventId:Oe.EventId.TAB_RAIL,elementName:"invitations",onClick:{enableClogAction:!0}}}),[m]);return n?t.a.createElement(lc.a,{classNameSuffix:"browse",header:td.t("External connections")},t.a.createElement(Yn.f,{menuClassNames:"p-more_menu p-peek_card p-peek_card--as-card p-peek_card--animate-in p-peek_card--browse",width:360,"aria-label":td.t("More")},t.a.createElement(Yr,{ariaLabel:td.t("Organizations"),svgIconProps:h,key:"organizations",title:td.t("Organizations"),menuItemProps:j}),t.a.createElement(Yr,{ariaLabel:td.t("Workspaces"),svgIconProps:p,key:"workspaces",title:td.t("Workspaces"),hasUnreads:a,menuItemProps:I}),t.a.createElement(Yn.d,null),t.a.createElement(Yr,{ariaLabel:td.t("Invitations"),svgIconProps:E,key:"invitations",title:td.t("Invitations"),menuItemProps:G}))):null},"ExternalConnectionsPeekView");UO.displayName="ExternalConnectionsPeekView";const HO=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement(UO,null),[]);return Object(d.c)(Th.g)?t.a.createElement(qc,{renderContent:a,forceTabWhenNavigating:f.f.ExternalConnections,peekId:f.f.ExternalConnections},n):n},"ExternalConnectionsPeekTrigger");HO.displayName="ExternalConnectionsPeekTrigger";function Su(){return Su=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Su.apply(this,arguments)}c(Su,"use_tabs_item_props_builder_extends");const FO=new he.b("view"),CA={spaceName:Ne.g.IN_PRODUCT_COACHMARK,notifications:{[Ne.h.SALES_HOME_SIDEBAR_COACHMARK_IA4]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"01KW")).then(r=>({default:r.SalesHomeOnboardingCoachmark})))},[Ne.h.SALES_HOME_SIDEBAR_LOG_ACTIVITY_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"4QC+")).then(r=>({default:r.LogActivityCoachmark})))}}},yA={spaceName:Ne.g.IN_PRODUCT_COACHMARK,notifications:{[Ne.h.JOINER_LAUNCHPAD_DISMISSED_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"EQMr")))},[Ne.h.LISTS_INTRODUCING_LISTS_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"Dcay")))},[Ne.h.TAB_RAIL_TABS_CUSTOMIZATION_NUX_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"FAb6")))},[Ne.h.SOLUTION_GUIDE_CANVAS_CLOSED_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"1br2")))}}},jA={elementName:"dms_button",onClick:{enableClogAction:!0}},SA={elementName:"activity_button",onClick:{enableClogAction:!0}},IA={elementName:"later_button",onClick:{enableClogAction:!0}},TA={elementName:"more_button",onClick:{enableClogAction:!0}},AA={elementName:"sales_home_button",onClick:{enableClogAction:!0}},NA={elementName:"slack_kit_playground_button",onClick:{enableClogAction:!0}},kA={elementName:"solutions_button",onClick:{enableClogAction:!0}},PA={elementName:"assistant_button",onClick:{enableClogAction:!0}},KO={elementName:"files_button",onClick:{enableClogAction:!0}},MA={elementName:"channels_button",onClick:{enableClogAction:!0}},DA={elementName:"people_button",onClick:{enableClogAction:!0}},RA={elementName:"platform_button",onClick:{enableClogAction:!0}},xA={elementName:"huddles_button",onClick:{enableClogAction:!0}},LA={elementName:"canvases_button",onClick:{enableClogAction:!0}},wA={elementName:"lists_button",onClick:{enableClogAction:!0}},BA={elementName:"external_connections_temp_button",onClick:{enableClogAction:!0}},WA={elementName:"external_connections_button",onClick:{enableClogAction:!0}},VO=c((r,n,a,o,i,l,m)=>{const h=Object(S.i)(),p=Object(d.c)(ql.a.isExposed),E=Object(d.c)(ql.a.getAssignment),j=Object(d.c)(ql.a.isControl),I=Object(d.c)(ql.a.isAnyTreatment),G=Object(d.c)(ql.a.isTreatmentHome),Y=Object(d.c)(b.b),se=Object(d.c)(b.a),be=Object(d.c)(b.c),Ee=Object(d.c)(b.d),_e=Object(d.c)(Sn=>Object(en.d)(Sn,"canvas_collection_prototype")==="on"),ge=Object(d.c)(aA.a),ye=Object(d.c)(Sn=>Object(en.d)(Sn,"canvas_tab_in_child")==="on"),Ue=Object(d.c)(dA.a),Re=Object(d.c)(lA.a),tt=Object(d.c)(Sn=>Object(en.d)(Sn,"customize_tab_rail_context_menu")==="on"),Ge=Object(d.c)(xa.e),Tt=Object(d.c)(xa.f),yn=Object(d.c)(Ac.a),xn=Object(d.c)($l.d),Pn=xn.reason||void 0,Lt=xn.shouldShowTabs,Vn=Object(d.c)(Sn=>Object(bn.u)(Sn,$l.b)),la=Object(d.c)(jm.g),Ta=Object(d.c)(jm.d),ao=Object(d.c)(yu.isListsMyItemsEnabled),qa=Object(d.c)(yu.isListsPeekEnabled),po=Object(d.c)(Sn=>Object(Th.g)(Sn)&&Tb(Sn).browseTab),Qo=Object(d.c)(Mb.a),[oo,ma]=Object(s.useState)([]),[Lo,zo]=Object(s.useState)(!1),[lo,Sr]=Object(s.useState)(!1),_t=Object(s.useCallback)(Sn=>{const Rt=Sn.ctrlKey,Ji=Sn.metaKey,$o=Sn.shiftKey,Ir=Object(Ye.p)()?Rt&&!$o:Rt&&$o;zo(!!Ir),Object(Ye.p)()&&Ji||!Object(Ye.p)()&&Rt?(Sr(!0),Sn.code==="Enter"&&h(Mm({id:Sn.target.id,shouldNavigateInContext:Ge}))):Sr(!1)},[h,Ge]),ja=Object(s.useCallback)(()=>{zo(!1)},[]);Object(s.useEffect)(()=>(window.addEventListener("keydown",_t),window.addEventListener("keyup",ja),window.addEventListener("mousedown",ja),window.addEventListener("mouseup",_t),window.addEventListener("blur",ja),()=>{window.removeEventListener("keydown",_t),window.removeEventListener("keyup",ja),window.removeEventListener("mousedown",ja),window.removeEventListener("mouseup",_t),window.removeEventListener("blur",ja)}),[_t,ja]);const wa=Object(d.c)(Sn=>Object(bn.u)(Sn,"seen_sidebar_tabrail_more_automations_callout")),Bs=la&&!wa,ci=po&&l.includes(EA.b),Ya=Bs||ci,ks=Object(og.a)(l),el=Object(d.c)(BO.f),Al=Object(d.c)(BO.h),Kd=Object(s.useCallback)(Sn=>{if(!Sn)return null;const Rt=!l.includes(f.f.Later);return t.a.createElement(NT,{shouldShowTabNudge:!Rt},t.a.createElement(DT,null,t.a.createElement(fA,null,t.a.createElement(Cs.c,Su({},yA,{shouldAlwaysRenderChildren:!0}),t.a.createElement(xI,{overflowTabs:l},Sn)))))},[l]),Vd=Object(s.useCallback)(Sn=>Sn?t.a.createElement(UI,null,Sn):null,[]),Bu=Object(s.useCallback)(Sn=>Sn?t.a.createElement(pI,null,Sn):null,[]),Wu=Object(s.useCallback)(Sn=>Sn?t.a.createElement(QT,null,t.a.createElement(UT,null,t.a.createElement(XI,null,Sn))):null,[]),cd=Object(s.useCallback)(Sn=>{if(!Sn)return null;const Rt=t.a.createElement(nA,null,Sn);return t.a.createElement(pA,null," ",Rt," ")},[]),Uu=Object(s.useCallback)(Sn=>Sn?t.a.createElement(iA,null,Sn):null,[]),Zo=Object(s.useCallback)(Sn=>Sn?t.a.createElement(TT,{isActive:o===f.f.Later},t.a.createElement(tT,null,Sn)):null,[o]),Ps=Object(s.useCallback)(Sn=>Sn?el?t.a.createElement(Cs.c,Su({},WO.a,{shouldAlwaysRenderChildren:!0}),Sn):Sn:null,[el]),bc=Object(s.useCallback)(Sn=>{if(!Sn)return null;const Rt=t.a.createElement(HO,null,Sn);return Al?t.a.createElement(Cs.c,Su({},WO.c,{shouldAlwaysRenderChildren:!0}),Rt):Rt},[Al]),Gd=Object(s.useCallback)(Sn=>Sn?t.a.createElement(Cs.c,Su({},CA,{shouldAlwaysRenderChildren:!0}),t.a.createElement(OT,null,Sn)):null,[]),Nl=Object(s.useCallback)(Sn=>Sn?t.a.createElement(jT,null,Sn):null,[]),Hu=Object(s.useCallback)(function(){let Sn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;const Rt=Object(g.default)("p-tab_rail__shortcut_hint",{"p-tab_rail__shortcut_hint--visible":Lo});return t.a.createElement("div",{"aria-hidden":"true",className:Rt,"data-qa":"tab_rail_shortcut_hint"},Sn)},[Lo]),Qs=Object(s.useCallback)((Sn,Rt)=>Rt>=0&&Rt<=9?t.a.createElement(t.a.Fragment,null,Sn,Hu(Rt)):Sn,[Hu]),Ms=Object(s.useCallback)(function(){var Sn=Object(U.coroutine)(function*(Rt){const Ji=Object.keys(f.f).find($o=>f.f[$o]===Rt);if(!(!Ji||Rt===f.f.Browse)){if(Rt===f.f.SalesHome){h(Object(So.a)(Object(Mo.X)(fa.a.SalesHome)));return}if(Rt===f.f.ExternalConnectionsTemp||Rt===f.f.ExternalConnections){h(Object(_b.a)());return}if(Rt===f.f.Canvases){if(lo&&ye){h(Mm({id:Rt,shouldNavigateInContext:!0}));return}h(Object(So.a)(Object(Mo.i)()));return}if((Ge||Tt)&&Rt===f.f.Activity){const $o={[f.k.Primary]:{id:fa.a.Activity,viewType:D.c.ActivityList}};if(yield h(Object(jO.a)({viewSet:$o})))return;if(lo){h(Mm({id:Rt,shouldNavigateInContext:Ge}));return}}if(yn&&Rt===f.f.Later){const $o={[f.k.Primary]:{id:fa.a.Later,viewType:D.c.LaterList}};if(yield h(Object(jO.a)({viewSet:$o})))return;if(lo){h(Mm({id:Rt,shouldNavigateInContext:Ge}));return}}if(Rt===f.f.Lists){h(Object(So.a)(Object(Mo.X)(fa.a.BrowseLists)));return}h(Object(Pi.b)({tab:f.f[Ji],reason:Pi.a.Click}))}});return function(Rt){return Sn.apply(this,arguments)}}(),[h,Ge,Tt,yn,ye,lo]),hp=Object(s.useMemo)(()=>{if(j)return{stepVariant:"ia4_new_teams_v2_control",clogImpression:!0};const Sn=Lt?"shown_tabs":"hidden_tabs";if(Y)return{stepVariant:Ee?`ia4_new_teams_v3_treatment_home_more_${Sn}${Pn?`--${Pn}`:""}`:`ia4_new_teams_v3_${se}`,clogImpression:!0};if(p)return{stepVariant:`ia4_new_teams_v2_${E}_${Sn}${Pn?`--${Pn}`:""}`,clogImpression:!0}},[Ee,j,E,se,p,Y,Pn,Lt]),Yi=FT({autoClogProps:hp,onClick:r?tn.a:Ms}),pp=Object(s.useCallback)(Sn=>Sn?r?Sn:t.a.createElement(JT,{canTrackHomeTabClick:Yi.canTrackHomeTabClick,isHomeTabNudging:Yi.isHomeTabNudging,setCanTrackHomeTabClick:Yi.setCanTrackHomeTabClick},t.a.createElement(KI,null,Sn)):null,[r,Yi.canTrackHomeTabClick,Yi.isHomeTabNudging,Yi.setCanTrackHomeTabClick]),ld=Object(d.c)(Sn=>Object(bn.u)(Sn,"home_unread_dot")!==!1),bp=n||r||!ld,zd=r||n&&a||!n&&o===f.f.Home,fp=Object(d.c)(kO.c);Object(s.useEffect)(()=>{!r&&!Vn&&Lt&&!fp&&(h(Object(gu.f)({pref:$l.b,value:!0})),Pn&&![$l.a.IS_ENTERPRISE,$l.a.IS_EXISTING_JOINER,$l.a.IS_UNEXPOSED_OR_CONTROL].includes(Pn)&&h(Object(Fi.c)({event:{iaVersion:4,type:Ne.e.TABS_REVEALED}})))},[h,r,Pn,Lt,Vn,fp]);const vp=Object(d.c)(vA.a),Fu=Object(s.useCallback)(()=>{h(Object(bl.a)({activeSection:yg.a.tabRail}))},[h]),kl=Object(s.useCallback)(Sn=>{h(Object(xb.a)({tabName:Sn,value:!1}))},[h]),gp=Object(s.useCallback)(Sn=>{const Rt=[];return!vp.includes(Sn)&&Sn!==f.f.Browse&&Rt.push({label:tt?FO.t("Hide tab"):"Hide tab",click:()=>kl(Sn)}),Rt.push({label:tt?FO.t("Customize navigation bar"):"Customize navigation bar",click:Fu}),Rt},[vp,tt,Fu,kl]),Xr=Object(s.useCallback)(Sn=>{let{autoClogProps:Rt,icon:Ji,id:$o,shortcutNumber:Ir,renderWrapper:Fm,className:Lf}=Sn;return{title:Qs(t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-tab_rail__button__icon"},t.a.createElement("div",{className:"p-tab_rail__button__icon_inner"},Ji)),t.a.createElement("div",{className:"p-tab_rail__button__label"},Object(Bn.a)({tab:$o,experimentDesktopIa4GroupOn:!0}))),Ir),id:$o,"aria-label":Gi($o),"aria-describedby":cc($o),autoClogProps:Rt,onClick:Ms,className:Object(g.default)(Lf,"p-tab_rail__button",{"p-tab_rail__button--active":o===$o}),renderWrapper:Fm}},[Ms,o,Qs]);return Object(s.useEffect)(()=>{const Sn=i.map((Rt,Ji)=>{const $o=Ji+1;switch(Rt){case f.f.Home:{const Ir=Qs(t.a.createElement(HS,{badgeCounts:n||r?void 0:ks,className:n||r?void 0:Yi.className,hideUnreads:bp,isActive:zd}),$o);return Qo?null:{title:Ir,id:Rt,onClick:Yi.onClick,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),"data-qa":hr.a.TAB_RAIL_HOME_BUTTON,renderWrapper:pp,autoClogProps:Yi.autoClogProps,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--setup":n||r,"p-tab_rail__button--active":zd,"p-tab_rail__button--disabled":n&&!a})}}case f.f.DMs:return r||(be||I)&&n?null:{title:Qs(t.a.createElement(zS,{badgeCounts:ks,hideMentions:n,isActive:!n&&o===Rt}),$o),id:Rt,onClick:Ms,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),"data-qa":hr.a.TAB_RAIL_DMS_BUTTON,renderWrapper:Vd,autoClogProps:jA,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--setup":n,"p-tab_rail__button--active":o===Rt,"p-tab_rail__button--disabled":n})};case f.f.Activity:return r||(be||I)&&n?null:{title:Qs(t.a.createElement($S,{badgeCounts:ks,hideMentions:n,isActive:!n&&o===Rt}),$o),id:Rt,onClick:Ms,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),"data-qa":hr.a.TAB_RAIL_ACTIVITY_BUTTON,renderWrapper:Wu,autoClogProps:SA,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--setup":n,"p-tab_rail__button--active":o===Rt,"p-tab_rail__button--disabled":n})};case f.f.SalesHome:return n||r?null:{title:Qs(t.a.createElement(WS,null),$o),id:Rt,onClick:Ms,"aria-label":Gi(Rt),"data-qa":hr.a.TAB_RAIL_SALESHOME_BUTTON,renderWrapper:Gd,autoClogProps:AA,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--active":o===Rt})};case f.f.Later:return n||r?null:{title:Qs(t.a.createElement(LS,{badgeCounts:ks}),$o),id:Rt,onClick:Ms,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),"data-qa":hr.a.TAB_RAIL_LATER_BUTTON,renderWrapper:Zo,autoClogProps:IA,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--active":o===Rt})};case f.f.Files:return Xr({autoClogProps:KO,id:Rt,icon:t.a.createElement(Pe.a,{name:"file-browser",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o,renderWrapper:Nl});case f.f.SlackKitPlayground:return Ue?Xr({autoClogProps:NA,id:Rt,icon:t.a.createElement(Pe.a,{name:"sparkles",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o}):null;case f.f.Solutions:return Re?Xr({autoClogProps:kA,id:Rt,icon:t.a.createElement(Pe.a,{name:"emoji-objects",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o}):null;case f.f.FilesPrototype:return ge?Xr({autoClogProps:KO,id:Rt,icon:t.a.createElement(Pe.a,{name:"file-browser",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o,renderWrapper:Nl}):null;case f.f.Channels:return Xr({autoClogProps:MA,id:Rt,icon:t.a.createElement(Pe.a,{name:"channel",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o});case f.f.People:return Xr({autoClogProps:DA,id:Rt,icon:t.a.createElement(Pe.a,{name:"user-directory",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o});case f.f.Platform:return Ta?{title:Qs(t.a.createElement(US,null),$o),id:Rt,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),onClick:Ms,renderWrapper:Bu,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--active":o===Rt,"p-tab_rail__button--setup":n,"p-tab_rail__button--disabled":n})}:Xr({autoClogProps:RA,id:Rt,renderWrapper:Ps,icon:t.a.createElement(Pe.a,{name:"play",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o,className:Object(g.default)({"p-tab_rail__button--setup":n,"p-tab_rail__button--disabled":n})});case f.f.Huddles:return{title:Qs(t.a.createElement(eI,null),$o),id:Rt,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),onClick:Ms,autoClogProps:xA,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--active":o===Rt,"p-tab_rail__button--setup":n,"p-tab_rail__button--disabled":n})};case f.f.Assistant:return Xr({autoClogProps:PA,id:Rt,icon:t.a.createElement(Pe.a,{name:"sparkles",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o});case f.f.Canvases:return{title:Qs(t.a.createElement(tI,null),$o),id:Rt,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),onClick:Ms,renderWrapper:cd,autoClogProps:LA,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--active":o===Rt,"p-tab_rail__button--setup":n,"p-tab_rail__button--disabled":n})};case f.f.Lists:return qa?{title:Qs(t.a.createElement(cA,null),$o),id:Rt,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),onClick:Ms,renderWrapper:Uu,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--active":o===Rt,"p-tab_rail__button--setup":n,"p-tab_rail__button--disabled":n})}:Xr({autoClogProps:wA,id:Rt,icon:t.a.createElement(Pe.a,{name:"lists",size:"20",variation:o===Rt?"filled":void 0}),shortcutNumber:$o});case f.f.ExternalConnections:case f.f.ExternalConnectionsTemp:return{title:Qs(t.a.createElement(nI,{isExternalConnectionsTemp:Rt===f.f.ExternalConnectionsTemp,hasUnreads:po}),$o),id:Rt,"aria-label":Gi(Rt),"aria-describedby":cc(Rt),onClick:Ms,autoClogProps:Rt===f.f.ExternalConnectionsTemp?BA:WA,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--active":o===Rt,"p-tab_rail__button--setup":n,"p-tab_rail__button--disabled":n}),renderWrapper:bc};case f.f.Browse:{if(r||G&&(n||!Lt))return null;const Ir=Qs(t.a.createElement(qS,{badgeCounts:ks,hasUnreads:Ya,isNarrowWindow:m,isSetupPage:n}),0),Fm="menu";return{title:Ir,id:Rt,"aria-label":Gi(Rt,o,l),"aria-describedby":cc(Rt),"data-qa":hr.a.TAB_RAIL_BROWSE_BUTTON,"aria-haspopup":Fm,renderWrapper:Kd,autoClogProps:TA,className:Object(g.default)("p-tab_rail__button",{"p-tab_rail__button--setup":n,"p-tab_rail__button--active":l.includes(o),"p-tab_rail__button--disabled":n})}}default:return null}});if(tt){const Rt=Sn.filter(OA.a).map(Ji=>({contextMenuTemplate:gp(Ji.id),...Ji}));ma(Object(sb.a)(Rt))}else ma(Object(sb.a)(Sn))},[i,r,n,a,Yi,l,ks,Ms,ao,Kd,Vd,pp,Wu,Zo,Gd,Nl,Qs,o,bp,zd,Ya,I,Lt,G,Lo,Qo,be,Xr,cd,_e,ge,m,Uu,qa,Re,bc,po,Ps,Ta,Bu,gp,tt,Ue]),{activeTabForTabRail:l.includes(o)?f.f.Browse:o,tabsItemProps:oo}},"useTabsItemPropsBuilder");VO.displayName="useTabsItemPropsBuilder";var GO=e("VkPA"),UA=e("xyeU"),wb=e("TDca"),dc=e("Pt2y"),wh=e("rRki"),Iu=e("THNA"),Bb=e("E81m"),HA=e("DoEx"),FA=e.n(HA),mw=e("OFUT");function Wb(){return Wb=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Wb.apply(this,arguments)}c(Wb,"tools_coachmark_extends");const Tu=new he.b("ia4"),Ub="p-nux_tools_coachmark",zO=c(r=>{let{children:n,className:a,renderCoachmark:o,UNSAFE_parentSelector:i,onClose:l,steps:m,onClickNextStep:h=c(()=>{},"onClickNextStep"),currentStep:p,totalSteps:E,currentStepName:j,onAfterOpen:I=c(()=>{},"onAfterOpen"),hero:G}=r;const Y=Tu.t("Even more time-saving tools"),se=j===dc.a.HuddlesCoachmark?Tu.rt("Slack is more than just messaging. You can hop on a huddle over audio or video, track to-do\u2019s and notes in canvases \u2014 there\u2019s lot\u2019s to explore.<steps></steps>",{"<steps>":m}):Tu.rt("Slack is more than just messaging. There are plenty of tools to explore that can help you have a more productive work day.<steps></steps>",{"<steps>":m}),be=j===dc.a.HuddlesCoachmark?Tu.t("Slack is more than just messaging. You can hop on a huddle over audio or video, track to-do\u2019s and notes in canvases \u2014 there\u2019s lot\u2019s to explore. {currentStep} of {totalSteps}",{currentStep:p,totalSteps:E}):Tu.t("Slack is more than just messaging. There are plenty of tools to explore that can help you have a more productive work day. {currentStep} of {totalSteps}",{currentStep:p,totalSteps:E}),Ee=Tu.t("Next"),_e=o({title:Y,bodyText:se,centerOnArrow:!0,offsetX:-8,offsetY:-30,arrowPosition:30,closeCoachmark:l,orientation:Za.a.Right,primaryCallToActionText:Ee,ariaLabel:be,onClickPrimaryButton:h,className:Object(g.default)(Ub,a),onAfterOpen:I,autoClogProps:Iu.d,hero:G,closeBackgroundStyle:"light",UNSAFE_parentSelector:i});return t.a.createElement(Za.c,{coachmarkElement:_e,orientation:"right"},n)},"ToolsCoachmark");zO.displayName="ToolsCoachmark";const YO=c(r=>{let{children:n,workspaceSwitcherVisible:a}=r;const o=Object(S.i)(),{closeCoachmark:i,renderCoachmark:l,isOpen:m}=Object(Ut.a)(Ne.h.IA4_NEW_TEAMS_V3_NUX_EDUCATION,Ne.g.WELCOME_SPACE),{currentStep:h,isOpen:p,nextStep:E,totalSteps:j,currentStepName:I}=Object(wb.a)([dc.a.HuddlesCoachmark,dc.a.ToolsCoachmark]),{onAfterOpen:G}=Object(Pb.a)({className:Ub,highlightPadding:{top:a?55:7,bottom:5,left:-1,right:-1},withResizeObserver:!0}),{clogDismissFromOverlay:Y}=Object(Bb.a)(Ub,Iu.d),se=m&&p,be=Object(d.c)(N.a),Ee=Object(d.c)(b.c),_e=be||Ee,ge=Object(d.c)(xn=>Object(bn.u)(xn,"a11y_animations")),ye=I===dc.a.HuddlesCoachmark,Ue=Object(s.useCallback)(()=>o(Object(gn.j)(E)),[o,E]),Re=Object(s.useCallback)(xn=>{Y(xn),i(),o(Object(km.a)())},[i,o,Y]),tt=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:h,totalSteps:j}),[h,j]),Ge=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-canvas.json").then(e.t.bind(null,"r/n1",3)),[]),Tt=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-and-canvas-page.json").then(e.t.bind(null,"axiP",3)),[]),yn=Object(s.useMemo)(()=>ge?t.a.createElement(Hs.a,{autoplay:!0,className:"p-nux_coachmark__hero p-nux_coachmark--rounded",getAnimationImport:ye?Tt:Ge,svgClassName:"p-nux_coachmark--rounded","data-qa":wh.a.TOOLS_ANIMATION}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:FA.a,"data-qa":wh.a.TOOLS_IMAGE,className:"p-nux_coachmark__hero p-nux_coachmark--rounded"}),[Tt,ge,ye,Ge]);return!_e||!se?n:t.a.createElement(zO,{className:`p-nux_tools_coachmark--${ye&&ge?"huddles":"canvas"}`,renderCoachmark:l,onClose:Re,steps:tt,onClickNextStep:Ue,currentStep:h,currentStepName:I??dc.a.ToolsCoachmark,totalSteps:j,onAfterOpen:G,hero:yn},n)},"ConnectedToolsCoachmark");YO.displayName="ConnectedToolsCoachmark";const hw=c(r=>t.a.createElement(is.b,Wb({},r)),"tools_coachmark_renderCoachmarkForHubble");var KA=YO,Au=e("tcoA"),Hb=e("MUh1"),nd=e("L0js"),VA=e("jHgL");function GA(){const r=Object(d.c)(ql.a.isAnyTreatment),n=Object(d.c)(b.c),a=Object(d.c)($l.c),o=Object(d.c)(nd.c);var i;const l=(i=Object(d.c)(Xn.g))!==null&&i!==void 0?i:"";Object(VA.a)(()=>{(r&&!a||n&&!o)&&(Object(Hb.a)(Au.o.APPS,!1).maybeRefetch(l,Au.n),Object(Hb.a)(Au.o.MENTIONS,!1).maybeRefetch(l,Au.n),Object(Hb.a)(Au.o.REPLIES,!1).maybeRefetch(l,Au.n))})}c(GA,"useMaybeFetchActivityFeed");var JO=e("IXqM"),zA=e("3qeY");const YA=[nd.a.HAS_APPS_UNREAD,nd.a.HAS_MENTIONS,nd.a.HAS_SLACK_CONNECT_INVITE,nd.a.HAS_THREADS,nd.a.IS_IN_TRIAL],JA=c(()=>{const r=Object(S.i)(),n=Object(d.c)(b.c),a=Object(d.f)(JO.d),{reason:o,shouldShowActivityTab:i}=Object(d.f)(nd.d),l=Object(d.c)(kO.c);Object(s.useEffect)(()=>{n&&i&&!a[f.f.Activity]&&!l&&(r(Object(vg.a)({pref:nd.b,value:!0})),r(Object(zA.a)({...a,[f.f.Activity]:!0,[f.f.DMs]:!0})),o&&YA.includes(o)&&r(Object(Fi.c)({event:{type:Ne.e.ACTIVITY_TAB_REVEALED}})))},[r,n,o,i,a,l])},"useActivityTabReveal");var ad=e("Cyb+"),XA=e("rdha");const XO=Object(XA.f)(r=>{var n;const a=(n=Object(ad.a)(r,os.c.CanvasTabCoachmark,os.a.Dismiss))!==null&&n!==void 0?n:0;var o;const i=(o=Object(ad.a)(r,os.c.CanvasTabCoachmark,os.a.Impression))!==null&&o!==void 0?o:0;if(a>0||i>0)return!1;var l;const m=(l=Object(ad.a)(r,os.c.CanvasTabCanvasOpened,os.a.Click))!==null&&l!==void 0?l:0;var h;const p=(h=Object(ad.a)(r,os.c.CanvasTabCanvasCreated,os.a.Click))!==null&&h!==void 0?h:0;var E;const j=(E=Object(ad.a)(r,os.c.CanvasTabBrowserOpened,os.a.Click))!==null&&E!==void 0?E:0;return m>0||p>0||j>1}),QO=Object(Eu.b)(r=>XO(r));QO.meta={name:"createSelector",key:"createSelectorshouldShowCanvasTab",description:r=>XO(r)};const ZO=[{component:os.c.CanvasTabCanvasOpened,type:os.a.Click},{component:os.c.CanvasTabCanvasCreated,type:os.a.Click},{component:os.c.CanvasTabBrowserOpened,type:os.a.Click},{component:os.c.CanvasTabCoachmark,type:os.a.Dismiss},{component:os.c.CanvasTabCoachmark,type:os.a.Impression}],QA=c(()=>{const r=Object(S.i)(),n=Object(d.c)(h=>!ZO.some(p=>{let{component:E,type:j}=p;return!Object(ad.f)(h,E,j)})),a=Object(d.c)(h=>Object(en.d)(h,"canvas_tab_customization")==="on"),o=Object(d.c)(h=>Object(en.d)(h,"canvases_tab_customization")==="treatment_auto_add_tab"),i=Object(d.f)(JO.d),l=Object(d.f)(h=>{if(!a)return!0;const p=Object(bn.u)(h,"tab_rail_customization")||"{}";try{const E=JSON.parse(p);return f.f.Canvases in E}catch{return!0}}),m=Object(d.f)(QO);Object(s.useEffect)(()=>{r(Object(Wl.a)({interactions:ZO,cacheFilter:ad.f,reason:"canvas_tab_coachmark"}))},[r]),Object(s.useEffect)(()=>{a&&m&&!i[f.f.Canvases]&&!l&&n&&(o&&r(Object(xb.a)({tabName:f.f.Canvases,value:!0})),r(Object(Fi.c)({event:{type:Ne.e.CANVAS_TAB_COACHMARK_REVEALED}})))},[r,a,o,m,i,n,l])},"useCanvasTabReveal");var $O=t.a.memo(c(function(n){let{overflowTabs:a,shouldShowWorkspaceSwitcher:o=!0,tabsToShow:i,isNarrowWindow:l=!1,workspaceSwitcherRailIsVisible:m}=n;const{windowId:h}=Object(s.useContext)(Z.a),p=Object(d.c)(Kt.g),E=Object(d.c)(Q.a),j=Object(d.c)(nn.g),I=Object(Xt.h)(j),G=Object(d.c)(xa.G),{getSiblingView:Y}=Object(kc.a)(h),se=Object(d.c)(Re=>Object(Ze.X)(Re,{getSiblingView:Y})),be=Object(d.c)(Re=>wv(Re,{getSiblingView:Y})),Ee=Object(hn.c)(),_e=Object(tc.a)({view:"tab-rail",workspaceSwitcherRailIsVisible:m}),ge=o&&!G;GA(),JA(),QA();const{activeTabForTabRail:ye,tabsItemProps:Ue}=VO(Ee,se,be,E,i,a,l);return Ue.length===0?null:t.a.createElement("div",{className:Object(g.default)("p-tab_rail",_e,{"p-tab_rail__desktop":Object(Ye.i)()}),"data-qa":hr.a.TAB_RAIL_DESKTOP},se?t.a.createElement(t.a.Fragment,null,ge&&t.a.createElement(Dr.a,{enableSectionNavigation:!p,id:"WorkspaceSwitcher",index:$r.a.WORKSPACE_SWITCHER},t.a.createElement(MS,null)),t.a.createElement(Dr.a,{id:"WorkspaceTabRail",index:$r.a.WORKSPACE_TAB_RAIL,enableSectionNavigation:!p},t.a.createElement(GO.a,{tabs:Ue.map(Re=>({isDisabled:!0,...Re})),className:"p-tab_rail__tab_container",tabMenuClassnames:"p-tab_rail__tab_menu",currentTabId:ye,orientation:Zc.a.Vertical,manualTabActivation:!0,ariaLabel:I}))):t.a.createElement(De.a,{eventId:Oe.EventId.TAB_RAIL},t.a.createElement(Wc.b,null,ge&&t.a.createElement(Dr.a,{enableSectionNavigation:!p,id:"WorkspaceSwitcher",index:$r.a.WORKSPACE_SWITCHER},t.a.createElement(PS,{isNarrowWindow:l})),t.a.createElement(Dr.a,{id:"WorkspaceTabRail",index:$r.a.WORKSPACE_TAB_RAIL,enableSectionNavigation:!p},t.a.createElement(KA,{workspaceSwitcherVisible:ge},t.a.createElement(UA.b,null,t.a.createElement(GO.a,{tabs:Ue,className:"p-tab_rail__tab_container",tabMenuClassnames:"p-tab_rail__tab_menu",currentTabId:ye,orientation:Zc.a.Vertical,manualTabActivation:!0,ariaLabel:I})))))))},"TabRail")),Nu=e("ngQI"),Bh=e("LqbL"),qO=e("SUU+"),Wh=e("DHqQ"),ZA=t.a.createContext(!0);function Fb(){return Fb=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Fb.apply(this,arguments)}c(Fb,"with_user_attention_extends");var eE=c(r=>t.a.forwardRef((n,a)=>t.a.createElement(ZA.Consumer,null,o=>t.a.createElement(r,Fb({ref:a},n,{userAttentionIsOnChat:o})))),"with_user_attention"),Kb=e("muVS");const $A=new he.b("team_picker");let tE=c(class extends s.PureComponent{renderMenu(n){return t.a.createElement(Iv,{menuProps:n,teams:this.props.teams})}render(){const n=$A.t("Add workspaces");return t.a.createElement(Yn.e,{position:"right-bottom",offsetX:8,renderMenu:this.renderMenu},t.a.createElement(Or.c,{tip:n,position:"right"},t.a.createElement(Wo.a,{className:"p-team_sidebar__icon_button p-team_sidebar__icon_button--add_workspaces","aria-label":n,"aria-selected":!1,role:"tab"},t.a.createElement(Pe.a,{name:"plus",variation:"filled",size:"20"}))))}constructor(n){super(n),this.renderMenu=this.renderMenu.bind(this)}},"AddWorkspacesMenuButton");tE.displayName="AddWorkspacesMenuButton";var nE=tE,qA=e("2IYT"),eN=e("u43d"),tN=e("oT5T"),nN=e("o+v5"),aN=e("YT91");const Hd=new he.b("leave_workspace"),aE=Object(wt.b)(),Vb={disableDeniedDueToIdpGroupMembership:"disable_denied_due_to_idpgroup_membership",userDeletedAlready:"user_deleted_already",failedToConvertOrgUserToTeamUser:"failed_to_convert_org_user_to_team_user"};let oE=c(class extends t.a.Component{onClickSubmit(){const{team:n,removeWorkspaceAndSignOutOfTeam:a}=this.props,o=Object(Xt.n)(n);this.setState(()=>({isLoading:!0}));const i=this.props.getSelfEnterpriseOwnerEmail();return this.trackLeaveClick(),this.props.callLeaveWorkspace({teamId:o||""}).catch(l=>{let{data:m}=l;if(m.error===Vb.disableDeniedDueToIdpGroupMembership){const h=Hd.rt("<strong>You can\u2019t leave this workspace.</strong>"),p=Hd.rt("Because you\u2019re in an IdP group assigned to this workspace, you can\u2019t leave it here. <a>Contact an Org Admin</a> for help leaving the workspace.",null,E=>{let{key:j,text:I}=E;return t.a.createElement("a",{key:j,href:`mailto:${i}`,target:"_blank",rel:"noopener noreferrer"},I)});this.setToastText({node:t.a.createElement("div",null,t.a.createElement("strong",null,h),t.a.createElement("br",null),p)}),aE.error("Error with Leave Workspace Action from TeamMenu - ",m.error)}else if(m.error===Vb.userDeletedAlready||m.error===Vb.failedToConvertOrgUserToTeamUser){o&&a(o);const h=Hd.rt("<strong>You've successfully left {team_name}</strong>",{team_name:Object(Xt.h)(n),fallbackHash:"4a38fa5a5bec946cb5cc0d6a9e2817bc498562aa"});this.setToastText({node:t.a.createElement("span",null,h)})}else{const h=Hd.rt("<strong>Leaving workspace failed due to an error</strong>",{fallbackHash:"e51a69c26500f73f762ddcacb0cdcb7db688191f"});this.setToastText({node:t.a.createElement("span",null,h)}),aE.error("Error with Leave Workspace Action from TeamMenu - ",m.error)}}).finally(()=>{this.setState(()=>({isLoading:!1}))})}setToastText(n){let{node:a}=n;this.props.enqueueToast({element:t.a.createElement(wd.a,{position:"bottom-right",offsetY:50,fadeDelay:5e3},a)})}trackLeaveClick(){const{team:n,clogger:a}=this.props,i={anchor_page:"your_workspaces",entity_key:"leave_workspace_confirm",target_team_id:Object(Xt.n)(n),tracking_code:"your_workspaces_list"},l={contexts:{ui_context:{action:"click",action_status:1}}};a.track("ENTERPRISE_LEAVE_WORKSPACE",{...i,...l})}render(){const{team:n}=this.props,{isLoading:a}=this.state,o=Hd.t("Are you sure you want to leave {team_name}?",{team_name:Object(he.k)(Object(Xt.h)(n)),fallbackHash:"2db4b766c6e1e14fbc2657d45b8fb13b96b85dd6"}),i=t.a.createElement("div",{className:"display_flex align_items_center"},t.a.createElement(Ur.b,{id:Object(Xt.n)(n)||void 0,size:20,className:"margin_right_75"}),t.a.createElement("div",null,o));return t.a.createElement(t.a.Fragment,null,t.a.createElement(tN.a,{title:i,titleAria:o,goButtonText:Hd.t("Leave This Workspace",{fallbackHash:"29b1014ee5c119d2a9785259535f58bb3f123bb6"}),onGo:this.onClickSubmit,showCancelButton:!0,truncateTitle:!1,shouldCloseOnGo:!0,goButtonIsPending:a,focusOnPrimaryButton:!0},Object(Xt.S)(n||void 0)&&Hd.t("This workspace is hidden. Once you leave, you won\u2019t have access unless you\u2019re invited back.")))}constructor(n){super(n),this.state={isLoading:!1},this.onClickSubmit=this.onClickSubmit.bind(this),this.trackLeaveClick=this.trackLeaveClick.bind(this)}},"LeaveWorkspaceDialog");oE.displayName="LeaveWorkspaceDialog";const oN=c(r=>{const n=Object(nn.g)(r),a=Object(Rr.a)({state:r});return{team:n,clogger:a}},"leave_workspace_dialog_mapStateToProps"),sN=c(r=>({enqueueToast:n=>r(Object(fh.a)(n)),callLeaveWorkspace:n=>r(Object(Lc.f)(n)),removeWorkspaceAndSignOutOfTeam:n=>Object(v.dispatchForClientStore)(Object(aN.a)(n)),getSelfEnterpriseOwnerEmail:()=>r(Object(nN.f)())}),"leave_workspace_dialog_mapDispatchToProps");var rN=Object(Be.a)(oN,sN)(oE),iN=rN;const Gb=Object(Vs.c)("Opens the leave a workspace dialog",r=>{r(Object(ls.a)({element:t.a.createElement(iN,{})}))});Gb.meta={name:"createThunk",key:"createThunkopenLeaveWorkspaceDialog",description:"Opens the leave a workspace dialog"};var sE=Gb;Gb.propTypes={};var cN=e("rKeN"),lN=e("ehcD"),dN=e("O8rI");const rE=c(r=>{if(!Object(cN.a)(r)||Object(am.b)(r))return!1;const n=Object(cr.c)(r),a=Object(lN.a)(n);if(!a||!a.length||a.length===1)return!1;const o=Object(Xn.g)(r);return o&&!Object(dN.a)(r,o)?!1:!!Object(nn.g)(r).can_leave},"canUserLeaveWorkspace");var uN=e("gE2U");function mN(r){Object(uN.a)(r)||Object(jv.a)(r)}c(mN,"handleFinishSigningIn");function Uh(){return Uh=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Uh.apply(this,arguments)}c(Uh,"team_sidebar_item_extends");const Uc=new he.b("team_picker"),Hh=99;function hN(r){return zb.apply(this,arguments)}c(hN,"removeExpiredTeam");function zb(){return zb=Object(U.coroutine)(function*(r){const{removeWorkspaceFromPreviousWorkspaces:n}=yield Promise.resolve().then(e.bind(null,"dZcA")),{dispatchForClientStore:a}=yield Promise.resolve().then(e.bind(null,"lhZz"));a(n(r))}),zb.apply(this,arguments)}c(zb,"_removeExpiredTeam");function pN(r){return Yb.apply(this,arguments)}c(pN,"removePendingAuthTeam");function Yb(){return Yb=Object(U.coroutine)(function*(r){const{removePendingAuthWorkspace:n}=yield Promise.resolve().then(e.bind(null,"K4s9")),{dispatchForClientStore:a}=yield Promise.resolve().then(e.bind(null,"lhZz"));a(n(r))}),Yb.apply(this,arguments)}c(Yb,"_removePendingAuthTeam");let Jb=c(class extends s.Component{componentDidMount(){this.props.isActive&&this.props.onItemActive(this.ref)}componentDidUpdate(n){this.props.isActive&&!n.isActive&&this.props.onItemActive(this.ref)}getTooltip(){const{teamName:n,order:a,isPendingAuth:o}=this.props,i=a+1;if(!Object(Ye.i)()||i>9)return n;const l=Object(Ye.p)()?"\u2318":"Ctrl ";return t.a.createElement("span",null,t.a.createElement(eo.a,{isInline:!0,title:n,mainKey:i,modifier:l}),o&&t.a.createElement("p",{className:"margin_top_75 margin_bottom_50 align_left"},Uc.t("Additional authentication required")))}getShortcut(){const{order:n}=this.props,a=n+1;return!Object(Ye.i)()||a>9?void 0:`${Object(Ye.p)()?"Meta":"Ctrl "}+${a}`}getContextMenuTemplate(){const{teamId:n,teamName:a,signOutFromTeam:o,hasTeamBooted:i,hasSessionExpired:l,userCanLeaveWorkspace:m,teamIsEnterprise:h,isPendingAuth:p}=this.props,E=[];p&&E.push({label:`${Uc.t("&Finish signing in")}`,click:()=>mN(n)});const j=a&&a.replace(/&/g,"&&"),I=l||p?`${Uc.t("&Remove")} ${j}`:`${Uc.t("&Sign out of")} ${j}`;return E.push({label:I,enabled:l||i||p,click:()=>{if(Object(wt.b)().info("TEAM-SIDEBAR",`context-menu sign-out teamId:${n} hasSessionExpired:${l} isPendingAuth:${p}`),l){hN(n);return}if(p){pN(n);return}o(n)}}),h&&m&&E.push({label:`${Uc.t("&Leave")} ${j}`,click:()=>{Object(Rd.h)(yr.a,{teamId:n},{reason:"team-sidebar/leaveTeam"}),this.props.openLeaveWorkspaceDialog()}}),E}getTabIndex(){const{isActive:n,activeItemIndex:a,order:o}=this.props;return a===-1?n?0:-1:o===a?0:-1}setRef(n){if(!n)return;this.ref=n;const{refToForward:a}=this.props;if(a){if(Object(Ba.a)(a)){a(n);return}a.current=n}}getBadgeDescription(){const{hasUnreads:n,mentionCount:a,hasSessionExpired:o,isPendingAuth:i}=this.props;if(o)return Uc.t("Logged out");if(i)return Uc.t("Finish logging in");const l=Uc.t("{maxBadgeCount}+",{maxBadgeCount:Hh}),m=a&&a>Hh?l:a;if(a)return Uc.t("{mentionCount, plural, =1 {{count} new mention} other {{count} new mentions}}",{mentionCount:a,count:m});if(n)return Uc.t("Has new messages")}maybeRenderGovSlackIcon(){const{isActive:n,isGovSlackWorkspace:a}=this.props;return a?t.a.createElement(pn.a,{className:Object(g.default)("p-team_sidebar__govslack_icon",{"p-team_sidebar__govslack_icon--active":n}),type:"gov-slack",size:"inherit"}):null}renderShortcutHint(){const{order:n,shouldShowKeyboardShortcut:a}=this.props,o=n+1,i=Object(g.default)("p-team_sidebar__shortcut_hint",{"p-team_sidebar__shortcut_hint--visible":a});return o<=9?t.a.createElement("div",{"aria-hidden":"true",className:i,"data-qa":"team_shortcut_hint"},o):null}renderBadgeDescription(n){if(n)return t.a.createElement("div",{id:`team_sidebar_item_badge_description_${this.props.order}`,hidden:!0},n)}renderBadge(){const{hasUnreads:n,mentionCount:a,hasSessionExpired:o,isPendingAuth:i}=this.props;if(o)return t.a.createElement("div",{className:"p-team_sidebar__signed_out_badge","data-qa":"team_signed_out_badge"},t.a.createElement(pn.a,{type:"warning",className:"p-team_sidebar__signed_out_badge__stroke"}),t.a.createElement(pn.a,{type:"warning-filled"}));if(i)return t.a.createElement("div",{className:"p-team_sidebar__locked_badge","data-qa":"team-sidebar-lock-icon"},t.a.createElement("img",{src:"/img/sidebar_lock_icon.svg",alt:"",height:"16"}));const l=Uc.t("{maxBadgeCount}+",{maxBadgeCount:Hh}),m=a&&a>Hh?l:a;if(a&&a>0)return t.a.createElement("div",{className:"p-team_sidebar__mentions_badge"},t.a.createElement("span",null,m));if(n)return t.a.createElement("div",{className:"p-team_sidebar__unread_dot"})}render(){const{icon:n,isActive:a,teamName:o,draggableProps:i,dragHandleProps:l,isDragging:m,onClick:h,teamId:p,isPendingAuth:E,order:j,isNarrowWindow:I}=this.props,G=Object(g.default)("p-team_sidebar__item",{"p-team_sidebar__item--active":a,"p-team_sidebar__item--is_dragging":m,"p-team_sidebar__item--mac":Object(Ye.p)()}),Y=Object(g.default)("p-team_sidebar__icon",{"p-team_sidebar__icon--active":a,"p-team_sidebar__icon--is_dragging":m}),se=this.getBadgeDescription(),be=se?`team_sidebar_item_badge_description_${j}`:void 0;return t.a.createElement(t.a.Fragment,null,t.a.createElement(qA.a,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1},Ee=>t.a.createElement(Or.c,{position:"right",offsetX:5,tip:this.getTooltip(),tipClassName:Object(g.default)({align_left:E}),hideFromScreenReader:!0},t.a.createElement(ct.d,Uh({},i,l,Ee,{ref:Object(Kb.a)(this.setRef,Ee.ref),onClick:()=>h(p),className:G,"data-qa":"team_sidebar_item","data-team":p,"data-team-active":a,role:"tab","aria-selected":a,tabIndex:this.getTabIndex(),"aria-keyshortcuts":this.getShortcut(),"aria-describedby":be}),t.a.createElement("div",{className:Y},t.a.createElement(Ur.a,{icon:n,size:I?24:32,teamName:o,className:"p-team_sidebar__image"})),this.maybeRenderGovSlackIcon(),this.renderBadge(),this.renderShortcutHint()))),this.renderBadgeDescription(se))}constructor(n){super(n),this.ref=null,Object(Kr.a)(this,["getContextMenuTemplate","setRef"])}},"TeamSidebarItem");Jb.displayName="TeamSidebarItem",Jb.defaultProps={teamId:"",onClick:()=>{},teamName:void 0,signOutFromTeam:()=>{},order:0,isActive:!1,failedToBoot:!1,shadow:1,shouldShowKeyboardShortcut:!1,hasSessionExpired:!1,isDragging:!1,draggableProps:{},dragHandleProps:void 0,onItemActive:tn.a,isPendingAuth:!1,activeItemIndex:-1};function bN(r,n){if(Object(eN.a)(r)||n.failedToBoot)return{hasTeamBooted:!1};const a=Object(nn.g)(r),o=Object(Xt.m)(a),i=Object(Em.a)(r)+Object(_m.h)(r);return{hasTeamBooted:!0,hasUnreads:Object(da.m)(r),mentionCount:i,userCanLeaveWorkspace:rE(r),icon:o,teamName:a==null?void 0:a.name,teamIsEnterprise:Object(Xt.z)(a),isGovSlackWorkspace:Object(Ll.a)(r)}}c(bN,"team_sidebar_item_mapStateToProps");const fN=c(r=>({openLeaveWorkspaceDialog:()=>r(sE())}),"team_sidebar_item_mapDispatchToProps"),vN=Object(Be.a)(bN,fN)(Jb);var iE=t.a.forwardRef((r,n)=>t.a.createElement(vN,Uh({},r,{refToForward:n})));const cE=c(()=>{const r=Object(d.c)(Tc.b),n=r.column_bg,a=`
		:root {
			--p-team_sidebar__nav-bg: ${n};
			--p-team_sidebar__badge: ${r.badge};
			--p-team_sidebar__badge-text-color: ${r.badge_text_color};
			--p-team_sidebar__text-color: ${r.text_color};
			--p-team_sidebar__text-color--opacity-30: ${Object(ju.q)(r.text_color,.3)};
			--p-team_sidebar__text-color--opacity-10: ${Object(ju.q)(r.text_color,.1)};
			--p-team_sidebar__text-color--mix-80: ${Object(ju.k)(r.text_color,r.column_bg,.8)};
			--p-team_sidebar__text-color--mix-10: ${Object(ju.k)(r.text_color,r.column_bg,.1)};
			--p-team_sidebar__color-focus-ring: ${gN(r.text_color,n,Object(ju.q)(r.text_color,.3))};
		}
	`;return t.a.createElement("style",{className:"p-team_sidebar__theme"},a)},"TeamSidebarTheme");cE.displayName="TeamSidebarTheme";function gN(r,n,a){return`0 0 0 3px ${n}, 0 0 0 4px ${r}, 0 0 0 6px ${a}`}c(gN,"colorFocusRingTeamSidebar");var lE=cE,dE=e("kiPk");let Xb=c(class extends t.a.PureComponent{onWorkspaceBadgeUpdated(n){let{id:a,unreadCnt:o,unreadHighlightCnt:i,badgeDockIcon:l}=n;this.setState(m=>({...m,[a]:{unreadHighlightCnt:i,unreadCnt:o,badgeDockIcon:l}}),this.updateAggregatedBadge)}updateAggregatedBadge(){const n=Object(kr.a)(this.state),a=Object(dE.a)(n,l=>l.unreadHighlightCnt),o=Object(dE.a)(n.filter(l=>l.badgeDockIcon),l=>l.unreadCnt),i=n.some(l=>l.badgeDockIcon);dt.p.isAvailable()&&Object(dt.p)(a,o,i)}render(){return dt.p.isAvailable()?this.props.workspaces.map(n=>({teamId:n,store:Object(v.getStoreInstanceByTeamId)(n)})).map(n=>{let{teamId:a,store:o}=n;return t.a.createElement(qn.a,{store:o,key:a,render:i=>t.a.createElement(Qb,{id:a,onBadgeUpdated:this.onWorkspaceBadgeUpdated,unreadHighlightCnt:Object(Em.a)(i),unreadCnt:Object(da.i)(i),badgeDockIcon:Object(bn.u)(i,"mac_ssb_bullet")})})}):null}constructor(n){super(n),this.onWorkspaceBadgeUpdated=this.onWorkspaceBadgeUpdated.bind(this),this.updateAggregatedBadge=this.updateAggregatedBadge.bind(this)}},"DockBadgeListener");Xb.displayName="DockBadgeListener";var ON;let Qb=c(class extends(ON=t.a.PureComponent){componentDidUpdate(){this.props.onBadgeUpdated({id:this.props.id,unreadCnt:this.props.unreadCnt,unreadHighlightCnt:this.props.unreadHighlightCnt,badgeDockIcon:this.props.badgeDockIcon})}render(){return null}},"WorkspaceBadgeItem");Qb.displayName="WorkspaceBadgeItem",Qb.defaultProps={unreadCnt:!1,unreadHighlightCnt:0,badgeDockIcon:!0};var uE=e("orxu"),mE=e("FWtP");function Dm(){return Dm=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Dm.apply(this,arguments)}c(Dm,"team_sidebar_extends");let Fh=0;const EN=new he.b("sonic-toolbar"),_N=["ArrowLeft","ArrowUp"],hE=["ArrowDown","ArrowRight"],pE=_N.concat(hE),CN=["Home","End"].concat(pE);function yN(r,n,a){const o=[...r],[i]=o.splice(n,1);return o.splice(a,0,i),o}c(yN,"reorder");function jN(r){let{teamId:n,selectedTeamId:a,bootingTeamId:o}=r;return n===o||!o&&n===a}c(jN,"isTeamSidebarItemActive");function SN(){return window.matchMedia("(display-mode: standalone)").matches}c(SN,"isStandalonePWA");var IN;let Zb=c(class extends(IN=t.a.Component){componentDidMount(){(Object(Ye.i)()||Object(sn.b)()&&SN())&&(window.addEventListener("keydown",this.onWindowKeyDown),window.addEventListener("keyup",this.onWindowKeyUp),window.addEventListener("blur",this.onWindowBlur),this.keyboardListenersRegistered=!0),this.listRef.current&&Fh&&(this.listRef.current.scrollTop=Fh,Fh=0)}componentWillUnmount(){this.keyboardListenersRegistered&&(window.removeEventListener("keydown",this.onWindowKeyDown),window.removeEventListener("keyup",this.onWindowKeyUp),window.removeEventListener("blur",this.onWindowBlur))}onBlur(n){let{currentTarget:a,relatedTarget:o}=n;a.contains(o)||this.state.activeItemIndex!==-1&&this.setState(()=>({activeItemIndex:-1}))}onArrowKey(n){const{key:a,currentTarget:o,target:i,shiftKey:l,metaKey:m,ctrlKey:h,altKey:p}=n;if(l||m||h||p)return;const j=[...Array.from(o.querySelectorAll('[role="tab"]'))],I=i,G=j.indexOf(I),Y=hE.includes(a)?G+1:G-1,se=j[Y];se&&(this.setState(()=>({activeItemIndex:Y})),se.focus())}onHome(n){const{currentTarget:a}=n,o=[...Array.from(a.querySelectorAll('[role="tab"]'))];this.setState(()=>({activeItemIndex:0})),o[0].focus()}onEnd(n){const{currentTarget:a}=n,o=[...Array.from(a.querySelectorAll('[role="tab"]'))],i=o.length-1;this.setState(()=>({activeItemIndex:i})),o[i].focus()}onKeyDown(n){if(this.dragging)return;const{key:a}=n;if(CN.includes(a)){if(pE.includes(a)){this.onArrowKey(n);return}if(a==="Home"){this.onHome(n);return}this.onEnd(n)}}onWindowBlur(){const{isModifierPressed:n}=this.state;n&&this.setState(()=>({isModifierPressed:!1}))}onWindowKeyDown(n){(Object(Ye.p)()?n.metaKey:n.ctrlKey)&&!n.shiftKey&&!n.altKey?this.setState(()=>({isModifierPressed:!0})):this.state.isModifierPressed&&this.setState(()=>({isModifierPressed:!1}))}onWindowKeyUp(n){!(Object(Ye.p)()?n.metaKey:n.ctrlKey)&&this.state.isModifierPressed&&this.setState(()=>({isModifierPressed:!1}))}onItemActive(n){this.activeItemRef=n}onBeforeDragStart(){this.dragging=!0}onDragEnd(n){let{destination:a,source:o}=n;if(this.dragging=!1,!a)return;const{allWorkspaces:i,setTeamOrder:l}=this.props;o.index>=i.length||l(yN(i,o.index,a.index))}getFocusTransitionListeners(n){return{[Wd.c.WORKSPACE_SWITCHER_TAB_LIST]:()=>n?this.focus():!1}}focus(){const n=this.activeItemRef;return n?(n.focus(),!0):!1}selectTeam(n){var a=this;return Object(U.coroutine)(function*(){const{teams:o,selectedTeamStore:i,selectedTeamId:l,clogger:m}=a.props,h=yield Object(si.a)({currentTeamStore:i,newWorkspaceId:n,navigateToRouteProps:{routeName:yr.a,options:{reason:"team-sidebar/selectTeam"}}});h&&a.listRef.current&&(Fh=a.listRef.current.scrollTop),h&&m.track(Oe.EventId.TEAM_SIDEBAR_CLICK,{source_team_id:n,target_team_id:l,items_count:Object.keys(o).length,is_iap1:a.props.iaPhase1IsEnabled})})()}shouldFocus(){const n=Object(v.getStoreInstanceByTeamId)(this.props.selectedTeamId);return!Object(Kt.g)(n.getState())}shouldSignOutOfOrg(n){const{teams:a}=this.props,{enterprise_id:o}=a[n];return o?Object.values(a).filter(l=>l.id!==n&&l.enterprise_id===o).length===0:!1}renderSidebarItem(n,a){const{signOutFromTeam:o,teams:i,bootedWorkspaces:l,selectedTeamId:m,failedToBootWorkspaces:h,bootingTeamId:p}=this.props,{isModifierPressed:E}=this.state,{icon:j,name:I,isExpired:G,isPendingAuth:Y,enterprise_id:se}=i[n],be=l.includes(n),Ee=h.includes(n),_e=jN({teamId:n,selectedTeamId:m,bootingTeamId:p});n===m&&this.currentActiveTeamIndex!==a&&(this.currentActiveTeamIndex=a);var ge=this;const ye={teamId:n,teamName:I,icon:j,order:a,activeItemIndex:this.state.activeItemIndex,isActive:_e,onClick:this.selectTeam,signOutFromTeam:Object(U.coroutine)(function*(){ge.shouldSignOutOfOrg(n)?(_e||(yield Object(Rd.h)(yr.a,{teamId:n},{reason:"team-sidebar/selectTeam"})),o({teamId:n,orgId:se})):o({teamId:n})}),key:n,shouldShowKeyboardShortcut:E,hasSessionExpired:!!G,failedToBoot:Ee,isPendingAuth:Y};return t.a.createElement(Nu.b,{draggableId:n,key:n,index:a,disableInteractiveElementBlocking:!0},(Ue,Re)=>{let{isDragging:tt}=Re;const Ge=t.a.createElement(iE,Dm({ref:Ue.innerRef},ye,{draggableProps:Ue.draggableProps,dragHandleProps:Ue.dragHandleProps,isDragging:tt,onItemActive:this.onItemActive,isNarrowWindow:this.props.isNarrowWindow}));return be?t.a.createElement(u.b,{store:Object(v.getStoreInstanceByTeamId)(n),key:n},Ge):Ge})}renderAddTeamButton(){const{teams:n}=this.props;return t.a.createElement(u.b,{store:this.props.selectedTeamStore},t.a.createElement(nE,{teams:n}))}renderTeamSidebarContents(n){const{allWorkspaces:a}=this.props,i=(a??[]).map((l,m)=>this.renderSidebarItem(l,m));return t.a.createElement("div",Dm({role:"tablist","aria-orientation":"vertical","aria-label":EN.t("Workspaces"),ref:n.innerRef},n.droppableProps,{className:"p-team_sidebar__teams",onKeyDown:this.onKeyDown,onBlur:this.onBlur}),i,n.placeholder,this.renderAddTeamButton())}renderDesktopComponents(){const{bootedWorkspaces:n}=this.props;return t.a.createElement(Xb,{workspaces:n})}render(){const{selectedTeamId:n,selectedTeamStore:a,isWorkspaceSwitcherVisible:o}=this.props,i=a&&t.a.createElement(u.b,{store:a,key:n},t.a.createElement(lE,null)),l=$r.a.WORKSPACE_SWITCHER_RAIL,m="WorkspaceSwitcherRail",h=Object(g.default)(this.props.className,"p-team_sidebar","p-team_sidebar--classic_nav");let p=!0;return o||(p=!1),t.a.createElement(Dr.a,{id:m,index:l,focusFn:this.focus,shouldFocus:this.shouldFocus,enableSectionNavigation:p},t.a.createElement(uE.a,{listeners:this.getFocusTransitionListeners(o)},i,Object(Ye.i)()?this.renderDesktopComponents():null,t.a.createElement(Nu.a,{onBeforeDragStart:this.onBeforeDragStart,onDragEnd:this.onDragEnd},t.a.createElement(Nu.c,{droppableId:"droppable"},E=>t.a.createElement("div",Dm({ref:Object(Kb.a)(this.listRef,E.innerRef)},E.droppableProps,{"data-qa":"team_sidebar_scroll_container",id:"team_sidebar_scroll_container",className:h,role:"none"}),this.renderTeamSidebarContents(E))))))}constructor(n){super(n),this.keyboardListenersRegistered=!1,this.dragging=!1,this.activeItemRef=null,this.state={isModifierPressed:!1,activeItemIndex:-1},this.currentActiveTeamIndex=null,this.listRef=t.a.createRef(),Object(Kr.a)(this,["onWindowKeyDown","onWindowKeyUp","onWindowBlur","onDragEnd","onBeforeDragStart","onItemActive","focus","selectTeam","onKeyDown","onBlur","shouldFocus"]),this.getFocusTransitionListeners=Object(mE.a)(this.getFocusTransitionListeners)}},"TeamSidebar");Zb.displayName="TeamSidebar",Zb.defaultProps={selectedTeamStore:void 0,bootedWorkspaces:[],failedToBootWorkspaces:[],className:"",allWorkspaces:[],isWindowFrameless:!1,bootingTeamId:void 0,iaPhase1IsEnabled:!1};function TN(r,n){const a=Object(v.getStoreInstanceByTeamId)(n.selectedTeamId);var o;const i=(o=Object(C.getAllWorkspaces)(r))!==null&&o!==void 0?o:lr.a,l=Object(C.getNavigateToUnbootedWorkspace)(r);var m;const h=(m=Object(C.getFailedToBootWorkspaces)(r))!==null&&m!==void 0?m:lr.a;var p,E;return{teams:(p=Object(C.getWorkspacesMeta)(r))!==null&&p!==void 0?p:lr.b,bootingTeamId:l==null?void 0:l.bootingTeamId,selectedTeamStore:a,allWorkspaces:i,bootedWorkspaces:(E=Object(C.getBootedWorkspaces)(r))!==null&&E!==void 0?E:lr.a,failedToBootWorkspaces:h,clogger:Object(Rr.a)({state:a.getState()}),experimentDesktopIa4GroupOn:Object(xa.q)(a.getState())}}c(TN,"team_sidebar_mapStateToProps");const AN={startWorkspaceSignIn:qO.a,signOutFromTeam:Wh.a,setTeamOrder:Bh.setWorkspaceOrder,setNavigateToUnbootedWorkspace:Bh.setNavigateToUnbootedWorkspace};var NN=Object(Be.a)(TN,AN)(eE(Zb)),kN=c(r=>{let{isNarrowWindow:n}=r;const a=Object(v.getClientStoreInstance)(),o=Object(C.getFocusedWorkspace)(a.getState()),i=Object(d.c)(V.d),l=Object(tc.a)({view:"chrome"});return t.a.createElement("div",{className:Object(g.default)("p-workspace_switcher_prototype",l),role:"none"},t.a.createElement(u.b,{store:a},t.a.createElement(NN,{className:"p-client__team_sidebar",selectedTeamId:o||"",isWorkspaceSwitcherVisible:i,isNarrowWindow:n})))},"workspace_switcher_rail");function Rm(){return Rm=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Rm.apply(this,arguments)}c(Rm,"workspace_switcher_accordion_prototype_team_sidebar_extends");let Kh=0;const PN=new he.b("sonic-toolbar"),MN=["ArrowLeft","ArrowUp"],bE=["ArrowDown","ArrowRight"],fE=MN.concat(bE),DN=["Home","End"].concat(fE),RN=c(()=>PN.t("Workspaces"),"ariaLandmarkLabel"),xN=[f.f.Home,f.f.DMs,f.f.Activity,f.f.Later],LN=[f.f.Platform,f.f.Huddles,f.f.Canvases,f.f.Lists,f.f.Files,f.f.Files,f.f.Channels,f.f.People,f.f.ExternalConnectionsTemp];var od;(function(r){r[r.One=49]="One",r[r.Nine=57]="Nine",r[r.NumOne=97]="NumOne",r[r.NumNine=105]="NumNine"})(od||(od={}));function wN(r,n,a){const o=[...r],[i]=o.splice(n,1);return o.splice(a,0,i),o}c(wN,"team_sidebar_reorder");function BN(r){let{teamId:n,selectedTeamId:a,bootingTeamId:o}=r;return n===o||!o&&n===a}c(BN,"team_sidebar_isTeamSidebarItemActive");function WN(){return window.matchMedia("(display-mode: standalone)").matches}c(WN,"team_sidebar_isStandalonePWA");var UN;let $b=c(class extends(UN=t.a.Component){componentDidMount(){(Object(Ye.i)()||Object(sn.b)()&&WN())&&(window.addEventListener("keydown",this.onWindowKeyDown),window.addEventListener("keyup",this.onWindowKeyUp),window.addEventListener("blur",this.onWindowBlur),this.keyboardListenersRegistered=!0),this.listRef.current&&Kh&&(this.listRef.current.scrollTop=Kh,Kh=0)}componentWillUnmount(){this.keyboardListenersRegistered&&(window.removeEventListener("keydown",this.onWindowKeyDown),window.removeEventListener("keyup",this.onWindowKeyUp),window.removeEventListener("blur",this.onWindowBlur))}onBlur(n){let{currentTarget:a,relatedTarget:o}=n;a.contains(o)||this.state.activeItemIndex!==-1&&this.setState(()=>({activeItemIndex:-1}))}onArrowKey(n){const{key:a,currentTarget:o,target:i,shiftKey:l,metaKey:m,ctrlKey:h,altKey:p}=n;if(l||m||h||p)return;const j=[...Array.from(o.querySelectorAll('[role="tab"]'))],I=i,G=j.indexOf(I),Y=bE.includes(a)?G+1:G-1,se=j[Y];se&&(this.setState(()=>({activeItemIndex:Y})),se.focus())}onHome(n){const{currentTarget:a}=n,o=[...Array.from(a.querySelectorAll('[role="tab"]'))];this.setState(()=>({activeItemIndex:0})),o[0].focus()}onEnd(n){const{currentTarget:a}=n,o=[...Array.from(a.querySelectorAll('[role="tab"]'))],i=o.length-1;this.setState(()=>({activeItemIndex:i})),o[i].focus()}onKeyDown(n){if(this.dragging)return;const{key:a}=n;if(DN.includes(a)){if(fE.includes(a)){this.onArrowKey(n);return}if(a==="Home"){this.onHome(n);return}this.onEnd(n)}}onWindowBlur(){const{isModifierPressed:n}=this.state;n&&this.setState(()=>({isModifierPressed:!1}))}onWindowKeyDown(n){var a;const o=Object.keys((a=this.props.teams)!==null&&a!==void 0?a:{}).length,i=Object(Ye.p)()?n.metaKey:n.ctrlKey;if(!n.shiftKey&&!n.altKey&&i&&o>0){const h=this.keyCodeInRange(n,od.One,od.Nine),p=this.keyCodeInRange(n,od.NumOne,od.NumNine);if(h||p){n.preventDefault();const E=n.keyCode-(h?od.One:od.NumOne);o>E&&this.selectTeamByIndex(E)}}i&&!n.shiftKey&&!n.altKey?this.setState(()=>({isModifierPressed:!0})):this.state.isModifierPressed&&this.setState(()=>({isModifierPressed:!1}));var l;const m=(l=this.currentActiveTeamIndex)!==null&&l!==void 0?l:0;!n.shiftKey&&n.ctrlKey&&n.key==="Tab"?(n.preventDefault(),m>=this.props.allWorkspaces.length-1?this.selectTeamByIndex(0):this.selectTeamByIndex(m+1)):n.shiftKey&&n.ctrlKey&&n.key==="Tab"&&(n.preventDefault(),m<1?this.selectTeamByIndex(this.props.allWorkspaces.length-1):this.selectTeamByIndex(m-1))}onWindowKeyUp(n){!(Object(Ye.p)()?n.metaKey:n.ctrlKey)&&this.state.isModifierPressed&&this.setState(()=>({isModifierPressed:!1}))}onItemActive(n){this.activeItemRef=n}onBeforeDragStart(){this.dragging=!0}onDragEnd(n){let{destination:a,source:o}=n;if(this.dragging=!1,!a)return;const{allWorkspaces:i,setTeamOrder:l}=this.props;o.index>=i.length||l(wN(i,o.index,a.index))}focus(){this.activeItemRef&&this.activeItemRef.focus()}keyCodeInRange(n,a,o){let{keyCode:i}=n;return i>=a&&i<=o}selectTeam(n){var a=this;return Object(U.coroutine)(function*(){const{teams:o,selectedTeamStore:i,selectedTeamId:l,clogger:m}=a.props,h=yield Object(si.a)({currentTeamStore:i,newWorkspaceId:n,navigateToRouteProps:{routeName:yr.a,options:{reason:"team-sidebar/selectTeam"}}});h&&a.listRef.current&&(Kh=a.listRef.current.scrollTop),h&&m.track(Oe.EventId.TEAM_SIDEBAR_CLICK,{source_team_id:n,target_team_id:l,items_count:Object.keys(o).length,is_iap1:a.props.iaPhase1IsEnabled})})()}selectTeamByIndex(n){var a;const o=(a=this.props.allWorkspaces)!==null&&a!==void 0?a:[];o[n]&&this.selectTeam(o[n])}shouldFocus(){const n=Object(v.getStoreInstanceByTeamId)(this.props.selectedTeamId);return!Object(Kt.g)(n.getState())}shouldSignOutOfOrg(n){const{teams:a}=this.props,{enterprise_id:o}=a[n];return o?Object.values(a).filter(l=>l.id!==n&&l.enterprise_id===o).length===0:!1}renderSidebarItem(n,a){const{signOutFromTeam:o,teams:i,bootedWorkspaces:l,selectedTeamId:m,failedToBootWorkspaces:h,bootingTeamId:p,workspaceSwitcherRailIsVisible:E}=this.props,{isModifierPressed:j}=this.state,{icon:I,name:G,isExpired:Y,isPendingAuth:se,enterprise_id:be}=i[n],Ee=l.includes(n),_e=h.includes(n),ge=BN({teamId:n,selectedTeamId:m,bootingTeamId:p});n===m&&this.currentActiveTeamIndex!==a&&(this.currentActiveTeamIndex=a);var ye=this;const Ue={teamId:n,teamName:G,icon:I,order:a,activeItemIndex:this.state.activeItemIndex,isActive:ge,onClick:this.selectTeam,signOutFromTeam:Object(U.coroutine)(function*(){ye.shouldSignOutOfOrg(n)?(ge||(yield Object(Rd.h)(yr.a,{teamId:n},{reason:"team-sidebar/selectTeam"})),o({teamId:n,orgId:be})):o({teamId:n})}),key:n,shouldShowKeyboardShortcut:j,hasSessionExpired:!!Y,failedToBoot:_e,isPendingAuth:se};return t.a.createElement(Nu.b,{draggableId:n,key:n,index:a,disableInteractiveElementBlocking:!0},(Re,tt)=>{let{isDragging:Ge}=tt;const Tt=t.a.createElement(t.a.Fragment,null,t.a.createElement(iE,Rm({ref:Re.innerRef},Ue,{draggableProps:Re.draggableProps,dragHandleProps:Re.dragHandleProps,isDragging:Ge,onItemActive:this.onItemActive})),ge?t.a.createElement(u.b,{store:Object(v.getStoreInstanceByTeamId)(n),key:n},t.a.createElement($O,{overflowTabs:LN,shouldShowWorkspaceSwitcher:!1,tabsToShow:xN,workspaceSwitcherRailIsVisible:E})):null);return Ee?t.a.createElement(u.b,{store:Object(v.getStoreInstanceByTeamId)(n),key:n},Tt):Tt})}renderAddTeamButton(){const{teams:n}=this.props;return t.a.createElement(u.b,{store:this.props.selectedTeamStore},t.a.createElement(nE,{teams:n}))}renderTeamSidebarContents(n){const{allWorkspaces:a}=this.props,i=(a??[]).map((l,m)=>this.renderSidebarItem(l,m));return t.a.createElement("div",Rm({role:"tablist","aria-orientation":"vertical","aria-label":RN(),ref:n.innerRef},n.droppableProps,{className:"p-team_sidebar__teams",onKeyDown:this.onKeyDown,onBlur:this.onBlur}),i,n.placeholder,this.renderAddTeamButton())}renderDesktopComponents(){const{bootedWorkspaces:n}=this.props;return t.a.createElement(Xb,{workspaces:n})}render(){const{selectedTeamId:n,selectedTeamStore:a}=this.props,o=a&&t.a.createElement(u.b,{store:a,key:n},t.a.createElement(lE,null)),i=$r.a.WORKSPACE_SWITCHER_RAIL,l="WorkspaceSwitcherRail",m=Object(g.default)(this.props.className,"p-team_sidebar","p-team_sidebar--classic_nav");return t.a.createElement(Dr.a,{id:l,index:i,focusFn:this.focus,shouldFocus:this.shouldFocus,enableSectionNavigation:!0},o,Object(Ye.i)()?this.renderDesktopComponents():null,t.a.createElement(Nu.a,{onBeforeDragStart:this.onBeforeDragStart,onDragEnd:this.onDragEnd},t.a.createElement(Nu.c,{droppableId:"droppable"},h=>t.a.createElement("div",Rm({ref:Object(Kb.a)(this.listRef,h.innerRef)},h.droppableProps,{"data-qa":"team_sidebar_scroll_container",id:"team_sidebar_scroll_container",className:m}),this.renderTeamSidebarContents(h)))))}constructor(n){super(n),this.keyboardListenersRegistered=!1,this.dragging=!1,this.activeItemRef=null,this.state={isModifierPressed:!1,activeItemIndex:-1},this.currentActiveTeamIndex=null,this.listRef=t.a.createRef(),Object(Kr.a)(this,["onWindowKeyDown","onWindowKeyUp","onWindowBlur","selectTeamByIndex","onDragEnd","onBeforeDragStart","onItemActive","focus","selectTeam","onKeyDown","onBlur","shouldFocus"])}},"TeamSidebar");$b.displayName="TeamSidebar",$b.defaultProps={selectedTeamStore:void 0,bootedWorkspaces:[],failedToBootWorkspaces:[],className:"",allWorkspaces:[],isWindowFrameless:!1,bootingTeamId:void 0,iaPhase1IsEnabled:!1};function HN(r,n){const a=Object(v.getStoreInstanceByTeamId)(n.selectedTeamId);var o;const i=(o=Object(C.getAllWorkspaces)(r))!==null&&o!==void 0?o:lr.a,l=Object(C.getNavigateToUnbootedWorkspace)(r);var m;const h=(m=Object(C.getFailedToBootWorkspaces)(r))!==null&&m!==void 0?m:lr.a;var p,E;return{teams:(p=Object(C.getWorkspacesMeta)(r))!==null&&p!==void 0?p:lr.b,bootingTeamId:l==null?void 0:l.bootingTeamId,selectedTeamStore:a,allWorkspaces:i,bootedWorkspaces:(E=Object(C.getBootedWorkspaces)(r))!==null&&E!==void 0?E:lr.a,failedToBootWorkspaces:h,clogger:Object(Rr.a)({state:a.getState()})}}c(HN,"workspace_switcher_accordion_prototype_team_sidebar_mapStateToProps");const FN={startWorkspaceSignIn:qO.a,signOutFromTeam:Wh.a,setTeamOrder:Bh.setWorkspaceOrder,setNavigateToUnbootedWorkspace:Bh.setNavigateToUnbootedWorkspace};var KN=Object(Be.a)(HN,FN)(eE($b)),VN=c(r=>{let{isInCompactMode:n,workspaceSwitcherRailIsVisible:a}=r;const o=Object(v.getClientStoreInstance)(),i=Object(C.getFocusedWorkspace)(o.getState()),l=Object(tc.a)({view:"chrome"});return t.a.createElement("div",{className:Object(g.default)("p-workspace_switcher_prototype",l)},t.a.createElement(u.b,{store:o},t.a.createElement(KN,{className:"p-client__team_sidebar",selectedTeamId:i||"",isInCompactMode:n,workspaceSwitcherRailIsVisible:a})))},"workspace_accordion"),GN=e("c6aF"),zN=e.n(GN);const vE="account/settings/2fa_blocker",YN="2FA-REQUIRED";function JN(r){const n=Object(wt.a)({teamOrEnterpriseId:r,label:YN}),a=Object(Me.i)(r,"url");return a?`${a}${vE}`:(n.error(`Cannot get url for ${r}`),`/${vE}`)}c(JN,"get2FAUrl");const Vh=new he.b("gantry_boot_fallback_views");function gE(r){let{teamId:n}=r;const a=Object(s.useCallback)(()=>{const i=JN(n);window.open(i)},[n]),o=Object(s.useCallback)(()=>{Object(fu.a)({reason:"User initiated reload from the 2fa blocker view",reasonKey:"2fa_blocker_view_reload"})},[]);return t.a.createElement(ed.a,{dataQAPrefix:"two_factor_auth",imageUrl:zN.a,title:Vh.rt("You don\u2019t have two-factor authentication (2FA) set up from your account."),description:Vh.rt("To continue using Slack, please set up two-factor authentication. We require all admins and owners to use 2FA for additional account protection."),primaryActionText:Vh.rt("Configure Two-Factor Authentication"),primaryActionButtonType:"primary",onClickPrimaryAction:a,secondaryActionText:Vh.rt("Reload Slack"),onClickSecondaryAction:o,isExtended:!0,className:"p-error_screen"})}c(gE,"TwoFactorBlockerView"),gE.displayName="TwoFactorBlockerView";var XN=e("iBBx"),QN=e.n(XN);const qb=new he.b("client_error_screens");function OE(r){let{teamId:n}=r;const a=Object(d.c)(h=>Object(nn.s)(h,n)),o=Object(Xt.l)(a),i=Object(S.i)(),l=Object(d.c)(vt.a),m=Object(s.useCallback)(()=>{i(ob(l))},[i,l]);return t.a.createElement(ed.a,{dataQAPrefix:"no_workspaces",imageUrl:QN.a,title:qb.rt("Time to join a workspace"),description:qb.rt("To work with {orgName}, join a workspace and you\u2019ll be on your way.",{orgName:o}),primaryActionText:qb.rt("Browse Workspaces"),primaryActionButtonType:"outline",onClickPrimaryAction:m,isExtended:!0,className:"p-error_screen"})}c(OE,"NoWorkspacesBlockerView"),OE.displayName="NoWorkspacesBlockerView";var ZN=e("ewb4"),$N=e.n(ZN),qN=e("2V0M");const xm=new he.b("client_error_screens"),EE=c(()=>{const r=Object(s.useCallback)(()=>{Object(fu.a)({reason:"Boot Error",reasonKey:"boot_error_generic"})},[]),n=t.a.createElement(t.a.Fragment,null,t.a.createElement("p",{className:"margin_bottom_50"},xm.rt("This is one of those times when we\u2019re not sure what went wrong, but we do have some suggestions that might help.")),t.a.createElement("ul",null,t.a.createElement("li",null,xm.rt("<a>Restart Slack</a>. Sometimes that\u2019s all it takes.",{},a=>{let{text:o}=a;return t.a.createElement(Ra.a,{onClick:r},o)})),t.a.createElement("li",null,xm.rt("<a>Check the Slack service</a> to make sure it\u2019s not a Slack issue.",{},a=>{let{text:o}=a;return t.a.createElement(Ra.a,{href:Object(qN.a)()},o)})),t.a.createElement("li",null,xm.rt("<a>Try our suggestions for troubleshooting</a> connection issues.",{},a=>{let{text:o}=a;return t.a.createElement(Bl.a,{articleId:205138367,forceOpenInBrowser:!0},o)}))));return t.a.createElement(ed.a,{dataQAPrefix:"workspace_boot_failure_generic",imageUrl:$N.a,title:xm.rt("We\u2019re having trouble loading your workspace"),description:n,isExtended:!0,className:Object(g.default)("p-error_screen","p-ia4_workspace_boot_failure")})},"WorkspaceBootFailure");EE.displayName="WorkspaceBootFailure";var ek=e("ZjBp"),tk=e.n(ek);const Lm=new he.b("client_error_screens"),_E=c(r=>{let{teamId:n}=r;const a=Object(O.b)(C.getWorkspacesMeta),o=a==null?void 0:a[n],i=o==null?void 0:o.name,l=o==null?void 0:o.enterprise_name;let m;i?l?m=Lm.rt("{teamName} is joining the {enterpriseName} organization!",{teamName:i,enterpriseName:l,fallbackHash:"cecef0caaec793d2cd7d371c3699cb40f72bf628",fallbackHashNs:"migration_blocker_page"}):m=Lm.rt("{teamName} is joining an organization!",{teamName:i,fallbackHash:"75968ad2cf78bf090be57445f017c1df1f11ecc0",fallbackHashNs:"migration_blocker_page"}):m=Lm.rt("Your workspace is joining an organization!",{fallbackHash:"a0a573b5fb7068ecd103679fbc35027f0d930f6b",fallbackHashNs:"migration_blocker_page"});const h=Object(Xt.v)(),p=Object(O.b)(j=>Object(C.getWorkspaceMigrationId)(j,n)),E=Object(O.b)(j=>Object(C.canViewMigrationStatus)(j,n));return t.a.createElement(ed.a,{dataQAPrefix:"grid_migration_in_progress",imageUrl:tk.a,title:m,description:Lm.rt("It\u2019s moving day. This shouldn\u2019t take too long, but things are temporarily unavailable while movers unload all the boxes.",{fallbackHash:"1858aae41e7d1735908f29044dcdccb41289758f",fallbackHashNs:"migration_blocker_page"}),isExtended:!0,className:"p-error_screen",primaryActionText:E?Lm.rt("View Migration Status",{fallbackHash:"7f425d90c6570cf23535e3d9eaac677a440e61e3",fallbackHashNs:"migration_blocker_page"}):void 0,primaryActionButtonType:"outline",primaryActionHref:`${h}migrations/${p}/status`})},"Ia4GridMigrationBlocker");_E.displayName="Ia4GridMigrationBlocker";var nk=e("h0lx"),ak=e.n(nk);const ef=new he.b("client_error_screens"),CE=c(()=>{const r=Object(s.useCallback)(()=>{Object(fu.a)({reason:"Boot Error Access Limited",reasonKey:"boot_error_access_limited"})},[]);return t.a.createElement(ed.a,{dataQAPrefix:"workspace_access_limited",imageUrl:ak.a,title:ef.rt("Your current network has blocked this workspace.",{fallbackHash:"34ac7fd699cbe062bc65bf0de6ae97176f66a9d2",fallbackHashNs:"sonic_workspace_boot_failure"}),description:ef.rt("Your current network will only allow you to access certain Slack workspaces (usually, just the ones you use for work). To get connected, change networks and try again.",{fallbackHash:"a0fded3bab4c3d3a36909737116b4752dc659b42",fallbackHashNs:"sonic_workspace_boot_failure"}),primaryActionText:ef.rt("Reload",{fallbackHash:"cce7155371fc26686b89c7452337d8419692f31e",fallbackHashNs:"sonic_workspace_boot_failure"}),primaryActionButtonType:"outline",onClickPrimaryAction:r,isExtended:!0,className:"p-error_screen"})},"AccessLimitedBlockerView");CE.displayName="AccessLimitedBlockerView";var ok=e("wQWF"),sk=e.n(ok);const Gh=new he.b("client_error_screens"),yE=c(r=>{let{teamId:n}=r;const a=Object(O.b)(C.getWorkspacesMeta),o=a==null?void 0:a[n],i=o==null?void 0:o.enterprise_name,l=i?Gh.rt("Your workspace has just been upgraded to Slack Enterprise Grid, which makes it simpler for large organizations to work together. <br></br><br></br>Starting today, your workspace is part of the <b>{enterprise_name}</b> organization. That means you can now message and share files with anyone at {enterprise_name} \u2014 even if you\u2019re not in the same workspace.Continue to your workspace, and we\u2019ll show you what\u2019s new.",{enterprise_name:i,fallbackHash:"7129d157f8049a0882abec3e988581f76777b0ce",fallbackHashNs:"migration_blocker_page"}):Gh.rt("Your workspace has just been upgraded to Slack Enterprise Grid, which makes it simpler for large organizations to work together. <br></br><br></br>Starting today, your workspace is part of an organization. That means you can now message and share files with anyone in the organization \u2014 even if you\u2019re not on the same workspace. Continue to your workspace, and we\u2019ll show you what\u2019s new.",{fallbackHash:"b66aec6d4378352e6acb4cdac6f6a27fcb1f13b7",fallbackHashNs:"migration_blocker_page"}),m=Object(s.useCallback)(()=>{Object(fu.a)({reason:`MigrationBlockerPage: Grid Migration for team ${n} is complete, user triggered client reload`,reasonKey:"migration_blocker_reload"})},[n]);return t.a.createElement(ed.a,{dataQAPrefix:"grid_migration_complete",imageUrl:sk.a,title:Gh.rt("Welcome to Enterprise Grid!",{fallbackHash:"cecef0caaec793d2cd7d371c3699cb40f72bf628",fallbackHashNs:"migration_blocker_page"}),description:l,isExtended:!0,primaryActionText:Gh.rt("Continue to Your Workspace",{fallbackHash:"e6de983f1580fa148bf995b0579b0f8ef8bd6425",fallbackHashNs:"migration_blocker_page"}),primaryActionButtonType:"outline",onClickPrimaryAction:m,className:"p-error_screen"})},"Ia4GridMigrationCompleteBlocker");yE.displayName="Ia4GridMigrationCompleteBlocker";var rk=e("JyXf"),ik=e.n(rk);const zh=new he.b("client_error_screens");function jE(r){let{teamId:n}=r;const a=Object(O.b)(l=>Object(C.getWorkspaceCustomTOSAcceptURL)(l,n)),o=Object(s.useCallback)(()=>{window.open(a)},[a]),i=Object(s.useCallback)(()=>{Object(fu.a)({reason:"User initiated reload from the custom_tos blocker view",reasonKey:"custom_tos_blocker_view_reload"})},[]);return t.a.createElement(ed.a,{className:Object(g.default)("p-error_screen","p-custom_tos_blocker_view"),dataQAPrefix:"custom_tos",imageUrl:ik.a,title:zh.rt("You need to agree to your organization\u2019s terms of service."),description:zh.rt("To continue using Slack, please review and agree to your organization\u2019s terms of service. Once accepted, please reload Slack.",{fallbackHash:"a75fc88efac72510a2c177e8ef22344a751160ea"}),primaryActionText:zh.rt("Review Terms of Service"),primaryActionButtonType:"primary",onClickPrimaryAction:o,secondaryActionText:zh.rt("Reload Slack"),onClickSecondaryAction:i,isExtended:!0})}c(jE,"CustomTOSBlockerView"),jE.displayName="CustomTOSBlockerView";const SE=c(r=>{let{errorScreenType:n,teamId:a}=r;switch(n){case hn.a.GridMigrationComplete:return t.a.createElement(yE,{teamId:a});case hn.a.GridMigration:return t.a.createElement(_E,{teamId:a});case hn.a.TwoFactorAuth:return t.a.createElement(gE,{teamId:a});case hn.a.CustomTOS:return t.a.createElement(jE,{teamId:a});case hn.a.NoWorkspaces:return t.a.createElement(OE,{teamId:a});case hn.a.AccessLimited:return t.a.createElement(CE,null);case hn.a.WorkspaceBootFailure:default:return t.a.createElement(EE,null)}},"BaseErrorScreen");SE.displayName="BaseErrorScreen";const IE=c(r=>{let{teamId:n}=r;const a=Object(O.b)(o=>Object(hn.b)(o,n));return a?t.a.createElement(SE,{teamId:n,errorScreenType:a}):null},"ErrorScreen");IE.displayName="ErrorScreen";var ck=IE,qt=e("3qQs"),lk=e("U+tK"),dk=e("bxml"),tf=e("Pw4T"),TE=e("pQQO"),AE=e("3fJ/"),uk=e("Tkkt"),NE=e("kZhr");const kE=Object(Vs.c)("Reset all search related redux and displays an error message after an error is caught in the view",(r,n,a)=>{let{inputId:o}=a;r(Object(TE.a)({inputId:o})),r(Object(uk.f)({windowId:NE.a})),r(Object(AE.b)({windowId:NE.a}));const i=["messages","files","channels"];i.push("people"),i.forEach(l=>{r(Object(AE.n)({moduleType:l,error:sl.j.RenderErrorCaught,loading:!1}))}),r(Object(TE.b)({isOpen:!0,inputId:o}))});kE.meta={name:"createThunk",key:"createThunkresetSearchAfterUnknownUIError",description:"Reset all search related redux and displays an error message after an error is caught in the view"};var mk=kE;const hk="IMPROVED_SEARCH";let PE=c(class extends s.PureComponent{componentDidUpdate(){this.state.hasError&&this.retryRender()}componentDidCatch(n,a){this.props.telemeter.count("search_full_render_fail",1),this.props.logger.error(hk,`Error caught by ProtectedSearch ${a.componentStack}`,n,{subtype:"search"}),this.setState(()=>({hasError:!0})),this.props.resetSearchAfterUnknownUIError({inputId:this.props.inputId})}retryRender(){this.setState(()=>({hasError:!1}))}render(){return this.state.hasError?null:t.a.createElement(dk.a,{inputId:this.props.inputId,clogUiComponentName:Oe.UiComponentName.GLOBAL_SEARCH})}constructor(n){super(n),this.state={hasError:!1},this.retryRender=Object(J.a)(this.retryRender.bind(this),100,{leading:!1})}},"ProtectedSearch");PE.displayName="ProtectedSearch";const pk=c(r=>({logger:Object(wt.a)({state:r}),telemeter:Object(tf.d)({state:r})}),"protected_omniswitcher_mapStateToProps"),bk=c(r=>({resetSearchAfterUnknownUIError:function(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r(mk(...a))}}),"protected_omniswitcher_mapDispatchToProps");var fk=Object(Be.a)(pk,bk)(PE),vk=fk,gk=e("/xs0"),Ok=e("AOsY"),Ek=e("mFDj"),_k=e("H0kk"),Ck=e("b7QB");const yk=new he.b("channel_sidebar"),ME=c(r=>{let{dragItem:n}=r;return n.channelSidebarItems.length===1?t.a.createElement("div",{style:{width:n.boundingClientRect.width,height:n.boundingClientRect.height},className:"p-drag_layer__sidebar_channels"},t.a.createElement(Ck.a,{id:n.channelSidebarItems[0].channel.id,channelSection:n.channelSidebarItems[0].channelSection})):t.a.createElement("div",{className:"p-drag_layer__sidebar_channels_container",style:{left:n.initialClientOffset.x-n.boundingClientRect.x}},t.a.createElement("div",{className:"p-drag_layer__sidebar_channels p-drag_layer__sidebar_channels--multiple"},t.a.createElement("div",{className:"p-channel_sidebar__channel p-channel_sidebar__channel--selected"},yk.t("{count, plural, =1 {# selected} other {# selected}}",{count:n.channelSidebarItems.length}))))},"DragChannelSidebarChannels");ME.displayName="DragChannelSidebarChannels";var jk=ME,Sk=e("xGfe");const DE=c(r=>{let{dragItem:n}=r;const a=n.channelSection,o=Object(d.c)(i=>Object(ya.b)(i,a));return t.a.createElement("div",{style:{width:n.boundingClientRect.width,height:n.boundingClientRect.height},className:"p-drag_layer__sidebar_section_heading"},t.a.createElement(Sk.a,{label:o,channelSection:a}))},"DragChannelSidebarSectionHeading");DE.displayName="DragChannelSidebarSectionHeading";var Ik=DE;function RE(r){let{dragItem:n}=r;const{classes:a,children:o}=n;return!a||!o?null:t.a.createElement("div",{className:Object(g.default)("c-pillow_file_container","p-pending_file--drag-layer",a),role:"presentation"},t.a.createElement("div",{className:Object(g.default)("c-pillow_file")},o))}c(RE,"DragPendingFile"),RE.displayName="DragPendingFile";var Tk=RE,nf=e("7oBp");const Ak={[nf.a]:jk,[nf.b]:Ik,[nf.c]:Tk};function Nk(r){if(!r)return{display:"none"};const n=`translate(${r.x}px, ${r.y}px)`;return{transform:n,WebkitTransform:n}}c(Nk,"getItemStyles");const xE=c(()=>{const{item:r,itemType:n,isDragging:a,currentOffset:o}=Object(_k.a)(l=>({item:l.getItem(),itemType:l.getItemType(),isDragging:l.isDragging(),currentOffset:l.getSourceClientOffset()}));if(!a)return null;const i=n?Ak[n]:null;return i?t.a.createElement("div",{className:"p-drag_layer","data-qa":"active"},t.a.createElement("div",{style:Nk(o),className:"p-drag_layer__drag_item"},t.a.createElement(i,{dragItem:r}))):null},"ReactDndDragLayer");xE.displayName="ReactDndDragLayer";var kk=xE,ku=e("ueJG"),LE=e("2kWh"),Yh=e("IYwZ"),Pu=e("dKQz"),Pk=e("7BsU"),Mk=e("6inW"),Dk=e("a2P1"),Rk=e("09pw"),xk=e("HHxC"),wE=e("ygDB"),Lk=e("q5Dp"),BE=e("LqER"),wk=e("m8R6"),Mu=e("x5lL"),uc=e("GNR7"),WE=e("to1N"),Jh=e("t35X");const Xh=new he.b("huddles"),UE=c(r=>{let{memberId:n,size:a,numOverflow:o,pendingStatus:i}=r;const l=Object(d.c)(vt.a),m=n===l,h=Object(d.c)(se=>Object(Tn.s)(se,n)),p=!!i&&i==="joining_soon",E=!!i&&i==="pending",j=Object(s.useMemo)(()=>{const se=m?Xh.t("You"):h;let be;return p?be=Xh.t("Joining soon"):E?be=Xh.t("Invited"):i||(be=Xh.t("In the huddle")),t.a.createElement("div",null,t.a.createElement("div",null,se),!!be&&t.a.createElement("div",{className:"c-tooltip__subtitle"},be))},[m,E,p,h,i]),I={height:a,width:a},G=o?`+${o}`:null,Y=t.a.createElement("div",{className:"p-huddle_invite_window_avatar",style:I},t.a.createElement("div",{className:Object(g.default)("p-huddle_invite_window_avatar__avatar_container",{"p-huddle_invite_window_avatar__avatar_container--pending":!!i})},t.a.createElement(Sm.c,{size:a,ariaHidden:"true",tabIndex:-1,userId:n,isInteractive:!1})),i&&t.a.createElement("div",{className:"p-huddle_invite_window_avatar__status_overlay"},t.a.createElement(Pe.a,{name:p?"clock":"paper-plane",size:"20"})),G&&t.a.createElement("div",{className:"p-huddle_invite_window_avatar__additional_overlay"},G));return j?t.a.createElement(Dn.d,{tip:j},Y):Y},"HuddleInviteWindowAvatar");UE.displayName="HuddleInviteWindowAvatar";var Bk=t.a.memo(UE),HE=e("VKu5"),FE=e("qZ3p"),Wk=e("zZZw");const wm=new he.b("huddles"),KE=c(r=>{let{activeMemberIdsWithoutSender:n,channelId:a,senderUserId:o,isScheduled:i}=r;const l=Object(d.c)(ge=>Object(Tn.s)(ge,o)),m=Object(d.f)(ge=>n.map(ye=>Object(Tn.s)(ge,ye)).filter(ye=>ye)),h=Object(d.c)(ge=>Object(Mt.d)(ge,a)),p=Object(d.c)(ge=>Object(HE.a)(ge,a))||"",E=p?t.a.createElement(FE.a,{text:p}):null,j=Object(d.c)(wr.L);let I,G;const Y=c(ge=>t.a.createElement("div",null,t.a.createElement("div",null,ge),t.a.createElement("div",{className:"c-tooltip__subtitle"},wm.t("In the huddle"))),"generateCustomTooltipEl");if(Y.displayName="generateCustomTooltipEl",i&&j){const ge=t.a.createElement(On.a,{channelId:a});let ye;m.length===1&&(ye=m[0]),I=Object(LE.b)({topic:void 0,formattedTopic:void 0,channel:h,channelName:ge,imMemberName:ye,otherMemberNamesString:m,experimentHuddlesLaterGroupOn:j})}else if(Object(wn.g)(h))I=l;else if(Object(wn.i)(h))if(!m.length)I=l;else if(m.length===1)I=wm.rt("{inviteSenderMemberName} and {otherMemberName}",{inviteSenderMemberName:l,otherMemberName:m[0]});else{I=wm.rt("{inviteSenderMemberName}, {firstOtherMemberName}, and {numRemaining, plural, =1 {{numRemaining} other} other {{numRemaining} others}}",{inviteSenderMemberName:l,firstOtherMemberName:m[0],numRemaining:m.length-1});const ge=Object(Wk.a)([l].concat(m),{react:!0}).join("");G=Y(ge)}else{const ge=t.a.createElement(On.a,{channelId:a});if(I=wm.rt("{inviteSenderMemberName} in {channelName}",{inviteSenderMemberName:l,channelName:ge}),m.length){const ye=wm.rt("{inviteSenderMemberName} and {numRemaining, plural, =1 {{numRemaining} other} other {{numRemaining} others}}",{inviteSenderMemberName:l,numRemaining:m.length});G=Y(ye)}}const se=t.a.createElement("div",{className:"p-huddle_invite_window_text__truncate_tooltip"},E||I);let be=t.a.createElement(Xa.a,{lines:1,breakWords:!1,withTooltip:!!E||!G,customTooltipText:se},t.a.createElement("div",{className:"p-huddle_invite_window_text__primary_text"},E||I));!E&&G&&(be=t.a.createElement(Dn.d,{tip:G},t.a.createElement("div",null,be)));const Ee=t.a.createElement("div",{className:"p-huddle_invite_window_text__truncate_tooltip"},I);let _e=E?t.a.createElement(Xa.a,{lines:1,breakWords:!1,withTooltip:!G,customTooltipText:Ee},t.a.createElement("div",{className:"p-huddle_invite_window_text__secondary_text"},I)):null;return _e&&G&&(_e=t.a.createElement(Dn.d,{tip:G},t.a.createElement("div",null,_e))),t.a.createElement("div",{className:"p-huddle_invite_window_text"},be,_e)},"HuddleInviteWindowText");KE.displayName="HuddleInviteWindowText";var Uk=t.a.memo(KE),Hk=e("B2cQ"),Fk=e("iUFw"),VE=e("eBYm");const sd=new he.b("huddles"),Kk={elementName:"huddles_invite_decline",eventId:Oe.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},Vk={elementName:"huddles_invite_joining_soon",eventId:Oe.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},Gk={elementName:"huddles_invite_join",eventId:Oe.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},GE=c(r=>{let{channelId:n,senderUserId:a,callId:o,onHuddleJoin:i}=r;const l=Object(S.i)(),h=Object(d.f)(ma=>Object(uc.g)(ma,n)).map(ma=>ma.id),p=h.filter(ma=>ma!==a),E=Object(d.c)(ma=>Object(Mu.p)(ma,o)),j=Object(d.c)(ma=>Object(Mu.f)(ma,o));var I;const G=(I=j==null?void 0:j.isScheduled)!==null&&I!==void 0?I:!1,Y=Object(d.c)(vt.a),se=(E==null?void 0:E[Y])==="joining_soon",be=Object(O.b)(pa.t),Ee=Object(Tn.J)(be),_e=Object(s.useCallback)(ma=>t.a.createElement(wd.a,{position:"top-right",showCloseButton:!1,offsetX:"inherit",offsetY:4,toastClasses:"p-huddle_invite_window_content__toast"},t.a.createElement("div",{className:"p-huddle_invite_window_content__toast_content"},ma)),[]),ge=Object(s.useCallback)(()=>{l(Object(Jh.b)({callId:o,channelId:n,inviteResponse:Jh.a.DECLINE}))},[o,n,l]),[ye,Ue]=Object(s.useState)(!1),[Re,tt]=Object(s.useState)(!1),[Ge,Tt]=Object(s.useState)(!1),yn=Object(s.useCallback)(()=>{(function(){var Lo=Object(U.coroutine)(function*(){Ue(!0),tt(!1),Tt(!1);const zo=l(Object(Jh.b)({callId:o,channelId:n,inviteResponse:Jh.a.JOINING_SOON}));if(zo)try{yield zo}catch{Tt(!0)}finally{Ue(!1)}else Ue(!1);tt(!0)});return c(function(){return Lo.apply(this,arguments)},"respondToInvite")})()()},[o,n,l]),xn=Re?_e(t.a.createElement(t.a.Fragment,null,t.a.createElement(Pe.a,{name:"clock",size:"20"}),t.a.createElement("span",{className:"margin_left_50"},sd.t("Join when you\u2019re ready!")))):null,Lt=(Ge?_e(t.a.createElement(t.a.Fragment,null,t.a.createElement(Pe.a,{name:"warning",size:"20"}),t.a.createElement("span",{className:"margin_left_50"},sd.t("Something went wrong responding to the invite.")))):null)||xn,Vn=Object(s.useCallback)(()=>{l(Object(WE.a)({channelId:n,callId:o,entryPoint:or.e.HUDDLE_INVITE_WINDOW})),i()},[n,o,l,i]),[la,Ta]=Object(s.useState)(0),ao=4,qa=80,po=Object(s.useMemo)(()=>{const ma=[];se&&ma.push(Y),Y!==a&&ma.push(a);let Lo=ao-ma.length;const zo=p.slice(0,Lo);ma.push(...zo),Lo=ao-ma.length;const lo=E?Object(wk.a)(E,Y):{},Sr=Object.keys(lo).slice(0,Lo);return ma.push(...Sr),Object(Ev.a)(ma)},[p,Y,se,E,a]),Qo=Object(s.useMemo)(()=>{if(!la)return 0;const ma=po.length,zo=8*(ma-1);return Math.min((la-zo)/ma,qa)},[la,po]),oo=Object(s.useMemo)(()=>{const ma=Object.keys(E||{}).length;let zo=h.length+ma-po.length;!(po.indexOf(Y)!==-1)&&ma&&(zo-=1),zo=Math.max(zo,0);const Sr=po.map((_t,ja)=>{const wa=ja===po.length-1;return t.a.createElement(Bk,{key:_t,memberId:_t,size:Qo,numOverflow:wa?zo:void 0,pendingStatus:E==null?void 0:E[_t]})});return t.a.createElement("div",{className:"p-huddle_invite_window_content_facepile"},Sr)},[h,Y,Qo,po,E]);return t.a.createElement("div",{className:"p-huddle_invite_window_content"},t.a.createElement("div",{className:"p-huddle_invite_window_content__body"},t.a.createElement("div",{className:"p-huddle_invite_window_content__facepile_container"},t.a.createElement(Hk.a,null,ma=>{let{width:Lo}=ma;return Ta(Lo),oo})),t.a.createElement("div",{className:"p-huddle_invite_window_content__invite_text"},t.a.createElement(Uk,{activeMemberIdsWithoutSender:p,channelId:n,senderUserId:a,isScheduled:G}))),t.a.createElement("div",{className:"p-huddle_invite_window_content__footer"},t.a.createElement("div",{className:"p-huddle_invite_window_content__buttons p-huddle_invite_window_content__buttons--with_pending_invites"},t.a.createElement("div",{className:"p-huddle_invite_window_content__button_with_label_container"},t.a.createElement(Fk.d,{className:"p-huddle_invite_window_content__button",onClick:ge,disabled:Ee,"aria-label":sd.t("Decline"),autoClogProps:Kk},t.a.createElement(Pe.a,{name:"close",size:"20"})),t.a.createElement("div",{className:"p-huddle_invite_window_content__button_label"},sd.t("Decline"))),!se&&t.a.createElement("div",{className:"p-huddle_invite_window_content__button_with_label_container"},t.a.createElement(VE.a,{className:"p-huddle_invite_window_content__button",loading:ye,onClick:yn,disabled:Ee,"aria-label":sd.t("Be there soon"),autoClogProps:Vk},t.a.createElement(Pe.a,{name:"hourglass",size:"20"})),t.a.createElement("div",{className:"p-huddle_invite_window_content__button_label"},sd.t("Be there soon"))),t.a.createElement("div",{className:"p-huddle_invite_window_content__button_with_label_container"},t.a.createElement(VE.a,{type:"primary",className:"p-huddle_invite_window_content__button p-huddle_invite_window_content__button--join","data-qa":"huddle_invite_window_content_join_button",loading:Ee,onClick:Vn,"aria-label":sd.t("Join"),autoClogProps:Gk},t.a.createElement(Pe.a,{name:"headphones",size:"20"})),t.a.createElement("div",{className:"p-huddle_invite_window_content__button_label"},sd.t("Join"))))),Lt)},"HuddleInviteWindowContent");GE.displayName="HuddleInviteWindowContent";var zk=t.a.memo(GE),Yk=e("tLzy");const zE=new he.b("huddles"),YE=c(()=>{const r=Object(Tn.x)(),n=Object(s.useRef)(null),a=Object(d.c)(Tc.b),o=Object(s.useContext)(Z.a);Object(Yk.a)({color:a.column_bg,symbolColor:void 0,titlebarRef:n});const i=Object(s.useCallback)(()=>{if(!Object(Ye.j)("4.30.0"))return;const l=o.windowToken;typeof l=="number"&&Object(dt.Ic)(l)},[o.windowToken]);return t.a.createElement(Ve.b,{className:Object(g.default)("p-huddle_invite_window_titlebar",{"p-huddle_invite_window_titlebar--browser":r===Tn.b.BROWSER,"p-huddle_invite_window_titlebar--mac":r===Tn.b.MAC,"p-huddle_invite_window_titlebar--windows":r===Tn.b.WINDOWS}),"aria-label":zE.t("Huddle invite"),onDoubleClick:i,nodeRef:n},t.a.createElement("div",{className:"p-huddle_invite_window_titlebar__box"},t.a.createElement("span",null)),t.a.createElement("div",{className:"p-huddle_invite_window_titlebar__box p-huddle_invite_window_titlebar__title_container"},t.a.createElement("span",{className:"p-huddle_invite_window_titlebar__title_icon"},t.a.createElement(Pe.a,{name:"headphones"})),t.a.createElement("span",{className:"p-huddle_invite_window_titlebar__title_text"},zE.t("Invite to huddle"))),t.a.createElement("div",{className:"p-huddle_invite_window_titlebar__box"},t.a.createElement("span",null)))},"HuddleInviteWindowTitlebar");YE.displayName="HuddleInviteWindowTitlebar";var Jk=t.a.memo(YE),Xk=e("8LNW"),Qk=e("SQl6"),mc=e("QIbu"),Zk=e("ejLy");function af(){return af=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},af.apply(this,arguments)}c(af,"huddle_invite_window_extends");const $k=new he.b("huddles"),JE=c(r=>{let{channelId:n,senderUserId:a,callId:o}=r;const i=Object(S.i)(),{window:l,windowToken:m}=Object(s.useContext)(Z.a),h=Object(BE.b)(n);Object(s.useEffect)(()=>{m&&(Object(dt.xc)(m),Object(dt.w)(m))},[m]);const p=Object(d.c)(Ge=>Object(Zk.a)(Ge,a)),E=Object(O.b)(pa.f),[j,I]=Object(s.useState)(!1),G=Object(O.b)(pa.a),[Y,se]=Object(s.useState)(!1),be=Object(s.useCallback)(()=>{se(!0)},[]);Object(s.useEffect)(()=>{if(Y&&G===o&&(I(!0),m)){Object(dt.jc)(m,!0);const{minWidth:Ge,minHeight:Tt}=Object(Rk.b)();Object(dt.bc)(m,Ge,Math.round(Tt))}},[G,o,Y,m]),Object(s.useEffect)(()=>{!Y&&n!==(E==null?void 0:E.channelId)&&l.close()},[E,n,Y,a,l]);const Ee=Object(d.c)(it.w),[_e,ge]=Object(s.useState)(!1),[ye,Ue]=Object(s.useState)(0);Object(s.useEffect)(()=>{if(!(_e||!j||!G||G!==o)&&(Ee&&(i(Object(xk.a)({surface:mc.b.WINDOW_FULL})),ge(!0)),!ye)){const Ge=l.setTimeout(()=>{ge(!0)},3e3);Ue(Ge)}},[G,o,i,Ee,j,_e,ye,l]);const Re=Object(s.useCallback)(()=>{j||Object(v.dispatchForClientStore)(Object(Pu.v)(!0))},[j]),tt=Object(Dk.a)(l)==="visible";return Object(s.useEffect)(()=>{l.addEventListener("beforeunload",Re),tt||Re();const Ge=Object(Ye.x)()&&Object(Ye.i)();return Ge&&l.addEventListener("blur",Re),()=>{l.removeEventListener("beforeunload",Re),Ge&&l.removeEventListener("blur",Re)}},[tt,Re,l]),j?t.a.createElement(Lk.a,{initialHuddleChannelId:n}):t.a.createElement(De.a,af({eventId:Oe.EventId.CANVAS_EVENT,uiComponentName:Oe.UiComponentName.HUDDLES_INVITE_WINDOW,clogImpression:!0},h),t.a.createElement(ku.b,{subtype:ku.a.InviteWindow,shouldStopHuddle:!1},t.a.createElement(Qk.a,null,t.a.createElement(ba.a,null),t.a.createElement(wE.a,null)," ",t.a.createElement(Xk.a,{title:$k.t("Huddle with {dmPersons}",{dmPersons:p})}),t.a.createElement("div",{className:"p-huddle_invite_window"},t.a.createElement(Jk,null),t.a.createElement(zk,{channelId:n,senderUserId:a,callId:o,onHuddleJoin:be})))))},"HuddleInviteWindow");JE.displayName="HuddleInviteWindow";var qk=t.a.memo(JE),eP=e("SZMM"),of=e("xCPE");const tP=new he.b("huddles"),XE=Object(Vs.c)("Opens the huddle invite window",function(){var r=Object(U.coroutine)(function*(n,a,o){let{channelId:i,senderUserId:l,callId:m}=o;const h=a(),E=280*Object(dt.Z)(),j={height:E,width:380,minHeight:E,minWidth:380,title:tP.t("Slack - Huddle"),fullscreenable:!1,fullscreen:!1,useContentSize:!0};if(Object(eP.d)()){j.titleBarStyle="hidden",j.titleBarOverlayHeight=of.a-1;const G=Object(Tc.b)(h);j.titleBarOverlayColor=Object(ln.d)()?"#00000000":G.column_bg,j.titleBarOverlaySymbolColor=G.text_color,j.trafficLightPositionLeft=of.b.LEFT,j.trafficLightPositionTop=of.b.TOP,j.appMenubar=!0}const I=Object(Mk.a)(i);yield n(Object(Pk.a)({element:t.a.createElement(qk,{key:i,channelId:i,senderUserId:l,callId:m}),uniqueType:I,windowFeatures:j}))});return function(n,a,o){return r.apply(this,arguments)}}());XE.meta={name:"createThunk",key:"createThunkopenHuddleInviteWindow",description:"Opens the huddle invite window"};var nP=XE,Bm=e("sNDC"),aP=e("1I7x");function oP(r){let{channelId:n,senderUserId:a,teamId:o,callId:i}=r;const l=Object(S.i)(),[m,h]=Object(s.useState)(null),p=Object(s.useMemo)(()=>o&&n?`${o}-${n}-${i}`:null,[i,n,o]),E=Object(d.c)(Yh.a),j=Object(O.b)(pa.a),I=Object(s.useCallback)(G=>{Object(v.dispatchForClientStore)(Object(Pu.v)(G))},[]);return Object(s.useEffect)(()=>{function G(){return Y.apply(this,arguments)}c(G,"openWindow");function Y(){return Y=Object(U.coroutine)(function*(){try{yield l(nP({channelId:n,senderUserId:a,callId:i}))}catch{I(!0)}j||l(Object(Bm.b)())}),Y.apply(this,arguments)}c(Y,"_openWindow"),m!==p&&(E?I(!0):(Object(aP.b)(n)||G(),I(!1))),h(p)},[j,i,n,E,l,p,m,a,I]),null}c(oP,"HuddleInviteWindowMounter");var sP=t.a.memo(oP),sf=e("Ni2k"),rP=e("x+oO"),iP=e("lA92");function cP(){const r=Object(S.i)(),n=Object(O.b)(pa.f),{teamId:a,channelId:o,senderUserId:i,callId:l}=n||{},m=Object(sf.a)(n==null?void 0:n.channelId),h=Object(d.c)(G=>Object(rP.b)(G,n==null?void 0:n.channelId)),[p,E]=Object(s.useState)(void 0);Object(s.useEffect)(()=>{!l&&p&&r(Object(iP.a)()),E(l)},[p,l,r]);const j=Object(O.b)(pa.i);if(Object(s.useEffect)(()=>{Object(v.dispatchForClientStore)(Object(Pu.v)(!1))},[]),!n||!o||!i||!l||m&&!h)return null;const I=Object(v.getStoreInstanceByTeamId)(a);return t.a.createElement(u.b,{store:I},t.a.createElement(sP,{channelId:o,senderUserId:i,teamId:a,callId:l}),j&&t.a.createElement(LE.a,{key:o,channelId:o,senderUserId:i,callId:l,teamId:a}))}c(cP,"XWSHuddleInvite");var Qh=e("/0Xg"),lP=e("FwEH"),dP=e("pQ8y"),uP=e("6Q+y"),mP=e("Mqk2"),hP=e("O6kw"),pP=e("Gpig");const QE=Object(Vs.c)("Upload files to a canvas thread",function(){var r=Object(U.coroutine)(function*(n,a,o){let{files:i,channelId:l,threadTs:m,clientMsgId:h,metadata:p,shouldCreateThread:E,callId:j}=o;if(Object(Je.a)(i)||!l)return;let I=m;if(E&&j){const _e=yield n(Object(pP.a)({callId:j}));I=_e==null?void 0:_e.ts}const G=yield n(Object(hP.a)({selectedFiles:[...i],channelId:l,threadTs:I})),Y=yield Zl.a.all(G),se=Object(Xn.g)(a());if(!se)return[];const Ee=(yield n(Object(uP.a)({teamId:se,files:Y,shareData:{channelId:l,clientMsgId:h,threadTs:I,metadata:p}}))).fileIds.map(_e=>n(Object(mP.d)({fileId:_e,reason:"canvas-file-upload.fetchFileInfo"})));return Zl.a.all(Ee)});return function(n,a,o){return r.apply(this,arguments)}}());QE.meta={name:"createThunk",key:"createThunkuploadFilesToCanvas",description:"Upload files to a canvas thread"};var zs=e("SIMs");const bP=c(()=>{const r=Object(O.b)(V.b);Object(s.useEffect)(()=>{r||Object(v.dispatchForClientStore)(Object(Pu.z)(!0))},[r])},"useHideHuddleMiniPlayer");var rf=e("bqbz"),fP=e("8yCK"),vP=e("sQtn"),gP=e("pZC0"),OP=e("zrD9"),EP=e("Fpvf"),Wm=e("n3Lk"),Fd=e("RBHu"),_P=e("b0PP"),ZE=e("V4NK"),$E=e("4/8S"),CP=e("ujQX"),qE=e("sHJ8"),cf=e("s9Q6"),yP=e("QbPB"),jP=e("Wrf/");function Zh(){return Zh=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Zh.apply(this,arguments)}c(Zh,"huddle_toggle_button_extends");const SP=new he.b("huddles"),e_=c(()=>t.a.createElement("div",{className:Object(g.default)("p-huddle_toggle_button__placeholder_toggle"),"data-qa":"huddle_toggle_button__placeholder_toggle"}),"HuddleTogglePlaceholder");e_.displayName="HuddleTogglePlaceholder";const t_=c(r=>{let{channelId:n,isToggled:a,className:o}=r;const i=Object(S.i)(),l=Object(d.c)(Tn.H),m=Object(O.b)(pa.t),h=Object(O.b)(pa.b),p=Object(d.f)(Ee=>Object(Mt.d)(Ee,n)),E=Object(d.c)(Ee=>Object(Ze.lb)(Ee,{tip:We.f.Huddles})),j=Object(d.c)(Ze.l),I=Object(d.c)(Ee=>Object(en.d)(Ee,"inset_design")==="on"),G=Object(s.useCallback)(()=>{E&&setTimeout(()=>{i(Object(yP.a)({tip:We.f.Huddles,tipState:We.g.Success,skipOrderCheck:!0}))},0),j&&i(Object(gn.p)(!1))},[i,j,E]),Y=Object(s.useCallback)(()=>{if(G(),m===or.a.STARTED&&h)return i(Object(fl.a)())},[i,h,m,G]),se=Object(s.useCallback)(Ee=>{let{tooltip:_e,clogContext:ge}=Ee;return t.a.createElement(De.a,Zh({uiComponentName:Oe.UiComponentName.HUDDLES_FOOTER},ge),t.a.createElement("div",{className:Object(g.default)("p-huddle_toggle_button__toggle_container",o,{"p-huddle_toggle_button__toggle_container--inset":I})},t.a.createElement("div",{className:"p-huddle_toggle_button__tooltip_toggle_container"},_e)))},[o,I]),be=Object(s.useCallback)(Ee=>{let{clogContext:_e,disabledReason:ge}=Ee;if(!l||ge===Tn.a.ADMIN_DISABLED||!a)return null;const ye=t.a.createElement(ct.f,{id:"huddle_mini_player_leave_button",type:"danger",className:"p-huddle_toggle_button--leave_button",onClick:Y,size:"small","data-qa":"huddle_mini_player_leave_button"},SP.t("Leave"));return se({tooltip:ye,clogContext:_e})},[l,a,Y,se]);return p?t.a.createElement(jP.a,{channel:p,forceProvider:!0},be):null},"HuddleToggleButton");t_.displayName="HuddleToggleButton";const IP=t.a.memo(t_);var TP=t.a.forwardRef((r,n)=>t.a.createElement(IP,Zh({},r,{refToForward:n}))),AP=e("Nq3N"),NP=e("Ri2y"),n_=e("6Pve"),a_=e("REGp"),kP=e("qlBN"),PP=e("UjK0"),MP=e("+fxZ");function lf(){return lf=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},lf.apply(this,arguments)}c(lf,"huddle_trial_tooltip_extends");const DP=new he.b("huddles");var RP=c(r=>{let{children:n,isFreemiumInvite:a,onClick:o=tn.a,tooltipText:i,uiComponentVariant:l}=r;return t.a.createElement(PP.a,lf({tooltipText:DP.t("Start a huddle"),onClick:o,promoType:Qh.q.PaidFeatureTrial,promoSubtype:Qh.p.Vhq,showProBadge:!0,uiComponentVariant:l},a&&{tooltipClassName:"p-invite_tile__button__tooltip",tooltipText:i,variant:MP.a.HuddlesFreemium}),n)},"HuddleTrialTooltip");const o_=c(r=>{let{children:n,isFreemiumInvite:a,tooltipText:o,onSpeedbumpContinue:i,uiComponentVariant:l}=r;const m=Object(S.i)(),h=Object(s.useCallback)(()=>{m(Object(kP.a)({uiComponentVariant:l,onSpeedbumpContinue:i}))},[m,i,l]),p=n;return t.a.createElement(RP,{"data-qa":"huddle_sidebar_trial_entry_point",onClick:h,isFreemiumInvite:a,tooltipText:o,uiComponentVariant:l},p)},"HuddleSidebarTrialFeatureTooltip");o_.displayName="HuddleSidebarTrialFeatureTooltip";var s_=o_;const xP=new he.b("huddles"),r_=c(r=>{let{className:n}=r;const a=Object(sf.a)(),o=Object(n_.a)(),i=xP.t("Invite people"),l=Object(s.useMemo)(()=>({elementName:a_.a.HUDDLES_MINI_PLAYER_INVITE_BUTTON,eventId:Oe.EventId.HUDDLES_OPEN_INVITE_MODAL,onClick:{enableClogAction:!0}}),[]),m=t.a.createElement(ct.d,{autoClogProps:l,className:Object(g.default)("c-icon_button","c-icon_button--size_medium",n),htmlType:"button",onClick:o,"aria-label":i,"data-qa":"huddle_invite_button",tabIndex:-1},t.a.createElement(Pe.a,{name:"user-add",size:"20"}));return a?t.a.createElement(s_,{uiComponentVariant:Oe.UiComponentVariant.HUDDLES_SIDEBAR_TRIAL_INVITE_BUTTON},m):t.a.createElement(Dn.d,{tip:i},m)},"HuddleInviteButton");r_.displayName="HuddleInviteButton";var LP=t.a.memo(r_),wP=e("nHGf"),BP=e("aia9"),i_=e("tcEy"),WP=e("NZBM"),UP=e("sJmF"),HP=e("VyqW"),c_=e("r+fN");const l_=c(r=>{let{className:n,iconClassName:a,cameraEnabledClassname:o}=r;const{videoLabel:i,isCameraEnabled:l,deviceLabel:m,ariaLabel:h}=Object(WP.a)(),p=Object(UP.a)(),E=Object(O.b)(pa.b),j=Object(O.b)(pa.j);if(!Object(d.c)(Y=>Object(Tn.S)(Y,E)))return null;const G=t.a.createElement(c_.a,{actionLabel:i,deviceLabel:m,audioOnlyModeEnabledWarning:j});return t.a.createElement(t.a.Fragment,null,t.a.createElement(Dn.d,{tip:G,hideFromScreenReader:!0},t.a.createElement(ct.d,{className:Object(g.default)("c-icon_button","c-icon_button--size_medium",n,{[o||"p-huddle_camera_button--toggled_on"]:l}),htmlType:"button",onClick:p,"aria-label":h,"aria-describedby":"camera-button-info","aria-pressed":l,"data-qa":"huddle_camera_button",tabIndex:-1},t.a.createElement(HP.a,{isCameraEnabled:l,className:Object(g.default)("p-huddle_camera_button__icon",a)}))),t.a.createElement("div",{hidden:!0,id:"camera-button-info"},m))},"HuddleCameraButton");l_.displayName="HuddleCameraButton";var FP=t.a.memo(l_),KP=e("l2gm"),VP=e("D6F3"),GP=e("JrC6"),zP=e("Ocnk");function df(){return df=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},df.apply(this,arguments)}c(df,"huddle_sidebar_footer_buttons_extends");const rd=new he.b("huddles"),YP=[zc.b.CmdOrCtrl,"Shift"],JP=250,XP=202,d_=244,u_=286,m_=328;function h_(r){let{showOverflowMenu:n,animateUp:a,numPrimaryButtons:o}=r;const i=Object(S.i)(),l=Object(zP.a)(),m=Object(d.c)(Tn.H),h=Object(d.c)(wr.q),p=Object(O.b)(pa.m),E=Object(d.c)(Ze.l),j=Object(O.b)(pa.t),I=Object(O.b)(pa.h),G=Object(Tn.J)(j),Y=Object(d.c)(oo=>!!Object(it.U)(oo,"isMicrophoneEnabled")),se=Object(d.c)(zs.X),{microphoneLabel:be,deviceLabel:Ee,ariaLabel:_e}=Object(GP.a)(),ge=Object(d.c)(oo=>Object(bn.u)(oo,"a11y_animations")),ye=Object(s.useCallback)(()=>{i(Object(AP.a)(!Y))},[i,Y]),Ue=Object(s.useMemo)(()=>({reaction:se?rd.t("Remove sticker",{fallbackHash:"af1b04fd7bad91f35c3f5b8699051793e5c8240c",fallbackHashNs:"huddles"}):rd.t("Send a reaction",{fallbackHash:"16d1d6a2b02cf2f9ce8c2fc44f7800e500962701"}),moreActions:rd.t("More actions"),moreOptions:rd.t("More options"),files:rd.t("Share files")}),[se]),Re=Object(s.useCallback)(oo=>{let{menuProps:ma,stickyEmoji:Lo,numHiddenButtons:zo}=oo;return t.a.createElement(NP.a,{menuProps:ma,isMiniPlayer:!0,numHiddenButtons:zo,selectedStickyEmoji:Lo})},[]),tt=Object(s.useCallback)(function(){let{stickyEmoji:oo,numHiddenButtons:ma=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Lo=>Re({menuProps:Lo,numHiddenButtons:ma,stickyEmoji:oo})},[Re]),Ge=Object(s.useMemo)(()=>({"p-huddle_sidebar_footer_buttons__button--animated":ge,"p-huddle_sidebar_footer_buttons__button--loading":G}),[ge,G]),Tt=Object(s.useCallback)(oo=>{let{numHiddenButtons:ma}=oo;return t.a.createElement(Yn.e,{renderMenu:tt({numHiddenButtons:ma,stickyEmoji:se}),position:"top",closeOnSelect:!1},t.a.createElement(Or.c,{tip:Ue.moreOptions},t.a.createElement(Wo.a,{className:Object(g.default)("p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--small",Ge),icon:"vertical-ellipsis","aria-label":Ue.moreOptions,tabIndex:-1,"data-qa":"more_actions_menu"})))},[Ue.moreOptions,Ge,tt,se]),yn=Object(s.useMemo)(()=>({elementName:"huddles_footer_mute_button",eventId:Y?Oe.EventId.HUDDLES_MUTE:Oe.EventId.HUDDLES_UNMUTE,onClick:{enableClogAction:!0}}),[Y]),xn=Object(Ye.p)()?"Meta":"Control";if(!m)return null;const Pn=t.a.createElement(c_.a,{actionLabel:be,deviceLabel:Ee}),Lt=t.a.createElement(t.a.Fragment,null,t.a.createElement(Or.c,{tip:t.a.createElement(eo.a,{title:Pn,mainKey:"Space",modifiers:YP}),hideFromScreenReader:!0},t.a.createElement(ct.f,{className:Object(g.default)("p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--small","p-huddle_sidebar_footer_buttons__button--mic","p-huddle_sidebar_footer_buttons__button--no_label",{...Ge,"p-huddle_sidebar_footer_buttons__button--mic-unmuted":Y}),htmlType:"button",type:"outline",onClick:ye,size:"medium",autoClogProps:yn,"aria-label":_e,"aria-describedby":"microphone-info","aria-keyshortcuts":`Space+${xn}+Shift`,"aria-pressed":!Y,"data-qa":"huddle_sidebar_footer_mute_button",tabIndex:-1},t.a.createElement(wP.a,{className:"p-huddle_sidebar_footer_buttons__label_icon",peerId:"self",isMicrophoneEnabled:Y,allowMuteIconAnimation:!0}))),t.a.createElement("div",{hidden:!0,id:"microphone-info"},Ee));let Vn=Lt;Object(Tn.B)(I)&&!p&&!E&&!h&&(Vn=t.a.createElement(KP.a,{isOpen:!0,shouldShowNoticeOnStart:I===or.d.INITIAL_ALONE_NOTICE_ACTIVE},Lt));const la=t.a.createElement(FP,{className:Object(g.default)("p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--small"),cameraEnabledClassname:"p-huddle_sidebar_footer_buttons--active"}),Ta=t.a.createElement(BP.a,{className:Object(g.default)("p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--screen-share","p-huddle_sidebar_footer_buttons__button--small",Ge),disabledClassName:"p-huddle_sidebar_footer_buttons__button--faded",screenShareActiveClassName:"p-huddle_sidebar_footer_buttons__button--screen-share-active",clogElementName:"huddles_footer_screen_share",tabIndex:-1}),ao=t.a.createElement(VP.a,null,t.a.createElement(Or.c,{tip:Ue.reaction},t.a.createElement(ct.d,{className:Object(g.default)("c-icon_button","p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--emoji","p-huddle_sidebar_footer_buttons__button--small",{"p-huddle_sidebar_footer_buttons--active":!!se}),tabIndex:-1,"aria-label":Ue.reaction,onClickCapture:oo=>{se&&(l(),oo.stopPropagation())}},se?t.a.createElement(Ai.b,{text:se,emojiSize:Ai.a.MEDIUM}):t.a.createElement(t.a.Fragment,null,t.a.createElement(pn.a,{type:"smile-o",className:"p-huddle_sidebar_footer_buttons__button--emoji_resting"}),t.a.createElement(pn.a,{type:"happy-smile",className:"p-huddle_sidebar_footer_buttons__button--emoji_hover"}))))),qa=t.a.createElement(LP,{className:Object(g.default)("p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--small")}),po=[t.a.createElement(s.Fragment,{key:"mute_button"},Vn),t.a.createElement(s.Fragment,{key:"camera_button"},la),t.a.createElement(s.Fragment,{key:"screenshare_button"},Ta),t.a.createElement(s.Fragment,{key:"emoji_button"},ao),t.a.createElement(s.Fragment,{key:"invite_button"},qa)],Qo=n&&o?po.slice(0,o):po;return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:Object(g.default)("display_flex","p-huddle_sidebar_footer_buttons__controls--canvas_exp",{"p-huddle_sidebar_footer__controls--animated-up-always-on-exp":a})},Qo,Tt({numHiddenButtons:n?Qo.length:po.length})),t.a.createElement(e_,null))}c(h_,"HuddleSidebarFooterButtonsContent"),h_.displayName="HuddleSidebarFooterButtonsContent";const QP=t.a.memo(h_);function p_(r){let{huddleState:n,showLabels:a,labelId:o}=r;const i=Object(S.i)(),l=n===or.a.SURVEY_GOOD,m=rd.t("Good",{fallbackHash:"61dedcf053ff33692baacbf7789c5d7195d9acbe",fallbackHashNs:"signup"}),h=rd.t("Bad",{fallbackHash:"4347e333f4c932f0e412594818389cc8dfd94adf",fallbackHashNs:"emoji_names"}),p=Object(s.useCallback)(()=>{i(Object(Wm.b)({result:"good"}))},[i]),E=Object(s.useCallback)(()=>{i(Object(Wm.b)({result:"bad"}))},[i]),j=Object(s.useCallback)(()=>{i(Object(Wm.b)({result:"dismiss"}))},[i]);return t.a.createElement("div",{className:"full_width display_flex",role:"group","aria-labelledby":o},t.a.createElement(ct.f,{className:Object(g.default)("p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--survey",{"p-huddle_sidebar_footer_buttons__button--no_label":!a}),htmlType:"button",type:"outline",size:"medium",disabled:l,onClick:p,"data-qa":"huddle_sidebar_footer_buttons_survey_good",tabIndex:-1,"aria-label":m},t.a.createElement(pn.a,{type:"thumbs-up"}),a&&t.a.createElement("span",{className:"padding_left_50"},m)),t.a.createElement(ct.f,{className:Object(g.default)("p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--survey",{"p-huddle_sidebar_footer_buttons__button--no_label":!a,"p-huddle_sidebar_footer_buttons__button--fade":l}),htmlType:"button",type:"outline",size:"medium",disabled:l,onClick:E,"data-qa":"huddle_sidebar_footer_buttons_survey_bad",tabIndex:-1,"aria-label":h},t.a.createElement(pn.a,{type:"thumbs-down"}),a&&t.a.createElement("span",{className:"padding_left_50"},h)),t.a.createElement(ct.f,{className:Object(g.default)("p-huddle_sidebar_footer_buttons__button","p-huddle_sidebar_footer_buttons__button--survey","p-huddle_sidebar_footer_buttons__button--no_label","p-huddle_sidebar_footer_buttons__close_button--survey",{"p-huddle_sidebar_footer_buttons__button--fade":l}),htmlType:"button",type:"outline",size:"medium",onClick:j,"aria-label":rd.t("Dismiss"),"data-qa":"huddle_sidebar_footer_buttons_survey_dismiss",tabIndex:-1},t.a.createElement(pn.a,{type:"times"})))}c(p_,"HuddleSidebarFooterButtonsSurvey"),p_.displayName="HuddleSidebarFooterButtonsSurvey";const ZP=t.a.memo(p_);function b_(r){let{huddleState:n,animateUp:a,surveyLabelId:o}=r;const[i,l]=Object(s.useReducer)(()=>({}),0),[m,h]=Object(s.useState)(!1),[p,E]=Object(s.useState)(!1),j=Object(s.useRef)(null),I=Object(s.useRef)(null),G=Object(s.useRef)(0),[Y,se]=Object(s.useState)(5),be=Object(s.useCallback)(()=>{h(!0),E(!1),l()},[]);Object(s.useEffect)(()=>{const ye=Object(i_.a)(()=>{var Ue,Re;const tt=G.current,Ge=((Re=(Ue=I.current)===null||Ue===void 0?void 0:Ue.getBoundingClientRect())===null||Re===void 0?void 0:Re.width)||0;G.current=Ge,Ge>tt?be():l()},JP);return I.current&&ye.observe(I.current),()=>ye.disconnect()},[be]);const Ee=Object(d.c)(ye=>Object(it.U)(ye,"isMicrophoneEnabled")),_e=Object(d.c)(ye=>Object(it.U)(ye,"isScreenshareEnabled"));Object(s.useEffect)(be,[be,Ee,_e]),Object(s.useLayoutEffect)(()=>{var ye,Ue;const Re=G.current,tt=(Ue=(ye=j.current)===null||ye===void 0?void 0:ye.getBoundingClientRect())===null||Ue===void 0?void 0:Ue.width;!Re||!tt||tt<=Re||(Re>=m_?se(5):Re>u_&&Re<m_?se(4):Re>d_&&Re<=u_?se(3):Re>XP&&Re<=d_?se(2):se(1),m?(h(!1),E(!1),l()):p||E(!0))},[i]);let ge=null;if(Object(Tn.K)(n))ge=t.a.createElement(ZP,{labelId:o,showLabels:m,huddleState:n});else{const ye={showOverflowMenu:p,animateUp:a,numPrimaryButtons:Y};ge=t.a.createElement(QP,df({},ye))}return t.a.createElement("div",{ref:I,className:"p-huddle_sidebar_footer_buttons__outer"},t.a.createElement("div",{ref:j,className:"p-huddle_sidebar_footer_buttons__inner"},ge))}c(b_,"HuddleSidebarFooterButtons"),b_.displayName="HuddleSidebarFooterButtons";var f_=t.a.memo(b_),v_=e("xeGy"),$P=e("GiOu"),qP=e("AKIH"),eM=e("TiPP"),g_=e("52XJ"),O_=e("mQiU");const E_=new he.b("trials"),tM={elementName:"learn_more",onClick:{enableClogAction:!0}},__=c(r=>{let{activeHuddle:n,isTeamOnProTrial:a}=r;const o=Object(S.i)(),{shouldUseNavigate:i}=Object(s.useContext)(O_.a),l=n&&a,m=Object(d.c)(cf.g),h=os.c.HuddlesTrialProBanner,p=os.a.Impression,E=Object(g_.d)({component:h,type:p}),j=E?Oe.UiComponentVariant.POST_FIRST_USAGE:Oe.UiComponentVariant.FIRST_USAGE;Object(s.useEffect)(()=>()=>{l&&!E&&o(Object(g_.b)({component:h,type:p}))},[o,h,p,l,E]);const I=Object(s.useCallback)(()=>{o(i?Object(So.a)(Object(Mo.X)(fa.a.PaidBenefits)):Object(Ga.a)({id:eM.a}))},[o,i]);if(!l||E===null)return null;const G=c(()=>E?t.a.createElement(pn.a,{className:"p-huddle_trial_pro_banner__icon",type:"clock-o",size:"inherit"}):t.a.createElement(v_.a,{badgeTheme:$P.b.White,className:"p-huddle_trial_pro_banner__pro_badge",hideTooltip:!0,uiComponentVariant:Oe.UiComponentVariant.HUDDLES_TRIAL_BANNER}),"getBannerIcon"),Y=c(()=>{const se=c(Ee=>{let{text:_e}=Ee;return t.a.createElement(Ra.a,{className:"p-huddle_trial_pro_banner__learn_more_link","data-qa":"huddle_trial_pro_banner_learn_more_link",onClick:I,autoClogProps:tM},_e)},"renderLearnMoreLink"),be=E?E_.rt("{daysLeft} {daysLeft, plural, =1 {day} other {days}} left of Pro trial. <a>Learn more</a>",{daysLeft:Object(qP.c)(m),"<a>":se}):E_.rt("During your trial you can use huddles with up to 50 people. <a>Learn more</a>",{"<a>":se,fallbackHash:"e44e7885c8f3751651075e4ad45b16e2a578a761"});return t.a.createElement("div",{className:"p-huddle_trial_pro_banner__text",tabIndex:0},be)},"getBannerText");return Y.displayName="getBannerText",t.a.createElement(De.a,{eventId:Oe.EventId.UPGRDEXP_TRIAL,uiComponentName:Oe.UiComponentName.HUDDLES_TRIAL_PRO_BANNER,uiComponentVariant:j,clogImpression:!0},t.a.createElement("div",{className:"p-huddle_trial_pro_banner"},G(),Y()))},"HuddleTrialProBanner");__.displayName="HuddleTrialProBanner";var nM=__,C_=e("rf28"),uf=e("Cudo"),aM=e("Ufq/");const oM=.075,sM=.065;function rM(){const r=Object(d.c)(h=>Object(it.U)(h,"isMicrophoneEnabled")),n=Object(d.c)(uf.h),o=Object(d.c)(aM.c)?sM:oM,i=Object(wt.b)(),l=Object(S.i)(),m=Object(s.useRef)(0);Object(s.useEffect)(()=>{if(r||n)return;const h=c(p=>{p!==0&&(p>=o&&m.current>2?(l(Object(uf.b)(uf.a.SpeakingWhenMuted)),m.current=0):p>=o?(i.debug("HUDDLE-VOLUME-TRACKER",`onPreviewLevelUpdated, level: ${p}`),m.current+=1):p<o&&(m.current=0))},"onPreviewLevelUpdated");return C_.a.subscribe(h),()=>{C_.a.unsubscribe(h)}},[l,i,r,n,o])}c(rM,"useHuddleMutedVolumeTracker");var Jr=e("XM5t"),y_=e("rBmd"),iM=c(()=>{const r=Object(d.c)(xa.q),n=Object(O.b)(pa.a),{getSiblingView:a}=Object(kc.a)(f.e),o=Object(d.c)(p=>Object(zs.I)(p,{huddleId:n,shouldUseNavigate:r,getSiblingView:a})),i=Object(s.useRef)(void 0),l=Object(y_.a)(),[m,h]=Object(s.useState)(null);Object(s.useEffect)(()=>{const p=i.current;if(p!==o){if(o&&(h(Date.now()),l(Jr.a.THREAD_FLEXPANE_VIEW_START,null)),!o&&p){const E=m?Date.now()-m:null;l(Jr.a.THREAD_FLEXPANE_VIEW_END,null,{...E?{durationMs:E.toString()}:null}),h(null)}i.current=o}},[i,l,o,m])},"useMonitorHuddleThreadInFlexpane"),cM=c(()=>{const r=Object(O.b)(pa.a),n=Object(O.b)(pa.m),o=Object(O.b)(pa.t)===or.a.STARTED,i=Object(d.c)(Y=>Object(zs.s)(Y,{huddleId:r})),l=Object(d.c)(Y=>Object(zs.t)(Y,{key:Jr.a.CANVAS_OPEN})),m=Object(s.useRef)(void 0),h=Object(s.useRef)(void 0),p=Object(y_.a)(),[E,j]=Object(s.useState)(null),[I,G]=Object(s.useState)(null);Object(s.useEffect)(()=>{const Y=h.current;if(!(r&&n===Y)){if(!r||!o?h.current=void 0:h.current=n,Y===!1&&(n||!o)){const se=E?Date.now()-E:null;p(Jr.a.MINI_PLAYER_VIEW_END,null,{...se?{durationMs:se.toString()}:null}),j(null)}!n&&r&&o&&(j(Date.now()),p(Jr.a.MINI_PLAYER_VIEW_START,null))}},[h,r,p,o,n,E]),Object(s.useEffect)(()=>{const Y=m.current;if(r&&i===Y)return;r?m.current=i:m.current=void 0;let se;if(Y===mc.b.WINDOW_COMPACT?se=Jr.a.WINDOW_COMPACT_VIEW_END:Y===mc.b.WINDOW_FULL&&(se=Jr.a.WINDOW_FULL_VIEW_END),se){const Ee=I?Date.now()-I:null;p(se,Jr.b.CANVAS_WINDOW,{interaction_id:l,...Ee?{durationMs:Ee.toString()}:null}),G(null)}let be;i===mc.b.WINDOW_COMPACT?be=Jr.a.WINDOW_COMPACT_VIEW_START:i===mc.b.WINDOW_FULL&&(be=Jr.a.WINDOW_FULL_VIEW_START),be&&r&&(G(Date.now()),p(be,Jr.b.CANVAS_WINDOW,{interaction_id:l}))},[r,p,l,i,I])},"useMonitorHuddleViewChange"),Du=e("HoeF");function lM(){const r=Object(d.c)(Sb.b),n=Object(d.c)(Sb.a);return Object(s.useMemo)(()=>({tabRailList:n,visibleTabs:r}),[n,r])}c(lM,"useVisibleTabs");var $h=e("gWIG"),dM=e("YD/L");const uM=[f.f.Activity,f.f.DMs],mf=68,zi=80,j_=92,hf=40,mM=208,hM=192,S_=52,I_=40,pM=24,T_={"de-DE":{[f.f.Platform]:zi},"en-GB":{},"en-US":{},"es-ES":{[f.f.DMs]:zi,[f.f.Platform]:zi},"es-LA":{[f.f.DMs]:zi,[f.f.Platform]:zi},"fr-FR":{[f.f.DMs]:zi,[f.f.Platform]:zi,[f.f.Huddles]:zi},"it-IT":{[f.f.Platform]:zi},"pt-BR":{[f.f.Platform]:zi},"ja-JP":{[f.f.Activity]:zi,[f.f.Huddles]:j_,[f.f.Channels]:zi,[f.f.People]:j_},"zh-CN":{[f.f.Later]:zi},"zh-TW":{},"ko-KR":{}},A_=c(()=>{const{window:r}=Object(s.useContext)(Z.a),n=Object(he.m)(),{tabRailList:a,visibleTabs:o}=lM(),i=Object(dM.a)(a),l=Object(d.c)(b.c),m=Object(d.c)(xa.o),h=Object(d.c)(G=>{const Y=Object(cr.c)(G);return Object($h.a)(G,Y.id)}),p=mt(r.innerWidth,m),E=Object(d.c)(xa.a),j=Object(d.c)(xa.h);let I=p?hM:mM;return E&&(I+=p?I_:S_),j&&(I+=p?I_:S_),h&&(I+=pM),Object(s.useMemo)(()=>{const G=[],Y=[];let se=r.innerHeight-I;if(p){const ye=se/hf;G.push(...a.slice(0,ye)),Y.push(...a.slice(ye)),se-=G.length*hf}else{for(var be;i.length>0&&se>=((be=T_[n][i[0]])!==null&&be!==void 0?be:mf);){var Ee;se-=(Ee=T_[n][i[0]])!==null&&Ee!==void 0?Ee:mf,G.push(i.shift())}Y.push(...i)}const ge=o.filter(ye=>l?!uM.includes(ye):!0).filter(ye=>!G.includes(ye)&&!Y.includes(ye));return Y.push(...ge),Y.length>0&&(se<(p?hf:mf)&&Y.unshift(G.pop()),G.push(f.f.Browse)),{tabsToShow:G,overflowTabs:Y}},[l,p,n,I,a,i,o,r.innerHeight])},"useTabRailOrganizer"),bM=340,fM=c(r=>{let{sidebarLayout:n}=r;const a=Object(S.i)(),o=Object(d.c)(Q.a),{overflowTabs:i}=A_(),l=o!==f.f.Home&&!i.includes(o),m=Object(s.useCallback)(p=>{a(Object(Du.G)({width:p}))},[a]),h=Object(s.useMemo)(()=>Object(J.a)(p=>{m(p)},100),[m]);Object(s.useEffect)(()=>{let p=(n==null?void 0:n.width)||(n==null?void 0:n.defaultWidth);if(n!=null&&n.isForceCollapsed&&(l?p=392:p=260),!p)return;const E=Math.min(Math.max(p-16,0),bM);h(E)},[h,a,l,n])},"useResponsiveMiniplayerSize");function vM(){const r=Object(S.i)(),n=Object(O.b)(pa.p),a=Object(s.useRef)(n),o=Object(d.c)(i=>Object(ka.c)(i,Ne.g.PROGRESSIVE_DISCLOSURE));Object(s.useEffect)(()=>{n&&n!==a.current&&(r(Object(Fi.c)({event:{type:Ne.e.HUDDLE_ENDED,current_notification:o}})),a.current=n)},[r,n,o])}c(vM,"useSendHuddleEndedEvent");var gM=e("LZag"),OM=e("N8ug"),EM=e("iZjK");const _M=new he.b("huddles"),N_=c(r=>{let{tileSize:n,className:a,clogElementName:o}=r;const i=Object(n_.a)(),l=Object(sf.a)(),m=_M.t("Invite people"),h=Object(s.useMemo)(()=>n?{width:n,height:n,minWidth:n,minHeight:n}:{},[n]),p=Object(s.useMemo)(()=>({elementName:o,eventId:Oe.EventId.HUDDLES_OPEN_INVITE_MODAL,onClick:{enableClogAction:!0}}),[o]),E=t.a.createElement(ct.d,{style:h,className:Object(g.default)("p-invite_tile__button",a),onClick:i,"aria-label":m,tabIndex:-1,autoClogProps:p,"data-qa":"invite_tile_button"},t.a.createElement(pn.a,{type:"add-user"}));return l?t.a.createElement(s_,{uiComponentVariant:Oe.UiComponentVariant.HUDDLES_SIDEBAR_TRIAL_INVITE_BUTTON},E):t.a.createElement(Dn.d,{tip:m,position:"bottom"},E)},"InviteTile");N_.displayName="InviteTile";var CM=t.a.memo(N_),k_=e("9HVv"),yM=e("sEtg"),P_=e("nift"),jM=e("FFrL"),M_=e("lpU5"),pf=e("sGXp"),SM=e("S+/B");const IM=new he.b("huddles"),TM=12,D_=c(r=>{let{allMemberIds:n=[],namesOnly:a,classNames:o}=r;const i=n.length,l=Object(d.f)(j=>n.map(I=>Object($a.a)(j,I))),m=Object(s.useMemo)(()=>l.slice(0,TM),[l]),h=a?l:m,p=Object(s.useMemo)(()=>Object(he.h)(h,{react:!0}).join(""),[h]);if(a)return t.a.createElement(t.a.Fragment,null,p);const E=IM.rt("<span>View all {numParticipants} participants</span> including {memberNamesListed}",{numParticipants:i,memberNamesListed:p,fallbackHash:"23fa19b6e24f78513457d7170984f7a91781f8ad"},j=>{let{text:I,tag:G}=j;return G==="span"?t.a.createElement("span",{className:"bold sk_white_always"},I):null});return t.a.createElement("div",{className:o},E)},"HuddlePeerNames");D_.displayName="HuddlePeerNames";var AM=t.a.memo(D_);const qh=new he.b("huddles"),NM={size:pf.a.medium,isInteractive:!1},R_=c(()=>{const r=Object(O.b)(pa.a),n=Object(d.f)(uc.h),a=Object(s.useMemo)(()=>n.map(p=>p.userId),[n]),o=Object(d.c)(vt.a),i=Object(s.useMemo)(()=>[...a,o],[a,o]),l=Object(d.c)(p=>Object(Mu.n)(p,r)),m=Object(d.c)(p=>Object(Mu.m)(p,r)),h=l>0||m>0;if(h){let p="";return l>0&&m>0?p=qh.t("{totalJoinedPeersCount} in the huddle \u2022 {joiningSoonCount} joining soon \u2022 {invitedCount} invited",{totalJoinedPeersCount:i.length,joiningSoonCount:l,invitedCount:m}):l>0?p=qh.t("{totalJoinedPeersCount} in the huddle \u2022 {joiningSoonCount} joining soon",{totalJoinedPeersCount:i.length,joiningSoonCount:l}):m>0&&(p=qh.t("{totalJoinedPeersCount} in the huddle \u2022 {invitedCount} invited",{totalJoinedPeersCount:i.length,invitedCount:m})),t.a.createElement("div",null,t.a.createElement("div",null,qh.t("{memberCount, plural, =1 {Just you in the huddle} other {# people}}",{memberCount:i.length+l+m})),h&&t.a.createElement("div",{className:"c-tooltip__subtitle"},p))}return t.a.createElement("div",{className:"p-huddle_overflow_tooltip"},t.a.createElement(SM.a,{avatarOuterHeight:pf.a.medium,avatarOuterWidth:pf.a.medium,memberIds:i,maxNumFaces:5,avatarProps:NM,className:"p-huddle_overflow_tooltip__section"}),t.a.createElement(AM,{allMemberIds:i,classNames:Object(g.default)("p-huddle_overflow_tooltip__section","c-tooltip__subtitle")}))},"HuddleOverflowTooltip");R_.displayName="HuddleOverflowTooltip";var kM=t.a.memo(R_);const PM=new he.b("huddles"),MM={entryPoint:Jr.b.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON},x_=c(r=>{let{numAdditionalPeers:n,className:a}=r;const o=Object(S.i)(),i=Object(s.useCallback)(()=>{o(Object(M_.c)({autoClogProps:MM,forceOpenInLargeWindow:!0}))},[o]);return t.a.createElement(Dn.d,{tip:t.a.createElement(kM,null)},t.a.createElement(ct.d,{className:Object(g.default)("p-huddle_overflow_button",a),onClick:i,"aria-label":PM.t("Open in new window"),tabIndex:-1,"data-qa":"huddle_overflow_button"},`+${n}`))},"HuddleOverflowButton");x_.displayName="HuddleOverflowButton";var L_=t.a.memo(x_),DM=e("E/NW"),RM=e("GkAp"),xM=e("s0AW"),LM=e("9H5G"),Ru=e("w5ap"),wM=e("eOEG");const Hc=new he.b("huddles");var Um;(function(r){r[r.ANIMATION=1]="ANIMATION",r[r.OUTLINE=2]="OUTLINE"})(Um||(Um={}));const w_=c(r=>{let{userId:n,peerId:a,size:o,additionalPeersOverlay:i=!1,numAdditionalPeers:l,additionalClassNames:m,avatarClassNames:h,peerVideoClassNames:p,hideMic:E,clickActionType:j,autoClogProps:I,largerSticker:G=!1,activeSpeakerVariant:Y=Um.ANIMATION}=r;const se=Object(d.c)(wr.M),be=Object(wM.a)(),Ee=Object(O.b)(pa.a),_e=Object(d.c)(vt.a),ge=Object(d.c)(Ya=>Object(Tn.s)(Ya,n)),ye=Object(d.c)(Ya=>Object(it.J)(Ya,a)),Ue=Object(d.c)(Ya=>!!Object(it.K)(Ya,{id:a,key:"id"})),Re=Object(d.c)(Ya=>Object(it.v)(Ya,a)),tt=_e===n,Ge=Object(d.c)(Ya=>Object(yM.j)(Ya,{callId:Ee,userId:n,...se&&a&&{uniqueId:a}})),Tt=Object(s.useMemo)(()=>!a||!Ge?null:{peerId:a,emoji:Ge,isEmoji:!1,reactionType:mc.d.Sticker,id:ye||0},[a,Ge,ye]),yn=Object(LM.a)(),xn=Object(s.useCallback)(()=>{yn()},[yn]),Pn=Object(d.c)(Ya=>Object(Mu.o)(Ya,Ee,n)),Lt=Ue?null:Pn,Vn=!!Lt&&Lt==="joining_soon",la=!!Lt&&Lt==="pending",Ta=Object(s.useCallback)(()=>{let Ya=Hc.t("View larger");return Lt&&(Ya=Vn?Hc.t("Joining soon"):Hc.t("Invited")),t.a.createElement("div",null,t.a.createElement("div",null,tt?Hc.t("You"):ge),t.a.createElement("div",{className:"c-tooltip__subtitle"},Ya))},[tt,ge,Lt,Vn]),ao=Object(d.c)(Ya=>Object(it.K)(Ya,{id:a,key:"isCameraEnabled"})),qa=Object(d.c)(Ya=>Object(it.K)(Ya,{id:a,key:"isMicrophoneEnabled"})),po=Object(it.X)({id:a}),Qo=Object(d.c)(Ya=>Object(it.U)(Ya,"isHidingSelf")),oo=po&&Qo,ma=Object(d.c)(Ya=>Object(Js.b)(Ya,n));if(!Ue&&!Lt)return null;const zo=!oo&&(ao&&!!ye),lo=zo&&!i&&a,Sr=!zo&&!i,_t=!zo&&i&&l,ja=!qa&&!_t&&!Lt,wa=t.a.createElement("div",{className:Object(g.default)("p-peer_tile__raw_tile",{"p-peer_tile__pending_user":!!Lt})},lo&&t.a.createElement(jM.a,{id:a,tileId:ye,shouldAttachStream:!0,className:Object(g.default)("p-peer_tile__video",p),width:o||Ru.d,height:o||Ru.d,onResize:tn.a}),Sr&&t.a.createElement(Sm.c,{userId:n,className:Object(g.default)("p-peer_tile__avatar",h,{"p-peer_tile__hidden_user_avatar":ma}),tabIndex:-1,isInteractive:!1,size:o||Ru.d}),!E&&ja&&t.a.createElement(xM.a,{type:"muted",className:"p-peer_tile__avatar_mic_icon",iconClassName:"p-peer_tile__mic_icon"}));let Bs;j===mc.c.OpenLargeWindow?Bs=t.a.createElement(DM.a,{tip:Ta,ariaLabel:Hc.t("View larger",{fallbackHash:"a75732d85773c5b6be77659c28f8a54ed4c9ba54"}),autoClogProps:I,forceOpenInLargeWindow:!0},wa):j===mc.c.ResizeToLargeWindow?Bs=t.a.createElement(Dn.d,{tip:Ta},t.a.createElement(ct.d,{htmlType:"button",className:"p-peer_tile__button",onClick:xn,"aria-label":Hc.t("View larger")},wa)):Bs=wa;const ci=Hc.t("{memberName}, video is {videoIsActive}, audio is {audioIsActive}, status is {sticker}",{memberName:ge,videoIsActive:ao?Hc.t("on"):Hc.t("off"),audioIsActive:qa?Hc.t("on"):Hc.t("off"),sticker:Tt!=null&&Tt.emoji?be.stickers[Tt.emoji]:""});return t.a.createElement("div",{className:Object(g.default)("p-peer_tile__container",m,{"p-peer_tile__active_speaker--outline":Re&&Y===Um.OUTLINE,"p-peer_tile__container--black_background":!!Lt}),"data-qa":`peer-tile--${a}`,"aria-label":ci},Bs,_t&&t.a.createElement("div",{className:"p-peer_tile__overflow_container"},t.a.createElement(L_,{className:"p-peer_tile__overflow_button",numAdditionalPeers:l}),t.a.createElement(Sm.c,{userId:n,className:Object(g.default)("p-peer_tile__avatar",{"p-peer_tile__pending_user":!!Lt}),tabIndex:-1,isInteractive:!1,size:o||Ru.d})),Tt&&t.a.createElement(RM.a,{key:Tt.peerId,reaction:Tt,emojiSize:G?P_.a.MEDIUM:P_.a.SMALL,containerClassName:Object(g.default)("p-peer_tile__sticky_reaction",{"p-peer_tile__sticky_reaction--large":G}),userId:n,isHuddleWindow:!1}),Lt&&t.a.createElement("div",{className:"p-peer_tile__invite_status_overlay"},t.a.createElement(Pe.a,{name:la?"paper-plane":"clock",size:"16"})))},"PeerTile");w_.displayName="PeerTile";var B_=t.a.memo(w_);function bf(){return bf=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},bf.apply(this,arguments)}c(bf,"peer_tile_list_extends");const BM=new he.b("huddles"),ff=3,W_=c(r=>{let{tileSize:n,hasScreenSharingEnabled:a}=r;const o=Object(k_.a)(),m=Object(d.f)(uc.h).length===1,h=Object(s.useMemo)(()=>{const E=o.slice(0,ff),j=o.length-ff;return E.map((G,Y)=>{const{id:se,peerId:be,userId:Ee}=G,_e=Y===2&&o.length>ff;return t.a.createElement(B_,{key:se,peerId:be,userId:Ee,numAdditionalPeers:j,additionalPeersOverlay:_e,size:n,clickActionType:mc.c.OpenLargeWindow})})},[o,n]),p=BM.t("Open in new window");return t.a.createElement("div",bf({className:Object(g.default)("p-peer_tile_list",{"p-peer_tile_list--screensharing":a}),role:"group"},m&&{"aria-label":p}),h)},"PeerTileList");W_.displayName="PeerTileList";var WM=t.a.memo(W_);const UM={entryPoint:Jr.b.HUDDLE_MINI_PLAYER_PEER_TILES},HM=c(r=>{let{numOthers:n}=r;return n===0?0:n===1?4:8},"getSpaceBetweenPeers"),U_=c(r=>{let{sidebarWidth:n}=r;const a=Object(k_.a)(),o=a[0],i=Object(d.c)(ye=>Object(uc.D)(ye,o==null?void 0:o.peerId)),l=a[1],m=Object(d.c)(ye=>Object(uc.D)(ye,l==null?void 0:l.peerId)),h=a[2],p=Object(d.c)(ye=>Object(uc.D)(ye,h==null?void 0:h.peerId)),E=Object(d.c)(ye=>Object(it.U)(ye,"isCameraEnabled")),j=i&&Object(it.W)(i)?a.length-1:a.length,I=j<=2?0:j-2,G=Ru.a*3,Y=HM({numOthers:j}),se=n-G-Y,be=se/2,Ee=se/3,_e=Object(s.useCallback)(()=>t.a.createElement("div",{className:"p-huddle_av_video_pane__side_by_side_tiles"},[{participant:o,peer:i},...l?[{participant:l,peer:m}]:[],...h?[{participant:h,peer:p}]:[]].map(ye=>{let{participant:Ue,peer:Re}=ye;if(!Re&&!Ue)return null;const{peerId:tt,userId:Ge}=Ue,Tt=Math.min(j<=1?be:Ee,Ru.b);return t.a.createElement(B_,{key:Ue.id,peerId:tt,userId:Ge,size:Tt,peerVideoClassNames:Object(g.default)("p-huddle_av_video_pane__side_by_side_video","p-huddle_av_video_pane--cover"),avatarClassNames:Object(g.default)("p-huddle_av_video_pane__side_by_side_avatar","p-huddle_av_video_pane--cover"),additionalPeersOverlay:!1,hideMic:!0,largerSticker:!0,clickActionType:mc.c.OpenLargeWindow,autoClogProps:UM,activeSpeakerVariant:Um.OUTLINE})}),j>2&&t.a.createElement(L_,{numAdditionalPeers:I})),[o,i,l,m,j,h,p,I,be,Ee]);if(!i||j===0&&!E)return null;const ge=t.a.createElement("div",{className:"p-huddle_av_video_pane__main_tile"},j>=0&&t.a.createElement(t.a.Fragment,null,_e()));return t.a.createElement("div",{className:"p-huddle_av_video_pane","data-qa":"huddle_av_video_pane"},t.a.createElement("div",{className:"p-huddle_av_video_pane__container"},ge))},"HuddleAVVideoPane");U_.displayName="HuddleAVVideoPane";var FM=t.a.memo(U_),KM=e("fHkA"),VM=e("GYXu"),ep=e("I27i");const H_=Object(vl.c)("HUDDLES-CONNECTIVITY-REPORTER");var GM=c(()=>{const r=Object(S.i)(),n=Object(d.c)(ep.d),o=!!Object(d.c)(m=>Object(it.U)(m,"isConnected")),[i,l]=Object(s.useState)(!1);Object(s.useEffect)(()=>{if(n===o)return;r(Object(it.mb)({id:"self",isConnected:n,noInternet:!n})),n||Object(v.dispatchForClientStore)(Object(Pu.l)());const m=`updated self connectivity state. connected: ${n}`;if(!n){H_.warn(m);return}i?H_.info(m):l(!0)},[r,n,o,i,l])},"useClientConnectivityReporter"),zM=e("jeZs"),YM=e("D3vr"),F_=e("PiXb");const K_=c(()=>{const r=Object(S.i)(),{windowId:n=f.e}=Object(s.useContext)(Z.a),a=Object(O.b)(pa.a),o=Object(O.b)(pa.b),i=Object(d.c)(l=>Object(zs.bb)(l,{huddleId:a}));return Object(s.useCallback)(Object(U.coroutine)(function*(){if(!o||!i)return;r(Object(YM.a)({huddleChannelId:o,threadTs:i}));const l=Object(Oo.c)(o,i);r(Object(F_.i)({windowId:n,threadKey:l}))}),[r,o,i,n])},"useHandleGoToHuddleThread");var JM=e("cqXi");const xu=new he.b("huddles"),V_=c((r,n)=>{const a=r.replace(/\s+$/,"");return a.slice(-1)===n?a.slice(0,-1):r},"removeFinalCharacter"),G_=c(r=>{let{hidePrefix:n}=r;const a=Object(O.b)(pa.b),o=Object(d.c)(Tt=>Object(Mt.d)(Tt,a)),i=Object(d.c)(Tt=>Object(aa.t)(Tt,o,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1})),l=!o||Object(wn.r)(o),m=Object(wn.h)(o),h=Object(d.f)(uc.h),p=Object(d.f)(Tt=>h.map(yn=>Object($a.a)(Tt,yn.userId))),E=Object(s.useMemo)(()=>Object(he.h)(p,{noConj:!0,noEscape:!0}),[p]),j=Object(d.c)(Tt=>a&&Object(HE.a)(Tt,a))||"",I=xu.t("unknown-channel");let G=xu.t("Huddle in {channelDisplayName}, {topic}",{channelDisplayName:i||I,topic:j}),Y=xu.t("Huddle with {channelDisplayName}, {topic}",{channelDisplayName:l?E:i||I,topic:j});j||(G=V_(G,","),Y=V_(Y,","));const se=Object(s.useMemo)(()=>Object(wn.k)(o)?"lock":"channel",[o]),be=l?E:i,Ee=Object(zM.a)(),_e=K_(),ye=Object(d.c)(Tt=>Object(zs.h)(Tt,{channelId:a})),Ue=Object(s.useCallback)(()=>{if(ye){_e();return}Ee()},[Ee,_e,ye]);let Re;switch(!0){case ye:Re=xu.t("Show huddle thread");break;case Object(wn.j)(o):Re=null;break;default:Re=t.a.createElement(JM.a,null)}const tt=l||m?Y:G,Ge=t.a.createElement("div",{className:Object(g.default)("p-huddle_details")},!j&&t.a.createElement(Ra.a,{className:"p-huddle_details__channel_name",onClick:l?tn.a:Ue,"aria-label":`${tt}, ${xu.t("Show huddle thread")}`,"data-qa":"huddle_details_title","aria-disabled":l,disabled:l},!m&&!l&&!n&&t.a.createElement("div",{className:"p-huddle_details__channel_icon_prefix"},t.a.createElement(Pe.a,{size:"16",name:se,"data-qa":"huddle-mini-player-channel-icon"})),t.a.createElement(Xa.a,{lines:1,breakWords:!0},be)),j&&t.a.createElement(Ra.a,{className:"p-huddle_details__topic","aria-label":`${tt}, ${xu.t("Show huddle thread")}`,onClick:Ue},t.a.createElement(Xa.a,{lines:1,breakWords:!0},t.a.createElement(FE.a,{text:j}))));return Re?t.a.createElement(Dn.d,{tip:Re},Ge):Ge},"HuddleDetails");G_.displayName="HuddleDetails";var XM=t.a.memo(G_),QM=e("ky5Y"),ZM=e("SrTp");const tp=new he.b("huddles"),z_=c(r=>{let{isHuddleWindowOpen:n,isPresentingMode:a,screensharePeerId:o}=r;const i=Object(d.c)(zs.r),l=Object(d.c)(wr.cb),m=Object(d.c)(Ue=>Object(ka.c)(Ue,Ne.g.IN_PRODUCT_COACHMARK)),h=Object(S.i)(),p=a&&o,E=i==="MINI_PLAYER",j=m===Ne.h.HUDDLE_MINI_PLAYER_EDUCATION,I=Object(s.useMemo)(()=>({elementName:Jr.a.MINI_PLAYER_OPEN_WINDOW_BUTTON,entryPoint:Jr.b.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON,eventId:Oe.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}}),[]),G=Object(s.useMemo)(()=>({item:{type:mc.a.Screenshare,id:o}}),[o]),Y=Object(O.b)(pa.b),se=Object(s.useCallback)(()=>{n?Object(QM.a)(Y):h(Object(M_.c)(p?{initialContentViewType:mc.a.Screenshare,initialContentViewConfig:G}:{})),j&&h(Object(Us.a)({spaceName:Ne.g.IN_PRODUCT_COACHMARK,action:Ne.f.DISMISS})),h(Object(Fi.c)({event:{type:Ne.e.HUDDLE_MINI_WINDOW_OPEN}})),h(Object(Du.l)({huddleEducationPromptEntrypoint:""}))},[n,j,h,p,Y,G]),be=tp.t("Open mini window"),Ee=tp.t("View shared screen"),_e=tp.t("Open huddle window",{fallbackHash:"dc88d9e876353a7a46e1c76038242d42bdca74b9",fallbackHashNs:"huddles"}),ge=Object(s.useMemo)(()=>p?Ee:l?_e:be,[_e,be,Ee,p,l]),ye=n?tp.t("Pop back into sidebar",{fallbackHash:"2161e4b29e125b172a722b5cb83276f28db100c4"}):ge;return t.a.createElement(ZM.a,{entrypoint:E?"MINI_PLAYER":"",onClick:se},t.a.createElement(Dn.d,{tip:ye},t.a.createElement(Wo.a,{onClick:se,className:"p-huddle_open_window_button p-huddle_open_window_button--overrides",size:"small","data-qa":"mini_player_open_in_new_window_button","aria-label":ye,autoClogProps:I},n?t.a.createElement(Pe.a,{name:"pop-into-slack",variation:"filled"}):t.a.createElement(Pe.a,{name:"open-in-window"}))))},"HuddleOpenWindowButton");z_.displayName="HuddleOpenWindowButton";var $M=t.a.memo(z_),qM=e("74tS");const Y_=new he.b("huddles"),J_=c(r=>{let{renderAsLink:n}=r;const a=Object(s.useMemo)(()=>({elementName:"huddles_mini_player_placeholder_for_child_window",onClick:{enableClogAction:!0}}),[]),o=Object(O.b)(pa.b),i=Object(s.useCallback)(()=>{Object(qM.a)(o)},[o]),l=Y_.t("Bring huddle to front",{fallbackHash:"7ba91e212d383435f1b1c5183d353978265532ab"}),m=n?Ra.a:Ca.a;return t.a.createElement(Or.c,{tip:l},t.a.createElement(m,{onClick:i,autoClogProps:a,className:Object(g.default)("p-huddle_placeholder_for_child_window",{"p-huddle_placeholder_for_child_window__link":n,"p-huddle_placeholder_for_child_window__button":!n}),"aria-label":l},t.a.createElement("span",{className:"p-huddle_placeholder_for_child_window__text","data-qa":"huddle-placeholder-for-child-window"},Y_.t("Viewing in another window"))))},"HuddlePlaceholderForChildWindow");J_.displayName="HuddlePlaceholderForChildWindow";var X_=t.a.memo(J_),eD=e("oyJ+"),tD=e("pdIj"),nD=e("/YJq"),aD=e("sjEp"),oD=e("Q+NC"),sD=e("HPAj");const np=new he.b("huddles"),Q_=c(r=>{let{showTextLabel:n}=r;const a=Object(S.i)(),o=Object(d.c)(xa.q),{shouldUseNavigate:i,getSiblingView:l}=Object(s.useContext)(O_.a),m=Object(O.b)(pa.a),h=Object(O.b)(pa.b),p=Object(d.c)(Xn.g),E=Object(d.c)(Lt=>Object(zs.cb)(Lt,{huddleId:m})),j=Object(d.c)(Lt=>Object(zs.I)(Lt,{huddleId:m,shouldUseNavigate:i,getSiblingView:l})),I=Object(d.f)(Lt=>Object(zs.Y)(Lt,{huddleId:m})),G=Object(d.c)(Lt=>Object(zs.h)(Lt,{channelId:h})),{windowId:Y=f.e}=Object(s.useContext)(Z.a),se=Object(d.c)(sD.a),be=Object(d.c)(aD.a),Ee=Object(s.useMemo)(()=>({elementName:Jr.a.MINI_PLAYER_THREAD_BUTTON,entryPoint:Jr.b.HUDDLE_MINI_PLAYER_THREAD_BUTTON,eventId:Oe.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}}),[]),_e=K_(),ge=Object(s.useCallback)(()=>{const Lt=I==null?void 0:I.channelId,Vn=I==null?void 0:I.ts;if(o&&Lt&&Vn)_e();else if(be&&Lt&&Vn&&p){a(Object(nD.a)({teamId:p,channelId:Lt,threadTs:Vn}));const la=Object(Oo.c)(Lt,Vn);a(se?Object(F_.i)({windowId:Y,threadKey:la}):Object(oD.e)(la))}else Lt&&Vn&&a(se?Object(tD.a)({channelId:Lt,threadTs:Vn,requestFocus:!1}):Object(eD.a)({channelId:Lt,threadTs:Vn,requestFocus:!1}))},[I==null?void 0:I.channelId,I==null?void 0:I.ts,o,_e,be,p,a,Y,se]),ye=E?np.t("{numberUnreads} new {numberUnreads, plural, =1 {reply} other {replies}}, show thread",{numberUnreads:E}):"",Ue=o&&E?np.t("{numberUnreads} new {numberUnreads, plural, =1 {reply} other {replies}}",{numberUnreads:E}):"",Re=np.t("Show thread"),tt=!!E&&!j,Ge=E?ye:Re,Tt=E?Ue:Re,yn=np.t("You are not a member of this channel and therefore cannot see any thread messages."),xn=G?Ge:yn,Pn=G?Tt:yn;return t.a.createElement(Dn.d,{tip:xn},t.a.createElement("div",{className:"p-huddle_thread_button__container"},t.a.createElement(Ca.a,{onClick:ge,"aria-disabled":!G,className:Object(g.default)("p-huddle_thread_button",{"p-huddle_thread_button--badged":tt,"c-button--disabled":!G,"p-huddle_thread_button--with_text_label":!!Pn}),"data-qa":"mini_player_thread_button","aria-label":xn,autoClogProps:Ee},t.a.createElement(Pe.a,{name:"threads"}),n&&t.a.createElement(Xa.a,{lines:1,breakWords:!0},t.a.createElement("div",{className:"p-huddle_thread_button__text_label"},Pn))),tt&&t.a.createElement("div",{className:"p-huddle_thread_button__badge_circle"})))},"HuddleThreadButton");Q_.displayName="HuddleThreadButton";var rD=t.a.memo(Q_),iD=e("mMsR"),ap=e("p0i/");const vf=new he.b("huddles"),Z_=c(r=>{let{huddleId:n,huddleChannelId:a,isHuddleWindowOpen:o,isPresentingMode:i,screensharePeerId:l}=r;const m=Object(S.i)(),h=Object(d.c)(se=>Object(zs.cb)(se,{huddleId:n})),p=Object(d.c)(se=>Object(zs.h)(se,{channelId:a})),E=Object(d.c)(wr.Z),j=Object(d.c)(ap.f),I=Object(iD.a)();let G;o?G=t.a.createElement(X_,{renderAsLink:!0}):h&&p?G=t.a.createElement(rD,{showTextLabel:!0}):G=t.a.createElement(XM,{hidePrefix:E});const Y=Object(s.useCallback)(()=>{m(Object(cm.a)({source:du.c.MiniPlayer}))},[m]);return t.a.createElement(Ve.b,{"aria-label":vf.t("Huddle primary actions"),className:Object(g.default)("p-huddle_miniplayer_header",{"p-huddle_miniplayer_header--has-troubleshooting":E}),"data-qa":"mini-player-header"},t.a.createElement("div",{className:"p-huddle_miniplayer_header__left"},E&&t.a.createElement(Dn.d,{tip:E?vf.t("Troubleshooting panel"):""},t.a.createElement(Wo.a,{className:Object(g.default)("p-huddle_miniplayer_header--troubleshooting",{"p-huddle_miniplayer_header--troubleshooting-showing":j===du.c.MiniPlayer}),onClick:Y,"aria-label":E?vf.t("Troubleshooting panel"):"",size:"small"},I)),G),t.a.createElement("div",{className:"p-huddle_miniplayer_header__right"},t.a.createElement($M,{isHuddleWindowOpen:o,isPresentingMode:i,screensharePeerId:l})))},"HuddleMiniplayerHeader");Z_.displayName="HuddleMiniplayerHeader";var cD=t.a.memo(Z_),lD=e("pjB+"),dD=e("rhOF");const gf=Object(Vs.c)("Fetch available music from the server and populate the store",function(){var r=Object(U.coroutine)(function*(n,a){const{ok:o,songs:i}=yield n(Object(dD.a)({reason:"canvas-music-list"}));if(!o)throw new Error("[HUDDLE] Failed to fetch huddle music tracks");if(!i)throw new Error("[HUDDLE] Failed to fetch huddle music song objects");const l=i.reduce((h,p)=>({...h,[p.key]:{category:p.category,url:p.url,key:p.key,displayName:p.display_name}}),{}),m=i.reduce((h,p)=>({...h,[p.category]:{...h[p.category],[p.key]:{category:p.category,url:p.url,key:p.key,displayName:p.display_name}}}),{});n(Object(Du.O)(m)),n(Object(Du.N)(l))});return function(n,a){return r.apply(this,arguments)}}());gf.meta={name:"createThunk",key:"createThunkfetchMusic",description:"Fetch available music from the server and populate the store"};var _w=gf,uD=e("Z6NO");function Of(){return Of=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Of.apply(this,arguments)}c(Of,"huddle_av_pane_extends");const mD=new he.b("huddles"),hD=3,$_=c(()=>{const r=Object(S.i)(),n=Object(O.b)(pa.u),a=Object(d.f)(it.h),o=Object(d.c)(it.B),i=Object(O.b)(pa.a),l=Object(O.b)(pa.b),m=Object(d.c)(it.f),h=Object(d.c)(xn=>{const Pn=Object(Mu.p)(xn,i);return Pn?Object.keys(Pn).length:0});var p;const E=Object(d.c)(xn=>{var Pn;return(p=(Pn=Object(it.g)(xn))===null||Pn===void 0?void 0:Pn.length)!==null&&p!==void 0?p:0}),j=Object(VM.a)(),I=Object(O.b)(pa.m),G=Object(d.c)(it.k),Y=(a==null?void 0:a.length)>0?a[n]:null,se=a.length>0,be=E>0&&j,Ee=m===2&&E===2,_e=G,[ge,ye]=Object(s.useState)(!1),Ue=Object(d.c)(wr.N),Re=m+h===1;Object(s.useEffect)(()=>{Ue&&(ge||(r(gf()),ye(!0)))},[ge,Ue,r]),Object(s.useEffect)(()=>{r(Object(uD.b)({huddleId:i}))},[r,i]);const tt=t.a.createElement("div",{className:"p-huddle_av_pane__background"},t.a.createElement(gM.a,{isMiniPanel:!0}));GM(),Object(s.useEffect)(()=>{const xn=hD;!I&&o!==xn&&r(Object(it.ib)({maxVisibleTiles:xn}))},[r,o,I]);const Ge=Object(d.c)(xn=>Object(Ze.lb)(xn,{tip:We.f.Huddles})),Tt=Object(s.useCallback)(xn=>{r(Object(jn.a)({notificationName:Ne.h.PROGRESSIVE_DISCLOSURE_HUDDLES_TIP,action:Ne.f.IMPRESSION,step:xn}))},[r]),yn=Object(Ye.i)()?Oe.UiComponentName.PROGRESSIVE_DISCLOSURE_HUDDLES_DESKTOP:Oe.UiComponentName.PROGRESSIVE_DISCLOSURE_HUDDLES_WEB;return t.a.createElement("div",{className:"p-huddle_av_pane"},t.a.createElement(OM.a,null,xn=>{let{width:Pn,measureRef:Lt}=xn,Vn;if(I)Vn=t.a.createElement(X_,null);else if(se)Vn=t.a.createElement(KM.a,{peerIdToDisplay:j,sidebarWidth:Pn});else if(be)Vn=t.a.createElement(FM,{sidebarWidth:Pn});else{let la;Ee&&!_e&&(la=Pn/2-40),Vn=t.a.createElement("div",{className:"p-huddle_av_pane__tiles"},t.a.createElement(WM,{tileSize:la,hasScreenSharingEnabled:_e}),Re?t.a.createElement(CM,Of({className:Object(g.default)("p-peer_tile_list__item margin_right_25","margin_left_25"),clogElementName:a_.a.HUDDLES_MINI_PLAYER_INVITE_TILE_BUTTON},la&&{tileSize:la})):null)}return t.a.createElement("div",{ref:Lt,className:Object(g.default)("p-huddle_av_pane__measure","p-huddle_av_pane__container"),"data-qa":"huddle_av_pane__container"},t.a.createElement(cD,{huddleId:i,huddleChannelId:l,isHuddleWindowOpen:I,isPresentingMode:se,screensharePeerId:Y}),Ge?t.a.createElement(lD.b,{huddleChannelId:l,recordHuddlesNotificationEvent:Tt,huddlesTipUiComponentName:yn}):null,!I&&t.a.createElement("div",{className:Object(g.default)("p-huddle_av_pane__content_container","full_width"),role:"group","aria-label":mD.t("Gallery")},tt,Vn))}),!I&&t.a.createElement(EM.a,{variant:"sidebar",className:Object(g.default)({"p-huddle_reaction_list--video":be})}))},"HuddleAVPane");$_.displayName="HuddleAVPane";var pD=t.a.memo($_),bD=e("kuud");function q_(r){let{className:n}=r;return t.a.createElement("svg",{className:Object(g.default)("p-huddle_spinner",n),xmlns:"http://www.w3.org/2000/svg",height:"38",viewBox:"0 0 38 38",width:"38",fill:"none"},t.a.createElement("circle",{className:"p-huddle_spinner__red_circle",cx:"19",cy:"19",r:"17"}),t.a.createElement("circle",{className:"p-huddle_spinner__yellow_circle",cx:"19",cy:"19",r:"17"}),t.a.createElement("circle",{className:"p-huddle_spinner__green_circle",cx:"19",cy:"19",r:"17"}),t.a.createElement("circle",{className:"p-huddle_spinner__blue_circle",cx:"19",cy:"19",r:"17"}))}c(q_,"HuddleSpinner"),q_.displayName="HuddleSpinner";var fD=t.a.memo(q_);const vD=new he.b("huddles"),eC=c(r=>{let{containerClassName:n,loadingTextClassName:a}=r;return t.a.createElement("div",{className:Object(g.default)("p-huddle_loading",n)},t.a.createElement("div",{className:"p-huddle_loading__spinner"},t.a.createElement(fD,null)),t.a.createElement("div",{className:Object(g.default)("p-huddle_loading__loading_text",a)},vD.t("Joining huddle\u2026")))},"HuddleLoading");eC.displayName="HuddleLoading";var gD=t.a.memo(eC),tC=e("QygJ");function OD(){const r=Object(d.c)(it.y),n=Object(d.c)(it.A),a=Object(S.i)(),o=Object(s.useCallback)(function(){var h=Object(U.coroutine)(function*(p){a(Object(it.bb)(p))});return function(p){return h.apply(this,arguments)}}(),[a]),i=Object(s.useCallback)(function(){var h=Object(U.coroutine)(function*(p){a(Object(it.cb)(p))});return function(p){return h.apply(this,arguments)}}(),[a]),l=Object(tC.a)(r),m=Object(tC.a)(n);Object(s.useEffect)(()=>{if(l!==r){const h=[];r.forEach(p=>{(l==null?void 0:l.some(j=>j===p))||h.push(p)}),h.forEach(p=>{setTimeout(()=>{o(p)},2500)})}if(m!==n){const h=[];n.forEach(p=>{(m==null?void 0:m.some(j=>j===p))||h.push(p)}),h.forEach(p=>{setTimeout(()=>{i(p)},2500)})}},[r,n,l,m,o,i])}c(OD,"useRemoveJoinersLeavers");var ED=e("R07R"),_D=e("svhO"),nC=e("Sl9P"),CD=e("QcWC");const aC=new he.b("huddles"),oC="instant-slack-huddles-tip",sC=c(r=>{let{children:n}=r;const[a,o]=Object(s.useState)(!0),[i,l]=Object(s.useState)(!0),m=Object(d.c)(j=>Object(ad.e)(j,os.c.InstantSlackHuddlesTip)),h=Object(S.i)(),p=Object(s.useCallback)(()=>{o(!1),h(Object(Wl.b)({component:os.c.InstantSlackHuddlesTip,type:os.a.Dismiss,reason:oC}))},[h,o]);return Object(s.useEffect)(()=>{h(Object(Wl.a)({interactions:[{component:os.c.InstantSlackHuddlesTip,type:os.a.Dismiss}],reason:oC})).then(()=>{l(!1)})},[h]),!Object(d.c)(j=>Object(en.d)(j,"adoption_instant_slack_invitee")==="on")||i||m?t.a.createElement(t.a.Fragment,null,n):a?t.a.createElement("div",{className:"p-instant_slack_huddles_tip"},t.a.createElement("div",{className:"p-instant_slack_huddles_tip__body"},aC.rt("You can collaborate via voice chat or video call through Huddles. Select the toggle below to start. <a>Learn more</a>",{"<a>":j=>{let{text:I}=j;return t.a.createElement(Go.a,{articleId:4402059015315,className:"p-instant_slack_huddles_tip__help_link"},I)}})),t.a.createElement(Wo.a,{onClick:p,"aria-label":aC.t("Close"),backgroundStyle:"dark",className:"p-instant_slack_huddles_tip__close_button"},t.a.createElement(Pe.a,{name:"close",size:"inherit"})),n):t.a.createElement(t.a.Fragment,null,n)},"InstantSlackHuddlesTip");sC.displayName="InstantSlackHuddlesTip";var yD=sC;const jD=3e4,SD=c(()=>{const r=Object(S.i)(),n=Object(s.useRef)(!1),a=Object(s.useRef)(!1),o=Object(s.useRef)(!1),i=Object(O.b)(pa.b),l=Object(O.b)(pa.j),m=Object(d.c)(Y=>i?Object(uc.E)(Y,i):!1),h=Object(d.c)(Tn.g),p=Object(d.c)(ap.j),{isAudioQualityPoor:E,isNetworkQualityPoor:j,isCpuCompetitionPoor:I}=Object(d.f)(ap.g)||{},G=Object(s.useRef)(new Date);Object(s.useEffect)(()=>{if(!m){n.current=!1,a.current=!1,o.current=!1,r(Object(Pa.c)(Pa.a.AudioOnlyModeActive));return}if(m&&!o.current&&(o.current=!0,G.current=new Date),l&&!n.current?(n.current=!0,a.current=!1,r(Object(Pa.c)(Pa.a.AudioOnlyModeRecommended)),r(Object(Pa.b)({alert:Pa.a.AudioOnlyModeActive}))):!l&&(h==null?void 0:h.type)===Pa.a.AudioOnlyModeActive?(n.current=!1,r(Object(Pa.c)(Pa.a.AudioOnlyModeActive))):l||(n.current=!1),new Date().getTime()-G.current.getTime()<jD)return;const be=p&&(E&&j||E&&I);be&&!a.current&&!l?(a.current=!0,r(Object(Pa.b)({alert:Pa.a.AudioOnlyModeRecommended}))):!be&&a.current&&(a.current=!1,r(Object(Pa.c)(Pa.a.AudioOnlyModeRecommended)))},[r,h,m,E,j,I,n,a,l,p])},"useHandleAudioOnlyModeAlert");var ID=e("Fd6p"),TD=e("bFl+"),AD=e("35RN"),ND=e("1t69"),kD=e.n(ND),PD=e("A90e");const rC=c(()=>{const r=Object(S.i)(),n=Object(d.c)(zs.L);return Object(s.useCallback)(()=>{r(Object(PD.a)({channelId:n}))},[r,n])},"useCancelKnockToEnterRequest"),iC=new he.b("huddles"),cC=c(r=>{let{requestApproved:n}=r;const a=rC(),o=n?iC.t("Cancel"):iC.t("Cancel Request",{fallbackHash:"84837a21681776c73f3d157c785fb9373bd685ed"});return t.a.createElement(ct.a,{className:"p-huddle_request_entry_miniplayer_content__cancel",size:"medium","aria-label":o,onClick:a},o)},"HuddlesCancelKnockToEnterRequestButton");cC.displayName="HuddlesCancelKnockToEnterRequestButton";var lC=t.a.memo(cC);const MD=new he.b("huddles"),dC=c(r=>{let{isLoungeMusicPlaying:n}=r;const a=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(null,"/mnk",3)),[]),o=Object(s.useMemo)(()=>n?t.a.createElement(Hs.a,{getAnimationImport:a,className:"p-huddle_request_entry_miniplayer_content__image",autoplay:!0,loop:!0}):t.a.createElement("img",{src:kD.a,className:"p-huddle_request_entry_miniplayer_content__image",alt:""}),[a,n]);return t.a.createElement(t.a.Fragment,null,o,t.a.createElement("div",{className:"p-huddle_request_entry_miniplayer_content__message"},MD.t("Hang tight, we\u2019ve requested access to this huddle for you.",{fallbackHash:"3c7af83691422422bcacb8c73f4f8cfb64358476"})),t.a.createElement(lC,{requestApproved:!1}))},"HuddlesKnockToEnterRequestPending");dC.displayName="HuddlesKnockToEnterRequestPending";var DD=t.a.memo(dC);const uC=Object(Vs.c)("Handle accepted knock to enter user joining the Huddle",function(){var r=Object(U.coroutine)(function*(n,a,o){let{channelId:i}=o;const l=a();Object(wr.H)(l)&&(n(Object(WE.a)({channelId:i,entryPoint:or.e.HUDDLE_MESSAGE_BUTTON})),n(Object(Du.d)({})))});return function(n,a,o){return r.apply(this,arguments)}}());uC.meta={name:"createThunk",key:"createThunkhandleKnockToEnterUserJoin",description:"Handle accepted knock to enter user joining the Huddle"};var RD=e("sKDi");const op=new he.b("huddles"),mC=c(()=>{const r=Object(S.i)(),n=Object(d.c)(zs.L),a=Object(d.f)(p=>Object(uc.g)(p,n)),o=Object(d.c)(p=>Object(uc.a)(p,n)),i=Object(s.useCallback)(()=>{n&&r(uC({channelId:n}))},[r,n]),l=Object(s.useMemo)(()=>!o||!o.activeParticipants?[]:o.activeParticipants.filter(p=>p&&typeof p.slackId=="string").map(p=>p.slackId),[o]),m=op.t("Join huddle"),h=Object(s.useMemo)(()=>{if(!o||!o.activeParticipants||a.length===0)return op.t("Join when ready.",{fallbackHash:"810c18eacfb0b25dc7d1bbaad6f740be98e8e7a0"});const p=a[0].real_name||a[0].name,E=o.activeParticipants.length-1;return o.activeParticipants.length===1?op.t("{firstParticipantName} is in the Huddle. Join when ready.",{firstParticipantName:p,fallbackHash:"810c18eacfb0b25dc7d1bbaad6f740be98e8e7a0"}):op.rt("<strong>{firstParticipantName} and {numRemaining, plural, =1 {{numRemaining} other} other {{numRemaining} others}}</strong> are talking. Join when ready.",{firstParticipantName:p,numRemaining:E,fallbackHash:"810c18eacfb0b25dc7d1bbaad6f740be98e8e7a0"})},[o,a]);return t.a.createElement(t.a.Fragment,null,t.a.createElement(RD.a,{className:"p-huddle_huddles_knock_to_enter_request_approved__facepile",participants:l,maxNumFaces:3,avatarSize:60}),t.a.createElement("div",{className:"p-huddle_huddles_knock_to_enter_request_approved__participants"},h),t.a.createElement(lC,{requestApproved:!0}),t.a.createElement(ct.f,{className:"p-huddle_request_entry_miniplayer_content__join p-huddle_invite__button--accept",size:"medium",type:"primary","aria-label":m,onClick:i},m))},"HuddlesKnockToEnterRequestApproved");mC.displayName="HuddlesKnockToEnterRequestApproved";var xD=t.a.memo(mC),LD=e("E/AO");const Ef=new he.b("huddles"),hC=c(()=>{const r=rC(),n=Object(s.useCallback)(()=>{r()},[r]),a=Ef.t("Unable to join huddle",{fallbackHash:"3444960c925c75ec99c4d48343a887b123685148"}),o=Ef.t("Your request to join this huddle has expired. If you think this may be a mistake, please contact the huddle organizer.",{fallbackHash:"3444960c925c75ec99c4d48343a887b123685148"});return t.a.createElement(LD.a,{isOpen:!0,centered:!0,onClose:n,title:a,showCancelButton:!1,onSubmit:n,submitButtonText:Ef.t("Dismiss")},t.a.createElement("p",null,o))},"HuddlesKnockToEnterRequestExpired");hC.displayName="HuddlesKnockToEnterRequestExpired";var wD=t.a.memo(hC);const pC=new he.b("huddles");var Tl;(function(r){r[r.RequestSent=0]="RequestSent",r[r.RequestApprovedAndReadyToJoin=1]="RequestApprovedAndReadyToJoin",r[r.Expired=2]="Expired"})(Tl||(Tl={}));const BD=t.a.memo(()=>{const r=Object(d.c)(zs.p),n=Object(d.c)(zs.q),a=Object(d.c)(zs.L),o=Object(O.b)(pa.n)||!1,i=Object(s.useMemo)(()=>{const h=r&&a&&!n;return n?Tl.Expired:h?Tl.RequestApprovedAndReadyToJoin:Tl.RequestSent},[a,r,n]),l=Object(d.c)(h=>Object(bn.u)(h,AD.c)),m=Object(s.useMemo)(()=>{switch(i){case Tl.RequestSent:return{body:t.a.createElement(DD,{isLoungeMusicPlaying:o}),title:pC.t("Huddle request sent")};case Tl.RequestApprovedAndReadyToJoin:return{body:t.a.createElement(xD,null),title:pC.t("Huddle request approved")};case Tl.Expired:default:return}},[o,i]);return i===Tl.Expired?t.a.createElement(wD,null):m===void 0?null:t.a.createElement("div",{className:"p-huddle_request_entry_miniplayer_content"},t.a.createElement(Ha.a,{isHuddleMiniPlayer:!0}),t.a.createElement("div",{className:"p-huddle_request_entry_miniplayer_content__container"},t.a.createElement("div",{className:"p-huddle_request_entry_miniplayer_content__title"},m.title),m==null?void 0:m.body,l&&t.a.createElement(ID.a,{className:"p-huddle_request_entry_miniplayer_content__music_player",musicPlayerType:TD.a.WaitingToJoin})))});var WD=e("zOTd"),UD=e("zHTW");const HD=8,bC=c(r=>{let{children:n,footerBounds:a,footerContent:o,onClose:i,className:l}=r;const{window:m}=Object(s.useContext)(Z.a),h=Object(s.useCallback)(()=>{i()},[i]),p=Object(s.useMemo)(()=>{const E=(a==null?void 0:a.top)||0;return{bottom:`${m.document.body.clientHeight-E+HD}px`,top:"unset"}},[a==null?void 0:a.top,m.document.body.clientHeight]);return t.a.createElement(t.a.Fragment,null,t.a.createElement(UD.a,{isOpen:!0,onClose:h,allowanceX:(a==null?void 0:a.x)||0,contentStyle:p},t.a.createElement("div",{className:l},n)),o)},"HuddleSidebarAboveFooterPopover");bC.displayName="HuddleSidebarAboveFooterPopover";var fC=t.a.memo(bC);const FD=c(()=>{const r=Object(S.i)(),n=Object(d.c)(wr.B),a=Object(O.b)(pa.b),[o,i]=Object(s.useState)(!1),l=Object(d.c)(m=>Object(uc.l)(m,a));Object(s.useEffect)(()=>{n&&(l&&!o&&(i(!0),r(Object(Pa.b)({alert:Pa.a.ExternalUsersInHuddle}))),a===void 0&&o&&(i(!1),r(Object(Pa.c)(Pa.a.ExternalUsersInHuddle))))},[r,l,o,n,a])},"useHandleConnectUsersInHuddle"),KD=c(r=>{let{channelId:n}=r;const a=Object(S.i)(),o=Object(d.c)(wr.H),i=Object(s.useRef)(!1),l=Object(d.c)(m=>Object(zs.m)(m,{channelId:n}));Object(s.useEffect)(()=>{o&&(l&&!i.current&&(a(Object(Bm.c)()),i.current=!0),l||(i.current=!1))},[a,l,o])},"usePlayNewRequesterAudio");var VD=e("PiZY");function Fc(){return Fc=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Fc.apply(this,arguments)}c(Fc,"huddle_sidebar_footer_extends");const id=new he.b("huddles"),GD={enter:300,exit:160},_f="huddle_sidebar_footer_survey_label",zD={spaceName:Ne.g.IN_PRODUCT_COACHMARK,notifications:{[Ne.h.HUDDLE_ONBOARDING_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"smEu")))}}},YD={spaceName:Ne.g.IN_PRODUCT_COACHMARK,notifications:{[Ne.h.HUDDLE_SCHEDULE_NUX]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"vAfS")))}}},JD={spaceName:Ne.g.IN_PRODUCT_COACHMARK,notifications:{[Ne.h.HUDDLE_TRIAL_START_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"luKW")))}}},XD={spaceName:Ne.g.IN_PRODUCT_COACHMARK,notifications:{[Ne.h.HUDDLE_ENTRYPOINT]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"xWZc")))}}},QD={[Ne.h.HUDDLE_MINI_PLAYER_EDUCATION]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"GKX/")))}};let vC=c(class extends s.PureComponent{componentDidMount(){const{telemeter:n}=this;if(n&&n.getLatestMark(Fd.q)){const o=n.measure(Fd.q,Fd.t);n.count(Fd.t,o)}this.props.experimentHuddlesChannelPropertiesGroupOn||this.props.getCanHuddleChannelPref()}componentDidUpdate(n){n.primaryView!==this.props.primaryView&&(this.props.experimentHuddlesChannelPropertiesGroupOn||this.props.getCanHuddleChannelPref()),n.huddleState===or.a.STARTED&&this.props.huddleState!==or.a.STARTED?this.setState(()=>({leftHuddle:!0})):n.huddleState!==or.a.STARTED&&this.props.huddleState===or.a.STARTED&&(this.setState(()=>({leftHuddle:!1})),this.focusMainWindowOnHuddleStart()),n.huddleState!==or.a.SURVEY&&this.props.huddleState===or.a.SURVEY&&this.focus()}getFocusTransitionListeners(n){return{[Wd.c.HUDDLE_SIDEBAR_FOOTER]:()=>n?(this.focus(),!0):!1}}focusMainWindowOnHuddleStart(){const{isHuddleWindowOpen:n}=this.props;if(Object(dt.db)()&&!n){const a=Object(dt.O)();Object(dt.w)(a),this.focus()}}focus(){var n;this.props.isHuddlesProgressiveDisclosureTipVisible||(n=this.toolbarRef.current)===null||n===void 0||n.focus()}handleFileDrop(n){var a;this.props.handleFileDrop({files:n,channelId:this.props.huddleChannelId,callId:this.props.huddleCallId,threadTs:(a=this.props.canvasThread)===null||a===void 0?void 0:a.ts,clientMsgId:Object(Db.a)(),metadata:{fileUploadAction:Oe.FileUploadAction.PLUS_MENU,fileUploadSrc:Oe.FileUploadSrc.LOCAL},shouldCreateThread:Object(Je.a)(this.props.canvasThread)})}onExit(){this.setState(()=>({inCSStransition:!0}))}onExited(){this.setState(()=>({inCSStransition:!1}))}getButtonRef(){return this.huddleToggleBtnRef}shouldDisplayCoachmark(){const{showOnboardingCoachmark:n,showTrialStartCard:a}=this.props;return n||a}renderLoadingStatus(){const{isHuddlesEnabledOrHasActiveHuddle:n}=this.props;return n?t.a.createElement(gD,{loadingTextClassName:"p-huddle_sidebar_footer__loading_text"}):null}renderInactiveMenu(n){const{showHuddleButtonMenuNotification:a,experimentHuddlesLaterGroupOn:o,currentChannelId:i,channelType:l}=this.props;let m=this.props.channelDisplayName;(l==="im"||l==="mpim")&&(m=id.t("this conversation"));const h=m?id.t("Share a URL to huddle in {channelName}",{channelName:m}):id.t("Share a URL to huddle");return t.a.createElement(Yn.f,Fc({width:"auto"},n),a&&t.a.createElement(t.a.Fragment,null,t.a.createElement(Cs.c,Fc({},EP.a,{channelId:i})),t.a.createElement(Yn.d,null)),t.a.createElement(ED.a,{channelId:i,description:h,onClose:n.onClose}),o&&t.a.createElement(_D.a,{channelId:i}))}renderSurvey(){const{huddleState:n,isHuddlesEnabledOrHasActiveHuddle:a,experimentHuddlesSurveyV2GroupOn:o}=this.props;if(!a)return null;let i;return n===or.a.SURVEY_GOOD?i=id.t("Thanks for your feedback!"):i=o?id.t("How was the audio and video?"):id.t("How was your huddle?"),t.a.createElement("div",{className:"p-huddle_sidebar_footer__survey"},t.a.createElement("div",{className:"p-huddle_sidebar_footer__survey_text",id:_f},t.a.createElement("span",{className:"bold"},i)),t.a.createElement(f_,{huddleState:n,surveyLabelId:_f}))}renderActiveFooter(){const{huddleState:n,huddleChannelId:a,isLoading:o,isTeamOnProTrial:i,canvasThread:l}=this.props;let m;o?m=this.renderLoadingStatus():m=t.a.createElement("div",{className:"p-huddle_sidebar_footer__popover_trigger_container"},t.a.createElement(pD,null));const h=Object(g.default)("p-huddle_sidebar_footer__controls","p-huddle_sidebar_footer__controls_w_topic",{"p-huddle_sidebar_footer__controls--loading":o,"p-huddle_sidebar_footer__trial_feature_border_active":i,"p-huddle_sidebar_footer__controls--inset":this.props.experimentInsetDesignGroupOn}),p=t.a.createElement("div",{className:h,"data-qa":"huddle_sidebar_footer__controls"},t.a.createElement(uE.a,{listeners:this.getFocusTransitionListeners(this.toolbarRef.current)},t.a.createElement("div",{className:"p-huddle_sidebar_footer__popover_container"},m,t.a.createElement(f_,{huddleState:n,surveyLabelId:_f}))));return t.a.createElement(ZE.b,{location:ZE.a.HUDDLES_CANVAS_MINI_PLAYER,channelId:a,onDrop:this.handleFileDrop,threadTs:l&&l.ts?l.ts:void 0},p)}render(){var n;const{huddleState:a,clogContext:o,isLoading:i,currentChannelId:l,isHuddleSupportedInChannel:m,isSidebarEditMode:h,huddleChannelId:p,isA11yAnimationsEnabled:E,channelHasActiveHuddle:j,isHuddlesEnabledOrHasActiveHuddle:I,huddleAnimationEnabled:G,dismissTrialCard:Y,isTeamOnProTrial:se,isEligibleForPaidFeatureVhqTrial:be,isInstantSlackInviteeSession:Ee,isMiniPlayerHidden:_e,isHuddleWindowOpen:ge,miniplayerWidth:ye,isHuddleLoungeMusicPlayerBanner:Ue,experimentIsKnockToEnterEnabled:Re,isRequestingToJoinHuddle:tt,troubleshootingSource:Ge,hideTroubleshootingPanel:Tt,isParticipantMenuVisible:yn,hideParticipantMenu:xn}=this.props;if(!I)return null;const Pn=G&&i||a===or.a.STARTED,Lt=Object(Tn.K)(a),Vn=!l,la=Re&&tt,Ta=!Pn&&this.shouldDisplayCoachmark();let ao=null;if(Lt)ao=this.renderSurvey();else if(Pn)ao=this.renderActiveFooter();else if(la)ao=t.a.createElement(BD,null);else return null;if(!ao)return null;const qa=c(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(Cs.c,Fc({},zD,{clogContext:o,shouldRenderCurrentActiveHuddle:Pn,unmountFocusCallback:this.focus})),t.a.createElement(Cs.c,Fc({},JD,{clogContext:o,shouldRenderCurrentActiveHuddle:Pn,dismissTrialCard:Y,isEligibleForTrial:be})),t.a.createElement(Cs.c,Fc({},YD,{clogContext:o,shouldRenderCurrentActiveHuddle:Pn,unmountFocusCallback:this.focus,isHuddlesComposer:!l}))),"maybeRenderHuddleCard");if(qa.displayName="maybeRenderHuddleCard",!Pn&&!Lt&&!Vn&&!la&&(!l||h||!m))return null;const po=Pn&&G&&E,Qo=t.a.createElement(bD.b,null,t.a.createElement("div",{ref:this.footerRef,className:Object(g.default)("p-huddle_sidebar_footer__container",{"p-huddle_sidebar_footer__container--no_survey":!Lt,"p-huddle_sidebar_footer__container_survey":Lt,"p-huddle_sidebar_footer--trial-card-refresh":Ta,"p-huddle_sidebar_footer__container--inset":this.props.experimentInsetDesignGroupOn})},t.a.createElement(lP.a,null,t.a.createElement(dP.a,{key:`p-huddle_sidebar_footer__slide_animation${Pn?"_in":"_out"}`,classNames:"p-huddle_sidebar_footer__slide_animation",timeout:GD,exit:po,enter:po,onExit:this.onExit,onExited:this.onExited},t.a.createElement("div",null,ao)))),!Lt&&t.a.createElement(TP,{ref:this.getButtonRef(),channelId:p||l,isToggled:Pn,showTrialCardHighlight:Ta,entryPoint:or.e.SIDEBAR_CHANNEL_HUDDLE_FOOTER}));let oo=t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-huddle_sidebar_footer__coachmark"},t.a.createElement(Cs.c,Fc({},XD,{shouldRenderCurrentActiveHuddle:Pn}))),Pn&&t.a.createElement("div",{className:"p-huddle_sidebar_footer__coachmark"},t.a.createElement(Cs.c,{spaceName:Ne.g.IN_PRODUCT_COACHMARK,notifications:QD})),!ge&&t.a.createElement(CP.a,{channelId:p,entryPoint:qE.a.MINI_PLAYER}),t.a.createElement(Ve.b,{ref:this.toolbarRef,"aria-label":id.t("Huddle controls"),className:Object(g.default)("p-huddle_sidebar_footer",{"p-huddle_sidebar_footer--join_active":!Pn&&!Lt&&j,"p-huddle_sidebar_footer--join_non_active":!Pn&&!Lt&&!j,"p-huddle_sidebar_footer--css_animation_done":!this.state.inCSStransition,"p-huddle_sidebar_footer--trial-feature":!Pn&&!this.shouldDisplayCoachmark()&&se}),"data-qa":"huddle_sidebar_footer"},!Lt&&t.a.createElement(Ha.a,{isHuddleMiniPlayer:!0}),Qo,!ge&&Ue&&t.a.createElement(nC.a,{entryPoint:qE.a.MINI_PLAYER})),t.a.createElement(nM,{activeHuddle:Pn,isTeamOnProTrial:se}),qa(),t.a.createElement("div",{className:"offscreen",role:"status"},this.state.leftHuddle&&id.t("You have left this huddle")));Ee&&(oo=t.a.createElement(yD,null,oo));const ma=(n=this.footerRef.current)===null||n===void 0?void 0:n.getBoundingClientRect();Ge===du.c.MiniPlayer&&(oo=t.a.createElement(fC,{className:"p-huddle_sidebar_footer__above_popover",footerBounds:ma,footerContent:oo,onClose:Tt},t.a.createElement(VD.a,{onDispatchedModal:Tt}))),yn&&Re&&!ge&&(oo=t.a.createElement(fC,{className:"p-huddle_sidebar_footer__above_popover",footerBounds:ma,footerContent:oo,onClose:xn},t.a.createElement(WD.a,null)));const Lo=ye?{width:ye}:null;return t.a.createElement(De.a,Fc({uiComponentName:Oe.UiComponentName.HUDDLES_FOOTER},o),t.a.createElement(OP.a,{onFocusedElementRemoved:this.focus},t.a.createElement("div",Fc({"data-qa":"huddle_sidebar_footer_container",className:Object(g.default)("p-huddle_sidebar_footer",{"p-huddle_sidebar_footer--hidden":_e,"p-huddle_sidebar_footer--music_banner_variant":Ue})},Lo&&{style:Lo}),oo)))}constructor(n){super(n),this.footerRef=Object(s.createRef)(),this.toolbarRef=t.a.createRef(),this.focus=this.focus.bind(this),this.onExit=this.onExit.bind(this),this.onExited=this.onExited.bind(this),this.handleFileDrop=this.handleFileDrop.bind(this),this.renderInactiveMenu=this.renderInactiveMenu.bind(this),this.state={inCSStransition:!1,leftHuddle:!1},this.getFocusTransitionListeners=Object(mE.a)(this.getFocusTransitionListeners.bind(this)),this.huddleToggleBtnRef=t.a.createRef();const{huddleTeamId:a}=n;if(a){const o=Object(v.getStoreInstanceByTeamId)(a);this.telemeter=Object(tf.d)({state:o==null?void 0:o.getState()})}}},"HuddleSidebarFooter");vC.displayName="HuddleSidebarFooter";const ZD=t.a.memo(vC);function gC(r){let{dispatchToCurrentTeam:n,primaryView:a,sidebarLayout:o}=r;var i;const l=Object(S.i)(),m=Object(O.b)(pa.e),h=Object(O.b)(pa.t),p=Object(O.b)(pa.b),E=Object(O.b)(pa.a),j=Object(BE.b)(p),I=Object(O.b)(pa.l),G=Object(O.b)(pa.m),Y=Object(d.c)(Tn.H),se=Object(d.c)(wr.j),be=Object(d.c)(wr.H),Ee=Object(d.c)(Zo=>Object(en.d)(Zo,"inset_design")==="on"),_e=Object(d.c)(Zo=>Object(en.d)(Zo,"huddles_channel_properties")==="on");vM(),rM(),cM(),iM(),bP(),SD(),FD(),KD({channelId:p}),fM({sidebarLayout:o});const ge=Object(d.c)(zs.M),ye=Object(nC.b)({channelId:p});Object(s.useEffect)(()=>{let Zo=!0;return h===or.a.SURVEY_GOOD&&Zl.a.delay(2e3).then(()=>{Zo&&p&&n(Object(Wm.a)({channelId:p}))}),()=>{Zo=!1}},[n,p,h]);const Ue=Object(d.c)(Zo=>Object(bn.u)(Zo,"a11y_animations")),{currentChannelId:Re,isHuddleSupportedInChannel:tt,channelDisplayName:Ge,channelType:Tt,fileChannel:yn}=Object(d.f)(Zo=>{let Ps;const bc=Object(fP.a)(Zo),Gd=Object(Ri.k)(Zo,bc),Nl=Object(Mt.d)(Zo,a);if(Nl)Ps=Nl;else if(!Gd)Ps=null;else{const Hu=Object(vP.a)(Zo,Gd);Ps=Object(Mt.d)(Zo,Hu)}return{currentChannelId:Ps==null?void 0:Ps.id,isHuddleSupportedInChannel:Object(Tn.e)(Zo,Ps),channelDisplayName:Object(Ul.b)(Ps)?Object(aa.t)(Zo,Ps,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):null,channelType:Object(wn.d)(Ps),fileChannel:Object(gP.a)(Ps)}}),xn=Object(s.useCallback)(()=>{n(Object($E.a)())},[n]),Pn=Object(s.useCallback)(()=>{!a||yn||n(Object(_P.a)({channelId:a}))},[a,n,yn]),Lt=Object(d.c)(Zo=>Object(uc.k)(Zo,Re)),Vn=Object(d.c)(rf.r),la=(i=Object(O.b)(pa.q))===null||i===void 0?void 0:i.channelId,Ta=Object(Tn.J)(h),ao=Object(d.c)(Zo=>Object(ka.c)(Zo,Ne.g.IN_PRODUCT_COACHMARK)),qa=Object(d.c)(Zo=>Object(ka.b)(Zo,Ne.g.IN_PRODUCT_COACHMARK)),{isEligibleForPaidFeatureVhqTrial:po}=qa,Qo=ao===Ne.h.HUDDLE_TRIAL_START_COACHMARK,oo=ao===Ne.h.HUDDLE_ONBOARDING_COACHMARK,ma=ao===Ne.h.HUDDLE_SCHEDULE_NUX,Lo=Object(s.useCallback)(()=>n(Object(Us.a)({spaceName:Ne.g.IN_PRODUCT_COACHMARK,action:Ne.f.DISMISS})),[n]);Object(Tn.K)(h)&&p&&(oo||Qo||ma)&&n(Object(Wm.a)({channelId:p}));const lo=Object(s.useCallback)(function(){for(var Zo=arguments.length,Ps=new Array(Zo),bc=0;bc<Zo;bc++)Ps[bc]=arguments[bc];return n(QE(...Ps))},[n]),Sr=Object(d.f)(Zo=>Object(zs.Y)(Zo,{huddleId:E})),_t=Object(d.c)(Zo=>{var Ps;return((Ps=Object(Ze.h)(Zo))===null||Ps===void 0?void 0:Ps.tip)===We.f.Huddles}),ja=Object(d.c)(wr.I),wa=Object(d.c)(CD.a);OD();const Bs=Object(d.c)(zs.E),Ya=Object(d.c)(cf.e)===Qh.k.standard.id,ks=Object(O.b)(pa.f),el=Object(O.b)(pa.i),Al=!!Object(d.c)(Zo=>Object(ka.c)(Zo,"huddle_button_menu")),Kd=Object(d.c)(wr.Y),Vd=Object(d.c)(ap.f),Bu=Object(s.useCallback)(()=>{l(Object(cm.a)({source:null}))},[l]),Wu=Object(d.c)(zs.C),cd=Object(s.useCallback)(()=>{n(Object(Du.v)({isParticipantMenuOpen:!1}))},[n]),Uu={clogContext:j,huddleState:h,huddleChannelId:p,huddleTeamId:m,primaryView:a,openHuddleComposer:xn,getCanHuddleChannelPref:Pn,isA11yAnimationsEnabled:Ue,isLoading:Ta,currentChannelId:Re,channelHasActiveHuddle:Lt,isHuddleSupportedInChannel:tt,isSidebarEditMode:Vn,channelDisplayName:Ge,mostRecentHuddleChannelId:la,isHuddlesEnabledOrHasActiveHuddle:Y,huddleAnimationEnabled:se,showTrialStartCard:Qo,showOnboardingCoachmark:oo,showHuddleScheduleNux:ma,dismissTrialCard:Lo,isTeamOnProTrial:Ya,handleFileDrop:lo,canvasThread:Sr,huddleCallId:E,isEligibleForPaidFeatureVhqTrial:po,isHuddlesProgressiveDisclosureTipVisible:_t,isHuddleWindowOpen:G,isMiniPlayerHidden:I,experimentHuddlesLaterGroupOn:ja,experimentIsKnockToEnterEnabled:be,isRequestingToJoinHuddle:Bs,isInstantSlackInviteeSession:wa,channelType:Tt,activeHuddleInvite:ks,canRenderActiveInviteCardInSidebar:el,experimentInsetDesignGroupOn:Ee,experimentHuddlesChannelPropertiesGroupOn:_e,showHuddleButtonMenuNotification:Al,miniplayerWidth:ge,isHuddleLoungeMusicPlayerBanner:ye,experimentHuddlesSurveyV2GroupOn:Kd,troubleshootingSource:Vd,hideTroubleshootingPanel:Bu,isParticipantMenuVisible:Wu,hideParticipantMenu:cd};return t.a.createElement(ZD,Fc({},Uu))}c(gC,"ConnectedHuddleSidebarFooter"),gC.displayName="ConnectedHuddleSidebarFooter";var $D=t.a.memo(gC);const qD=c(()=>{const r=Object(S.i)(),n=Object(O.b)(pa.t),a=Object(s.useRef)(n),o=Object(O.b)(pa.e);Object(s.useEffect)(()=>{const i=a.current;i!==n&&(n===or.a.STARTED?(r(Object(Bm.i)()),e0(o)):i===or.a.STARTED&&r(Object(Bm.j)()),a.current=n)},[r,n,o])},"useJoinLeaveNotificationSound");function e0(r){if(!r)return;const n=Object(v.getStoreInstanceByTeamId)(r);if(!n)return;const a=Object(tf.d)({state:n.getState()}),o=a.measure(Fd.p,Fd.F);a.count(Fd.F,o)}c(e0,"recordOnYouJoinTiming");var t0=qD;function OC(r){let{primaryView:n,sidebarLayout:a}=r;const o=Object(S.i)(),i=Object(O.b)(pa.e),l=Object(d.c)(h=>Object(Xt.n)(Object(nn.g)(h)));t0();const m=i?Object(v.getStoreInstanceByTeamId)(i):Object(v.getStoreInstanceByTeamId)(l);return t.a.createElement(u.b,{store:m},t.a.createElement($D,{dispatchToCurrentTeam:o,primaryView:n,sidebarLayout:a}))}c(OC,"XWSHuddleSidebarFooter"),OC.displayName="XWSHuddleSidebarFooter";var n0=t.a.memo(OC),a0=e("wcBT"),o0=e("Saqa");const EC=new he.b("huddles");function _C(r){let{primaryView:n,sidebarLayout:a}=r;const o=Object(s.useRef)(null),i=Object(O.a)(),l=Object(tc.a)({view:"chrome"}),[m,h]=Object(s.useState)(0),p=Object(d.c)(xa.q),E=Object(d.c)(wr.x),j=Object(O.b)(pa.x),I=Object(d.c)(Tn.H);Object(s.useEffect)(()=>{Object(Bm.a)()},[]),Object(s.useEffect)(()=>{p&&I&&i(Object(Pu.C)(I))},[I,p,i]),Object(s.useEffect)(()=>{I&&a0.a.init()},[I]),Object(s.useEffect)(()=>{I&&E&&o0.b.init()},[I,E]);const G=Object(O.b)(pa.b),Y=Object(d.c)(Ue=>Object(Mt.d)(Ue,G)),se=Object(d.c)(Ue=>Object(aa.t)(Ue,Y,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1})),be=p?EC.t("Huddle in {channelName}",{channelName:se,fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d"}):"",Ee=p?EC.t("Huddle"):"",_e=se?be:Ee,ge=Object(s.useCallback)(()=>{if(o.current){var Ue;const Re=(Ue=o.current)===null||Ue===void 0?void 0:Ue.getBoundingClientRect();h(Re.height)}},[]);Object(s.useEffect)(()=>{const Ue=Object(i_.a)(ge);if(!Ue||!o.current)return;const Re=o.current;return Ue.observe(Re),()=>{Re&&Ue.unobserve(Re)}},[o,ge]);const ye=Object(s.useMemo)(()=>{if(j)return t.a.createElement("style",null,`.p-ia4_client--huddle-in-sidebar {
				--huddlesMiniplayerHeight: ${m||0}px;
			}
		`)},[j,m]);return p?t.a.createElement(Dr.a,{id:"HuddleWorkspace",index:$r.a.HUDDLE_WORKSPACE},ye,t.a.createElement("div",{className:Object(g.default)("p-huddle_workspace",l),role:"dialog","aria-modal":"false","aria-label":_e,ref:o},t.a.createElement(ku.b,{shouldStopHuddle:!0},t.a.createElement(cP,null)),t.a.createElement(ku.b,{shouldStopHuddle:!0},t.a.createElement(wE.a,null)," "),t.a.createElement(ku.b,{subtype:ku.a.Sidebar,shouldStopHuddle:!0},t.a.createElement(n0,{primaryView:n,sidebarLayout:a})))):null}c(_C,"HuddleWorkspace"),_C.displayName="HuddleWorkspace";var s0=t.a.memo(_C);const r0=Object(wt.b)();let CC=c(class extends s.PureComponent{componentWillUnmount(){this.disable()}componentDidUpdate(n){n.isEnabled!==this.props.isEnabled&&(this.props.isEnabled?this.enable():this.disable())}enable(){var n=this;return Object(U.coroutine)(function*(){if(!Object(Ye.i)()){n.setState(()=>({error:"This only works with the Slack desktop app."}));return}if(!dt.Lb.isAvailable()){n.setState(()=>({error:"Performance APIs not available. Update your Slack app!"}));return}yield Object(dt.Lb)(),yield n.poll(),n.getMetricsInterval=setInterval(()=>{window.requestIdleCallback(n.poll)},1e3),n.setState(()=>({isPerformanceEnabled:!0}))})()}disable(){this.getMetricsInterval&&clearInterval(this.getMetricsInterval),Object(dt.Kb)()}poll(){var n=this;return Object(U.coroutine)(function*(){if(!n.getMetricsScheduled){try{const{metrics:a}=yield Object(dt.Mb)(),o={};a.forEach(i=>{o[i.name]=i.value}),n.setState(()=>({metrics:o}))}catch(a){r0.error(`Failed to fetch performance metrics: ${a}`)}n.getMetricsScheduled=!1}})()}render(){if(!this.props.isEnabled)return null;const{isPerformanceEnabled:n,isShowAll:a,error:o}=this.state;return n?o?t.a.createElement(wd.a,{position:"top-right",shouldAutoFade:!1},o):t.a.createElement(wd.a,{position:"top-right",shouldAutoFade:!1,showCloseButton:!1},t.a.createElement("div",{className:"p-performance_monitor"},a?this.renderAll():this.renderSmall(),this.renderMoreButton())):null}renderSmall(){var n,a;const{metrics:o}=this.state,i=Math.round(((o==null?void 0:o.JSHeapUsedSize)||0)*1e-6);return t.a.createElement("ul",null,t.a.createElement("li",{key:"Nodes"},t.a.createElement("strong",null,"Nodes"),t.a.createElement("span",null,(o==null||(n=o.Nodes)===null||n===void 0?void 0:n.toLocaleString())||"Unknown")),t.a.createElement("li",{key:"Listeners"},t.a.createElement("strong",null,"Listeners"),t.a.createElement("span",null,(o==null||(a=o.JSEventListeners)===null||a===void 0?void 0:a.toLocaleString())||"Unknown")),t.a.createElement("li",{key:"Heap"},t.a.createElement("strong",null,"Heap"),t.a.createElement("span",null,i.toLocaleString()||"Unknown","mb")))}renderAll(){const{metrics:n}=this.state,a=Object.keys(n||{}).filter(o=>!this.keysDenyList.includes(o)).map(o=>{const i=n&&n[o]!==void 0?n[o].toLocaleString():"Unknown";return t.a.createElement("li",{key:o},t.a.createElement("strong",null,o),t.a.createElement("span",null,i))});return t.a.createElement("ul",null,a)}renderMoreButton(){const{isShowAll:n}=this.state;return t.a.createElement("small",null,t.a.createElement("a",{role:"button",onClick:()=>this.setState(()=>({isShowAll:!n}))},"Show ",n?"less":"more"))}constructor(n){super(n),this.getMetricsScheduled=!1,this.keysDenyList=["V8CallInDetachedWindowByNavigations","V8CallInDetachedWindowByNavigationAfter10s","V8CallInDetachedWindowByNavigationAfter1mins","V8CallInDetachedWindowByClosings","V8CallInDetachedWindowByClosingAfter10s","V8CallInDetachedWindowByClosingAfter1mins","V8CallInDetachedWindowByOtherReasons","V8CallInDetachedWindowByOtherReasonAfter10s","V8CallInDetachedWindowByOtherReasonAfter1mins","Timestamp","UACSSResources","AdSubframes","FirstMeaningfulPaint","DomContentLoaded","NavigationStart","V8PerContextDatas","MediaKeySessions","MediaKeys"],this.poll=this.poll.bind(this),this.state={isPerformanceEnabled:!1}}},"PerformanceMonitor");CC.displayName="PerformanceMonitor";var i0=CC;const c0=c(r=>({isEnabled:Object(Sa.c)(r)}),"performance_monitor_mapStateToProps");var l0=Object(Be.a)(c0)(i0),d0=e("LNlQ"),yC=e("D6Rr"),u0=e("vS+A");const m0=new he.b("setup_page"),jC=c(r=>{let{tip:n,children:a,isVisible:o,isExitAnimationActive:i}=r,l=null;const m=n&&o,h=Object(s.useCallback)(()=>{m&&(l==null||l({action:Oe.UiAction.CLICK}))},[l,m]),p=n?m0.t("Try this \u{1F449}"):"";return Object(Zn.a)(n,We.g.Flag),t.a.createElement(t.a.Fragment,null,t.a.createElement(De.a,{eventId:Oe.EventId.NEWXP_TEAM_CREATE,uiStep:Oe.UiStep.PROG_DISC_TIP,stepVariant:n,elementName:We.g.Flag,clogImpression:m,trackClogRef:E=>{l=E}},t.a.createElement("div",null)),t.a.createElement("div",{className:Object(g.default)("p-setup_prog_disc_user_flag_tip",{"p-setup_prog_disc_user_flag_tip--visible":o,"p-setup_prog_disc_user_flag_tip--exiting":i}),onClick:h,role:"presentation","data-qa":`flag_tip--${n}`},t.a.createElement("div",{className:"p-setup_prog_disc_user_flag_tip__content"},t.a.createElement("div",{className:"p-setup_prog_disc_user_flag_tip__wrapper"},t.a.createElement(u0.a,{optOutButtonClass:"p-opt_out_button--status"}),t.a.createElement("div",{className:"p-setup_prog_disc_user_flag_tip__text"},p))),a))},"ProgressiveDisclosureUserFlagTip");jC.displayName="ProgressiveDisclosureUserFlagTip";var h0=jC,p0=e("d4Qy"),SC=e("FUEd"),b0=e("F7a4"),f0=e("9JAo"),v0=e("YZX6"),g0=e("Up3o"),O0=e("3956"),E0={spaceName:Ne.g.PROFILE_MENU,notifications:{[Ne.h.PROFILE_MENU_UPGRADE_CTA]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"5NJT")))}}},_0=e("rYD8");const IC=new he.b("classic_nav"),C0={currentUserId:Te.default.string.isRequired,userPresence:Te.default.string},y0={userPresence:"active"},sp=c(r=>{let{currentUserId:n,userPresence:a}=r;const o=t.a.createElement("span",{className:"p-ia__main_menu__user__presence"},t.a.createElement(yC.a,{memberId:n,className:!0}),a==="active"?IC.t("Active"):IC.t("Away"));return t.a.createElement("div",{className:"p-ia__main_menu__user"},t.a.createElement(If,{size:36}),t.a.createElement("div",{className:"p-ia__main_menu__user__details"},t.a.createElement("div",{className:"p-ia__main_menu__user__name_container"},t.a.createElement(_0.a,{id:n,className:"p-ia__main_menu__user__name"})),o))},"UserItem");sp.displayName="UserItem",sp.propTypes=C0,sp.defaultProps=y0;const j0=c(r=>{const n=Object(vt.a)(r);return{currentUserId:n,userPresence:Object(SC.c)(r,n)}},"user_item_mapStateToProps");var S0=Object(Be.a)(j0)(sp),I0=e("Bz4R"),T0=e("eqKo"),A0=e("yz5U"),N0=e("Y31Q"),k0=e("9Az/"),yw=e("ZgTL");const TC=new he.b("classic_nav"),P0=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"rTtr"))),AC={spaceName:Ne.g.USER_MENU_COACHMARKS,notifications:{[Ne.h.PROFILES_INTRODUCING_OUT_OF_OFFICE_COACHMARK]:{component:P0}}};function NC(){return t.a.createElement("div",{className:"p-ia__main_menu__custom_status_icon"},t.a.createElement(pn.a,{className:"p-ia__main_menu__custom_status_icon__part p-ia__main_menu__custom_status_icon__hover p-ia__main_menu__custom_status_smile--fill",type:"circle-fill"}),t.a.createElement(pn.a,{className:"p-ia__main_menu__custom_status_icon__part",type:"smile-o"}),t.a.createElement(pn.a,{className:"p-ia__main_menu__custom_status_icon__part p-ia__main_menu__custom_status_icon__hover p-ia__main_menu__custom_status_smile--happy",type:"happy-smile"}))}c(NC,"EmptyEmoji"),NC.displayName="EmptyEmoji";function kC(r){let{highlighted:n,isKeyboardHighlight:a,onMouseEnter:o,menuCallback:i,menuCallbackId:l,activeMenuId:m}=r;const h=Object(S.i)(),p=Object(d.c)(vt.a),E=Object(d.c)(ge=>Object($h.a)(ge,p)),j=Object(d.c)(ge=>Object(I0.a)(ge,p)),I=Object(s.useCallback)(ge=>{setTimeout(()=>i(l,ge),0),h(Object(T0.a)({returnFocusKey:Wd.c.TOP_NAVIGATION_USER_MENU}))},[h,i,l]);Object(s.useEffect)(()=>{function ge(Ue){n&&I(Ue)}c(ge,"onReturn");const ye=new Wp.a;return ye.bindAll([{keys:["return"],handler:ge}]),()=>ye.reset()});const G=Object(d.c)(ge=>Object(Ze.mb)(ge,{tip:We.f.Status})),Y=Object(d.c)(ge=>Object(Ze.lb)(ge,{tip:We.f.Status}));Object(s.useEffect)(()=>{G&&h(Object(jn.a)({notificationName:We.h[We.f.Status],action:Ne.f.CLICK,step:We.g.Flag}))},[G,h]);const se=E?t.a.createElement("div",{className:"p-ia__main_menu__custom_status_icon"},t.a.createElement(pn.a,{className:"p-ia__main_menu__custom_status_icon__part p-ia__main_menu__custom_status_icon__hover",type:"pencil"}),t.a.createElement(Ai.b,{text:E,emojiSize:"small",className:"p-ia__main_menu__custom_status_icon__part p-ia__main_menu__custom_status_emoji"})):t.a.createElement(NC,null),be=E?t.a.createElement(A0.a,{className:"p-ia__main_menu__custom_status_text",emojiSize:Ai.a.SMALL,text:j}):TC.t("Update your status",{fallbackHash:"8df7f813a81e425c1e188d52a499187e90954835"}),Ee=E?TC.t("Edit status: {emoji}, {status}",{emoji:Object(N0.a)(E),status:j}):be,_e=t.a.createElement("div",{className:Object(g.default)("p-ia__main_menu__custom_status_item",{"p-ia__main_menu__custom_status_item--empty":!E,"p-ia__main_menu__custom_status_item--highlighted":n,"p-ia__main_menu__custom_status_item--highlighted-kb":a})},t.a.createElement(ct.d,{className:"p-ia__main_menu__custom_status_button",onMouseEnter:o,onClick:I,id:m,role:"menuitem","aria-label":Ee,tabIndex:-1,"data-qa":"main-menu-custom-status-item"},se,be),t.a.createElement(Cs.c,{spaceName:AC.spaceName,notifications:AC.notifications}));return G||Y?t.a.createElement(k0.a,{tip:We.f.Status},_e):_e}c(kC,"CustomStatusItem"),kC.displayName="CustomStatusItem";var M0=Object(yb.b)(kC),PC=e("LQ2n"),rp=e("/LVU"),MC=e("kBd7"),DC=e("EYvk"),RC=e("dohy"),ip=e("U6Ni");function Cf(){return Cf=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Cf.apply(this,arguments)}c(Cf,"dnd_disabled_menu_extends");const hc=new he.b("do_not_disturb");let yf=c(class extends s.PureComponent{onClickDoNotDisturbSchedule(){var n,a;const{showNotificationScheduleNewBadge:o}=this.props;this.props.openPrefsModal({activeSection:"notifications",activeSubsection:"prefs_dnd"}),(a=(n=this.props).transitionFocusTo)===null||a===void 0||a.call(n,{focusKey:Wd.c.MODAL_PREFS_NOTIFICATIONS_DND}),o&&this.props.setUserPrefByApi({pref:"dnd_notification_schedule_new_badge_seen",value:!0})}onClickNotificationPreferences(){this.props.openPrefsModal({activeSection:"notifications"})}handleOpenChannelNotificationPrefsModal(){var n;this.props.openChannelNotificationPrefsModal({channelId:((n=this.props.currentChannel)===null||n===void 0?void 0:n.id)||"",entryPoint:"dnd_disabled_menu"})}renderSettingsMenuItem(){const{currentChannel:n}=this.props;if(!(n!=null&&n.id)||Object(wn.g)(n))return null;const a=t.a.createElement(PC.a,{channelId:n==null?void 0:n.id,inline:!0}),o=hc.rt("Settings for {name}\u2026",{name:t.a.createElement("strong",null,a),fallbackHash:"c6c4739d1b58eef23e9c67fb55a1961f80e0cf65"});return t.a.createElement(Yn.b,{label:o,onSelected:this.handleOpenChannelNotificationPrefsModal})}handleSnoozeNotifications30Min(){var n;this.props.snoozeNotifications({duration:30,reason:"DndDisabledMenu:30m"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:30,dnd_preset:Oe.DndPreset.DURATION_30_MINUTES,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_INITIAL})}handleSnoozeNotifications1Hour(){var n;this.props.snoozeNotifications({duration:60,reason:"DndDisabledMenu:1hr"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:60,dnd_preset:Oe.DndPreset.DURATION_1_HOUR,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_INITIAL})}handleSnoozeNotifications2Hours(){var n;this.props.snoozeNotifications({duration:120,reason:"DndDisabledMenu:2hr"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:120,dnd_preset:Oe.DndPreset.DURATION_2_HOURS,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_INITIAL})}handleSnoozeNotificationsUntilTomorrow(){var n;const a=Object(ip.d)();this.props.snoozeNotifications({duration:a,reason:"DndDisabledMenu:tomorrow"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:a,dnd_preset:Oe.DndPreset.DURATION_TOMORROW,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_INITIAL})}handleSnoozeNotificationsIndefinite(){var n;this.props.snoozeNotifications({isIndefinite:!0,reason:"DndDisabledMenu:indefinite"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_preset:Oe.DndPreset.DURATION_INDEFINITE,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_INITIAL})}handleOpenCustomSnoozeDialog(){var n,a;this.props.openDndDialog(),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_OPEN_CUSTOM_SNOOZE_DIALOG),this.props.openDndDialog(),(a=this.props.clogger)===null||a===void 0||a.track(Oe.EventId.DND_OPEN_CUSTOM_SNOOZE_DIALOG)}render(){const{menuProps:n,showNotificationScheduleNewBadge:a,isOffline:o}=this.props,i=hc.t("Do Not Disturb allows you to pause your Slack notifications"),l=t.a.createElement("span",{className:"p-dnd_menu__new_pill"},hc.t("NEW")),m=a?t.a.createElement("span",null,hc.t("Set a notification schedule")," ",l):hc.t("Set a notification schedule");return t.a.createElement(Yn.f,Cf({},n),t.a.createElement(Yn.c,{label:t.a.createElement(t.a.Fragment,null,hc.t("Pause notifications\u2026"),t.a.createElement(Go.a,{articleId:214908388},t.a.createElement(Or.c,{tip:i,position:"right",zIndex:"above_fs"},t.a.createElement("div",{className:"p-dnd_menu_question_button","aria-label":i},t.a.createElement(Pe.a,{name:"help",size:"20"})))))}),t.a.createElement(Yn.b,{type:Ho.b.subheaderChild,label:hc.t("For 30 minutes"),onSelected:this.handleSnoozeNotifications30Min,"data-qa":"snooze_btn_30",disabled:o,showOfflineIcon:o}),t.a.createElement(Yn.b,{type:Ho.b.subheaderChild,label:hc.t("For 1 hour"),onSelected:this.handleSnoozeNotifications1Hour,"data-qa":"snooze_btn_60",disabled:o,showOfflineIcon:o}),t.a.createElement(Yn.b,{type:Ho.b.subheaderChild,label:hc.t("For 2 hours"),onSelected:this.handleSnoozeNotifications2Hours,"data-qa":"snooze_btn_120",disabled:o,showOfflineIcon:o}),t.a.createElement(Yn.b,{type:Ho.b.subheaderChild,label:hc.t("Until tomorrow",{fallbackHash:"855822ad712e90a31f6a90a028a3358fab026bff"}),onSelected:this.handleSnoozeNotificationsUntilTomorrow,"data-qa":"snooze_btn_tomorrow",disabled:o,showOfflineIcon:o}),t.a.createElement(Yn.b,{type:Ho.b.subheaderChild,label:hc.t("Until next week",{fallbackHash:"5a20763adfb0adcac05270a340009a8526652248",fallbackHashNs:"current_status"}),onSelected:this.handleSnoozeNotificationsUntilNextWeek,"data-qa":"snooze_btn_tomorrow",disabled:o,showOfflineIcon:o}),t.a.createElement(Yn.b,{type:Ho.b.subheaderChild,label:hc.t("Custom\u2026"),onSelected:this.handleOpenCustomSnoozeDialog,"data-qa":"snooze_btn_custom",disabled:o,showOfflineIcon:o}),t.a.createElement(Yn.d,null),t.a.createElement(Yn.b,{label:m,onSelected:this.onClickDoNotDisturbSchedule}))}constructor(n){super(n),this.handleSnoozeNotificationsUntilNextWeek=()=>{var a;const o=Object(ip.c)();this.props.snoozeNotifications({duration:o,reason:"DndDisabledMenu:nextWeek"}),(a=this.props.clogger)===null||a===void 0||a.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:o,dnd_preset:Oe.DndPreset.DURATION_NEXT_WEEK,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_INITIAL})},this.onClickDoNotDisturbSchedule=this.onClickDoNotDisturbSchedule.bind(this),this.onClickNotificationPreferences=this.onClickNotificationPreferences.bind(this),this.handleOpenChannelNotificationPrefsModal=this.handleOpenChannelNotificationPrefsModal.bind(this),this.handleSnoozeNotifications30Min=this.handleSnoozeNotifications30Min.bind(this),this.handleSnoozeNotifications1Hour=this.handleSnoozeNotifications1Hour.bind(this),this.handleSnoozeNotifications2Hours=this.handleSnoozeNotifications2Hours.bind(this),this.handleSnoozeNotificationsUntilTomorrow=this.handleSnoozeNotificationsUntilTomorrow.bind(this),this.handleSnoozeNotificationsIndefinite=this.handleSnoozeNotificationsIndefinite.bind(this),this.handleOpenCustomSnoozeDialog=this.handleOpenCustomSnoozeDialog.bind(this)}},"DndDisabledMenu");yf.displayName="DndDisabledMenu",yf.defaultProps={currentChannel:{id:""},menuProps:{},openDndDialog:tn.a,openChannelNotificationPrefsModal:tn.a,openPrefsModal:tn.a,setUserPrefByApi:tn.a,showNotificationScheduleNewBadge:!1,transitionFocusTo:void 0};const D0=c(r=>({clogger:Object(Rr.a)({state:r}),showNotificationScheduleNewBadge:!Object(bn.u)(r,"dnd_notification_schedule_new_badge_seen"),isOffline:!Object(ep.d)(r)}),"dnd_disabled_menu_mapStateToProps"),R0=c(r=>({snoozeNotifications:n=>{let{duration:a,reason:o,isIndefinite:i}=n;return r(Object(rp.e)({duration:a,reason:o,isIndefinite:i}))},openDndDialog:()=>r(Object(RC.a)()),openChannelNotificationPrefsModal:n=>{let{channelId:a,entryPoint:o}=n;return r(Object(DC.a)({channelId:a,entryPoint:o}))},setUserPrefByApi:n=>r(Object(gu.f)(n)),openPrefsModal:n=>{let{activeSection:a,activeSubsection:o}=n;return r(Object(bl.a)({activeSection:a,activeSubsection:o}))}}),"dnd_disabled_menu_mapDispatchToProps");var x0=Object(Be.a)(D0,R0)(Object(MC.a)(yf)),L0=e("Aj+D"),w0=e("UHsu"),jw=e("1iAE");function cp(){return cp=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},cp.apply(this,arguments)}c(cp,"dnd_enabled_menu_extends");const pc=new he.b("do_not_disturb");let jf=c(class extends s.PureComponent{onClickDoNotDisturbSchedule(){var n,a;const{showNotificationScheduleNewBadge:o}=this.props;this.props.openPrefsModal({activeSection:"notifications",activeSubsection:"prefs_dnd"}),(a=(n=this.props).transitionFocusTo)===null||a===void 0||a.call(n,{focusKey:Wd.c.MODAL_PREFS_NOTIFICATIONS_DND}),o&&this.props.setUserPrefByApi({pref:"dnd_notification_schedule_new_badge_seen",value:!0})}onClickNotificationPreferences(){this.props.openPrefsModal({activeSection:"notifications"})}renderAdjustMenuItem(){return t.a.createElement(w0.a,{label:pc.t("Adjust time"),renderSubmenu:this.renderSubmenu,forceLeft:!0})}renderDndMenuHeader(){const{inDndBySnooze:n,snoozeEndTs:a,dndEndTs:o,do24hrTime:i,canonicalCustomStatus:l}=this.props,m=n?a:o,h=Object(ip.b)(m,{do24hrTime:i,vacationDelight:l==="Vacationing"});return t.a.createElement("div",{className:"p-dnd_menu__snooze_header"},t.a.createElement("div",{className:"p-dnd_menu__header_status"},t.a.createElement("div",null,t.a.createElement("strong",null,pc.t("Do Not Disturb"))),t.a.createElement("div",null,h)))}handleOpenChannelNotificationPrefsModal(){var n;this.props.openChannelNotificationPrefsModal({channelId:((n=this.props.currentChannel)===null||n===void 0?void 0:n.id)||"",entryPoint:"dnd_enabled_menu"})}renderSettingsMenuItem(){const{currentChannel:n}=this.props;if(!(n!=null&&n.id)||Object(wn.g)(n))return null;const a=t.a.createElement(PC.a,{channelId:n.id,inline:!0}),o=pc.rt("Settings for {name}\u2026",{name:t.a.createElement("strong",null,a),fallbackHash:"c6c4739d1b58eef23e9c67fb55a1961f80e0cf65"});return t.a.createElement(Yn.b,{label:o,onSelected:this.handleOpenChannelNotificationPrefsModal})}handleSnoozeNotifications30Min(){var n;this.props.snoozeNotifications({duration:30,reason:"DndEnabledMenu:30m"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:30,dnd_preset:Oe.DndPreset.DURATION_30_MINUTES,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_ADJUST})}handleSnoozeNotifications1Hour(){var n;this.props.snoozeNotifications({duration:60,reason:"DndEnabledMenu:1hr"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:60,dnd_preset:Oe.DndPreset.DURATION_1_HOUR,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_ADJUST})}handleSnoozeNotifications2Hours(){var n;this.props.snoozeNotifications({duration:120,reason:"DndDisabledMenu:2hr"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:120,dnd_preset:Oe.DndPreset.DURATION_2_HOURS,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_ADJUST})}handleSnoozeNotificationsUntilTomorrow(){var n;const a=Object(ip.d)();this.props.snoozeNotifications({duration:a,reason:"DndEnabledMenu:tomorrow"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_duration:a,dnd_preset:Oe.DndPreset.DURATION_TOMORROW,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_ADJUST})}handleSnoozeNotificationsIndefinite(){var n;this.props.snoozeNotifications({isIndefinite:!0,reason:"DndEnabledMenu:indefinite"}),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_SNOOZE_NOTIFICATIONS,{dnd_preset:Oe.DndPreset.DURATION_INDEFINITE,dnd_snooze_type:Oe.DndSnoozeType.SNOOZE_ADJUST})}handleOpenCustomSnoozeDialog(){var n;this.props.openDndDialog(),(n=this.props.clogger)===null||n===void 0||n.track(Oe.EventId.DND_OPEN_CUSTOM_SNOOZE_DIALOG)}handleOffSelected(){this.props.inDndBySnooze?this.props.endDndSnooze({reason:"DndEnabledMenu:end_snooze"}):this.props.endDndSchedule({reason:"DndEnabledMenu:end_schedule"})}renderSubmenu(n){return t.a.createElement(Yn.f,cp({},n,{width:"auto"}),t.a.createElement(Yn.b,{label:pc.t("For 30 minutes"),onSelected:this.handleSnoozeNotifications30Min}),t.a.createElement(Yn.b,{label:pc.t("For 1 hour"),onSelected:this.handleSnoozeNotifications1Hour}),t.a.createElement(Yn.b,{label:pc.t("For 2 hours"),onSelected:this.handleSnoozeNotifications2Hours}),t.a.createElement(Yn.b,{label:pc.t("Until tomorrow"),onSelected:this.handleSnoozeNotificationsUntilTomorrow}),t.a.createElement(Yn.b,{label:pc.t("Custom\u2026"),onSelected:this.handleOpenCustomSnoozeDialog}))}render(){const{menuProps:n,showNotificationScheduleNewBadge:a}=this.props,o=t.a.createElement("span",{className:"p-dnd_menu__new_pill"},pc.t("NEW")),i=a?t.a.createElement("span",null,pc.t("Set a notification schedule")," ",o):pc.t("Set a notification schedule");return t.a.createElement("div",null,this.renderDndMenuHeader(),t.a.createElement(Yn.f,cp({},n,{menuClassNames:"p-dnd_menu"}),t.a.createElement(Yn.b,{label:pc.t("Resume notifications"),onSelected:this.handleOffSelected,danger:!0}),this.renderAdjustMenuItem(),t.a.createElement(Yn.d,null),t.a.createElement(Yn.b,{label:i,onSelected:this.onClickDoNotDisturbSchedule})))}constructor(n){super(n),this.renderSubmenu=this.renderSubmenu.bind(this),this.onClickDoNotDisturbSchedule=this.onClickDoNotDisturbSchedule.bind(this),this.onClickNotificationPreferences=this.onClickNotificationPreferences.bind(this),this.handleOpenChannelNotificationPrefsModal=this.handleOpenChannelNotificationPrefsModal.bind(this),this.handleSnoozeNotifications30Min=this.handleSnoozeNotifications30Min.bind(this),this.handleSnoozeNotifications1Hour=this.handleSnoozeNotifications1Hour.bind(this),this.handleSnoozeNotifications2Hours=this.handleSnoozeNotifications2Hours.bind(this),this.handleSnoozeNotificationsUntilTomorrow=this.handleSnoozeNotificationsUntilTomorrow.bind(this),this.handleSnoozeNotificationsIndefinite=this.handleSnoozeNotificationsIndefinite.bind(this),this.handleOpenCustomSnoozeDialog=this.handleOpenCustomSnoozeDialog.bind(this),this.handleOffSelected=this.handleOffSelected.bind(this)}},"DndEnabledMenu");jf.displayName="DndEnabledMenu",jf.defaultProps={snoozeEndTs:void 0,dndEndTs:void 0,do24hrTime:!1,currentChannel:{id:""},menuProps:{},openPrefsModal:tn.a,openDndDialog:tn.a,openChannelNotificationPrefsModal:tn.a,showNotificationScheduleNewBadge:!1,setUserPrefByApi:tn.a,canonicalCustomStatus:void 0,transitionFocusTo:void 0};const B0=c(r=>{const n=Object(vt.a)(r),{nextDndEndTs:a}=Object(Yh.c)(r,n)||{},{snoozeEnabled:o,snoozeEndTs:i}=Object(Yh.d)(r)||{},l=Object(cr.c)(r),m=Object(L0.a)(r,l.id);return{inDndBySnooze:!!o,snoozeEndTs:i,dndEndTs:a,do24hrTime:Object(bn.u)(r,"time24"),clogger:Object(Rr.a)({state:r}),showNotificationScheduleNewBadge:!Object(bn.u)(r,"dnd_notification_schedule_new_badge_seen"),canonicalCustomStatus:m}},"dnd_enabled_menu_mapStateToProps"),W0=c(r=>({snoozeNotifications:n=>{let{duration:a,reason:o,isIndefinite:i}=n;return r(Object(rp.e)({duration:a,reason:o,isIndefinite:i}))},openDndDialog:()=>r(Object(RC.a)()),endDndSnooze:n=>{let{reason:a}=n;return r(Object(rp.b)({reason:a}))},endDndSchedule:n=>{let{reason:a}=n;return r(Object(rp.a)({reason:a}))},openChannelNotificationPrefsModal:n=>{let{channelId:a,entryPoint:o}=n;return r(Object(DC.a)({channelId:a,entryPoint:o}))},setUserPrefByApi:n=>r(Object(gu.f)(n)),openPrefsModal:n=>{let{activeSection:a,activeSubsection:o}=n;return r(Object(bl.a)({activeSection:a,activeSubsection:o}))}}),"dnd_enabled_menu_mapDispatchToProps");var U0=Object(Be.a)(B0,W0)(Object(MC.a)(jf)),Lu=e("wwBm");const H0=Object(Vs.c)("Launch workspace switcher side rail experiment",(r,n)=>{const a="force_ia4_ws_switcher_rail",o="force_ia4_workspace_switcher_cubes";let i=Object(Lu.f)(window.location.search,a,"on");i=Object(Lu.f)(i,o,"off");const l=new URL("/client",window.location.origin);l.search=i,window.location.assign(l)});H0.meta={name:"createThunk",key:"createThunklaunchSideRailExperiment",description:"Launch workspace switcher side rail experiment"};const xC=Object(Vs.c)("Launch workspace switcher Top Cubes experiment",(r,n)=>{const a="force_ia4_ws_switcher_rail",o="force_ia4_workspace_switcher_cubes";let i=Object(Lu.f)(window.location.search,a,"off");i=Object(Lu.f)(i,o,"on");const l=new URL("/client",window.location.origin);l.search=i,window.location.assign(l)});xC.meta={name:"createThunk",key:"createThunklaunchTopCubesExperiment",description:"Launch workspace switcher Top Cubes experiment"};const LC=Object(Vs.c)("Disable workspace switcher experiments",(r,n)=>{const a="force_ia4_ws_switcher_rail",o="force_ia4_workspace_switcher_cubes";let i=Object(Lu.f)(window.location.search,a,"off");i=Object(Lu.f)(i,o,"off");const l=new URL("/client",window.location.origin);l.search=i,window.location.assign(l)});LC.meta={name:"createThunk",key:"createThunkdisableWsSwitcherExperiments",description:"Disable workspace switcher experiments"};var lp=e("12mD");function dp(){return dp=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},dp.apply(this,arguments)}c(dp,"user_menu_extends");const jr=new he.b("classic_nav"),F0={menuProps:Te.default.object,displayName:Te.default.string,currentUserId:Te.default.string.isRequired,userPresence:Te.default.string.isRequired,customStatusEmoji:Te.default.string,inDnd:Te.default.bool,currentChannel:Te.default.object,teamDisplayName:Te.default.string.isRequired,teamIsEnterprise:Te.default.bool.isRequired,isSignedIntoOtherOrgTeams:Te.default.bool.isRequired,team:Te.default.object.isRequired,isOffline:Te.default.bool.isRequired,orgName:Te.default.string,orgId:Te.default.string,userCanLeaveWorkspace:Te.default.bool,dispatch:Te.default.func.isRequired,showUpgradeMenuItem:Te.default.bool,usingAppStoreBuild:Te.default.bool,experimentIa4WsSwitcherExperimentsMenuGroupOn:Te.default.bool,experimentIA4WorkspaceSwitcherCubesGroupOn:Te.default.bool,experimentHuddlesDeviceV2FrensGroupOn:Te.default.bool,isHuddlesDeviceFriendsOf:Te.default.bool},K0={menuProps:{},displayName:void 0,customStatusEmoji:void 0,inDnd:!1,currentChannel:{},orgName:"",orgId:"",userCanLeaveWorkspace:!1,showUpgradeMenuItem:!1,usingAppStoreBuild:!1,experimentIa4WsSwitcherExperimentsMenuGroupOn:!1,experimentIA4WorkspaceSwitcherCubesGroupOn:!1,experimentHuddlesDeviceV2FrensGroupOn:!1,isHuddlesDeviceFriendsOf:!1},up=c(r=>{let{menuProps:n,displayName:a,customStatusEmoji:o,inDnd:i,currentChannel:l,dispatch:m,userPresence:h,showUpgradeMenuItem:p,usingAppStoreBuild:E,experimentIa4WsSwitcherExperimentsMenuGroupOn:j,experimentIA4WorkspaceSwitcherCubesGroupOn:I,experimentHuddlesDeviceV2FrensGroupOn:G,isHuddlesDeviceFriendsOf:Y,teamDisplayName:se,teamIsEnterprise:be,team:Ee,isOffline:_e,orgName:ge,orgId:ye,userCanLeaveWorkspace:Ue}=r;const Re=[{label:jr.rt("Sign out of {teamDisplayName}",{teamDisplayName:se}),show:!0,click:()=>Object(v.dispatchForClientStore)(Object(Wh.a)({teamId:Ee.id})),key:"sign-out",disabled:_e,showOfflineIcon:_e},{label:jr.rt("Sign out of {orgName}",{orgName:ge}),show:!1,click:()=>Object(v.dispatchForClientStore)(Object(Wh.a)({teamId:Ee.id,orgId:ye})),key:"org-sign-out",disabled:_e,showOfflineIcon:_e},{label:jr.rt("Leave {teamDisplayName}",{teamDisplayName:se}),show:be&&Ue,click:()=>m(sE()),key:"leave-workspace",disabled:_e,showOfflineIcon:_e}].filter(Ta=>Ta.show!==!1),tt=Re.length===1?Re:[{label:jr.t("Sign out"),type:"submenu",key:"signout-submenu",template:Re}],Ge=Object(Ye.p)()?"\u2318\u21E7J":"Ctrl+Shift+J",Tt=h==="active"?jr.t("away"):jr.t("active"),yn=Object(d.c)(Mb.a),xn=Object(s.useCallback)(()=>{Object(ub.a)({entryPoint:lp.a.userMenu,sourceTeam:Object(Xt.n)(Ee)})},[Ee]),Pn=G&&Y?jr.rt("Turn OFF huddle device experiment"):"",Lt=G&&!Y?jr.rt("Turn ON huddle device experiment"):"",Vn=Y?Pn:Lt,la=[{type:"custom",key:"user",children:t.a.createElement(S0,{key:"user-element",className:"p-ia__main_menu__user"})},{type:"custom",ariaHidden:!1,key:"custom-status-button",children:t.a.createElement(M0,{key:"custom-status-button"})},{label:jr.t("Clear status"),hidden:!o,click:()=>{m(Object(g0.a)({reason:"UserMenu:clear_status",origin:Oe.CustomStatusSetOrigin.USER_MENU}))},key:"clear-status"},{label:jr.rt("Set yourself as <strong>{presenceLabel}</strong>",{presenceLabel:Tt}),click:()=>{m(Object(b0.a)())},key:"presence"},{type:"submenu",label:jr.t("Pause notifications",{fallbackHash:"1944bf6575ca582a8116cb3a55b61441fdea8eff",fallbackHashNs:"do_not_disturb"}),shortcut:i&&t.a.createElement("span",{className:"p-ia__main_menu__dnd_label"},jr.t("On")),renderSubmenu:Ta=>i?t.a.createElement(U0,{menuProps:Ta,currentChannel:l}):t.a.createElement(x0,{menuProps:Ta,currentChannel:l}),key:"dnd"},{type:"separator",key:"user-availability-separator"},{label:jr.t("Profile",{fallbackHash:"b98795a246f09961ab85071a7f50013203007e9f"}),click:()=>{m(Object(O0.a)())},key:"profile"},{label:jr.t("Preferences"),click:()=>m(Object(bl.a)()),shortcut:Object(Ye.p)()&&Object(Ye.i)()&&"\u2318,",key:"preferences"},{type:"separator",key:"user-downloads-separator",hidden:!Object(Ye.i)()},{label:jr.t("Downloads"),click:()=>{m(Object(v0.a)())},hidden:!Object(Ye.i)(),shortcut:Object(Ye.i)()&&Ge,key:"profile"},{key:"huddle-device-v2-frens",hidden:!G,click:()=>m(Object(f0.b)()),label:Vn},{type:"separator",key:"workspace-switcher-experiments-separator",hidden:!j},{label:j?`${jr.t("Workspace switcher experiments")}`:"Workspace switcher experiments",type:"submenu",key:"workspace-switcher-experiments",hidden:!j,template:[{label:j?jr.t("Disable both experiments"):"Disable both experiments",type:"checkbox",checked:!I,click:()=>m(LC()),key:"disable-all-variants"},{label:j?jr.t("Top Cubes variant"):"Top Cubes variant",type:"checkbox",checked:I,click:()=>m(xC()),key:"top-cubes-variant"}].filter(Ta=>!Ta.hidden)},{type:"separator",key:"user-signout-separator"},{label:jr.t("Create new workspace",{fallbackHash:"fdfef25e03fcf2c0ea6e9e78a2de783629d26c64"}),click:xn,hidden:!yn,key:"create-workspace",autoClogProps:{eventId:Oe.EventId.NEWXP_TEAM_CREATE,uiStep:Oe.UiStep.CREATE_NEW_WORKSPACE,stepVariant:lp.a.userMenu,clogImpression:!0}},{type:"custom",ariaHidden:!1,children:t.a.createElement(Cs.b,dp({teamDisplayName:se,uiPage:Oe.UiPage.USER_MENU,key:"profile-menu-upgrade"},E0)),key:"profile-menu-upgrade",hidden:!p||E},...tt].filter(Ta=>!Ta.hidden);return t.a.createElement(Rs.a,dp({},n,{template:la,"aria-label":jr.t("User menu: {displayName}",{displayName:a})}))},"UserMenu");up.displayName="UserMenu",up.propTypes=F0,up.defaultProps=K0;const V0=c(r=>{const n=Object(vt.a)(r),a=Object($h.a)(r,n),o=Object(St.a)(r),i=Object(dt.cb)(),l=Object(nn.g)(r),m=!!Object(Yh.a)(r),h=Object(Xt.z)(l);return{currentUserId:n,userPresence:Object(SC.c)(r,n),customStatusEmoji:a,inDnd:m,currentChannel:Object(Mt.d)(r,o)||void 0,teamDisplayName:Object(Xt.h)(l),team:l,teamIsEnterprise:h,isSignedIntoOtherOrgTeams:Object(p0.b)(r).some(p=>Object(Xt.n)(p)!==Object(Xt.n)(l)&&Object(Xt.k)(p)===Object(Xt.k)(l)),isOffline:!Object(ep.d)(r),orgName:Object(Xt.l)(l),orgId:Object(Xt.k)(l),userCanLeaveWorkspace:rE(r),showUpgradeMenuItem:Object(ka.c)(r,Ne.g.PROFILE_MENU)===Ne.h.PROFILE_MENU_UPGRADE_CTA,usingAppStoreBuild:i,experimentIa4WsSwitcherExperimentsMenuGroupOn:Object(en.d)(r,"ia4_ws_switcher_experiments_menu")==="on",experimentIA4WorkspaceSwitcherCubesGroupOn:Object(xa.x)(r),experimentHuddlesDeviceV2FrensGroupOn:Object(en.d)(r,"huddles_device_v2_frens")==="on",isHuddlesDeviceFriendsOf:Object(wr.y)(r)}},"user_menu_mapStateToProps");var G0=Object(Be.a)(V0)(up),z0=e("nVdj"),wC=e("XVAJ");function Sf(){return Sf=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Sf.apply(this,arguments)}c(Sf,"user_extends");const Y0=new he.b("classic_nav"),J0={onClick:{enableClogAction:!0}},BC=c(r=>{let{size:n,hasMenu:a=!1,menuTriggerProps:o={},currentUserId:i,displayName:l,currentStatusEmoji:m,showProgressiveDisclosureStatusTipFlag:h=!1,isProgressiveDisclosureEnabled:p=!1,showEmojiStatusIcon:E=!1}=r;const j=Object(s.useCallback)(tt=>t.a.createElement(G0,{menuProps:tt,displayName:l}),[l]),I=Object(s.useRef)(),G=Object(s.useCallback)(()=>{var tt;(tt=I.current)===null||tt===void 0||tt.focus()},[]);Object(Rv.a)(Wd.c.TOP_NAVIGATION_USER_MENU,G);const[Y,se]=Object(s.useState)(!1),be=Object(s.useRef)(),Ee=h;Object(s.useEffect)(()=>(Ee&&se(!0),!Ee&&Y&&(be.current=setTimeout(()=>{se(!1)},200)),()=>{be.current&&clearTimeout(be.current)}),[Ee,Y]);const _e=E&&!!m,ge=t.a.createElement("div",{className:"p-ia__nav__user"},_e&&t.a.createElement(wC.b,{className:"p-ia__nav__user__status_icon",memberId:i,tooltip:!1,noText:!0}),t.a.createElement(Sm.c,{userId:i,size:n,isInteractive:!1,className:"p-ia__nav__user__avatar",showPresence:a}));let ye;p&&h&&(ye=We.f.Status);const Ue=t.a.createElement(Ca.a,{autoClogProps:J0,"data-qa":"user-button",className:Object(g.default)("p-ia__nav__user__button p-top_nav__windows_controls_container",{"p-ia__nav__user__button--has_status":!!m,"p-ia__nav__user__button--has_progressive_disclosure_flag":Y}),"aria-label":Y0.t("User: {displayName}",{displayName:l,fallbackHash:"883bde4996434c163e9ed252bd4fb34cde2f4475"}),ref:I},p&&ye?t.a.createElement(h0,{isVisible:Y,tip:ye,isExitAnimationActive:!Ee&&Y},ge):ge),Re=t.a.createElement("div",{className:"p-control_strip__user_tooltip"},t.a.createElement("div",null,l,t.a.createElement(yC.a,{memberId:i,inline:!0})),t.a.createElement(wC.b,{className:"p-control_strip__user_tooltip--status",memberId:i,tooltip:!1}));return a?t.a.createElement(z0.b,null,t.a.createElement(De.a,{eventId:Oe.EventId.TAB_RAIL,elementName:"user_button"},t.a.createElement(rn.a,Sf({renderMenu:j,position:"right-top",offsetY:0,offsetX:12,allowanceX:8},o),t.a.createElement(Or.c,{tipArrowOffset:Ee?16:void 0,tip:Re,position:"right"},Ue)))):ge},"User");BC.displayName="User";const X0=c(r=>{const n=Object(cr.c)(r),a=n.id,o=Object($h.a)(r,a);return{currentUserId:a,displayName:Object(pv.a)(r,n),currentStatusEmoji:o,isProgressiveDisclosureEnabled:Object(Ze.W)(r),showProgressiveDisclosureStatusTipFlag:!o&&Object(Ze.mb)(r,{tip:We.f.Status})}},"user_mapStateToProps");var If=Object(Be.a)(X0)(BC),Q0=e("anSg"),Z0=e("Cy/8"),$0=e("7cRW"),q0=e("ptfs"),eR=e("PAox"),tR=e("+l+1");function Tf(){return Tf=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Tf.apply(this,arguments)}c(Tf,"create_menu_extends");const _i=new he.b("classic_nav"),nR={elementName:"sidebar_create_new_message",interaction:Oe.Interaction.CLICK,onClick:{enableClogAction:!0}},aR={elementName:"sidebar_create_new_huddle",interaction:Oe.Interaction.CLICK,onClick:{enableClogAction:!0}},oR={elementName:"sidebar_create_new_canvas",interaction:Oe.Interaction.CLICK,onClick:{enableClogAction:!0}},sR={elementName:"sidebar_create_new_list",interaction:Oe.Interaction.CLICK,onClick:{enableClogAction:!0}},rR={elementName:"sidebar_create_new_channel",interaction:Oe.Interaction.CLICK,onClick:{enableClogAction:!0}},iR={elementName:"sidebar_create_new_workspace",clogImpression:!0,stepVariant:lp.a.createMenu},cR={elementName:"sidebar_create_new_invite_people",interaction:Oe.Interaction.CLICK,onClick:{enableClogAction:!0}},WC=c(r=>{let{menuProps:n}=r;const a=Object(S.i)(),o=Object(d.c)(ep.d),i=Object(d.c)(Jt.a),l=Object(d.c)(yu.teamHasFullListsAccess),m=Object(d.c)(He.e),h=Object(d.c)(Tn.O),p=Object(d.c)(Ac.b),E=Object(d.c)(bt.c),j=Object(Xt.H)(Object(d.c)(nn.g)),I=Object(d.c)(Ge=>Object(cf.e)(Ge)===Qh.k.standard.id),Y=Object(d.c)(yu.isListsNuxNewBadgeEnabled)&&Object(Og.o)(),se=Object(d.c)(Mb.a),be=Object(d.c)(Xn.g),Ee=Object(s.useCallback)(()=>Object(ub.a)({sourceTeam:be,entryPoint:lp.a.createMenu}),[be]),_e=Object(s.useCallback)(()=>{a(Object($E.a)())},[a]),ge=Object(s.useCallback)(Ge=>{a(j?Object(eR.a)({uiComponentVariant:Oe.UiComponentVariant.CANVAS_CREATE_MENU}):Object(gO.a)({source:EO.a.CREATE_MENU,inTile:Object(Ac.d)(Ge)}))},[a,j]),ye=Object(s.useCallback)(()=>{a(Object(SO.a)())},[a]),Ue=Object(s.useCallback)(Ge=>{a(Object(Os.a)({shouldOpenInTile:p&&Object(OO.a)(Ge)}))},[p,a]),Re=Object(s.useCallback)(()=>{a(Object(Z0.a)({entryPoint:$0.a.TeamMenu}))},[a]),tt=Object(s.useCallback)(()=>{a(Object(q0.a)({source:tR.f.SidebarCreateNewInvitePeople}))},[a]);return t.a.createElement(Yn.f,Tf({},n,{menuClassNames:"p-ia4_create_menu p-peek_card--animate-in",width:360}),t.a.createElement(Yn.c,{label:_i.t("Create"),className:"p-ia4_create_menu__header p-peek_card__header"}),t.a.createElement(Yn.b,{onSelected:Ue,key:"compose",className:"p-ia4_create_menu__item",ariaLabelledBy:"create-message-label create-message-shortcut",ariaDescribedBy:"create-message-description",autoClogProps:nR},t.a.createElement("div",{className:"p-ia4_create_menu__item__icon p-ia4_create_menu__item__icon--compose"},t.a.createElement(Pe.a,{name:"compose",size:"20"})),t.a.createElement("div",{className:"p-ia4_create_menu__item__label"},t.a.createElement("div",{id:"create-message-label",className:"p-ia4_create_menu__item__label__title"},_i.t("Message")),t.a.createElement("div",{id:"create-message-description",className:"p-ia4_create_menu__item__label__subtitle"},_i.t("Start a conversation in a DM or channel"))),Object(Ye.i)()&&t.a.createElement("div",{id:"create-message-shortcut",className:"p-ia4_create_menu__item__shortcut"},Object(Ye.p)()?"\u2318N":"Ctrl+N")),h&&t.a.createElement(Yn.b,{onSelected:_e,key:"start_huddle",showOfflineIcon:!o,className:"p-ia4_create_menu__item",ariaLabelledBy:"create-huddle-label create-huddle-shortcut",ariaDescribedBy:"create-huddle-description",autoClogProps:aR},t.a.createElement("div",{className:"p-ia4_create_menu__item__icon p-ia4_create_menu__item__icon--huddle"},t.a.createElement(Pe.a,{name:"headphones",size:"20"})),t.a.createElement("div",{className:"p-ia4_create_menu__item__label"},t.a.createElement("div",{id:"create-huddle-label",className:"p-ia4_create_menu__item__label__title"},_i.t("Huddle")),t.a.createElement("div",{id:"create-huddle-description",className:"p-ia4_create_menu__item__label__subtitle"},_i.t("Start a video or audio chat")))),i&&!se&&t.a.createElement(Yn.b,{onSelected:ge,key:"create_canvas",showOfflineIcon:!o,className:"p-ia4_create_menu__item",ariaLabelledBy:"create-canvas-label create-canvas-shortcut",ariaDescribedBy:"create-canvas-description",autoClogProps:oR},t.a.createElement("div",{className:"p-ia4_create_menu__item__icon p-ia4_create_menu__item__icon--canvas"},t.a.createElement(Pe.a,{name:"add-channel-canvas",size:"20"})),t.a.createElement("div",{className:"p-ia4_create_menu__item__label"},t.a.createElement("div",{id:"create-canvas-label",className:"p-ia4_create_menu__item__label__title"},_i.t("Canvas")),t.a.createElement("div",{id:"create-canvas-description",className:"p-ia4_create_menu__item__label__subtitle"},_i.t("Curate content and collaborate"))),Object(Ye.i)()&&!(I||j)&&t.a.createElement("div",{id:"create-canvas-shortcut",className:"p-ia4_create_menu__item__shortcut"},Object(Ye.p)()?"\u2318\u21E7N":"Ctrl+Shift+N"),t.a.createElement(v_.a,{hideTooltip:!0,uiComponentVariant:Oe.UiComponentVariant.CANVAS_CREATE_MENU})),l&&!se&&t.a.createElement(Yn.b,{onSelected:ye,key:"create_list",showOfflineIcon:!o,className:"p-ia4_create_menu__item",ariaLabelledBy:"create-list-label",ariaDescribedBy:"create-list-description",autoClogProps:sR},t.a.createElement("div",{className:"p-ia4_create_menu__item__icon p-ia4_create_menu__item__icon--list"},t.a.createElement(Pe.a,{name:"lists",size:"20"})),t.a.createElement("div",{className:"p-ia4_create_menu__item__label"},t.a.createElement("div",{id:"create-list-label",className:"p-ia4_create_menu__item__label__title"},_i.t("List"),Y&&t.a.createElement(jb.a,{className:"p-ia4_create_menu__callout"},_i.t("NEW"))),t.a.createElement("div",{id:"create-list-description",className:"p-ia4_create_menu__item__label__subtitle"},_i.t("Track and manage projects")))),E&&t.a.createElement(Yn.b,{key:"create-channel",onSelected:Re,className:"p-ia4_create_menu__item",ariaLabelledBy:"create-channels-label",ariaDescribedBy:"create-channels-description",autoClogProps:rR},t.a.createElement("div",{className:"p-ia4_create_menu__item__icon p-ia4_create_menu__item__icon--channel"},t.a.createElement(Pe.a,{name:"channel",size:"20"})),t.a.createElement("div",{className:"p-ia4_create_menu__item__label"},t.a.createElement("div",{id:"create-channels-label",className:"p-ia4_create_menu__item__label__title"},_i.t("Channel")),t.a.createElement("div",{id:"create-channels-description",className:"p-ia4_create_menu__item__label__subtitle"},_i.t("Start a group conversation by topic")))),m&&t.a.createElement(t.a.Fragment,null,t.a.createElement(Yn.d,null),t.a.createElement(Yn.b,{key:"invite",onSelected:tt,className:"p-ia4_create_menu__item p-ia4_create_menu__item--invite",autoClogProps:cR,ariaLabelledBy:"create-invites-label"},t.a.createElement("div",{className:"p-ia4_create_menu__item__icon p-ia4_create_menu__item__icon--invite"},t.a.createElement(Pe.a,{name:"user-add",size:"20"})),t.a.createElement("div",{className:"p-ia4_create_menu__item__label"},t.a.createElement("div",{id:"create-invites-label",className:"p-ia4_create_menu__item__label__title"},_i.t("Invite people"))))),se&&t.a.createElement(Yn.b,{onSelected:Ee,key:"create-workspace",className:"p-ia4_create_menu__item",ariaLabelledBy:"create-workspace-label",ariaDescribedBy:"create-workspace-description",autoClogProps:iR},t.a.createElement("div",{className:"p-ia4_create_menu__item__icon"},t.a.createElement(Pe.a,{name:"buildings",size:"20"})),t.a.createElement("div",{className:"p-ia4_create_menu__item__label"},t.a.createElement("div",{id:"create-workspace-label",className:"p-ia4_create_menu__item__label__title"},_i.t("Workspace",{fallbackHash:"4ca0a75c2b7fa7da4364d03b72c46fee1860a2bf"})),t.a.createElement("div",{id:"create-workspace-description",className:"p-ia4_create_menu__item__label__subtitle"},_i.t("Create a space to collaborate",{fallbackHash:"2a5ee7b5faf3ff55ebe78db58a61a972fdd9928d"})))))},"CreateMenu");WC.displayName="CreateMenu";var lR=t.a.memo(WC);const dR=new he.b("ia4"),uR={elementName:"create_button",onClick:{enableClogAction:!0}},UC=c(()=>{const[r,n]=Object(s.useState)(!1),a=Object(s.useCallback)(m=>t.a.createElement(lR,{menuProps:m}),[]),o=Object(s.useCallback)(()=>{n(!0)},[n]),i=Object(s.useCallback)(()=>{n(!1)},[n]),l=dR.t("Create new");return t.a.createElement(Yn.e,{renderMenu:a,onPopoverOpen:o,onPopoverClose:i,onTriggerClose:i,onMenuItemSelected:i,position:"right-bottom",offsetX:15,offsetY:57},t.a.createElement(Dn.d,{tip:l,position:"right"},t.a.createElement(ct.d,{className:Object(g.default)("p-control_strip__circle_button p-control_strip__create_button",{"p-control_strip__circle_button--active":r}),"aria-label":l,autoClogProps:uR},t.a.createElement("div",{className:"p-control_strip__create_button__icon"},t.a.createElement(Pe.a,{name:"plus",size:"inherit"})))))},"CreateMenuTrigger");UC.displayName="CreateMenuTrigger";var mR=t.a.memo(UC),hR=e("t+hU"),pR=e("ctZH"),HC=e("mNau"),bR=e("KGFi"),mp=e("9zMb");const fR=new he.b("ia4"),FC=c(r=>{let{autoClogProps:n}=r;const[a,o]=Object(s.useState)(""),i=Object(d.c)(dn.a),l=Object(d.c)(HC.c),m=Object(d.c)(mp.v),[h,p]=Object(s.useState)([]);Object(s.useEffect)(()=>{const I=m,G=Object(pR.b)(l,I),Y=["aubergine","banana","jade","barbra","gray","sea-glass","sunrise","chill-vibes","mint-chip","raspberry-beret","hoth","sweet-treat"];if(G){o(G);const se=[G,...Y.filter(be=>be!==G)];p((se==null?void 0:se.slice(0,12))||Y)}else p(Y),o("")},[l,m]);const E=Object(s.useCallback)(I=>{o(I)},[]),j=Object(s.useCallback)(I=>({...n,action:Oe.UiAction.CLICK,elementName:`theme_${I}`,onChange:{enableClogAction:!0}}),[n]);return t.a.createElement("div",{className:"p-theme_preset_preview"},h.map((I,G)=>t.a.createElement(hR.a,{key:I,preset:I,selectedPreset:a,handlePresetSelection:E,clientTheme:i,variant:bR.a.CIRCLE,width:40,height:40,autoFocus:G===0,autoClogProps:j(I)})))},"ThemePresetPreview");FC.displayName="ThemePresetPreview";const KC=c(r=>{let{children:n,ariaLabel:a,isOpen:o,title:i,bodyText:l,primaryCallToActionText:m,onClickPrimaryButton:h,closeCoachmark:p,autoClogProps:E,overlayStyleProps:j={},onAfterOpen:I=c(()=>{},"onAfterOpen"),className:G="",offsetX:Y,offsetY:se}=r;const be=Object(s.useCallback)(()=>t.a.createElement(FC,{autoClogProps:E}),[E]),Ee=Object(s.useMemo)(()=>t.a.createElement(is.b,{ariaLabel:a,centerOnArrow:!0,className:Object(g.default)("p-nfx_theming_coachmark",G),arrowPosition:90,offsetX:Y??19,offsetY:se??0,width:330,isOpen:o,title:i,bodyText:l,onClickPrimaryButton:h,primaryCallToActionText:m??fR.t("Next"),closeCoachmark:p,renderPreview:be,autoClogProps:E??lr.b,overlayStyle:j,onAfterOpen:I}),[o,be,i,l,a,E,p,h,m,j,I,G,Y,se]);return t.a.createElement(Za.c,{coachmarkElement:Ee,orientation:"right"},n)},"BaseThemingCoachmark");KC.displayName="BaseThemingCoachmark";var VC=KC;const vR={eventId:Oe.EventId.NEWXP_JOIN_TEAM,uiStep:Oe.UiStep.NFX_THEMING_COACHMARK,elementType:Oe.ElementType.COACHMARK,clogImpression:!0},gR={backgroundColor:"rgba(0, 0, 0, 0.15)"},Af=new he.b("ia4"),GC=c(r=>{let{children:n}=r;const a=Object(S.i)(),{closure:o,currentStep:i,isOpen:l,nextStep:m,totalSteps:h}=Object(En.a)(ps.c.ThemingCoachmark),p=Object(s.useCallback)(()=>{a(Object(gn.i)(m))},[a,m]),E=Object(s.useCallback)(()=>{a(Object(gn.i)(o))},[o,a]),j=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:i,totalSteps:h}),[i,h]),I=Af.t("Pick a color preset to theme the Slack app, or customize your theme to craft something that truly suits your tastes. {currentStep} of {totalSteps}",{currentStep:i,totalSteps:h}),G=Af.rt("Pick a color preset to theme the Slack app, or customize your theme to craft something that truly suits your tastes.<steps></steps>",{"<steps>":j,fallbackHash:"ca9da4b6026c788e7abcaecebe6f404db59e55ea"}),Y=Af.t("Customize your Slack");return t.a.createElement(VC,{ariaLabel:I,isOpen:l,title:Y,bodyText:G,onClickPrimaryButton:p,closeCoachmark:E,overlayStyleProps:gR,autoClogProps:vR},n)},"NFXThemingCoachmark");GC.displayName="NFXThemingCoachmark";var OR=GC;const Nf=new he.b("ia4"),zC="p-nux_theming_coachmark",YC=c(r=>{let{children:n}=r;const a=Object(S.i)(),o=Object(d.c)(N.a),i=Object(d.c)(b.c),l=o||i,{currentStep:m,isOpen:h,nextStep:p,totalSteps:E}=Object(wb.a)([dc.a.ThemingCoachmark]),{clogDismissFromOverlay:j}=Object(Bb.a)(zC,Iu.c),I=Object(s.useCallback)(()=>{a(Object(gn.j)(p))},[a,p]),G=Object(s.useCallback)(_e=>{j(_e),a(Object(Us.a)({spaceName:Ne.g.WELCOME_SPACE,action:Ne.f.DISMISS})),a(Object(km.a)())},[a,j]),Y=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:m,totalSteps:E}),[m,E]),se=Nf.t("Add a personal touch"),be=Nf.rt("Choose a color below. Come back to your profile anytime you want to customize your Slack or update your preferences.<steps></steps>",{"<steps>":Y}),Ee=Nf.t("Choose a color below. Come back to your profile anytime you want to customize your Slack or update your preferences. {currentStep} of {totalSteps}",{currentStep:m,totalSteps:E});return l?t.a.createElement(VC,{ariaLabel:Ee,isOpen:h,title:se,bodyText:be,onClickPrimaryButton:I,closeCoachmark:G,className:zC,offsetX:5,offsetY:-10,autoClogProps:Iu.c},n):t.a.createElement(t.a.Fragment,null,n)},"NUXThemingCoachmark");YC.displayName="NUXThemingCoachmark";var ER=YC,_R=e("/rdY"),CR=e.n(_R);function kf(){return kf=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},kf.apply(this,arguments)}c(kf,"global_create_coachmark_extends");const wu=new he.b("ia4"),Pf="p-nux_global_create_coachmark",JC=c(r=>{let{children:n,renderCoachmark:a,isExperimentEnabled:o,UNSAFE_parentSelector:i,onClose:l,steps:m,onClickNextStep:h=c(()=>{},"onClickNextStep"),currentStep:p,totalSteps:E,onAfterOpen:j=c(()=>{},"onAfterOpen"),currentStepName:I,hero:G}=r;if(!o)return t.a.createElement(t.a.Fragment,null,n);const Y=wu.t("It all starts here"),se=I===dc.a.GlobalCreateWithHuddlesCoachmark?wu.rt("Send messages, start huddles, create canvases \u2014 if you can do it in Slack, you can start it from here.<steps></steps>",{"<steps>":m}):wu.rt("Send messages, create canvases \u2014 if you can do it in Slack, you can start it from here.<steps></steps>",{"<steps>":m}),be=I===dc.a.GlobalCreateWithHuddlesCoachmark?wu.t("Send messages, start huddles, create canvases \u2014 if you can do it in Slack, you can start it from here. {currentStep} of {totalSteps}",{currentStep:p,totalSteps:E}):wu.t("Send messages, create canvases \u2014 if you can do it in Slack, you can start it from here. {currentStep} of {totalSteps}",{currentStep:p,totalSteps:E}),Ee=wu.t("Done"),_e=a({title:Y,bodyText:se,centerOnArrow:!0,offsetX:5,offsetY:0,arrowPosition:80,closeCoachmark:l,orientation:Za.a.Right,primaryCallToActionText:Ee,ariaLabel:be,onClickPrimaryButton:h,onAfterOpen:j,className:Pf,autoClogProps:Iu.b,hero:G,closeBackgroundStyle:"dark",UNSAFE_parentSelector:i});return t.a.createElement(Za.c,{coachmarkElement:_e,orientation:"right"},n)},"GlobalCreateCoachmark");JC.displayName="GlobalCreateCoachmark";const XC=c(r=>{let{children:n}=r;const a=Object(S.i)(),{closeCoachmark:o,renderCoachmark:i,isOpen:l}=Object(Ut.a)(Ne.h.IA4_NEW_TEAMS_V3_NUX_EDUCATION,Ne.g.WELCOME_SPACE),{currentStep:m,nextStep:h,totalSteps:p,isOpen:E,currentStepName:j}=Object(wb.a)([dc.a.GlobalCreateWithHuddlesCoachmark,dc.a.GlobalCreateWithoutHuddlesCoachmark]),{onAfterOpen:I}=Object(Pb.a)({className:Pf,highlightPadding:{all:8}}),G=l&&E,Y=Object(d.c)(N.a),se=Object(d.c)(b.c),be=Y||se,Ee=Object(d.c)(Ge=>Object(bn.u)(Ge,"a11y_animations")),_e=Object(s.useCallback)(()=>{o(!0),a(Object(gn.j)(h)),a(Object(km.a)())},[a,h,o]),{clogDismissFromOverlay:ge}=Object(Bb.a)(Pf,Iu.b),ye=Object(s.useCallback)(Ge=>{ge(Ge),o(),a(Object(km.a)())},[o,a,ge]),Ue=Object(s.useCallback)(()=>t.a.createElement(js.a,{currentStep:m,totalSteps:p}),[m,p]),Re=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-global-create.json").then(e.t.bind(null,"QeWF",3)),[]),tt=Object(s.useMemo)(()=>Ee?t.a.createElement(Hs.a,{autoplay:!0,className:"p-nux_coachmark__hero p-nux_coachmark--rounded",getAnimationImport:Re,svgClassName:"p-nux_coachmark--rounded","data-qa":wh.a.GLOBAL_CREATE_ANIMATION}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:CR.a,"data-qa":wh.a.GLOBAL_CREATE_IMAGE,className:"p-nux_coachmark__hero p-nux_coachmark--rounded"}),[Re,Ee]);return!be||!G?n:t.a.createElement(JC,{renderCoachmark:i,isExperimentEnabled:be,onClose:ye,steps:Ue,onClickNextStep:_e,currentStep:m,totalSteps:p,onAfterOpen:I,currentStepName:j??dc.a.GlobalCreateWithHuddlesCoachmark,hero:tt},n)},"ConnectedGlobalCreateCoachmark");XC.displayName="ConnectedGlobalCreateCoachmark";const Sw=c(r=>t.a.createElement(is.b,kf({},r)),"global_create_coachmark_renderCoachmarkForHubble");var yR=XC,jR=e("wd/R"),SR=e.n(jR),IR=e("uC0x"),QC=e("KMvM"),Mf=e("rJSQ"),TR=e("08PT"),AR=e("Su38"),ZC=e("rbVd");const Hm=new he.b("ia4_peeks"),$C=c(()=>{const r=Object(d.c)(xa.h),n=Object(S.i)(),a=Object(ZC.b)(),[o,i]=Object(s.useState)(0),l=Object(d.c)(Mf.e),[m,h]=Object(s.useState)(!1),p=Date.now(),E=SR()().add(o,"days"),j=E.format("YYYY-MM-DD"),I=E.format("ddd, MMM Do"),G=Object(d.c)(ge=>{var ye;const Ue=(ye=Object(Mf.a)(ge))===null||ye===void 0?void 0:ye.days;return Ue!=null&&Ue.length?Ue[0].events:[]}),Y=Object(s.useCallback)(()=>{n(Object(QC.e)(!l)),a({elementName:ZC.a.TOGGLE_PAST_EVENTS,extraParams:{toggleValue:l?"false":"true"},action:Oe.UiAction.CLICK})},[n,l,a]),se=o<0||o===0&&l?G:G.filter(ge=>ge.start&&ge.start*1e3>p||ge.end&&p<ge.end*1e3),be=Object(s.useCallback)(()=>{i(o-1)},[o]),Ee=Object(s.useCallback)(()=>{i(o+1)},[o]);Object(s.useEffect)(()=>{h(!0),n(Object(TR.a)(j)).then(()=>{h(!1)})},[n,j]);const _e=Object(s.useMemo)(()=>t.a.createElement("div",{className:"p-today_peek_trigger__view_header"},t.a.createElement("div",{className:"p-today_peek_trigger__controls"},t.a.createElement(Or.c,{tip:r?Hm.t("See yesterday"):"See yesterday",delay:Or.a},t.a.createElement(Wo.a,{"aria-label":"test",icon:"caret-left",onClick:be,size:"small"})),I,t.a.createElement(Or.c,{tip:r?Hm.t("See tomorrow"):"See tomorrow",delay:Or.a},t.a.createElement(Wo.a,{"aria-label":"test",icon:"caret-right",onClick:Ee,size:"small"}))),t.a.createElement(jb.a,{className:"p-today_peek_trigger__ts_callout"},r?Hm.t("TS ONLY"):"TS ONLY"),o===0&&t.a.createElement("div",{className:"p-today_peek_trigger__past_events_toggle"},t.a.createElement(IR.a,{selected:l,onClick:Y,"aria-label":r?Hm.t("Past events"):"Past events",label:r?Hm.t("Past events"):"Past events"}))),[r,be,I,Ee,o,l,Y]);return t.a.createElement(lc.a,{header:_e,className:"p-today_peek_trigger__view",classNameSuffix:"today",contentClassName:Object(g.default)("p-view_sidebar","p-view_sidebar--list")},t.a.createElement(AR.a,{isLoading:m,items:se,isToday:o===0,shouldShowPastEvents:l}))},"TodayPeekView");$C.displayName="TodayPeekView";const qC=c(r=>{let{children:n}=r;const a=Object(s.useCallback)(()=>t.a.createElement($C,null),[]),o=Object(d.c)(xa.h),i=Object(S.i)(),l=Object(s.useCallback)(()=>{i(Object(QC.b)(null))},[i]);return o?t.a.createElement(dm.a,{subtype:"today-peek"},t.a.createElement(Dd.a,{renderContent:a,offsetX:12,position:Zc.b.RightTop,forceOpenOnClick:!0,onOpen:l},n)):n},"TodayPeekTrigger");qC.displayName="TodayPeekTrigger";var NR=qC,kR=e("4Rbt");const ey=c(r=>{let{initialMinutes:n}=r;const a=Object(d.c)(xa.h),[o,i]=Object(s.useState)(n);return Object(s.useEffect)(()=>{if(n===0)return;const l=setInterval(()=>{o>0&&i(o-1),l&&o===0&&clearInterval(l)},6e4);return()=>clearInterval(l)},[o,n]),a?t.a.createElement("span",{"aria-hidden":"true",className:Object(g.default)("p-today_event_notification_badge",{"p-today_event_notification_badge--now":o===0}),"data-qa":"mention_badge"},o===0?"1":`${o}m`):null},"TodayEventNotificationBadge");ey.displayName="TodayEventNotificationBadge";var PR=ey;const MR=new he.b("ia4");function ty(){const r=Object(S.i)(),n=Object(d.c)(kR.a),a=Object(d.c)(Mf.b),o=a==null?void 0:a.reminder_minutes_before,i=Object(s.useCallback)(()=>{n&&r(Object(So.a)(Object(Mo.X)(fa.a.Today)))},[r,n]);return t.a.createElement(NR,null,t.a.createElement(ct.d,{className:Object(g.default)("p-tab_rail__button","p-control_strip__circle_button","p-today_tab_button"),"aria-label":MR.t("Control strip"),"data-qa":"tab_rail_calendar_button",onClick:i},t.a.createElement(Pe.a,{name:"calendar",size:"20"}),typeof o=="number"&&t.a.createElement(PR,{initialMinutes:o})))}c(ty,"TodayTabButton"),ty.displayName="TodayTabButton";var DR=t.a.memo(ty);function Df(){return Df=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Df.apply(this,arguments)}c(Df,"control_strip_extends");const RR=new he.b("ia4"),ny=c(r=>{let{isNarrowWindow:n,workspaceSwitcherRailIsVisible:a}=r;const{windowId:o}=Object(s.useContext)(Z.a),{getSiblingView:i}=Object(kc.a)(o),l=Object(d.c)(xa.a),m=Object(d.c)(ge=>Object(Ze.X)(ge,{getSiblingView:i})),h=Object(d.c)(ge=>Object(Ze.cb)(ge,{getSiblingView:i})),p=Object(d.c)(Ze.n),E=Object(d.c)(xa.h),j=Object(d.c)(Kt.g),I=Object(tc.a)({view:"tab-rail",workspaceSwitcherRailIsVisible:a}),G=Object(g.default)("p-control_strip",I,{"p-control_strip--setup":m,"p-control_strip--setup_with_profile_photo":m&&p}),Y=RR.t("Control strip"),se=Object(d.c)(ge=>Object(ka.c)(ge,Ne.g.WELCOME_SPACE)===Ne.h.IA4_NEW_TEAMS_V3_NUX_EDUCATION);if(Object(hn.c)())return null;const Ee=se?ER:OR,_e=c(()=>m?h?t.a.createElement("div",{className:"p-ia__nav__user"},t.a.createElement("div",{className:"p-ia__nav__user__avatar p-ia__nav__user__avatar--placeholder"})):t.a.createElement(If,{size:n?24:32}):t.a.createElement(De.a,{eventId:Oe.EventId.TAB_RAIL},l&&t.a.createElement(d0.a,null),t.a.createElement(yR,null,t.a.createElement(mR,null)),E&&t.a.createElement(DR,null),t.a.createElement(Cs.c,Df({},Q0.b)),t.a.createElement(Ee,null,t.a.createElement(If,{size:n?24:36,hasMenu:!0,showEmojiStatusIcon:!0}))),"renderButtons");return _e.displayName="renderButtons",t.a.createElement(Dr.a,{id:"ControlStrip",index:$r.a.CONTROL_STRIP,enableSectionNavigation:!j},t.a.createElement(Ve.b,{orientation:Ve.a.Vertical,"aria-label":Y,className:G},_e()))},"ControlStrip");ny.displayName="ControlStrip";var xR=t.a.memo(ny);const LR="ia4_tab_rail_accordion";function wR(r){return Object(xa.q)(r)&&Object(en.d)(r,LR)==="on"}c(wR,"isIA4TabRailAccordionEnabled");var Rf=e("Cgcc");const BR=`${Rf.c} p-view_contents--inverted-sidebar`;var WR=e("JaRz"),UR=e("NK7x"),HR=e("GXXt");const FR=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"E5vq"))),KR={spaceName:Ne.g.SIDEBAR_POPOUT,notifications:{[Ne.h.SIDEBAR_POPOUT_QUESTION_AND_RECOMMENDATION_TIP]:{component:FR},[Ne.h.SIDEBAR_POPOUT_SOLUTION_GUIDE]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"yw4l")).then(r=>({default:r.SolutionGuidePocketGuide})))}}};var VR={container:"container__cUiE5"};function xf(){return xf=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},xf.apply(this,arguments)}c(xf,"sidebar_popout_extends");const ay=c(()=>{const r=Object(d.c)(zs.M),n=Object(s.useMemo)(()=>r?{width:r}:{},[r]);return t.a.createElement("div",{className:VR.container,style:n},t.a.createElement(Cs.c,xf({},KR)))},"SidebarPopout");ay.displayName="SidebarPopout";var GR=e("PdLm"),oy=e("ZbzB"),zR=e("QKJg");const sy=c(()=>{const r=Object(S.i)(),n=Object(s.useCallback)(()=>{r(Object(zR.a)())},[r]);return t.a.createElement("div",null,t.a.createElement(Wo.a,{"aria-label":"Close",className:"p-flexpane_header__control p-catch_up_view__header_close_button",onClick:n,"data-qa":"close_catch_up"},t.a.createElement(Pe.a,{name:"close",size:"20"})),"Test")},"CatchUpFullScreenContainer");sy.displayName="CatchUpFullScreenContainer";var YR=sy;const JR=new he.b("view"),XR=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-channel-list-view")]).then(e.bind(null,"rLon"))),QR=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-dms-list-view")]).then(e.bind(null,"cVYp"))),ry=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("vendors~gantry-v2-async-client-app-space-view~gantry-v2-async-client-channel-view~mock-object-import138"),e.e("gantry-v2-async-client-channel-view")]).then(e.bind(null,"v/8X"))),ZR=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("vendors~gantry-v2-async-client-app-space-view~gantry-v2-async-client-channel-view~mock-object-import138"),e.e("gantry-v2-async-client-app-space-view")]).then(e.bind(null,"C6M2"))),iy=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-activity-list-view")]).then(e.bind(null,"TI0g"))),$R=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-assistant-list-view")]).then(e.bind(null,"NpkW"))),qR=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-later-list-view")]).then(e.bind(null,"wAI9"))),ex=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-items-view")]).then(e.bind(null,"LaD6"))),tx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-sales-home-view").then(e.bind(null,"SzIS"))),cy=Object(s.lazy)(()=>e.e("gantry-v2-async-client-thread-view").then(e.bind(null,"23mN"))),nx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-assistant-thread-view")]).then(e.bind(null,"U/kf"))),ly=Object(s.lazy)(()=>e.e("gantry-v2-async-client-canvas-thread-view").then(e.bind(null,"ki9w"))),ax=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-canvas-comment-stream-view")]).then(e.bind(null,"BRyT"))),ox=Object(s.lazy)(()=>e.e("gantry-v2-async-client-canvas-activity-history-view").then(e.bind(null,"H5Fq"))),sx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-canvas-automations-view")]).then(e.bind(null,"g9mC"))),dy=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-profile-view")]).then(e.bind(null,"BaQz"))),rx=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-profile-view")]).then(e.bind(null,"CuCj"))),ix=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-profile-view")]).then(e.bind(null,"VRyr"))),cx=Object(s.lazy)(()=>Promise.all([e.e("vendors~daily-digest-view~workflow-builder-page-edit-hermes-workflow~workflow-builder-page-edit-work~3ac8eed6"),e.e("daily-digest-view")]).then(e.bind(null,"3/SY"))),lx=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-profile-view")]).then(e.bind(null,"aP+u"))),dx=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-profile-view")]).then(e.bind(null,"kq8c"))),uy=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-file-details-view")]).then(e.bind(null,"Cr0H"))),my=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-channel-canvas-view")]).then(e.bind(null,"cmsW"))),ux=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-canvas-view")]).then(e.bind(null,"yTPQ"))),mx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-channel-user-group-view")]).then(e.bind(null,"l30q"))),hx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-threads-view")]).then(e.bind(null,"GfqY"))),px=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-page-view")]).then(e.bind(null,"pxA1"))),bx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-browse-apps-view")]).then(e.bind(null,"i+42"))),fx=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-browse-shortcuts-view")]).then(e.bind(null,"Wueg"))),vx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-browse-canvases-view").then(e.bind(null,"6sb3"))),gx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-browse-channels-view").then(e.bind(null,"zc0a"))),Ox=Object(s.lazy)(()=>e.e("gantry-v2-async-client-browse-files-view").then(e.bind(null,"o8qq"))),Ex=Object(s.lazy)(()=>e.e("gantry-v2-async-client-browse-files-view").then(e.bind(null,"XuKS"))),_x=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-solutions-view")]).then(e.bind(null,"zIxT"))),Cx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-solutions-view")]).then(e.bind(null,"GZcT"))),yx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-external-organizations-view").then(e.bind(null,"4WeS"))),jx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-external-organization-view")]).then(e.bind(null,"/drV"))),Sx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-external-people-view").then(e.bind(null,"lUSP"))),Ix=Object(s.lazy)(()=>e.e("gantry-v2-async-client-slack-connect-channels-view").then(e.bind(null,"sasa"))),Tx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-slack-connect-invitations-view")]).then(e.bind(null,"rAO+"))),Ax=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-browse-external-workpaces-view")]).then(e.bind(null,"68/Q"))),Nx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-browse-lists-view")]).then(e.bind(null,"GcA7"))),kx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-browse-people-view").then(e.bind(null,"9al5"))),Px=Object(s.lazy)(()=>e.e("gantry-v2-async-client-browse-user-groups-view").then(e.bind(null,"E7ik"))),Mx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-workflows-managed-by-you-view").then(e.bind(null,"OEeZ"))),Dx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-your-workflow-templates-view").then(e.bind(null,"/lP1")).then(r=>({default:r.BrowseYourWorkflowTemplatesView}))),Rx=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-async-client-workflow-templates-view")]).then(e.bind(null,"up7n"))),xx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-org-directory-view")]).then(e.bind(null,"ZJHz"))),Lx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-recent-files-view").then(e.bind(null,"ZY0O"))),wx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-files-shared-with-you-view").then(e.bind(null,"AMLI"))),Bx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-files-created-by-you-view").then(e.bind(null,"2nq8"))),Wx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-recent-canvases-view").then(e.bind(null,"bv7T"))),hy=Object(s.lazy)(()=>e.e("gantry-v2-async-client-canvases-filtered-views").then(e.bind(null,"BC2T"))),Ux=Object(s.lazy)(()=>e.e("gantry-v2-async-client-recent-platform-view").then(e.bind(null,"6lCF"))),Hx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-slack-connect-view")]).then(e.bind(null,"KBb3"))),Fx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-search-view").then(e.bind(null,"6GVR"))),Kx=Object(s.lazy)(()=>e.e("about-workspace-view").then(e.bind(null,"OiJT"))),Vx=Object(s.lazy)(()=>e.e("post-event-view").then(e.bind(null,"SOSE"))),Gx=Object(s.lazy)(()=>e.e("external-workspace-people-browser").then(e.bind(null,"4VUp"))),zx=Object(s.lazy)(()=>e.e("external-workspace-channel-browser").then(e.bind(null,"ALWY"))),Yx=Object(s.lazy)(()=>e.e("paid-benefits-view").then(e.bind(null,"DV3e"))),Jx=Object(s.lazy)(()=>e.e("gantry-v2-async-client-setup-view").then(e.bind(null,"NSTd"))),Xx=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-search-empty-view")]).then(e.bind(null,"y1AT"))),Qx=Object(s.lazy)(()=>e.e("more-files-sidebar-view").then(e.bind(null,"HVQu"))),Zx=Object(s.lazy)(()=>e.e("more-lists-sidebar-view").then(e.bind(null,"AS7G"))),$x=Object(s.lazy)(()=>e.e("more-files-sidebar-view").then(e.bind(null,"eAM/"))),qx=Object(s.lazy)(()=>e.e("more-people-sidebar-view").then(e.bind(null,"cmpJ"))),eL=Object(s.lazy)(()=>e.e("more-platform-sidebar-view").then(e.bind(null,"H3pD"))),tL=Object(s.lazy)(()=>e.e("more-canvases-sidebar-view").then(e.bind(null,"ZuPH"))),nL=Object(s.lazy)(Object(U.coroutine)(function*(){return{default:(yield e.e("external-connections-sidebar-controller-view").then(e.bind(null,"ay2B"))).ExternalConnectionsSidebarControllerView}})),aL=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-feedback-view")]).then(e.bind(null,"YJ+S"))),oL=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-help-browser-view")]).then(e.bind(null,"SWse"))),sL=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-whats-new-browser-view")]).then(e.bind(null,"x8oL"))),rL=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-keyboard-shortcuts-browser-view")]).then(e.bind(null,"hrSP"))),iL=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-list-view")]).then(e.bind(null,"gcrZ"))),cL=Object(s.lazy)(()=>e.e("gantry-v2-async-client-list-record-details").then(e.bind(null,"gTHH"))),lL=Object(s.lazy)(()=>e.e("gantry-v2-async-client-list-record-thread").then(e.bind(null,"mocK"))),dL=Object(s.lazy)(()=>e.e("gantry-v2-async-client-list-record-history").then(e.bind(null,"cBb8"))),uL=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-record-ask-view")]).then(e.bind(null,"z3Vf"))),mL=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-record-view")]).then(e.bind(null,"Nefd"))),hL=Object(s.lazy)(()=>e.e("sales-log-activity-view").then(e.bind(null,"Hffr"))),pL=Object(s.lazy)(()=>e.e("channel-files-view").then(e.bind(null,"L9LU"))),bL=Object(s.lazy)(()=>Promise.all([e.e("client-boot-styles"),e.e("gantry-v2-async-client-ai-app-view")]).then(e.bind(null,"s4cD"))),fL=Object(s.lazy)(()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("workflow-details")]).then(e.bind(null,"gall"))),py=c(r=>{let{invertSidebar:n,invertedSidebarClassname:a,sidebarViewType:o,experimentThemingNewDefaultGroupOn:i}=r;return n?t.a.createElement(qt.a,{container:f.k.Sidebar,className:a,viewType:o,experimentThemingNewDefaultGroupOn:i}):t.a.createElement(qt.a,{container:f.k.Sidebar,viewType:o,experimentThemingNewDefaultGroupOn:i})},"renderSidebarFallback");py.displayName="renderSidebarFallback";const vL=t.a.createElement(qt.a,{container:f.k.Primary}),gL=t.a.createElement(qt.a,{container:f.k.Secondary});function OL(){var r,n,a,o,i,l,m,h,p,E,j,I,G,Y,se,be,Ee,_e,ge,ye,Ue,Re,tt,Ge,Tt,yn,xn,Pn,Lt,Vn,la,Ta,ao,qa,po,Qo,oo,ma,Lo,zo,lo,Sr,_t,ja;const{window:wa,windowId:Bs}=Object(s.useContext)(Z.a),{getFocusedContainer:ci}=Object(s.useContext)(WR.a),Ya=Object(S.i)(),ks=Object(O.a)(),el=Object(O.c)(),Al=Object(d.c)(dn.a),Kd=Object(d.c)(V.b),Vd=Object(d.c)(V.c),Bu=Object(d.c)(Fn.m),Wu=Object(d.c)(vt.a),cd=Object(d.c)(nn.h),Uu=Object(Xt.h)(cd),Zo=Object(d.c)(bo=>!Object(bn.u)(bo,"a11y_animations")),Ps=Object(tc.a)({view:"sidebar"}),bc=!!Object(tc.a)({view:"chrome"}),Gd=Object(d.c)(rf.r),Nl=Gn(),Hu=Object(Va.a)(),Qs=Object(d.c)(Q.a),Ms=Object(d.e)(bo=>Object(Q.i)(bo,{tab:Qs||f.f.Home})),{overflowTabs:hp,tabsToShow:Yi}=A_(),pp=Object(ee.d)(Qs),ld=Object(d.c)(wR),bp=Object(d.c)(xa.x),zd=Object(d.c)(xa.o),fp=Object(d.c)(xa.A),vp=Object(d.c)(bo=>Object(en.d)(bo,"updated_resizer")==="on"),Fu=Object(hn.c)();wa.name=f.e.description;const[kl,gp]=Object(s.useState)({width:wa.innerWidth,height:wa.innerHeight}),Xr=Object(d.c)(bo=>Object(ga.b)(bo,{windowId:f.e})),Sn=Object(d.c)(xa.y),Rt=Object(d.c)(Q.g),{sidebarWidthIntent:Ji,sidebarWidthMode:$o,secondaryWidthIntent:Ir,secondaryWidthMode:Fm,sidebarMin:Lf,secondaryMin:by,secondaryMax:CL,isWorkspaceSwitcherVisible:yL,onSidebarResizeStart:jL,onSidebarResize:SL,onSidebarResizeEnd:IL,onSidebarReset:TL,onSecondaryResizeStart:AL,onSecondaryResize:NL,onSecondaryResizeEnd:kL,onSecondaryReset:PL}=ne({isWorkspaceSwitcherRailEnabled:Wt()}),wo=Object(s.useRef)(null);wo.current=Qe({viewSet:Ms,windowWidth:kl.width,windowHeight:kl.height,activeTab:Qs,previousLayout:wo.current,sidebarIsCollapsed:!Kd,sidebarWidthIntent:Ji,sidebarWidthMode:$o,secondaryWidthIntent:Ir,secondaryWidthMode:Fm,columnMode:Xr==null?void 0:Xr.columnMode,isErrorScreen:Fu,isWorkspaceSwitcherVisible:yL||!1,experimentIa4CompactorGroupOn:zd});const Ku=zd&&((r=wo.current)===null||r===void 0?void 0:r.isNarrowWindow),ML=Ku?x.u:x.t,fy=Ku?x.s:x.r;Object(F.a)(()=>{ks(Object(Ht.a)({isFocused:!0})),Ya(Object(ue.a)({prevViewSet:void 0,prevTab:void 0,nextViewSet:Ms,nextTab:Qs,navigateParams:{},triggerType:te.a.CLIENT_MOUNT})),Ya(Object(zn.a)({windowWidth:kl.width})),Hu.track(Oe.EventId.IA4_SESSION_START)});const Op=Object(s.useRef)({}),Ep=Object(s.useRef)({}),_p=Object(s.useRef)({}),vy=!((n=wo.current)===null||n===void 0||(a=n.sidebar)===null||a===void 0)&&a.isForceCollapsed?!Vd:!Kd&&((o=wo.current)===null||o===void 0||(i=o.sidebar)===null||i===void 0?void 0:i.isCollapsed);Op.current={columnIdentifier:f.k.Sidebar,layout:wo==null||(l=wo.current)===null||l===void 0?void 0:l.sidebar,isSidebarForceCollapsed:(m=wo.current)===null||m===void 0||(h=m.sidebar)===null||h===void 0?void 0:h.isForceCollapsed,shouldShowSidebarToggleButton:!1},Ep.current={columnIdentifier:f.k.Primary,layout:wo==null||(p=wo.current)===null||p===void 0?void 0:p.primary,isSidebarForceCollapsed:(E=wo.current)===null||E===void 0||(j=E.sidebar)===null||j===void 0?void 0:j.isForceCollapsed,shouldShowSidebarToggleButton:vy},_p.current={columnIdentifier:f.k.Secondary,layout:wo==null||(I=wo.current)===null||I===void 0?void 0:I.secondary,isSidebarForceCollapsed:(G=wo.current)===null||G===void 0||(Y=G.sidebar)===null||Y===void 0?void 0:Y.isForceCollapsed,shouldShowSidebarToggleButton:!1};const DL=cn(Ot(wo.current)),wf=(se=wo.current)===null||se===void 0?void 0:se.sidebar.isForceCollapsed,gy=Object(s.useCallback)(()=>{gp({width:wa.innerWidth,height:wa.innerHeight}),Ya(Object(zn.a)({windowWidth:wa.innerWidth}))},[Ya,wa.innerHeight,wa.innerWidth]),RL=Object(s.useCallback)(()=>{Ya(Object(Yt.a)(!1))},[Ya]),xL=Object(s.useCallback)(()=>{Ya(Object(Yt.a)(!0))},[Ya]),Oy=Object(s.useRef)();Object(s.useEffect)(()=>{var bo,Zs,$s;const Ds=(bo=Oy.current)===null||bo===void 0||(Zs=bo.inputRef)===null||Zs===void 0?void 0:Zs.current;Ds&&Ds===wa.document.activeElement||!(ci()===f.k.Sidebar)||Ds==null||($s=Ds.focus)===null||$s===void 0||$s.call(Ds)},[ci,vy,wa]),Object(s.useEffect)(()=>{const bo=Object(J.a)(gy,30);return wa.addEventListener("resize",bo),()=>{wa.removeEventListener("resize",bo)}},[gy,wa]),Ln(),Object(Ma.a)(),Object(s.useEffect)(()=>{if(Al==="dark"){var bo,Zs;(Zs=(bo=wa.document)===null||bo===void 0?void 0:bo.querySelector("body"))===null||Zs===void 0||Zs.classList.add(Rf.c)}else{var $s,Ds;(Ds=($s=wa.document)===null||$s===void 0?void 0:$s.querySelector("body"))===null||Ds===void 0||Ds.classList.remove(Rf.c)}wa.skFirstPaintStyle&&(wa.skFirstPaintStyle.remove(),wa.skFirstPaintStyle=null)},[wa,Al,wa.document]);const Vu=Object(d.c)(mp.v),Bf=Object(d.c)(oy.f)?"application":void 0,Wf=Object(d.c)(oy.f)?JR.t("Slack"):void 0;Object(s.useEffect)(()=>{var bo,Zs;if(Bf&&Wf){var $s,Ds,fc,Cp;($s=wa.document)===null||$s===void 0||(Ds=$s.body)===null||Ds===void 0||Ds.setAttribute("role",Bf),(fc=wa.document)===null||fc===void 0||(Cp=fc.body)===null||Cp===void 0||Cp.setAttribute("aria-label",Wf)}return(bo=wa.document)===null||bo===void 0||(Zs=bo.body)===null||Zs===void 0||Zs.classList.add("p-ia4_body"),()=>{var Kf,Vf;(Kf=wa.document)===null||Kf===void 0||(Vf=Kf.body)===null||Vf===void 0||Vf.classList.remove("p-ia4_body")}},[wa.document,Bf,Wf]),Object(s.useEffect)(()=>{const bo="p-body--chrome-inverted";if(bc){var Zs,$s;(Zs=wa.document)===null||Zs===void 0||($s=Zs.body)===null||$s===void 0||$s.classList.add(bo)}else{var Ds,fc;(Ds=wa.document)===null||Ds===void 0||(fc=Ds.body)===null||fc===void 0||fc.classList.remove(bo)}},[bc,wa.document]),Object(s.useEffect)(()=>{const bo="p-body--sidebar-inverted";if(Ps){var Zs,$s;(Zs=wa.document)===null||Zs===void 0||($s=Zs.body)===null||$s===void 0||$s.classList.add(bo)}else{var Ds,fc;(Ds=wa.document)===null||Ds===void 0||(fc=Ds.body)===null||fc===void 0||fc.classList.remove(bo)}},[Ps,wa.document]),Object(s.useEffect)(()=>{if(Vu){var bo,Zs;(bo=wa.document)===null||bo===void 0||(Zs=bo.body)===null||Zs===void 0||Zs.classList.add("p-body--theming-m4")}return()=>{var $s,Ds;($s=wa.document)===null||$s===void 0||(Ds=$s.body)===null||Ds===void 0||Ds.classList.remove("p-body--theming-m4")}},[Vu,wa.document]);const Ey=((be=wo.current)===null||be===void 0||(Ee=be.sidebar)===null||Ee===void 0?void 0:Ee.isForceCollapsed)&&Vd,_y=Object(O.b)(pa.x),LL=Object(d.f)(HC.c),Uf=Object(mp.B)(LL,Al),Gu=(_e=wo.current)===null||_e===void 0||(ge=_e.workspaceSwitcher)===null||ge===void 0?void 0:ge.isCollapsed,wL=Object(g.default)("p-ia4_client p-ia4_client--with-search-in-top-nav",{"p-ia4_client--workspace-switcher-rail-visible":!Gu&&!ld,"p-ia4_client--workspace-switcher-rail-visibletest":!0,"p-ia4_client--with-workspace-switcher-sk-menu--not-collapsed":!Gu&&!ld,"p-workspace-switcher-accordion":ld,"p-ia4_client--blurred-window":Object(Ye.i)()&&!Bu,"p-ia4_client--browser":!Object(Ye.i)(),"p-ia4_client--lbo-max-width-hack":Wu==="W1M2GKF2R","p-ia4_client--sidebar-collapsed":(ye=wo.current)===null||ye===void 0||(Ue=ye.sidebar)===null||Ue===void 0?void 0:Ue.isCollapsed,"p-ia4_client--sidebar-floating":(Re=wo.current)===null||Re===void 0||(tt=Re.sidebar)===null||tt===void 0?void 0:tt.isForceCollapsed,"p-ia4_client--sidebar-visible":Ey,"p-ia4_client--sidebar-wide":pp,"p-ia4_client--animations-disabled":Zo,"p-ia4_client--huddle-in-sidebar":_y,"p-ia4_client--narrow":Ku,"p-ia4_client--narrow-feature-on":zd,[mp.f]:Vu}),Hf=Object(S.j)(),{getSiblingView:BL}=Object(kc.a)(Bs),Cy=Object(d.c)(bo=>Object(Ze.X)(bo,{getSiblingView:BL})),WL=Qs===f.f.Search&&(Ms==null||(Ge=Ms[f.k.Primary])===null||Ge===void 0?void 0:Ge.viewType)===D.c.SearchEmpty,UL=!Cy&&!WL,HL=Gi(Qs),FL=!bp,yy=!Gu,Di=Object(s.useMemo)(()=>Vu?Ps:Uf?BR:void 0,[Vu,Uf,Ps]),jy=Object(d.c)(Fn.d),Yd=Object(d.e)(bo=>jy===f.e?Ms:Object(Q.e)(bo,{windowId:jy})),Km=(Yd==null||(Tt=Yd.primary)===null||Tt===void 0?void 0:Tt.viewType)===D.c.Channel?Yd==null||(yn=Yd.primary)===null||yn===void 0?void 0:yn.id:void 0,Ff=Object(d.c)(bo=>Object(Mt.d)(bo,Km)),KL=Object(d.c)(bo=>Object(Tn.e)(bo,Ff)),VL=Object(d.c)(bo=>!!Km&&Object(Tn.d)(bo,Km)),GL=Object(d.c)(bo=>!!Km&&Object(Tn.W)(bo,Km)),zL=Object(d.c)(rf.w),YL=Object(d.c)(bo=>!!Ff&&Object(UR.b)(bo,Ff.id)),JL=Ms==null||(xn=Ms.sidebar)===null||xn===void 0?void 0:xn.viewType;return t.a.createElement(At.b,{subtype:"ia4-client"},t.a.createElement(HR.a,null),t.a.createElement(sa.a,{store:Hf}),t.a.createElement(kk,null),t.a.createElement("div",{className:"p-ia4_client_container"},t.a.createElement("div",{className:wL},t.a.createElement(Ha.a,null),t.a.createElement(s.Fragment,{key:Nl},t.a.createElement(Gm,{sidebarWidth:(wo==null||(Pn=wo.current)===null||Pn===void 0||(Lt=Pn.sidebar)===null||Lt===void 0?void 0:Lt.narrowSidebarWidth)||0,windowWidth:kl.width,isShowingTabRailWorkspaceSwitcher:yy}),!ld&&t.a.createElement(kN,{isNarrowWindow:Ku}),t.a.createElement("div",{className:"p-client_workspace_wrapper",role:"tabpanel","aria-label":Uu,key:cd.id},ld&&t.a.createElement(VN,{workspaceSwitcherRailIsVisible:!Gu}),!ld&&t.a.createElement($O,{overflowTabs:hp,shouldShowWorkspaceSwitcher:FL,tabsToShow:Yi,isNarrowWindow:Ku,workspaceSwitcherRailIsVisible:!Gu}),t.a.createElement("div",{"aria-label":HL,role:"tabpanel",className:"p-client_workspace",key:Qs},t.a.createElement(an,{store:Hf}),t.a.createElement(Zt.a,{store:Hf}),t.a.createElement(ba.a,null),t.a.createElement(Sd,{isSidebarForceCollapsed:wf}),Fu&&t.a.createElement("div",{className:"p-client_workspace__layout"},t.a.createElement(At.b,{subtype:"ia4-view-container-error-screen"},t.a.createElement(Dr.a,{id:f.k.Primary,index:$r.a[f.k.Primary]},t.a.createElement("div",{className:"p-view_contents--primary"},t.a.createElement(ck,{teamId:cd.id}))))),!Fu&&t.a.createElement("div",{className:"p-client_workspace__layout"},(!(!((Vn=wo.current)===null||Vn===void 0)&&Vn.sidebar.isForceCollapsed)||Ey)&&t.a.createElement(At.b,{subtype:"ia4-view-container-sidebar"},t.a.createElement(s.Suspense,{fallback:py({invertSidebar:Uf,invertedSidebarClassname:Di,sidebarViewType:JL,experimentThemingNewDefaultGroupOn:Vu})},t.a.createElement(pe.a.Provider,{value:Op==null?void 0:Op.current},t.a.createElement(Im.a,{type:f.k.Sidebar,windowId:Bs,shouldNavigateInContext:!0},t.a.createElement(qt.b,{viewType:D.c.ChannelList,className:Di},t.a.createElement(XR,null)),t.a.createElement(qt.b,{viewType:D.c.DmsList,className:Di},t.a.createElement(QR,null)),t.a.createElement(qt.b,{viewType:D.c.ActivityList,className:Di},t.a.createElement(iy,null)),t.a.createElement(qt.b,{viewType:D.c.AssistantList,className:Di},t.a.createElement($R,null)),t.a.createElement(qt.b,{viewType:D.c.MoreAiSummarySidebar,className:Di},t.a.createElement(lx,null)),t.a.createElement(qt.b,{viewType:D.c.LaterList,className:Di},t.a.createElement(qR,null)),t.a.createElement(qt.b,{viewType:D.c.Search},t.a.createElement(Fx,null)),t.a.createElement(qt.b,{viewType:D.c.MoreFilesSidebar,className:Di},t.a.createElement(Qx,null)),t.a.createElement(qt.b,{viewType:D.c.MoreListsSidebar,className:Di},t.a.createElement(Zx,null)),t.a.createElement(qt.b,{viewType:D.c.FilesPrototypeSidebar,className:Di},t.a.createElement($x,null)),t.a.createElement(qt.b,{viewType:D.c.MorePeopleSidebar,className:Di},t.a.createElement(qx,null)),t.a.createElement(qt.b,{viewType:D.c.MorePlatformSidebar,className:Di},t.a.createElement(eL,null)),t.a.createElement(qt.b,{viewType:D.c.MoreCanvasesSidebar,className:Di},t.a.createElement(tL,null)),t.a.createElement(qt.b,{viewType:D.c.MoreExternalConnectionsSidebar,className:Di},t.a.createElement(nL,null)),UL&&t.a.createElement(Ft.a,{ref:Oy,visible:!0,isCollapsed:(la=wo.current)===null||la===void 0?void 0:la.sidebar.isCollapsed,canBeCollapsed:Qs===f.f.Home,columnWidth:(Ta=wo.current)===null||Ta===void 0?void 0:Ta.sidebar.width,defaultWidth:(ao=wo.current)===null||ao===void 0||(qa=ao.sidebar)===null||qa===void 0?void 0:qa.defaultWidth,windowWidth:kl.width,offset:yy?fy+ML:fy,fromRight:!1,onResizeStart:jL,onResize:SL,onResizeEnd:IL,onReset:TL,min:Lf,max:(po=wo.current)===null||po===void 0||(Qo=po.sidebar)===null||Qo===void 0?void 0:Qo.maxWidth,className:"p-ia4_client__resizer p-ia4_client__resizer--sidebar",experimentUpdatedResizerGroupOn:vp,includeInTabOrder:!0,onDirectManipulationCollapse:RL,onDirectManipulationShow:xL}))))),t.a.createElement(At.b,{subtype:"ia4-view-container-primary"},t.a.createElement(s.Suspense,{fallback:vL},t.a.createElement(pe.a.Provider,{value:Ep==null?void 0:Ep.current},!(!(wo==null||(oo=wo.current)===null||oo===void 0||(ma=oo.primary)===null||ma===void 0)&&ma.isCollapsed)&&t.a.createElement(Im.a,{type:f.k.Primary,windowId:Bs,shouldNavigateInContext:!0},t.a.createElement(qt.b,{viewType:D.c.Channel},t.a.createElement(ry,null)),t.a.createElement(qt.b,{viewType:D.c.ActivityList},t.a.createElement(iy,null)),t.a.createElement(qt.b,{viewType:D.c.SalesHome},t.a.createElement(tx,null)),t.a.createElement(qt.b,{viewType:D.c.RecordChannelCreate},t.a.createElement(uL,null)),t.a.createElement(qt.b,{viewType:D.c.Page},t.a.createElement(px,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseApps},t.a.createElement(bx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseShortcuts},t.a.createElement(fx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseWorkflowsManagedByYou},t.a.createElement(Mx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseYourWorkflowTemplates},t.a.createElement(Dx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseWorkflowTemplates},t.a.createElement(Rx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseCanvases},t.a.createElement(vx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseChannels},t.a.createElement(gx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseFiles},t.a.createElement(Ox,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseFilesPrototype},t.a.createElement(Ex,null)),t.a.createElement(qt.b,{viewType:D.c.SlackKitPlayground},t.a.createElement(_x,null)),t.a.createElement(qt.b,{viewType:D.c.Solutions},t.a.createElement(Cx,null)),t.a.createElement(qt.b,{viewType:D.c.ExternalOrganizations},t.a.createElement(At.b,{subtype:GR.a},t.a.createElement(yx,null))),t.a.createElement(qt.b,{viewType:D.c.ExternalOrganization},t.a.createElement(jx,null)),t.a.createElement(qt.b,{viewType:D.c.ExternalPeople},t.a.createElement(Sx,null)),t.a.createElement(qt.b,{viewType:D.c.SlackConnectChannels},t.a.createElement(Ix,null)),t.a.createElement(qt.b,{viewType:D.c.SlackConnectInvitations},t.a.createElement(Tx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseExternalWorkspace},t.a.createElement(Ax,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseLists},t.a.createElement(Nx,null)),t.a.createElement(qt.b,{viewType:D.c.MyItems},t.a.createElement(ex,null)),t.a.createElement(qt.b,{viewType:D.c.List},t.a.createElement(iL,null)),t.a.createElement(qt.b,{viewType:D.c.BrowsePeople},t.a.createElement(kx,null)),t.a.createElement(qt.b,{viewType:D.c.SearchSummary},t.a.createElement(dx,null)),t.a.createElement(qt.b,{viewType:D.c.BrowseUserGroups},t.a.createElement(Px,null)),t.a.createElement(qt.b,{viewType:D.c.OrgDirectory},t.a.createElement(xx,null)),t.a.createElement(qt.b,{viewType:D.c.RecentFiles},t.a.createElement(Lx,null)),t.a.createElement(qt.b,{viewType:D.c.FilesSharedWithYou},t.a.createElement(wx,null)),t.a.createElement(qt.b,{viewType:D.c.FilesCreatedByYou},t.a.createElement(Bx,null)),t.a.createElement(qt.b,{viewType:D.c.RecentCanvases},t.a.createElement(Wx,null)),t.a.createElement(qt.b,{viewType:D.c.CanvasesSharedWithYou},t.a.createElement(hy,{context:"shared"})),t.a.createElement(qt.b,{viewType:D.c.CanvasesCreatedByYou},t.a.createElement(hy,{context:"created"})),t.a.createElement(qt.b,{viewType:D.c.RecentPlatform},t.a.createElement(Ux,null)),t.a.createElement(qt.b,{viewType:D.c.SlackConnect},t.a.createElement(Hx,null)),t.a.createElement(qt.b,{viewType:D.c.Thread},t.a.createElement(cy,null)),t.a.createElement(qt.b,{viewType:D.c.AssistantThread},t.a.createElement(nx,null)),t.a.createElement(qt.b,{viewType:D.c.Profile},t.a.createElement(dy,null)),t.a.createElement(qt.b,{viewType:D.c.FileDetails},t.a.createElement(uy,null)),t.a.createElement(qt.b,{viewType:D.c.Threads},t.a.createElement(hx,{clientTheme:Al})),t.a.createElement(qt.b,{viewType:D.c.QuipCommentThread},t.a.createElement(ly,null)),t.a.createElement(qt.b,{viewType:D.c.ChannelCanvas},t.a.createElement(my,null)),t.a.createElement(qt.b,{viewType:D.c.Canvas},t.a.createElement(ux,null)),t.a.createElement(qt.b,{viewType:D.c.AboutWorkspace},t.a.createElement(Kx,null)),t.a.createElement(qt.b,{viewType:D.c.PostEvent},t.a.createElement(Vx,null)),t.a.createElement(qt.b,{viewType:D.c.ExternalWorkspacePeopleBrowser},t.a.createElement(Gx,null)),t.a.createElement(qt.b,{viewType:D.c.ExternalWorkspaceChannelBrowser},t.a.createElement(zx,null)),t.a.createElement(qt.b,{viewType:D.c.PaidBenefits},t.a.createElement(Yx,null)),t.a.createElement(qt.b,{viewType:D.c.AppSpace},t.a.createElement(ZR,null)),t.a.createElement(qt.b,{viewType:D.c.Setup},t.a.createElement(Jx,null)),t.a.createElement(qt.b,{viewType:D.c.SearchEmpty},t.a.createElement(Xx,null)),t.a.createElement(qt.b,{viewType:D.c.DailyDigest},t.a.createElement(cx,null)))))),t.a.createElement(At.b,{subtype:"ia4-view-container-secondary"},t.a.createElement(s.Suspense,{fallback:gL},t.a.createElement(pe.a.Provider,{value:_p==null?void 0:_p.current},t.a.createElement(Im.a,{type:f.k.Secondary,windowId:Bs,shouldNavigateInContext:!0},t.a.createElement(qt.b,{viewType:D.c.Channel},t.a.createElement(ry,null)),t.a.createElement(qt.b,{viewType:D.c.Thread},t.a.createElement(cy,null)),t.a.createElement(qt.b,{viewType:D.c.QuipCommentThread},t.a.createElement(ly,null)),t.a.createElement(qt.b,{viewType:D.c.Profile},t.a.createElement(dy,null)),t.a.createElement(qt.b,{viewType:D.c.AiSummaryDetails},t.a.createElement(rx,null)),t.a.createElement(qt.b,{viewType:D.c.AiSummaryList},t.a.createElement(ix,null)),t.a.createElement(qt.b,{viewType:D.c.FileDetails},t.a.createElement(uy,null)),t.a.createElement(qt.b,{viewType:D.c.ChannelCanvas},t.a.createElement(my,null)),t.a.createElement(qt.b,{viewType:D.c.UserGroup},t.a.createElement(mx,null)),t.a.createElement(qt.b,{viewType:D.c.QuipCommentStream},t.a.createElement(ax,null)),t.a.createElement(qt.b,{viewType:D.c.QuipActivityHistory},t.a.createElement(ox,null)),t.a.createElement(qt.b,{viewType:D.c.QuipAutomationsOverview},t.a.createElement(sx,null)),t.a.createElement(qt.b,{viewType:D.c.FeedbackBrowser},t.a.createElement(aL,null)),t.a.createElement(qt.b,{viewType:D.c.HelpBrowser},t.a.createElement(oL,null)),t.a.createElement(qt.b,{viewType:D.c.WhatsNewBrowser},t.a.createElement(sL,null)),t.a.createElement(qt.b,{viewType:D.c.KeyboardShortcutsBrowser},t.a.createElement(rL,null)),t.a.createElement(qt.b,{viewType:D.c.Record},t.a.createElement(mL,null)),t.a.createElement(qt.b,{viewType:D.c.ListRecordDetails},t.a.createElement(cL,null)),t.a.createElement(qt.b,{viewType:D.c.ListRecordThread},t.a.createElement(lL,null)),t.a.createElement(qt.b,{viewType:D.c.ListRecordHistory},t.a.createElement(dL,null)),t.a.createElement(qt.b,{viewType:D.c.SalesLogActivity},t.a.createElement(hL,null)),t.a.createElement(qt.b,{viewType:D.c.ChannelFiles},t.a.createElement(pL,null)),t.a.createElement(qt.b,{viewType:D.c.AiApp},t.a.createElement(bL,null)),t.a.createElement(qt.b,{viewType:D.c.WorkflowDetails},t.a.createElement(fL,null)))),t.a.createElement(Ft.a,{visible:!(!((Lo=wo.current)===null||Lo===void 0)&&Lo.secondary.isCollapsed)&&(Xr==null?void 0:Xr.columnMode)!==ie.c.Single,columnWidth:(zo=wo.current)===null||zo===void 0?void 0:zo.secondary.width,defaultWidth:(lo=wo.current)===null||lo===void 0||(Sr=lo.secondary)===null||Sr===void 0?void 0:Sr.defaultWidth,windowWidth:kl.width,offset:0,fromRight:!0,onResizeStart:AL,onResize:NL,onResizeEnd:kL,onReset:PL,min:by,max:CL,className:"p-ia4_client__resizer p-ia4_client__resizer--secondary"}))),t.a.createElement(xR,{isNarrowWindow:Ku,workspaceSwitcherRailIsVisible:!Gu}),!_y&&!Gd&&t.a.createElement(ay,null),t.a.createElement(s0,{primaryView:Ms==null||(_t=Ms[f.k.Primary])===null||_t===void 0?void 0:_t.id,sidebarLayout:wo==null||(ja=wo.current)===null||ja===void 0?void 0:ja.sidebar})),!Cy&&t.a.createElement(Pp,{locale:Nl})))),Sn&&(Rt==null?void 0:Rt[f.b])===f.c.CatchUp&&t.a.createElement("div",{className:"p-ia4_client--full-screen"},t.a.createElement(YR,null)),t.a.createElement(Im.a,{type:f.k.Modal,windowId:f.e,shouldNavigateInContext:!0},t.a.createElement(vk,{inputId:sl.x.OMNISWITCHER}),t.a.createElement(lk.a,null),t.a.createElement(gv.a,null)),t.a.createElement(gk.a,{commands:Ok.a}),t.a.createElement("style",null,DL),t.a.createElement(Ek.a,null),Object(Ye.i)()&&t.a.createElement(l0,null),Object(Ye.i)()&&t.a.createElement(u.b,{store:el},fp?t.a.createElement(Ip,{isSidebarForceCollapsed:wf,currentViewSet:Yd,viewSupportsHuddle:KL,viewHasActiveHuddle:VL,userInActiveHuddle:GL,channelSections:zL,isMutedChannel:YL,tabsToShow:Yi,overflowTabs:hp}):t.a.createElement(ni,{isSidebarForceCollapsed:wf})))))}c(OL,"Client");var EL=e("V+Kh");function _L(){const r=Object(O.b)(C.getFocusedWorkspace),n=Object(v.getStoreInstanceByTeamId)(r);return t.a.createElement(u.b,{store:n},t.a.createElement(De.a,{eventId:Oe.EventId.CLIENT_GENERAL},t.a.createElement(L,null,t.a.createElement(B.a,null,t.a.createElement(z.a,null,t.a.createElement(EL.a,null,t.a.createElement(OL,null)))))))}c(_L,"IA4MultiTeamClient")},"1z69":function(le,y,e){"use strict";e.d(y,"c",function(){return t}),e.d(y,"d",function(){return u}),e.d(y,"b",function(){return C}),e.d(y,"a",function(){return O});var s=e("uVZW");const t={[s.h.USECASE_ONBOARDING_CHANNEL_COACHMARK]:1,[s.h.USECASE_ONBOARDING_APPS_COACHMARK]:2,[s.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK]:2,[s.h.USECASE_ONBOARDING_HUDDLE_COACHMARK]:2},u=2,C=400,O="p-usecase_onboarding_coachmark_tractor_channel_coachmark"},"2dSg":function(le,y,e){le.exports=e.p+"clipboard-a3818ee.svg"},"308K":function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("Fxe3"),C=e("CTEJ"),O=e("snel");const v=t.a.memo(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{style:{marginBottom:"10px"},className:"p-explorer_result--list"},t.a.createElement(C.a,{size:"small"})),t.a.createElement(u.a,{className:"p-explorer_result--list p-explorer_result--list--first"}),[...Array(3)].map((P,M)=>t.a.createElement(u.a,{key:M,className:"p-explorer_result--list"})),t.a.createElement(u.a,{className:"p-explorer_result--list p-explorer_result--list--last"}))),B=c(()=>t.a.createElement(t.a.Fragment,null,t.a.createElement(v,null),t.a.createElement(v,null),t.a.createElement(v,null)),"GroupedFileListSkeleton");y.a=t.a.memo(B)},"3IUx":function(le,y,e){le.exports=e.p+"tabs-reveal-coachmark-607bdd6.gif"},"3R77":function(le,y,e){le.exports=e.p+"coachmark_home_more_static-2359fcf.png"},"3uxa":function(le,y,e){"use strict";e.d(y,"b",function(){return C}),e.d(y,"a",function(){return O}),e.d(y,"c",function(){return v}),e.d(y,"d",function(){return B});var s=e("q1tI"),t=e.n(s),u=e("uVZW");const C={spaceName:u.g.WELCOME_SPACE,notifications:{[u.h.USECASE_ONBOARDING_CHANNEL_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"GUMB")))}}},O={spaceName:u.g.WELCOME_SPACE,notifications:{[u.h.USECASE_ONBOARDING_APPS_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"qISS")))}}},v={spaceName:u.g.WELCOME_SPACE,notifications:{[u.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"LR2U")))}}},B={spaceName:u.g.WELCOME_SPACE,notifications:{[u.h.USECASE_ONBOARDING_HUDDLE_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"FlVn")))}}}},"4Emp":function(le,y,e){"use strict";e.r(y),e.d(y,"BaseJCBPromoOfferBanner",function(){return Q});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("ktUG"),v=e("nNoG"),B=e("/0Xg"),P=e("RVJP"),M=e("69o4"),L=e("uVZW"),z=e("AKIH"),U=e("IiTT"),g=e("Trx9"),J=e("Tevt"),d=e("1jr5");function S(){return S=Object.assign||function(X){for(var K=1;K<arguments.length;K++){var H=arguments[K];for(var w in H)Object.prototype.hasOwnProperty.call(H,w)&&(X[w]=H[w])}return X},S.apply(this,arguments)}c(S,"_extends");const F=new v.b("pro_price_change"),x={elementName:"upgrade",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},Q=c(X=>{let{enableSectionNavigation:K,experimentJcbPromoTranslationsGroupOn:H,discountPercent:w,expirationTs:T,onDismissBanner:ee}=X;if(!H)return null;const ne=c(te=>{let{text:D}=te;return t.a.createElement(J.a,{"data-qa":"jcb_promo_offer_client_footer_banner_upgrade_link",autoClogProps:x,onClick:ee,href:Object(B.u)({promoCode:"2812b272"})},D)},"renderUpgradeLink"),ue=Object(z.a)(T,!1,{shortenDay:!0});return t.a.createElement(g.a,{clogImpression:!0,eventId:O.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:O.UiComponentName.JCB_PROMO_OFFER_CLIENT_BANNER,enableClogImpressionOffScreen:!0},t.a.createElement(U.a,{className:"align_center","data-qa":"jcb_promo_offer_client_footer_banner",type:d.b.info,preventTypeOverride:!0,isFixedPosition:!1,onClose:ee,enableSectionNavigation:K},F.rt("Get {discountPercent}% off a yearly paid plan when you pay with your JCB card. Upgrade by {discountExpirationDate} to get this special offer. <upgradeLink>Upgrade now</upgradeLink>",{discountPercent:w,discountExpirationDate:ue,"<upgradeLink>":ne})))},"JCBPromoOfferBanner");Q.displayName="JCBPromoOfferBanner";const V=c(X=>{const K=Object(u.i)(),H=Object(s.useCallback)(()=>{K(Object(M.a)({spaceName:L.g.CLIENT_FOOTER,action:L.f.DISMISS}))},[K]),w=Object(C.c)(T=>Object(P.d)(T,"jcb_promo_translations")==="on");return t.a.createElement(Q,S({experimentJcbPromoTranslationsGroupOn:w,onDismissBanner:H},X))},"ConnectedJCBPromoOfferBanner");V.displayName="ConnectedJCBPromoOfferBanner",y.default=V},"4Pyn":function(le,y,e){le.exports=e.p+"channels_static-2adb243.png"},"4QC+":function(le,y,e){"use strict";e.r(y),e.d(y,"BaseLogActivityCoachmark",function(){return V}),e.d(y,"LogActivityCoachmark",function(){return X});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("03PU"),O=e("N0zA"),v=e("ktUG"),B=e("nNoG"),P=e("zxER"),M=e("eWGC"),L=e("uVZW"),z=e("y8m0"),U=e("EBYt"),g=e.n(U),J=e("0oqj"),d=e.n(J),S=e("sEVn");function F(){return F=Object.assign||function(K){for(var H=1;H<arguments.length;H++){var w=arguments[H];for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(K[T]=w[T])}return K},F.apply(this,arguments)}c(F,"_extends");const x=new B.b("modernselling"),Q={eventId:v.EventId.LOB_SALES_HOME,uiComponentName:v.UiComponentName.SALES_LOG_ACTIVITY_COACHMARK,clogImpression:!0},V=c(K=>{let{dismissCoachmark:H,children:w,renderCoachmark:T,UNSAFE_parentSelector:ee}=K;const ne=x.t("A faster way to log activity is here"),ue=x.rt("Now, you can capture every customer touchpoint, like calls and emails, both here and on mobile. From the Sales tab, click <strong>Log Activity</strong> to get loggin\u2019."),te=x.t("sales home coachmark"),D=Object(s.useMemo)(()=>t.a.createElement("img",{className:"p-sales_nux_coachmark__hero_img",srcSet:`${g.a}, ${d.a} 2x`,alt:te}),[te]),f=Object(s.useMemo)(()=>({autoClogProps:Q,width:403,offsetX:0,arrowPosition:20,hero:D,title:ne,ariaLabel:ne,bodyText:ue,hideCloseButton:!1,closeCoachmark:H,centerOnArrow:!0,isMegaphoneCoachmark:!0,UNSAFE_parentSelector:ee}),[ue,H,D,ne,ee]),ie=T(f);return t.a.createElement(C.c,{coachmarkElement:ie,orientation:"right"},w)},"LogActivityCoachmark");V.displayName="LogActivityCoachmark";const X=c(K=>{const H=Object(u.i)(),w=Object(P.c)(z.c),T=L.h.SALES_HOME_SIDEBAR_LOG_ACTIVITY_COACHMARK,{isOpen:ee,closeCoachmark:ne,renderCoachmark:ue}=Object(O.a)(T),te=Object(s.useCallback)(()=>{ne()},[ne]);return Object(s.useEffect)(()=>{w&&ee&&H(Object(M.a)({notificationName:T,action:L.f.IMPRESSION}))},[H,w,ee,T]),!ee||!w?K.children:t.a.createElement(V,F({dismissCoachmark:te,renderCoachmark:ue},K))},"ConnectedLogActivityCoachmark");X.displayName="ConnectedLogActivityCoachmark"},"4tFG":function(le,y,e){"use strict";e.d(y,"a",function(){return C}),e.d(y,"c",function(){return O}),e.d(y,"b",function(){return v});var s=e("ZKjC"),t=e("itAW");const u=Object(s.b)(L=>L.browseRecent.media);u.meta={name:"createSelector",key:"createSelectorgetMedia",description:L=>L.browseRecent.media};const C=Object(s.b)(L=>L.browseRecent.files);C.meta={name:"createSelector",key:"createSelectorgetFiles",description:L=>L.browseRecent.files};const O=Object(s.b)(L=>L.browseRecent.isLoading);O.meta={name:"createSelector",key:"createSelectorgetIsLoading",description:L=>L.browseRecent.isLoading};const v=Object(s.b)(L=>L.browseRecent.isFetched);v.meta={name:"createSelector",key:"createSelectorgetIsFetched",description:L=>L.browseRecent.isFetched};const B=Object(s.b)(L=>{var z;return!!(!((z=C(L))===null||z===void 0)&&z.length)});B.meta={name:"createSelector",key:"createSelectorhasRecentFiles",description:L=>{var z;return!!(!((z=C(L))===null||z===void 0)&&z.length)}};const P=Object(s.b)(L=>{var z;return!!(!((z=u(L))===null||z===void 0)&&z.length)});P.meta={name:"createSelector",key:"createSelectorhasRecentMedia",description:L=>{var z;return!!(!((z=u(L))===null||z===void 0)&&z.length)}};const M=Object(s.b)(L=>{var z;return!!(!((z=Object(t.d)(L)||[])===null||z===void 0)&&z.length)});M.meta={name:"createSelector",key:"createSelectorhasRecentWorkflows",description:L=>{var z;return!!(!((z=Object(t.d)(L)||[])===null||z===void 0)&&z.length)}}},"5NJT":function(le,y,e){"use strict";e.r(y),e.d(y,"BaseUpgradeMenuItem",function(){return d});var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("G0eX"),O=e("ktUG"),v=e("nNoG"),B=e("/0Xg"),P=e("beVI"),M=e("Trx9"),L=e("x5cI"),z=e("ZobM");function U(){return U=Object.assign||function(x){for(var Q=1;Q<arguments.length;Q++){var V=arguments[Q];for(var X in V)Object.prototype.hasOwnProperty.call(V,X)&&(x[X]=V[X])}return x},U.apply(this,arguments)}c(U,"_extends");const g=new v.b("classic_nav"),J={onClick:{enableClogAction:!0}},d=c(x=>{let{onClick:Q,teamDisplayName:V,uiPage:X,showDescription:K,...H}=x;const w=t.a.createElement(t.a.Fragment,null,t.a.createElement("span",{className:"p-upgrade_menu_item__icon"},t.a.createElement(z.a,{name:"rocket",inline:!0,size:"20"})),t.a.createElement("span",{className:"margin_left_50"},V?g.rt("Upgrade {teamDisplayName}",{teamDisplayName:V,fallbackHash:"a6f47e00e036c5589eb12e237894b37fb015d365",fallbackHashNs:"plan_change"}):g.rt("Upgrade"))),T=K?t.a.createElement("div",{className:"p-upgrade_menu_item__description"},g.rt("You\u2019re on the <strong>free version</strong> of Slack.")):null;return t.a.createElement(M.a,{eventId:O.EventId.UPGRDEXP_UPSELL_PROMPTS,elementType:O.ElementType.MENU_ITEM,clogImpression:!0,uiComponentName:O.UiComponentName.UPGRADE_MENU_ITEM,uiPage:X},t.a.createElement(L.a,U({"data-qa":"upgrade-menu-item",onSelected:Q,autoClogProps:J,label:w,description:T},H)))},"UpgradeMenuItem");d.displayName="UpgradeMenuItem";const S=c(x=>{const Q=Object(u.c)(P.g),V=Object(B.u)({action:B.t.CHECKOUT,excludeDomain:!0,team:Q}),X=Object(s.useCallback)(()=>{Object(C.Y)(Q,V)},[Q,V]);return t.a.createElement(d,U({onClick:X},x))},"ConnectedUpgradeMenuItem");S.displayName="ConnectedUpgradeMenuItem";var F=y.default=S},"5oHh":function(le,y,e){"use strict";var s=e("SQ0V"),t=e("q6Tz"),u=e("uVZW");const C=Object(s.c)("Fetch megaphone spaces during/after the NUX tour",O=>O(Object(t.c)({event:{type:u.e.REQUEST_SPACES,spaces:[u.g.PROGRESSIVE_DISCLOSURE,u.g.WELCOME_SPACE,u.g.MESSAGE_PANE]}})));C.meta={name:"createThunk",key:"createThunkfetchMegaphoneSpacesPostNuxTour",description:"Fetch megaphone spaces during/after the NUX tour"},y.a=C},"6DQg":function(le,y,e){"use strict";e.d(y,"a",function(){return bl});var s=e("9oTK"),t=e("q1tI"),u=e.n(t),C=e("Yauy"),O=e("pZC0"),v=e("iJ8e"),B=e("2vQQ"),P=e("UmHn"),M=e("nNoG"),L=e("LWrH"),z=e("pMk8"),U=e("/MKj"),g=e("zxER"),J=e("WMzb"),d=e("wKGu"),S=e("I0/q"),F=e("/GFU"),x=e("QygJ"),Q=e("68rt"),V=e("VqrZ"),X=e("O86Y"),K=e("GlHf"),H=e("W29z"),w=e("qmhM"),T=e("E97Y"),ee=e("+vFE"),ne=e("PJbD"),ue=e("+oez"),te=e("F0cE"),D=e("bqbz"),f=e("IaLB"),ie=e("RR6E"),Z=e("BTOl"),pe=e("p/ji"),q=e("RVJP"),xe=e("7oBp"),ze=e("SQ0V"),mt=e("5IZy"),Me=e("ktUG"),Ct=e("r+uU"),Qe=e("0Fru");const st=Object(ze.c)("Channel Sections: move a sidebar section to before a target channel/section",function(){var ae=Object(s.coroutine)(function*(b,N,A){let{channelSectionId:oe,nextChannelSectionId:re=null,reason:ce}=A;const je=Object(D.g)(N(),oe),Ce=je.nextChannelSectionId;if(oe===re)return null;const{promise:Ke}=yield b(Object(Qe.a)({channelSection:{...je,nextChannelSectionId:re},reason:ce}));return{resultPromise:Ke,undo:c(()=>(Ke.cancel(),b(Object(Qe.a)({channelSection:{...Object(D.g)(N(),oe),nextChannelSectionId:Ce},reason:`undo-${ce}`}))),"undo")}});return function(b,N,A){return ae.apply(this,arguments)}}());st.meta={name:"createThunk",key:"createThunkmoveChannelSection",description:"Channel Sections: move a sidebar section to before a target channel/section"};var Ot=e("I27i"),cn=e("hsQ6"),Ht=e("VU9B"),Nn=e("TjEi");const zt=c(ae=>!!ae.channelSidebarItems,"checkIfDropItemChannelSidebarChannels"),Ln=c(ae=>!!ae.channelSection,"checkIfDragItemChannelSidebarSectionHeadings"),Fn=Object(ze.c)("drag and drop: can the channel sidebar receive a drop",(ae,b,N)=>{let{dropItem:A,dropItemType:oe}=N;const re=b();if(!Object(Ot.d)(re)||Object(cn.a)(re))return!1;if(oe===xe.a&&zt(A)){const ce=Object(D.u)(re);return!!ce&&!!ce.channelSection&&A.channelSidebarItems.some(je=>{var Ce;return Object(C.U)(je.channel)&&Object(C.V)(je.channel,(Ce=ce.channelSection)===null||Ce===void 0?void 0:Ce.type)&&Object(Ht.d)(je,ce.channelSection)})}return oe===xe.b&&Ln(A)?Object(ee.c)(A.channelSection):!1});Fn.meta={name:"createThunk",key:"createThunkgetChannelSidebarCanDrop",description:"drag and drop: can the channel sidebar receive a drop"};const Ye=Object(ze.c)("drag and drop: action when channel sidebar receives a drop",(ae,b,N)=>{let{dropItem:A,dropItemType:oe}=N;const re=b(),ce=Object(mt.a)({state:re});if(oe===xe.a&&zt(A)){var je;const Ce=Object(D.u)(re),Ke={},rt={},gt=Ce==null||(je=Ce.channelSection)===null||je===void 0?void 0:je.id;A.channelSidebarItems.forEach(ca=>{if(!Object(Ht.d)(ca,Ce==null?void 0:Ce.channelSection))return;const La=ca.channel.id,Jo=ca.channelSection&&ca.channelSection.id;Jo!==gt&&(Jo&&(Ke[Jo]||(Ke[Jo]=[]),Ke[Jo].push(La)),gt&&(rt[gt]||(rt[gt]=[]),rt[gt].push(La)))});const Rn=Object.keys(Ke).map(ca=>({channelSectionId:ca,channelIds:Ke[ca]})),co=Object.keys(rt).map(ca=>({channelSectionId:ca,channelIds:rt[ca]}));(Rn.length||co.length)&&(ae(Object(Nn.a)({remove:Rn,insert:co,reason:"channel-sidebar-channel-drop"})),ce.track(Me.EventId.CHANNEL_SECTIONS_CHANNELS_MOVE,{contexts:{ui_context:{action:Me.UiAction.DROP,ui_component_name:"ConnectedChannelSidebar"}},remove:Object(Ct.a)(Rn||[]),insert:Object(Ct.a)(co||[])}))}if(oe===xe.b&&Ln(A)){const Ce=A.channelSection.id,Ke=Object(D.v)(re),rt=Object(D.w)(re),{channelSectionId:gt,isAfter:Rn}=Ke||{};let co=gt??null;if(Rn){const ca=rt.findIndex(Jo=>Jo.id===gt),La=ca>=0?rt[ca+1]:void 0;co=La?La.id:null}ae(st({channelSectionId:Ce,nextChannelSectionId:co,reason:"channel-sidebar-section-drop"})),ce.track(Me.EventId.CHANNEL_SECTIONS_MOVE,{contexts:{ui_context:{action:Me.UiAction.DROP,ui_component_name:"ConnectedChannelSidebar"}},channel_section_id:Ce,next_channel_section_id:co})}});Ye.meta={name:"createThunk",key:"createThunkonChannelSidebarDrop",description:"drag and drop: action when channel sidebar receives a drop"};var dn=e("yZZd"),vt=e("Cbpi"),Xn=e("fujP"),kn=e("s4P+"),he=e("E3dU"),Gn=e("gCYc");const Va=Object(ze.c)("Ensure channels with drafts exist in our model",(ae,b)=>{const N=b(),A=Object(kn.a)({state:N,label:"DRAFTS"}),oe=Object(Gn.a)(N);if(Object(Xn.a)(oe)){A.info("There are no channels with drafts");return}A.info("Ensuring we have channel objects for all channels with drafts"),oe.forEach(re=>{Object(he.d)(N,re)})});Va.meta={name:"createThunk",key:"createThunkensureDraftChannelObjects",description:"Ensure channels with drafts exist in our model"},Va.propTypes=null;var Oe=Va,Ma=e("T1zM"),ga=e("SFTG");const zn=Object(ze.c)("Channel Sections: UI action when the collapsed state of all sections is toggled",(ae,b,N)=>{let{isCollapsed:A,setChannelSectionPref:oe,allChannelSections:re}=N;Object.values(re).forEach(ce=>{Object(ee.c)(ce)&&ae(oe({channelSectionId:ce.id,pref:ga.a,value:A?ga.b:ga.c,debounce:!0}))})});zn.meta={name:"createThunk",key:"createThunkbulkSetChannelSectionsCollapsed",description:"Channel Sections: UI action when the collapsed state of all sections is toggled"};var hn=e("sXqy");const nn=Object(ze.c)("Channel Sections: set isEditMode and if false, set isFiltering to be false too",(ae,b,N)=>{let{isEditMode:A}=N;Object(D.r)(b())!==A&&(ae(Object(hn.c)()),ae(Object(hn.a)({isCollapsed:!1}))),ae(Object(hn.q)({isEditMode:A}))});nn.meta={name:"createThunk",key:"createThunksetIsEditMode",description:"Channel Sections: set isEditMode and if false, set isFiltering to be false too"};var Xt=e("Yi4f"),bn=e("Z0Ei"),sn=e("Lgge"),Wt=e("Wn1n"),Yt=e("4hjS"),At=e("ohbk"),Ft=e("XZo2"),sa=e("Z9Nv"),ba=e("O2rC"),Ha=e("JoR1"),Ba=e("RV0M"),qn=e("I0j/"),Mt=e("37+L"),da=e("2VFn"),ha=e("3qtv"),aa=e("/Rv1");const fo="Pnotifications",No="notifications",fa=Object(ze.c)("Maybe open Notifications in page view",function(){var ae=Object(s.coroutine)(function*(b,N,A,oe){var re;const ce=N(),{shouldUseNavigate:je,getSiblingView:Ce}=oe(Ba.a);return(je?(re=Ce(ce,{container:da.k.Secondary}))===null||re===void 0?void 0:re.id:Object(Yt.i)(ce))===No&&(yield sn.a.resolve(b(Object(aa.a)()))),b(je?Object(qn.a)(Object(Mt.X)(P.a.Notifications)):Object(At.a)({id:fo}))});return function(b,N,A,oe){return ae.apply(this,arguments)}}());fa.meta={name:"createThunk",key:"createThunkmaybeOpenNotificationsPage",description:"Maybe open Notifications in page view"};const _a=Object(ze.c)("Maybe open Notifications in flexpane view",function(){var ae=Object(s.coroutine)(function*(b,N,A,oe){var re,ce;const je=N(),{shouldUseNavigate:Ce,getViewSet:Ke,getSiblingView:rt}=oe(Ba.a);if((Ce?(re=Ke(je))===null||re===void 0||(ce=re.primary)===null||ce===void 0?void 0:ce.id:Object(Wt.a)(je))===fo){const Rn=Object(Ft.p)(je,{shouldUseNavigate:Ce,getSiblingView:rt});yield b(Object(sa.a)({id:Rn,replace_history_state:!0}))}return b(Object(ha.c)())});return function(b,N,A,oe){return ae.apply(this,arguments)}}());_a.meta={name:"createThunk",key:"createThunkmaybeOpenNotificationsFlexpane",description:"Maybe open Notifications in flexpane view"};const ko=Object(ze.c)("Toggle the Notifications view between page and flexpane",function(){var ae=Object(s.coroutine)(function*(b,N,A,oe){const re=N(),{shouldUseNavigate:ce,getViewSet:je}=oe(Ba.a);let Ce=Object(Wt.a)(re),Ke=Object(Yt.i)(re);if(ce){var rt;const{primary:gt,secondary:Rn}=(rt=je(re))!==null&&rt!==void 0?rt:{};Ce=gt==null?void 0:gt.id,Ke=Rn==null?void 0:Rn.id}return Ce===fo?b(_a({})):Ke===No?b(fa({})):sn.a.resolve()});return function(b,N,A,oe){return ae.apply(this,arguments)}}());ko.meta={name:"createThunk",key:"createThunktoggleNotificationsViews",description:"Toggle the Notifications view between page and flexpane"};const qo=Object(ze.c)("Open Notifications in either page or flexpane",function(){var ae=Object(s.coroutine)(function*(b,N,A,oe){let{shouldToggleFlexpane:re=!1}=A;var ce;const je=N(),{shouldUseNavigate:Ce,getSiblingView:Ke}=oe(Ba.a);return Object(Ha.u)(je,ba.a.PREF)===ba.a.PAGE?b(fa({})):(Ce?(ce=Ke(je,{container:da.k.Secondary}))===null||ce===void 0?void 0:ce.id:Object(Yt.i)(je))===No&&re?b(Object(aa.a)()):b(_a({}))});return function(b,N,A,oe){return ae.apply(this,arguments)}}());qo.meta={name:"createThunk",key:"createThunkopenNotificationsView",description:"Open Notifications in either page or flexpane"};var va=e("n3tL");const Fa=Object(ze.c)("Clicked on a channel in the channel sidebar when in edit mode",function(ae,b){let{channelId:N}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=b();if(!Object(D.r)(A))return 0;const re=!Object(D.s)(A,N);return ae(Object(hn.m)({channelId:N,isSelected:re})),re?(ae(Object(hn.o)({channelId:N})),ae(Object(hn.n)({channelId:null}))):(ae(Object(hn.o)({channelId:null})),ae(Object(hn.n)({channelId:null}))),Object(D.l)(b())});Fa.meta={name:"createThunk",key:"createThunkonEditModeChannelClick",description:"Clicked on a channel in the channel sidebar when in edit mode"},Fa.propTypes={channelId:va.default.string.isRequired};const _n=Object(ze.c)("Shift-clicked on a channel in the channel sidebar when in edit mode",function(ae,b){let{channelId:N,rows:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const oe=b();if(!Object(D.r)(oe))return 0;const re=Object(D.n)(oe),ce=Object(D.m)(oe);if(!re)return ae(Fa({channelId:N})),Object(D.l)(b());let je,Ce,Ke;if(A.forEach((rt,gt)=>{rt.id===N&&(Ke=gt),rt.id===re&&(je=gt),ce&&rt.id===ce&&(Ce=gt)}),ce)for(let rt=Math.min(je,Ce);rt<=Math.max(je,Ce);++rt){const gt=A[rt];gt.type==="channel"&&ae(Object(hn.m)({channelId:gt.id,isSelected:!1}))}ae(Object(hn.n)({channelId:N}));for(let rt=Math.min(je,Ke);rt<=Math.max(je,Ke);++rt){const gt=A[rt];gt.type==="channel"&&ae(Object(hn.m)({channelId:gt.id,isSelected:!0}))}return Object(D.l)(b())});_n.meta={name:"createThunk",key:"createThunkonEditModeChannelRangeClick",description:"Shift-clicked on a channel in the channel sidebar when in edit mode"},_n.propTypes={channelId:va.default.string.isRequired};const Xe=Object(ze.c)("Channel Sections Edit Mode: Select all of the visible channels",(ae,b,N)=>{let{rows:A}=N;const oe=b();Object(D.r)(oe)&&A.forEach(re=>{re.type==="channel"&&ae(Object(hn.m)({channelId:re.id,isSelected:!0}))})});Xe.meta={name:"createThunk",key:"createThunkselectAllEditModeVisibleChannelIds",description:"Channel Sections Edit Mode: Select all of the visible channels"},Xe.propTypes=null;var It=e("SvML"),$e=e("mwr9"),In=e("mtSz"),ra=e("o6rR"),wn=e("QEyh"),Aa=e("1Mid"),Qn=e("yHFC"),Bn=e("99Nn"),Tn=e("TBj+"),it=e("HgTo"),Sa=e("8QLk"),dt=e("ukIz"),en=e("CpTu"),ua=e("vPIQ"),Ao=e("F294"),yo=e("qAkX"),Qt=e("ifKl"),Bo=e("+Xah"),un=e("BHdc"),an=e("rIJ2"),Zt=e("RB1+"),ht=e("RMmo"),jt=e("MO4o"),Pe=e("+DUQ"),ct=e("Arwo");const Dn=c(ae=>{let{channel:b,className:N,showHighlighted:A,isLastHighlightedItem:oe,style:re}=ae;const ce=b!=null&&b.channelType?`team_setup_sidebar_channel_link_${b.channelType}`:"team_setup_sidebar_channel_link";return u.a.createElement(Pe.animated.div,{className:Object(un.default)("p-channel_sidebar__static_list__item",{"p-channel_sidebar__static_list__item--with-highlight":A,"p-channel_sidebar__static_list__item--with-highlight-last-item":oe}),style:re,"data-qa":ce},u.a.createElement("div",{className:Object(un.default)("p-channel_sidebar__channel p-channel_sidebar__channel--setup p-channel_sidebar__channel--ia4_setup",N),"data-qa":"team_setup_sidebar_channel_container"},u.a.createElement(ct.a,{iconType:"channel-pane-hash",className:"margin_left_0 margin_right_25"}),u.a.createElement("span",{className:"p-channel_sidebar__name"},b.channelName)))},"SetupSidebarChannel");Dn.displayName="SetupSidebarChannel";var eo=Dn,to=e("pFNT"),Da=e("qDEp"),ss=e("oEDn"),uo=e("i5Ig");const sr={elementName:"remove_direct_message",onClick:{enableClogAction:!0}},vo=c(ae=>{let{email:b,isInvitesStep:N,isSetupPageBootstrapInviteStep:A,isSetupPageChannelsStep:oe,removeEmail:re,showHighlighted:ce,style:je}=ae;const Ce=Object(t.useCallback)(()=>{re(b.emailString)},[b,re]),Ke=u.a.createElement("div",{className:"p-channel_sidebar__user_avatar margin_left_0"},b.photo?u.a.createElement("img",{src:b.photo,className:"p-channel_sidebar__avatar",height:20,width:20,alt:""}):u.a.createElement(to.c,{userId:"",size:to.a.verySmall,isInteractive:!1})),rt=b.name||b.emailName,gt=u.a.createElement("div",{className:"p-channel_sidebar__channel p-channel_sidebar__channel--setup p-channel_sidebar__channel--ia4_setup"},Ke,u.a.createElement("span",{className:"p-channel_sidebar__name"},rt)),Rn=u.a.createElement("div",{className:Object(un.default)("p-channel_sidebar__static_list__item",{"p-channel_sidebar__static_list__item--with-highlight":ce}),"data-qa":"team_setup_sidebar_dm"},gt);return N||A?u.a.createElement(Pe.animated.div,{className:"p-channel_sidebar__setup_channel_container p-channel_sidebar__setup_channel_container--direct_message",style:je||uo.b},u.a.createElement("div",{className:"p-channel_sidebar__close_container"},gt,N&&u.a.createElement(Da.d,{onClick:Ce,className:"p-channel_sidebar__close","data-qa":"channel_item_close","aria-hidden":!0,tabIndex:-1,autoClogProps:sr},u.a.createElement(ss.a,{type:"times"})))):oe?u.a.createElement(Pe.animated.div,{style:je||uo.b},Rn):Rn},"SetupSidebarDirectMessageEmail");vo.displayName="SetupSidebarDirectMessageEmail";var rn=vo,Ca=e("+tZp"),ia=e("xwCZ");const Rs=new M.b("setup_page"),ea=c(ae=>{let{memberId:b,showHighlighted:N,isLastHighlightedItem:A,style:oe,name:re,isSelf:ce}=ae;const je=Object(g.c)(gt=>Object(ia.g)(gt,b)),Ce=Object(g.c)(gt=>Object(Ca.a)(gt,je)),Ke=re||Ce,rt=u.a.createElement("div",{className:"p-channel_sidebar__user_avatar margin_left_0"},u.a.createElement(to.c,{userId:b,size:to.a.verySmall,isInteractive:!1}));return u.a.createElement(Pe.animated.div,{className:Object(un.default)("p-channel_sidebar__setup_channel_container p-channel_sidebar__setup_channel_container--direct_message",{"p-channel_sidebar__static_list__item--with-highlight":N,"p-channel_sidebar__static_list__item--with-highlight-last-item":A}),style:oe||uo.b},u.a.createElement("div",{className:"p-channel_sidebar__close_container"},u.a.createElement("div",{className:"p-channel_sidebar__channel p-channel_sidebar__channel--setup p-channel_sidebar__channel--ia4_setup","data-qa":"team_setup_sidebar_dm_member"},rt,u.a.createElement("span",{className:"p-channel_sidebar__name"},Ke),ce&&u.a.createElement("span",{className:"p-channel_sidebar__member_label"},Rs.t("you",{fallbackHash:"8af56de68279cb6f5ed022f31af18b9fcdcc2e92",fallbackHashNs:"channel_sidebar"})))))},"SetupSidebarDirectMessageMember");ea.displayName="SetupSidebarDirectMessageMember";var go=ea,ta=e("BfA7"),Wo=e("C3vN"),fs=e("Cfcg"),so=e("v5z3");const Yo=c((ae,b)=>{let{getSiblingView:N}=b;var A;const re=((A=N(ae,{container:da.k.Primary}))===null||A===void 0?void 0:A.id)===so.m.Profile,ce=Object(f.Q)(ae),je=Object(f.R)(ae),Ce=Object(ia.c)(ae),Ke=Object(f.x)(ae);return{name:(ce||je)&&re?Ke||" ":void 0,memberId:Object(Wo.m)(Ce)||"",isSelf:!0}},"mapStateToProps");var Ga=Object(ta.a)(Object(fs.a)(Yo)(go));const Tr=new M.b("setup_page");var Ws=c(()=>u.a.createElement("div",{className:"p-channel_sidebar__static_list__item"},u.a.createElement("div",{className:"p-channel_sidebar__section_heading p-channel_sidebar__section_heading--setup-sidebar-empty-dms"},Tr.rt("No one\u2019s been added yet. <br></br>You can add up to 15 people."))),"SetupSidebarEmptyDirectMessages");const Te=new M.b("setup_page");var Je=c(ae=>{let{className:b,showCaret:N,showCollapsibleIcon:A,showHighlighted:oe,style:re}=ae;return u.a.createElement(Pe.animated.div,{style:re||uo.b,className:"p-channel_sidebar__static_list__item"},u.a.createElement("div",{className:Object(un.default)("p-channel_sidebar__section_heading p-channel_sidebar__section_heading--setup-sidebar",{"p-channel_sidebar__section_heading--with-caret":N,"p-channel_sidebar__section_heading--with-highlight":oe},b)},A&&u.a.createElement("span",{className:"p-channel_sidebar__section_heading_expand_container","aria-hidden":!0},u.a.createElement(ss.a,{"data-qa":"channel-section-collapse",className:"p-channel_sidebar__section_heading_expand",type:"caret-right",size:"inherit",inline:!0})),u.a.createElement("div",{className:"p-channel_sidebar__section_heading_label p-channel_sidebar__section_heading_label--setup-heading-channels",tabIndex:0,role:"presentation","aria-label":Te.t("Selected channels section")},Te.t("Channels"))))},"SetupSidebarHeadingChannels");const qe=new M.b("setup_page"),mn=15;var Un=c(ae=>{let{className:b,showCaret:N,showCollapsibleIcon:A,showHighlighted:oe,selectedMembersCount:re,fadeOut:ce,style:je}=ae;return u.a.createElement(Pe.animated.div,{style:je||uo.b,className:"p-channel_sidebar__static_list__item"},u.a.createElement("div",{className:Object(un.default)("p-channel_sidebar__section_heading p-channel_sidebar__section_heading--setup-sidebar",{"p-channel_sidebar__section_heading--with-caret":N,"p-channel_sidebar__section_heading--with-highlight":oe,three_fourths_opacity:ce},b)},A&&u.a.createElement("span",{className:"p-channel_sidebar__section_heading_expand_container","aria-hidden":!0},u.a.createElement(ss.a,{"data-qa":"channel-section-collapse",className:"p-channel_sidebar__section_heading_expand",type:"caret-right",size:"inherit",inline:!0})),u.a.createElement("div",{className:"p-channel_sidebar__section_heading_label p-channel_sidebar__section_heading_label--setup-heading-dms",tabIndex:0,role:"presentation","aria-label":qe.t("Direct messages section")},qe.t("Direct messages")," ",!!re&&u.a.createElement("span",{className:"p-setup_sidebar_heading_selected_count"},re," / ",mn))))},"SetupSidebarHeadingDirectMessages");const On=new M.b("setup_page");var pn=c(()=>u.a.createElement("div",{className:"p-channel_sidebar__static_list__item"},u.a.createElement("div",{className:"p-channel_sidebar__link p-channel_sidebar__link--selected p-channel_sidebar__link--page p-channel_sidebar__link--setup-sidebar"},u.a.createElement("div",{className:"p-channel_sidebar__section_heading_label p-channel_sidebar__section_heading_label--setup-heading",tabIndex:0,role:"presentation","aria-label":On.t("People section")},u.a.createElement(ss.a,{className:"margin_right_50",type:"team-directory",size:"inherit"}),u.a.createElement("strong",null,On.t("People"))))),"SetupSidebarHeadingPeople"),Ja=c(ae=>{let{type:b,className:N,hasBottomBorder:A}=ae;return u.a.createElement("div",{className:N||""},b==="menu"&&u.a.createElement("div",{className:Object(un.default)("p-channel_sidebar__loading_spacer_section","p-channel_sidebar__loading_spacer_section--menu",{"p-channel_sidebar__loading_spacer_section--bottom-border":A})},u.a.createElement("div",{className:"p-channel_sidebar__loading_spacer_row p-channel_sidebar__loading_spacer_row--long"})),b==="double"&&u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"p-channel_sidebar__loading_spacer_section"},u.a.createElement("div",{className:"p-channel_sidebar__loading_spacer_row p-channel_sidebar__loading_spacer_row--long"})),u.a.createElement("div",{className:Object(un.default)("p-channel_sidebar__loading_spacer_section",{"p-channel_sidebar__loading_spacer_section--bottom-border":A})},u.a.createElement("div",{className:"p-channel_sidebar__loading_spacer_row p-channel_sidebar__loading_spacer_row--short"}))),b==="single"&&u.a.createElement("div",{className:"p-channel_sidebar__loading_spacer_section"},u.a.createElement("div",{className:"p-channel_sidebar__loading_spacer_row p-channel_sidebar__loading_spacer_row--long"})))},"SetupSidebarLoadingSpacer"),Uo=e("m40f");const Xa=new M.b("setup_page"),Oo=c(ae=>{let{className:b,extraItemsCount:N,onClickSeeMore:A,style:oe}=ae;return u.a.createElement(Pe.animated.div,{style:oe||{},className:"p-channel_sidebar__static_list__item"},u.a.createElement(Uo.a,{className:Object(un.default)("p-channel_sidebar__section_heading p-channel_sidebar__section_heading--setup-sidebar-see-more",b),onClick:A},u.a.createElement("div",{className:"p-channel_sidebar__section_heading_label",tabIndex:0,role:"presentation","aria-label":Xa.t("See {extraItemsCount} more",{extraItemsCount:N})},Xa.t("See {extraItemsCount} more",{extraItemsCount:N}))))},"SetupSidebarSeeMoreItem");Oo.displayName="SetupSidebarSeeMoreItem";var Ro=Oo,vs=e("ZMRP"),Le=e("oSkh"),we=e("4YJR"),Fe=e("BjeH");function pt(){return pt=Object.assign||function(ae){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&(ae[A]=N[A])}return ae},pt.apply(this,arguments)}c(pt,"_extends");const nt=new M.b("setup_page"),xt={transform:"scaleY(0.65)",opacity:0},An={transform:"scaleY(1)",opacity:1},Hn={transform:"translateY(-40px)"},na={transform:"translateY(0)"},Ka={mass:.5,tension:300,friction:12,delay:0},Qa={...Ka,friction:60};let Eo=c(class extends t.Component{getSidebarItems(){const{channelItem:b,dmItems:N,isSetupPageTeamNameStep:A,isJoinerSetupPageWelcomeStep:oe,isJoinerSetupPagePeopleStep:re,selectedMemberDmItems:ce,isCreatorProfileStep:je,isSetupPageBootstrapInviteStep:Ce}=this.props,Ke={id:so.s.ChannelHeading,type:so.s.ChannelHeading},rt={id:so.s.DirectMessagesHeading,type:so.s.DirectMessagesHeading};if(A||je||oe)return[];const gt=[];return!re&&!Ce&&(gt.push(Ke),b!=null&&b.channelName&&gt.push(b)),gt.push(rt,...N,...ce),gt}getItemKeys(){return this.getSidebarItems().map(N=>N.id)}render(){const b=this.getItemKeys();return u.a.createElement("div",{className:"p-channel_sidebar__list"},u.a.createElement(Le.a,null,N=>{let{width:A,height:oe}=N;return u.a.createElement(vs.b,{width:A,height:oe,className:"p-channel_sidebar__static_list",keys:b,rowRenderer:this.renderItem,"aria-label":nt.t("Selected channels")})}))}constructor(...b){super(...b),this.renderItem=N=>{const{channelItem:A,isSetupPageBootstrapInviteStep:oe,isSetupPageChannelsStep:re}=this.props,je=this.getSidebarItems()[N];switch(je.type){case so.s.ChannelHeading:{var Ce;return re?u.a.createElement(Pe.Spring,{from:xt,to:An,config:Ka},Ke=>{var rt;return u.a.createElement(Je,{className:Object(un.default)("p-channel_sidebar__section_heading--ia4_setup",{"p-channel_sidebar__section_heading--ia4_setup_inactive":!(!((rt=this.props.channelItem)===null||rt===void 0)&&rt.channelName)}),style:Ke})}):u.a.createElement(Je,{className:Object(un.default)("p-channel_sidebar__section_heading--ia4_setup",{"p-channel_sidebar__section_heading--ia4_setup_inactive":!(!((Ce=this.props.channelItem)===null||Ce===void 0)&&Ce.channelName)})})}case so.s.Channel:{const Ke={key:`${je.channelType}-${je.id}`,channel:je,className:"p-channel_sidebar__channel--ia4_setup",showHighlighted:!1,isLastHighlightedItem:!1};return u.a.createElement(eo,pt({},Ke))}case so.s.DirectMessagesHeading:{const Ke={className:Object(un.default)("p-channel_sidebar__section_heading--ia4_setup",{margin_top_75:!oe&&!!(A!=null&&A.channelName),margin_top_250:!oe&&!(A!=null&&A.channelName),"p-channel_sidebar__section_heading--ia4_setup_inactive":this.props.dmItems.length<=0&&this.props.selectedMemberDmItems.length<=0&&!this.props.isFocusedOnEmailInvitesInput}),showCaret:!1,showHighlighted:!1,selectedMembersCount:this.props.selectedMemberDmItems.length};return re?u.a.createElement(Pe.Spring,{from:Hn,to:na,config:Qa},rt=>u.a.createElement(Un,pt({},Ke,{style:rt}))):u.a.createElement(Un,pt({},Ke))}case so.s.DirectMessageEmail:{const Ke=re,[rt,gt,Rn]=Ke?[Hn,na,Qa]:[xt,An,Ka];return u.a.createElement(Pe.Spring,{from:rt,to:gt,config:Rn,key:Ke?"slide":"scale"},co=>u.a.createElement(rn,{style:co,key:je.id,email:je,removeEmail:this.props.removeEmail,isInvitesStep:this.props.isSetupPageInvitesStep,isSetupPageBootstrapInviteStep:this.props.isSetupPageBootstrapInviteStep,isSetupPageChannelsStep:this.props.isSetupPageChannelsStep,showHighlighted:!1}))}case so.s.DirectMessageMember:return u.a.createElement(Pe.Spring,{from:xt,to:An,config:Ka},Ke=>u.a.createElement(go,{key:je.id,style:Ke,memberId:je.memberId,name:je.name,showHighlighted:!1,isLastHighlightedItem:!1}));case so.s.DirectMessageSelf:return u.a.createElement(Pe.Spring,{from:xt,to:An,config:Ka},Ke=>u.a.createElement(Ga,{key:je.id,style:Ke,showHighlighted:!1,isLastHighlightedItem:!1}));case so.s.DirectMessagesEmpty:return u.a.createElement(Ws,null);case so.s.PeopleHeading:return u.a.createElement(pn,null);case so.s.SeeMore:return u.a.createElement(Ro,{extraItemsCount:je.extraItemsCount,onClickSeeMore:je.onClickSeeMore});case so.s.Spacers:return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ja,{type:"menu",hasBottomBorder:!0,className:"margin_bottom_200"}),u.a.createElement(Ja,{type:"double",className:"margin_bottom_100"}),u.a.createElement(Ja,{type:"single"}));default:return null}}}},"SetupSidebar");Eo.displayName="SetupSidebar";const Po=c((ae,b)=>{let{getSiblingView:N}=b;var A;const oe=Object(f.Z)(ae,{getSiblingView:N}),re=Object(f.ab)(ae,{getSiblingView:N}),ce=Object(f.cb)(ae,{getSiblingView:N}),je=Object(f.db)(ae,{getSiblingView:N,steps:[so.m.Welcome]}),Ce=Object(f.T)(ae,{getSiblingView:N}),Ke=Object(f.B)(ae),rt=Object(Fe.a)(ae),gt=Object(Fe.b)(ae),Rn=Object(f.O)(ae),ca=((A=N(ae,{container:da.k.Primary}))===null||A===void 0?void 0:A.id)===so.m.Profile;return{channelItem:Ke,dmItems:rt,selectedMemberDmItems:gt,isSetupPageChannelsStep:oe,isSetupPageInvitesStep:re,isSetupPageTeamNameStep:ce,isJoinerSetupPageWelcomeStep:je,isJoinerSetupPagePeopleStep:Ce,isCreatorProfileStep:ca,isSetupPageBootstrapInviteStep:Object(f.Y)(ae,{getSiblingView:N}),isFocusedOnEmailInvitesInput:Rn}},"setup_sidebar_mapStateToProps"),Wa=c(ae=>({removeEmail:b=>{ae(Object(we.e)(b))}}),"mapDispatchToProps");var jo=Object(ta.a)(Object(fs.a)(Po,Wa)(Eo)),gs=e("7EGn"),Na=e("Muja"),ms=e("m8R6"),rs=e("WIr4"),es=e("3zPy"),cs=e.n(es),hs=e("C59p"),ls=e("790+"),rr=e("QwK2"),pr=e("lhZz"),br=e("kBpe"),tn=e("ykb+");function Ri(ae){const b=Object(br.p)()?ae.metaKey:ae.ctrlKey,N=72;return Object(br.i)()&&b&&ae.shiftKey&&ae.keyCode===N||b&&ae.shiftKey&&ae.altKey&&ae.keyCode===N}c(Ri,"isHuddleKeyboardShortcutPressed");var Ci=e("rCFu"),li=e("xXOU"),Ur=e("cYXZ"),yi=e("gz6s"),So=e("FWtP"),Mo=e("0Qg5"),Os=e("khnw"),xi=e("U3SE"),Li=e("BAqu"),Ho=e("HKlo"),di=e("kBd7"),ui=e("orxu"),wi=e("tOKv"),Nt=e("c+dP"),kt=e("tstp"),Et=e("SpyO"),Pt=e("Tn1D"),Kt=e("gSGL"),ln=e("4unc"),wt=e("FRd1");function fn(){return fn=Object.assign||function(ae){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&(ae[A]=N[A])}return ae},fn.apply(this,arguments)}c(fn,"link_extends");const et={onClick:{action:Me.UiAction.CLICK}};let Ie=c(class extends t.PureComponent{componentDidMount(){this.props.isSelected&&this.props.onItemSelected(this.linkRef.current)}componentDidUpdate(b){!b.isSelected&&this.props.isSelected&&this.props.onItemSelected(this.linkRef.current)}onClick(b){this.props.isEditMode||(Object(kn.b)().action(rr.a,`Selected ${this.props.id}`),this.props.selectItem&&this.props.selectItem(this.props.id,b),typeof this.props.onClick=="function"&&this.props.onClick(b))}render(){const{id:b,label:N,labelUnread:A,icon:oe,hasUnreads:re,displayAsBold:ce,badgeCount:je,calloutLabel:Ce,badgeProps:Ke,isSelected:rt,isDim:gt,qaLabel:Rn,className:co,renderLinkContent:ca,ariaLabel:La,isEditMode:Jo,autoClogProps:Xo,selectItem:Ns,onItemSelected:nr,dispatch:_r,iconClassName:mr,...Cr}=this.props,Gs=Object(un.default)("p-channel_sidebar__link",{"p-channel_sidebar__link--all-unreads":b==="Vall_unreads","p-channel_sidebar__link--all-threads":b==="Vall_threads","p-channel_sidebar__link--search":b==="Vsearch","p-channel_sidebar__link--invites":b==="Vinvites","p-channel_sidebar__link--browse_dms":b==="Vbrowse_dms","p-channel_sidebar__link--add-channel":b==="Vadd_channel","p-channel_sidebar__link--canvas":b==="Vcanvas","p-channel_sidebar__link--super_section_header":b==="Vsuper_section_header","p-channel_sidebar__link--selected":rt,"p-channel_sidebar__link--unread":re||ce,"p-channel_sidebar__link--dim":gt,"p-channel_sidebar__link--all-threads--disabled":Jo},co),Vr=re&&A?A:N,ar=u.a.createElement("span",{className:"p-channel_sidebar__name","data-qa":`channel_sidebar_name_${Rn.toLowerCase()}`},Vr),{className:us,...Gr}=Ke||{},Xs=u.a.createElement(ln.b,fn({className:Object(un.default)("p-channel_sidebar__badge",us),count:je??0},Gr)),ai=Object(Kt.a)(Ce)?u.a.createElement("span",{className:"p-channel_sidebar__callout"},Ce):void 0,gi=Object(Kt.a)(oe)?u.a.createElement(ss.a,{type:oe,size:"inherit",className:Object(un.default)("p-channel_sidebar__link__icon",mr),"data-qa":"channel-sidebar-page-link-icon"}):oe;return u.a.createElement(wt.a,{autoClogProps:Xo,actionProps:et,elementType:Me.ElementType.LINK},u.a.createElement("div",fn({},Cr,{className:Gs,onClick:this.onClick,"data-sidebar-link-id":b,"data-qa-channel-sidebar-link-id":b,ref:this.linkRef}),ca?ca({icon:gi,name:ar,badge:Xs}):u.a.createElement(u.a.Fragment,null,gi,ar,Xs,ai)))}constructor(b){super(b),this.onClick=this.onClick.bind(this),this.linkRef=u.a.createRef(),this.state={}}},"Link");Ie.displayName="Link",Ie.defaultProps={isSelected:!1,labelUnread:"",hasUnreads:!1,displayAsBold:!1,badgeProps:void 0,calloutLabel:void 0,icon:void 0,selectItem:Qt.a,isDim:!1,qaLabel:"",onItemSelected:Qt.a,onClick:Qt.a,className:"",renderLinkContent:null,ariaLabel:void 0,isEditMode:!1,autoClogProps:void 0,dispatch:Qt.a,iconClassName:void 0};var Ve=Ie,De=e("mQiU");function We(){return We=Object.assign||function(ae){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&(ae[A]=N[A])}return ae},We.apply(this,arguments)}c(We,"all_threads_link_extends");const Ze=new M.b("channel_sidebar"),Dt="Vall_threads",ft=c(ae=>{const{refToForward:b,...N}=ae,A=Object(g.c)(Aa.k),oe=Object(g.c)(Aa.f),{shouldUseNavigate:re,getPrimaryView:ce}=Object(t.useContext)(De.a),je=Object(g.c)(Object(t.useCallback)(rt=>{if(re){var gt;return((gt=ce(rt))===null||gt===void 0?void 0:gt.id)===Dt}return Object(Wt.a)(rt)===Dt},[ce,re])),Ce=Object(g.c)(D.r),Ke={...N,id:Dt,label:Ze.t("Threads"),labelUnread:Ze.t("Threads"),hasUnreads:A,badgeCount:oe,isSelected:je,isEditMode:Ce};return u.a.createElement(Ve,We({},Ke,{ref:b,icon:u.a.createElement(Pt.a,{outlineIcon:"small-reply",iconLocation:"sidebar"})}))},"AllThreadsLink");ft.displayName="AllThreadsLink";var on=u.a.forwardRef((ae,b)=>u.a.createElement(ft,We({},ae,{refToForward:b}))),at=e("o1ZU");const Ut=Object(ze.c)("Dismiss Add Apps link in sidebar",ae=>{ae(Object(Ma.f)({pref:"add_apps_prompt_dismissed",value:!0}))});Ut.meta={name:"createThunk",key:"createThunkdismissInstallAppsPrompt",description:"Dismiss Add Apps link in sidebar"};var vn=Ut;const Ne=new M.b("channel_sidebar"),Zn={clogger:va.default.object.isRequired,hideAppLinkPrompt:va.default.func,dismissInstallAppsPrompt:va.default.func,openAppLauncherView:va.default.func,clogAppLauncherOpen:va.default.func,appLinkImpression:va.default.bool,setAppLinkImpressionClogged:va.default.func},jn={hideAppLinkPrompt:Qt.a,dismissInstallAppsPrompt:Qt.a,openAppLauncherView:Qt.a,clogAppLauncherOpen:Qt.a,appLinkImpression:!1,setAppLinkImpressionClogged:Qt.a};let gn=c(class extends t.Component{componentDidMount(){this.props.appLinkImpression||(this.clogEvent("impression"),this.props.setAppLinkImpressionClogged())}clogEvent(b){this.props.clogger.track("APP_ADD_APPS_PROMPT",{contexts:{ui_context:{action:b,ui_element:"ADD_APPS"}}})}dismissLink(){this.props.hideAppLinkPrompt(),this.clogEvent("decline"),this.props.dismissInstallAppsPrompt()}handleAppsBrowserClick(){this.clogEvent("click");const{clogger:b}=this.props;b.track("INSTALL_APPS_LINK_APP_BROWSER_CLICK"),this.props.openAppLauncherView(),this.props.clogAppLauncherOpen({eventId:"APP_LAUNCHER_OPEN_FROM_ADD_APPS_CTA"})}render(){return u.a.createElement("div",{className:"p-channel_sidebar__close_container"},u.a.createElement("div",{className:"p-channel_sidebar__link p-channel_sidebar__link--dim p-channel_sidebar__link--add-apps",onClick:this.handleAppsBrowserClick,"data-qa":"add_apps_link"},u.a.createElement("span",{className:"p-channel_sidebar__name"},Ne.t("Add apps"))),u.a.createElement(Da.d,{onClick:this.dismissLink,className:"p-channel_sidebar__close","data-qa":"add_apps_dismiss_link",tabIndex:-1,"aria-hidden":!0},u.a.createElement(ss.a,{type:"times-circle-medium"})))}constructor(b){super(b),this.handleAppsBrowserClick=this.handleAppsBrowserClick.bind(this),this.dismissLink=this.dismissLink.bind(this)}},"InstallAppsLink");gn.displayName="InstallAppsLink",gn.propTypes=Zn,gn.defaultProps=jn;const xo=c(ae=>({setAppLinkImpressionClogged:function(){for(var b=arguments.length,N=new Array(b),A=0;A<b;A++)N[A]=arguments[A];return ae(Object(at.c)(...N))},hideAppLinkPrompt:function(){for(var b=arguments.length,N=new Array(b),A=0;A<b;A++)N[A]=arguments[A];return ae(Object(at.a)(...N))},dismissInstallAppsPrompt:function(){for(var b=arguments.length,N=new Array(b),A=0;A<b;A++)N[A]=arguments[A];return ae(vn(...N))},openAppLauncherView:function(){for(var b=arguments.length,N=new Array(b),A=0;A<b;A++)N[A]=arguments[A];return ae(Object(wn.a)(...N))},clogAppLauncherOpen:function(){for(var b=arguments.length,N=new Array(b),A=0;A<b;A++)N[A]=arguments[A];return ae(Object(Tn.a)(...N))}}),"install_apps_link_mapDispatchToProps");function Wn(ae){return{clogger:Object(mt.a)({state:ae}),appLinkImpression:Object(w.a)(ae)}}c(Wn,"install_apps_link_mapStateToProps");var Oa=Object(fs.a)(Wn,xo)(gn),Do=e("6kzs");let xs=c(class extends Do.a{getHeightValidity(){return!0}setHeight(){}constructor({getHeight:b,keys:N=[]}={}){super({keys:N}),this.getHeight=b||super.getHeight,this.layout()}},"SidebarLayout");var _o=e("b7QB"),Vo=e("vJtL"),ys=e("gq0b"),js=e("6R8Z"),is=e("VNYY"),Za=e("uVZW"),ro=e("rq2v"),ji=e("Trx9"),mi=e("vMc3");function Hr(){return Hr=Object.assign||function(ae){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&(ae[A]=N[A])}return ae},Hr.apply(this,arguments)}c(Hr,"page_link_extends");const Qr=u.a.lazy(()=>Promise.resolve().then(e.bind(null,"VdF0"))),ps={spaceName:Za.g.WELCOME_SPACE,notifications:{[Za.h.SETUP_JOINER_COACHMARKS]:{component:Qr}}},En=u.a.forwardRef((ae,b)=>{var N;const{id:A,label:oe=void 0,views:re,hasUnreads:ce=!1,displayAsBold:je=!1,extraContainerStyleClass:Ce=void 0,isCloseButtonVisible:Ke=!1,onClickClose:rt=Qt.a,onClickAdd:gt=Qt.a,badgeCount:Rn=void 0,badgeProps:co=void 0,calloutLabel:ca=void 0,ariaLabel:La=void 0,isEditMode:Jo=!1,autoClogParams:Xo=void 0,shouldShowSetupJoinerCoachmark:Ns=!1,joinerSetupCoachmarkState:nr,..._r}=ae,mr=Object(mi.a)(nr),Cr=Ns&&mr===so.q.PagesSection&&(A===P.a.BrowseChannels||A===P.a.BrowsePeople),Gs=((N=re.sidebar)===null||N===void 0?void 0:N.icon)||re.icon||ys.a,Vr=Object(ms.a)(_r,["windowId","closeView","isMainWindow","isChildWindow","shouldUseNavigate","activeTab","forceTabWhenNavigating","getSiblingView","getPrimaryView","getSecondaryView","getViewSet"]);let ar=u.a.createElement(Ve,Hr({},Vr,{ref:b,id:A,label:oe,className:Object(un.default)("p-channel_sidebar__link--page",`p-channel_sidebar__link--page_${A.toLowerCase()}`,"position_relative",{"p-channel_sidebar__link--page--disabled":Jo,"p-channel_sidebar__link--page--active_highlight":Cr}),icon:Gs,hasUnreads:ce,displayAsBold:je,badgeCount:Rn,badgeProps:co,calloutLabel:ca,qaLabel:`page_${A}`,ariaLabel:La,autoClogProps:{...Xo==null?void 0:Xo.onClick},"data-qa":"channel-sidebar-page-link"}));mr===so.q.PagesSection&&A===P.a.BrowseChannels&&(ar=u.a.createElement(ro.c,Hr({},ps,{joinerSetupCoachmarkState:nr}),ar));let us=null;Ke&&(us=u.a.createElement(js.a,{onClick:rt,className:"p-channel_sidebar__close p-channel_sidebar__close--circle","data-qa":"channel_sidebar_close_button","aria-hidden":!0,tabIndex:-1,autoClogProps:{...Xo==null?void 0:Xo.onClickClose}},u.a.createElement(ss.a,{type:"times"})));const Gr=Object(un.default)(Ce,{"p-channel_sidebar__close_container":Ke});return A===P.a.SlackConnect?u.a.createElement(ji.a,Hr({},Xo==null?void 0:Xo.link),u.a.createElement("div",{className:Gr},ar,us)):u.a.createElement(ji.a,Hr({},Xo==null?void 0:Xo.link),u.a.createElement("div",{className:Gr},ar,us))}),ka=c((ae,b)=>{let{id:N,getPrimaryView:A,shouldUseNavigate:oe}=b;var re,ce;const je=Object(ys.b)(N),Ce=je.sidebar||{},rt=(Object(Vo.a)(Ce.showCloseButton)?Ce.showCloseButton(ae):!0)&&Object(Vo.a)(Ce.onClickClose),gt=oe?(re=A(ae))===null||re===void 0?void 0:re.id:Object(Wt.a)(ae),Rn=Object(Vo.a)(Ce.isSelected)?Ce.isSelected(ae):gt===N,co=Object(Vo.a)(Ce.badgeCount)?Ce.badgeCount(ae):void 0,ca=Object(Vo.a)(Ce.calloutLabel)?Ce.calloutLabel(ae):void 0,La=Object(Vo.a)(Ce.hasUnreads)&&Ce.hasUnreads(ae),Jo=Object(Vo.a)(Ce.displayAsBold)&&Ce.displayAsBold(ae),Xo=Object(Vo.a)(Ce.extraContainerStyleClass)?Ce.extraContainerStyleClass(ae):void 0;let Ns;return Object(Vo.a)(Ce.autoClogParams)?Ns=Ce.autoClogParams(ae):Ce.autoClogParams&&(Ns=Ce.autoClogParams),{label:Object(Vo.a)(je.label)?je.label(ae):void 0,views:je,hasUnreads:La,displayAsBold:Jo,extraContainerStyleClass:Xo,autoClogParams:Ns,badgeCount:co,badgeProps:Ce.badgeProps,calloutLabel:ca,isSelected:Rn,isCloseButtonVisible:rt,ariaLabel:je==null||(ce=je.ariaLabel)===null||ce===void 0?void 0:ce.call(je,ae),isEditMode:Object(D.r)(ae),shouldShowSetupJoinerCoachmark:Object(is.a)(ae),joinerSetupCoachmarkState:Object(w.b)(ae)}},"page_link_mapStateToProps"),Us=c((ae,b)=>{let{id:N}=b;const oe=Object(ys.b)(N).sidebar||{},{onClickClose:re,onClickAdd:ce,onClick:je}=oe;return{onClickClose:re&&Object(Vo.a)(re)?Ce=>{re(ae,Ce)}:void 0,onClickAdd:ce&&Object(Vo.a)(ce)?()=>{ce(ae)}:void 0,onClick:je&&Object(Vo.a)(je)?()=>{je(ae)}:void 0,renderLinkContent:oe.renderLinkContent}},"page_link_mapDispatchToProps");var Go=Object(ta.a)(Object(fs.a)(ka,Us,null,{forwardRef:!0})(En)),fr=e("9V9U"),hi=e("fZnC"),Bi=e("g3+L"),Xi=e("xGfe"),Qi=e("Q93d");function Zi(ae){let{channelSection:b,channelSectionName:N="",onEnterEditModeClick:A=Qt.a,channelIds:oe=uo.a,channelSectionReadHiddenChannels:re=uo.a,channelSectionMutedHiddenChannels:ce=uo.a,channelSectionUnreadWithNoMentionsHiddenChannels:je=uo.a,channelSectionHasAllMutedHiddenChannels:Ce=!1,rowPosition:Ke,priorDisplayedChannelSectionId:rt=void 0,finalDisplayedChannelSectionId:gt=void 0,unreadsOnlyPromptCoachmarkRef:Rn=void 0,onChannelSectionCollapseToggle:co=Qt.a,onDMBrowserModalClick:ca=Qt.a,onAppLauncherClick:La=Qt.a,sidebarSections:Jo=uo.b,isFirstVisibleSection:Xo=!1,clogger:Ns,isInstantSlackInviteeSession:nr,isChannelSectionsAPIOperational:_r,isEditMode:mr,setChannelSectionPref:Cr,getChannelSectionPref:Gs,getContextMenuTemplateForSectionHeading:Vr}=ae;const ar=Object(U.i)(),{transitionFocusTo:us}=Object(t.useContext)(Bi.a),{connectDropTarget:Gr,channelDropIndicatorAbove:Xs,channelDropIndicatorSides:ai,channelDropIndicatorBelow:gi,channelSectionDropIndicatorAbove:Nr,channelSectionDropIndicatorBelow:Oi,channelDropIneligible:zr}=Object(hi.a)({rowPosition:Ke,priorDisplayedChannelSectionId:rt,finalDisplayedChannelSectionId:gt,channelSection:b,isChannelSectionsAPIOperational:_r}),Ei=Object(t.useRef)(null),[,Lr,Cs]=Object(fr.a)(()=>({type:xe.b,item:()=>{var Ia;return ar(Object(hn.t)({channelSectionId:b==null?void 0:b.id,isAfter:!1})),{type:xe.b,boundingClientRect:(Ia=Ei.current)===null||Ia===void 0?void 0:Ia.getBoundingClientRect(),channelSection:b}},end:()=>{ar(Object(hn.t)({channelSectionId:void 0,isAfter:!1}))},canDrag:()=>_r&&Object(ee.c)(b)}),[ar,b,_r]),Mc=Object(t.useCallback)(Ia=>{Ei.current=Ia,Gr(Ia),Lr(Ia)},[Ei,Gr,Lr]),oi=b==null?void 0:b.id,Dc=b.type===v.m?oi:b.type,Rc=Object(t.useCallback)(Ia=>{let{isHovered:Ts}=Ia;return Vr({channelSection:b,channelIds:oe,emoji:b.emoji,channelSectionHasAllMutedHiddenChannels:Ce,channelSectionReadHiddenChannels:re,channelSectionMutedHiddenChannels:ce,channelSectionUnreadWithNoMentionsHiddenChannels:je,transitionFocusTo:us,onEnterEditModeClick:A,onDMBrowserModalClick:ca,onAppLauncherClick:La,sidebarSections:Jo,setChannelSectionPref:Cr,getChannelSectionPref:Gs,isHovered:Ts})},[Vr,b,oe,Ce,re,ce,je,us,A,ca,La,Jo,Cr,Gs]),xc=Object(g.c)(Ia=>mr?Object(D.k)(Ia,b.id):Object(Qi.a)(Gs(b.id,ga.a)));return u.a.createElement(Xi.a,{showPlus:b.type===v.g,emoji:b.emoji,label:N,qaLabel:Dc,channelSection:b,channelIds:oe,channelSectionHasAllMutedHiddenChannels:Ce,connectDragDropRef:Mc,connectDragPreview:Cs,channelDropIndicatorAbove:Xs,channelDropIndicatorSides:ai,channelDropIndicatorBelow:gi,channelSectionDropIndicatorAbove:Nr,channelSectionDropIndicatorBelow:Oi,channelDropIneligible:zr,unreadsOnlyPromptCoachmarkRef:Rn,onChannelSectionCollapseToggle:co,transitionFocusTo:us,isFirstVisibleSection:Xo,clogger:Ns,isInstantSlackInviteeSession:nr,isEditMode:mr,isChannelSectionsAPIOperational:_r,getContextMenuTemplateForSectionHeading:Rc,isCollapsed:xc})}c(Zi,"ChannelSectionHeading"),Zi.displayName="ChannelSectionHeading";var Si=u.a.memo(Zi),vr=e("ZobM");const Mr=new M.b("channel_sidebar"),ir=c(ae=>{let{linkedId:b,isMention:N,position:A="top",ensureItemInView:oe=Qt.a}=ae;const re=Object(d.a)(),ce=c(rt=>{rt.preventDefault(),re.track(Me.EventId.SIDEBAR_MORE_UNREADS_CLICK),b&&oe(b,44)},"onClick"),je=Object(un.default)("p-channel_sidebar__banner",{"p-channel_sidebar__banner--mentions":N,"p-channel_sidebar__banner--unreads":!N,"p-channel_sidebar__banner--top":A==="top","p-channel_sidebar__banner--bottom":A==="bottom"}),Ce=A==="top"?"arrow-up":"arrow-down",Ke=N?Mr.t("Unread mentions"):Mr.t("More unreads");return u.a.createElement(Da.d,{className:je,onClick:ce,"data-qa-linked-id":b,tabIndex:-1},u.a.createElement("span",{className:"margin_right_25"},u.a.createElement(vr.a,{name:Ce,inline:!0})),Ke)},"UnreadBanner");ir.displayName="UnreadBanner";var Hs=ir,vc=e("nZ0E"),Ea=e("XP9A"),Fo=e("sjOx"),Es=e("Cy/8"),Ls=e("Dtu2"),ws=e("ptfs"),ds=e("wd/R"),gc=e.n(ds),Oc=e("A/mR"),Kc=e("ByMX"),Vc=e("NgZ7");const Gc=7,tl=c((ae,b,N,A,oe)=>{if(Object(Kc.a)(ae)||!Object(he.l)(ae)||oe&&b&&!N)return!1;if(A&&!N)return b?!1:Object(Vc.a)(ae,"has_sent_first_message");if(N)return!1;const ce=Object(Ha.u)(ae,"sidebar_theme");if(ce&&!ce.startsWith("default"))return!1;const je=Object(ia.c)(ae),Ce=Object(Wo.i)(je);return Ce?Object(Oc.e)(gc()(),Object(Oc.r)(Ce,{returnMoment:!0}))<=Gc:!1},"shouldShowUnreadAddTeammates");var qs=e("H2ap");const Ec=Object(ze.c)("Fetches the Progressive Disclosure sidebar flag tip that should be shown",(ae,b,N)=>{let{shouldShowProgressiveDisclosureFlag:A,showProgressiveDisclosureAddTeammatesFlag:oe}=N;return A?oe?so.f.AddTeammates:so.f.AddChannels:null});Ec.meta={name:"createThunk",key:"createThunkgetProgressiveDisclosureSidebarFlagTip",description:"Fetches the Progressive Disclosure sidebar flag tip that should be shown"};var pi=e("G0eX"),Ss=e("beVI"),_c=e("Qy8E"),Ra=e("eJPC"),Wi=e("m5HF"),Zr=e("ZK0i"),Pl=e("zrDx"),$i=e("Zdzc"),qi=e("KYMJ"),dd=e("yaP9"),Fs=e("7cRW"),bi=e("xeGy");const cr=new M.b("channel_sidebar"),Ml=c(()=>u.a.createElement("div",{className:"display_flex align_items_center"},cr.t("Create a channel"),u.a.createElement(bi.a,{className:"margin_left_50",hideTooltip:!0,uiComponentVariant:Me.UiComponentVariant.SLACK_CONNECT_MENU_CREATE_CHANNEL})),"CreateChannelTrialMenuItem");Ml.displayName="CreateChannelTrialMenuItem";var ud=Ml,gr=e("7+Lm"),md=e("+l+1"),ec=e("rZ8V"),nl=e("Iwbv"),Dl=e("1lov");function Ks(){return Ks=Object.assign||function(ae){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&(ae[A]=N[A])}return ae},Ks.apply(this,arguments)}c(Ks,"add_more_items_link_extends");const Ys=new M.b("channel_sidebar"),Cc={BROWSE_ALL_CHANNELS_ICON:"browse_all_channels_icon",BROWSE_ALL_PEOPLE_ICON:"browse_all_people_icon",LINK_LABEL:"link_label",CREATE_CHANNEL:"add_more_items_link_channel_menu_item",BROWSE_CHANNELS:"add_more_items_link_browse_channels_menu_item"},Rl=c(ae=>{const b=Object(U.i)(),N=Object(g.c)(ec.q),A=Object(g.c)(Ia=>Object(Ha.u)(Ia,"add_prompt_interacted")),oe=Object(g.c)(Ia=>!Object(pe.i)(Ia)&&Object(f.U)(Ia)),re=Object(g.c)(Ia=>tl(Ia,oe,A,ae.experimentDesktopIa4GroupOn,ae.experimentDesktopIa4NewTeamsV3GroupTreatment)),ce=Object(g.c)(nl.a),je=Object(g.c)(Ia=>Object(pi.H)(Object(Ss.g)(Ia))),Ce=Object(g.c)(Dl.c),[Ke,rt]=Object(t.useState)(null),gt=Object(g.c)(Ia=>Object($i.b)(Ia,{shouldRefetch:!1})),Rn=ae.showProgressiveDisclosureAddTeammatesFlag&&!ae.showDmBrowserInAddMoreDMsLink||ae.showProgressiveDisclosureAddChannelsFlag;Object(t.useEffect)(()=>{Rn&&ae.ensureItemInView&&ae.itemId&&ae.ensureItemInView(ae.itemId,20)},[Rn]);const co=Object(g.c)(Ia=>{const Ts=Object(mi.a)(Object(w.b)(Ia)),Qc=ae.type==="channel"&&Ts===so.q.ChannelsSection,kd=ae.type==="dm"&&Ts===so.q.DirectMessagesSection;return Object(is.a)(Ia)&&(Qc||kd)}),ca=Object(g.c)(Ia=>{const Ts=Object(gr.c)(Ia,Za.g.IN_PRODUCT_COACHMARK);return ae.type==="dm"&&(Ts===Za.h.DISCOUNT_SEAT_PROMO_REMINDER_COACHMARK||Ts===Za.h.DISCOUNT_SEAT_PROMO_PROGRESS_COACHMARK)}),La=Object(g.c)(Wi.e),Jo=Object(g.c)(Zr.a),{connectDropTarget:Xo,channelDropIndicatorAbove:Ns,channelDropIndicatorSides:nr,channelDropIndicatorBelow:_r,channelSectionDropIndicatorAbove:mr,channelSectionDropIndicatorBelow:Cr,channelDropIneligible:Gs}=Object(hi.a)({rowPosition:ae.rowPosition,priorDisplayedChannelSectionId:ae.priorDisplayedChannelSectionId,finalDisplayedChannelSectionId:ae.finalDisplayedChannelSectionId,channelSection:ae.channelSection,isChannelSectionsAPIOperational:Jo}),ar={channel:Me.UiStep.ADD_CHANNEL,dm:Me.UiStep.ADD_TEAMMATES,app:Me.UiStep.ADD_MORE_APPS,slack_connect:Me.UiStep.ADD_EXTERNAL_PEOPLE,canvas:Me.UiStep.QUIP_CREATION}[ae.type],us=Object(t.useCallback)(Ia=>{Ke==null||Ke.track({action:Me.UiAction.CLICK,uiStep:ar,uiComponentName:Me.UiComponentName.SIDEBAR,elementName:Ia})},[Ke,ar]),Gr=Object(t.useCallback)(Ia=>{rt({track:Ia})},[]),Xs=Object(t.useCallback)(()=>{ae.type==="dm"&&!A&&b(Object(Ma.f)({pref:"add_prompt_interacted",value:!0}))},[A,b,ae.type]),ai=Object(t.useCallback)(()=>{b(Object(qi.a)({uiComponentVariant:Me.UiComponentVariant.SLACK_CONNECT_SIDEBAR_ADD_MORE_ITEMS_LINK}))},[b]),gi=Object(t.useCallback)(()=>b(Object(_c.a)({source:Ra.a.SIDEBAR_ADD_BUTTON})),[b]);Object(t.useEffect)(()=>{ae.type==="dm"&&ae.showDmBrowserInAddMoreDMsLink&&b(Object(qs.a)({tip:so.f.AddTeammates}))},[b,ae.type,ae.showDmBrowserInAddMoreDMsLink]);const Nr=Object(t.useCallback)(()=>{us("browse_channels"),b(Object(vc.a)({initialBrowsePageFilter:{filter:"channelType",value:Fo.a.all}}))},[us,b]),Oi=Object(t.useCallback)(()=>{us("browse_people"),b(Object(Ea.a)({initialBrowsePageFilter:{filter:"accountType",value:Fo.l.all}}))},[us,b]),zr=Object(t.useMemo)(()=>{const Ia=[];if(ae.type==="channel"&&!(oe&&ae.experimentDesktopIa4GroupOn))Ce&&Ia.push({label:Ys.t("Create a new channel"),dataQa:Cc.CREATE_CHANNEL,click:()=>{us("create_new_channel"),b(Object(Es.a)({entryPoint:Fs.a.ChannelSidebarAddMore}))}}),ae.showProgressiveDisclosureAddChannelsFlag||Ia.push({label:Ys.t("Browse channels"),dataQa:Cc.BROWSE_CHANNELS,click:Nr});else if(ae.type==="dm"&&!(oe&&ae.experimentDesktopIa4GroupOn)){const Ts={label:La?Ys.t("Start a direct message"):Ys.t("New conversation"),click:()=>{us("browse_dms"),Xs(),b(Object(ra.a)({openComposer:N}))}},Qc={label:La?Ys.t("Invite to workspace"):Ys.t("Invite people"),click:()=>{us("invite_people"),Xs(),b(Object(ws.a)({source:md.f.ChannelSidebar}))}};La?(ae.showDmBrowserInAddMoreDMsLink&&Ia.push(Ts),ae.showInviteModalInAddMoreDMsLink&&Ia.push(Qc)):(ae.showInviteModalInAddMoreDMsLink&&Ia.push(Qc),ae.showDmBrowserInAddMoreDMsLink&&Ia.push(Ts))}else ae.type==="app"?Ia.push({label:Ys.t("Add apps"),click:()=>{us("open_app_launcher"),b(Object(wn.a)())}}):ae.type==="slack_connect"&&(je?Ia.push({label:u.a.createElement(ud,null),click:ai,dataQa:"add_more_items_link_slack_connect_create_channel_menu_item"}):Ia.push({label:Ys.t("Create a channel"),click:()=>{b(Object(Ls.a)({entryPoint:Fs.a.ChannelSidebarSlackConnectAddMore}))}}),gt&&Ia.push({label:Ys.t("Start a new message"),click:()=>{Xs(),b(Object(Pl.a)({entryPoint:Fs.a.ChannelSidebarSlackConnectAddMore}))}}));return Ia},[us,b,La,oe,je,Xs,Nr,gt,ae.experimentDesktopIa4GroupOn,ae.showDmBrowserInAddMoreDMsLink,ae.showInviteModalInAddMoreDMsLink,ae.showProgressiveDisclosureAddChannelsFlag,ae.type,ai,N,Ce]),Ei=zr.length>1,Lr=Object(t.useCallback)(Ia=>u.a.createElement(ji.a,{enableClogImpressionOffScreen:!0,eventId:Me.EventId.SIDEBAR_ITEM_CLICK,clogImpression:!0,elementName:`add_${ae.type}_menu`},u.a.createElement(Nt.a,Ks({},Ia,{template:zr,width:"auto"}))),[zr,ae.type]),Cs=Object(t.useCallback)(()=>{ae.type==="canvas"?gi():oe&&ae.experimentDesktopIa4GroupOn&&ae.type==="channel"?Nr():oe&&ae.experimentDesktopIa4GroupOn&&ae.type==="dm"?Oi():(!Ei||Rn)&&(Xs(),zr[0].click())},[gi,oe,Xs,zr,Nr,Oi,ae.experimentDesktopIa4GroupOn,ae.type,Ei,Rn]),Mc=Object(t.useCallback)(Ia=>{let{name:Ts}=Ia;return(ae.type==="dm"||ae.type==="channel")&&oe&&ae.experimentDesktopIa4GroupOn?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:Object(un.default)("p-channel_sidebar__channel_icon_prefix",{"p-channel_sidebar__channel_icon_prefix_background":ae.experimentDesktopIa4GroupOn,"p-channel_sidebar__channel_icon_prefix_icon_xs":ae.experimentDesktopIa4GroupOn,"p-channel_sidebar__channel_icon_prefix_icon_s":!ae.experimentDesktopIa4GroupOn})},u.a.createElement(vr.a,{size:"inherit",name:ae.type==="channel"?"channel-search":"user-directory","data-qa":ae.type==="channel"?Cc.BROWSE_ALL_CHANNELS_ICON:Cc.BROWSE_ALL_PEOPLE_ICON})),Ts):u.a.createElement(u.a.Fragment,null,u.a.createElement(ct.a,{iconType:Ce?"plus-small":"search-small",className:Object(un.default)({"p-channel_sidebar__channel_icon_prefix--filled":ae.type==="dm"&&re&&ae.experimentDesktopIa4GroupOn,"p-channel_sidebar__channel_icon_prefix_background":(!re||ae.type!=="dm")&&ae.experimentDesktopIa4GroupOn})}),Ts)},[re,oe,ae.experimentDesktopIa4GroupOn,ae.type,Ce]);if(zr.length===0&&ae.type!=="canvas"&&!ae.experimentDesktopIa4GroupOn)return null;let oi="";if(ae.type==="channel")oi=Ys.t("Browse all channels",{fallbackHash:"2190a3b93535dcb8b4a5d1e19a04a1284e2d28ba"}),Ce&&(oi=Ys.t("Add channels"));else if(ae.type==="dm"){const Ia=Ys.t("Browse all people"),Ts=ce?Ys.t("Add people",{fallbackHash:"bc4f9979f49a1f23c4708cded367cb8a894818f1"}):Ys.t("Add coworkers");oi=oe&&ae.experimentDesktopIa4GroupOn?Ia:Ts}else ae.type==="app"?oi=Ys.t("Add apps"):ae.type==="slack_connect"?oi=Ys.t("Add external people"):ae.type==="canvas"&&(oi=Ys.t("New canvas",{fallbackHash:"6cd287b7403ecddfea11738faf851e48d6088be9",fallbackHashNs:"drafts"}));const Dc=u.a.createElement(ji.a,{eventId:Me.EventId.SIDEBAR_ITEM_CLICK,trackClogRef:Gr},u.a.createElement(Ve,{id:`add_more_items_${ae.type}`,isDim:!0,qaLabel:`sidebar_add_more_${ae.type}`,className:Object(un.default)("p-channel_sidebar__link--add-more-items",{"p-channel_sidebar__link--edit-mode":ae.isSidebarEditMode,"p-channel_sidebar__drop_target_indicator--channel_above":Ns,"p-channel_sidebar__drop_target_indicator--channel_sides":nr,"p-channel_sidebar__drop_target_indicator--channel_below":_r,"p-channel_sidebar__drop_target_indicator--channel_section_above":mr,"p-channel_sidebar__drop_target_indicator--channel_section_below":Cr,"p-channel_sidebar__drop_target_indicator--ineligible":Gs,"p-channel_sidebar__channel--unread":ae.type==="dm"&&re,"p-channel_sidebar__link--add-more-items--active_highlight":co||ca}),label:oi,onClick:Cs,renderLinkContent:Mc,"data-qa":Cc.LINK_LABEL})),Rc=u.a.createElement("div",{ref:Xo,className:"p-channel_sidebar__close_container"},Ei?u.a.createElement(Nt.e,{position:"bottom-right",tryOppositePosition:!0,renderMenu:Lr},u.a.createElement(Da.d,{className:"p-channel_sidebar__button_container"},Dc)):Dc),xc=b(Ec({shouldShowProgressiveDisclosureFlag:Rn,showProgressiveDisclosureAddTeammatesFlag:ae.showProgressiveDisclosureAddTeammatesFlag}));return xc?u.a.createElement(dd.b,{tip:xc,onFlagClick:Cs},Rc):Rc},"AddMoreItemsLink");Rl.displayName="AddMoreItemsLink";var yc=Rl,Ii=e("iUFw"),al=e("sEP+"),ol=e("3l96"),xl=e("WM6Z"),Dr=e("aolG");const $r=new M.b("instant_slack"),xa=c(ae=>{let{channel:b}=ae;const N=Object(g.c)(Ce=>Object(q.d)(Ce,"adoption_instant_slack_invitee")==="on"),A=Object(C.K)(b),oe=Object(C.g)(b),re=Object(g.c)(Ce=>oe&&Object(ia.g)(Ce,oe)),ce=Object(g.c)(Ce=>re&&Object(Ca.a)(Ce,re)),je=Object(g.c)(Ce=>Object(xl.a)(Ce,b));return N?u.a.createElement(Dr.a,{showCancelButton:!1,showGoButton:!1,showCloseButton:!1,modalOverlayClassName:"p-instant_slack_leave_conversation_modal",modalBodyClasses:"p-instant_slack_leave_conversation_modal__body"},u.a.createElement("div",{className:"p-instant_slack_leave_conversation_modal__body_content"},u.a.createElement("p",null,$r.rt("Thank you for joining {channelName}!",{channelName:u.a.createElement("span",{style:{whiteSpace:"nowrap"}},A)})),u.a.createElement("p",null,$r.rt("Sign up for Slack to keep collaborating with {invitingUserName} at {invitingTeamName}.",{invitingUserName:ce,invitingTeamName:je})),u.a.createElement(Ii.d,{type:Ii.c.danger,size:Ii.b.large,className:"margin_top_100"},$r.t("Create a Free Account")))):null},"InstantSlackLeaveConversationModal");xa.displayName="InstantSlackLeaveConversationModal";var hd=xa;const zc=Object(ze.c)("Handles an Instant Slack user leaving the conversation",function(){var ae=Object(s.coroutine)(function*(b,N,A){return b(Object(al.a)({channelId:A.id})).then(()=>{b(Object(ol.a)({element:u.a.createElement(hd,{channel:A}),name:"instant_slack_leave_conversation_modal"}))}).catch(oe=>{throw oe})});return function(b,N,A){return ae.apply(this,arguments)}}());zc.meta={name:"createThunk",key:"createThunkleaveInstantSlackConversation",description:"Handles an Instant Slack user leaving the conversation"};var $t=zc,er=e("69ay"),Ui=e("YXuX"),jc=e("52Wj");const Sc=new M.b("instant_slack"),Yc=c(()=>{const ae=Object(U.i)(),{getSiblingView:b}=Object(t.useContext)(De.a),N=Object(g.c)(rt=>Object(q.d)(rt,"adoption_instant_slack_invitee")==="on"),A=Object(g.c)(ia.c),oe=Object(jc.c)(A),{refetch:re}=Object(er.a)(A.id),ce=Object(t.useCallback)(()=>{ae(Object(Ui.a)({refetch:re}))},[ae,re]),je=Object(g.c)(rt=>{var gt;return(gt=b(rt,{container:da.k.Primary}))===null||gt===void 0?void 0:gt.id}),Ce=Object(g.c)(rt=>Object(he.d)(rt,je)),Ke=Object(t.useCallback)(()=>{Ce&&(ae($t(Ce)),ae(Object(aa.a)()))},[ae,Ce]);return N?u.a.createElement("div",{className:"p-instant_slack_you_sidebar_section"},u.a.createElement("div",{className:"p-instant_slack_you_sidebar_section__profile_info"},u.a.createElement(to.c,{className:"p-instant_slack_you_sidebar_section__profile_image",size:to.a.medium,userId:A.id,isInteractive:!1}),u.a.createElement("div",{className:"p-instant_slack_you_sidebar_section__profile_name"},oe),u.a.createElement("div",{className:"p-instant_slack_you_sidebar_section__profile_you"},Sc.t("YOU"))),u.a.createElement("div",{className:"p-instant_slack_you_sidebar_section__ctas"},u.a.createElement(Ii.d,{type:Ii.c.outline,size:Ii.b.small,className:"p-instant_slack_you_sidebar_section__cta p-instant_slack_you_sidebar_section__cta--secondary",onClick:ce},Sc.t("Edit Info")),u.a.createElement(Ii.d,{type:Ii.c.danger,size:Ii.b.small,className:"p-instant_slack_you_sidebar_section__cta",onClick:Ke},Sc.t("Leave")))):null},"InstantSlackYouSidebarSection");Yc.displayName="InstantSlackYouSidebarSection";var zu=Yc,Ll=e("OPHm"),Or=e("ie1g");const Rr=new M.b("app_update"),sl=c(()=>{const ae=Object(U.i)(),b=Object(t.useCallback)(()=>{ae(Object(Ll.c)())},[ae]),N=Object(g.c)(Or.j);if(!N)return null;let A=N;A.includes(" ")&&(A=A.split(" ")[1]);const oe=Rr.t("Update Available ({version})",{version:A});return u.a.createElement(Da.d,{className:"p-desktop_dogfood_update_banner__container",onClick:b,title:oe},u.a.createElement("span",{className:"p-desktop_dogfood_update_banner__icon"},u.a.createElement(vr.a,{name:"info",size:"16"})),u.a.createElement("div",{className:"p-desktop_dogfood_update_banner__info"},u.a.createElement("span",{className:"p-desktop_dogfood_update_banner__versionNumber"},oe),u.a.createElement("span",{className:"p-desktop_dogfood_update_banner__versionDescription"},Rr.rt("The latest stuff from the Desktop team."))))},"DesktopDogfoodUpdateBanner");sl.displayName="DesktopDogfoodUpdateBanner";var Ic=e("goBh"),Tc=e("5eP/"),rl=e("F0YV"),Hi=e("Atq3"),fi={container:"container__CMAmg",isSelected:"isSelected__uWkKG",icon:"icon__CE0It"};const wl=new M.b("events"),Jd=c(ae=>{let{channelSection:b,isChannelSectionsAPIOperational:N,pageId:A,workspaceId:oe}=ae;const{icon:re,getView:ce}=Ic.b[A],{activeTab:je,getSiblingView:Ce}=Object(t.useContext)(De.a),rt=Object(g.c)(ca=>{var La;return(La=Ce(ca,{container:da.k.Primary}))===null||La===void 0?void 0:La.id})===ce(oe).id,gt=Object(t.useMemo)(()=>A===Ic.a.AboutEventsView&&je===Tc.b?u.a.createElement(rl.b,{id:oe,size:20,className:fi.icon,allowTeamInitials:!0}):u.a.createElement("span",{className:fi.icon},u.a.createElement(vr.a,{name:re,size:"20"})),[je,re,A,oe]),Rn=Object(t.useMemo)(()=>{switch(A){case Ic.a.AboutEventsView:return wl.rt("About");case Ic.a.PeopleBrowser:return wl.t("People",{ns:"search"});case Ic.a.ChannelBrowser:return wl.t("Channels",{ns:"channel_sidebar"});default:return Object(Hi.a)(A)}},[A]),{channelDropIneligible:co}=Object(hi.a)({channelSection:b,isChannelSectionsAPIOperational:!!N});return u.a.createElement(Ve,{id:`about-workspace-${oe}`,isSelected:rt,className:Object(un.default)(fi.container,rt&&fi.isSelected,"p-channel_sidebar__link--about-workspace p-channel_sidebar__link--no-indent",{"p-channel_sidebar__drop_target_indicator--ineligible":A===Ic.a.AboutEventsView&&co}),label:Rn,icon:gt})},"ExternalWorkspaceLink");Jd.displayName="ExternalWorkspaceLink";var il=e("NfYe"),Yu=e("CnKg"),Xd=e("dmdh"),pd=e("x6tY"),Ju=e("DQKV"),Jc={container:"container__Ft2dO",isSelected:"isSelected__PgpHR",icon:"icon__+EIeZ"};const qr=c(ae=>{let{entityId:b}=ae;const{getSiblingView:N}=Object(t.useContext)(De.a),A=Object(Yu.f)(b),oe=Object(g.c)(rt=>A?Object(Xd.e)(rt,A):void 0),re=Object(g.c)(il.l),je=Object(g.c)(rt=>{var gt;return(gt=N(rt,{container:da.k.Primary}))===null||gt===void 0?void 0:gt.id})===b,Ce=Object(t.useMemo)(()=>u.a.createElement(Ju.a,{text:Object(pd.G)(oe)}),[oe]),Ke=Object(t.useMemo)(()=>u.a.createElement("span",{className:Jc.icon},u.a.createElement(vr.a,{name:"canvas",size:"20"})),[]);return re?u.a.createElement(Ve,{id:`pinned-canvas-${A}`,isSelected:je,className:Object(un.default)(Jc.container,"p-channel_sidebar__link--no-indent",je&&Jc.isSelected),label:Ce,icon:Ke}):null},"ExternalWorkspacePinnedCanvas");qr.displayName="ExternalWorkspacePinnedCanvas";var Qd={divider:"divider__0ue++"};const Zd=c(()=>u.a.createElement("div",{className:Qd.divider}),"ChannelListDivider");var Bl=e("i9jZ"),Xu=e("NP9x"),Qu=e("0zWI"),$d=e("7xYR");function bd(){return bd=Object.assign||function(ae){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&(ae[A]=N[A])}return ae},bd.apply(this,arguments)}c(bd,"channel_list_extends");const Ac={[Za.h.CONNECTABLE_CONTACTS_SYNC_AWARENESS_COACHMARK]:{component:u.a.lazy(()=>Promise.resolve().then(e.bind(null,"bfzM")))}},cl={spaceName:Za.g.IN_PRODUCT_COACHMARK,notifications:{[Za.h.DISCOUNT_SEAT_PROMO_REMINDER_COACHMARK]:{component:u.a.lazy(()=>Promise.resolve().then(e.bind(null,"rJ0N")))},[Za.h.DISCOUNT_SEAT_PROMO_PROGRESS_COACHMARK]:{component:u.a.lazy(()=>Promise.resolve().then(e.bind(null,"Ig95")))}}},os={[Za.h.SLACK_AI_DIGEST_NUX_EDUCATION]:{component:u.a.lazy(()=>Promise.resolve().then(e.bind(null,"NP9x")))}},Wl=cs()("enter"),Nc=cs()("delete"),fd=cs()("backspace"),qd=cs()("tab"),tr=new M.b("channel_sidebar"),eu=Object(So.a)((ae,b)=>N=>b?(ae(N),!0):!1),vd=Object(So.a)((ae,b)=>N=>b?(ae(N),!0):!1),ll=Object(So.a)((ae,b)=>N=>b?(ae(N),!0):!1),tu=Object(So.a)((ae,b,N)=>A=>{var oe;const re=A==null||(oe=A.params)===null||oe===void 0?void 0:oe.newChannelSectionId,ce=re&&`sectionHeading-${re}`;return!b||!ce||!N.includes(ce)?!1:(ae(A),!0)}),gd=Object(So.a)((ae,b,N)=>A=>!b||!N.length?!1:(ae(A),!0)),nu=Object(So.a)(ae=>ae.map(b=>b.key),3),au=["sectionHeading","ariaGroup"],kc=Object(So.a)((ae,b,N)=>N.filter(A=>{const{type:oe,key:re}=A;return au.includes(oe)||re===b||re===ae}).map(A=>A.key),3),lr=Object(So.a)(ae=>{const b={};return ae.forEach(N=>{b[N.id]=N}),b},3),Yn={channel:!0,pageLink:!0,allThreadsLink:!0,externalWorkspaceLink:!0,externalWorkspacePinnedCanvas:!0};var Fi;let dl=c(class extends(Fi=u.a.PureComponent){componentDidMount(){Object(gs.a)(window,"performance.timing.fetchStart")&&this.shouldLogFirstMeaningfulPaint()&&this.logFirstMeaningfulPaint()}getSnapshotBeforeUpdate(b){return this.isLeavingEditMode=!this.props.isEditMode&&b.isEditMode,this.isEnteringEditMode=this.props.isEditMode&&!b.isEditMode,null}componentDidUpdate(b){const N=Object(pr.getStateForClientStore)(),A=Object($d.getFocusedWorkspace)(N),{teamId:oe,showSidebarThrobber:re,showSectionsThrobber:ce,unreadsOnlyCoachmarkVisible:je,rows:Ce,isSlackAiRecapCoachmarkVisible:Ke}=this.props,rt={};if(Ce.forEach(La=>{rt[La.key]=!0}),b.rows.forEach(La=>{rt[La.key]||delete this.rowCache[La.key]}),Object(Et.d)(N)&&A===oe&&this.logTeamSwitchMetrics(),this.restoreFocusOnUpdate&&(this.focus(),this.restoreFocusOnUpdate=!1),re&&!b.showSidebarThrobber&&this.jumpToOffset(0),ce&&!b.showSectionsThrobber&&this.findAndScrollToChannelsSection(),this.isLeavingEditMode){var gt,Rn;(Rn=(gt=this.props).transitionFocusTo)===null||Rn===void 0||Rn.call(gt,{focusKey:Ho.c.SIDEBAR_EXIT_EDIT_MODE_KEY_OFFSET,forceFocus:!0})}if(je.isVisible){var co,ca;const La=`sectionHeading-${je.channelSectionId}`,Jo=((ca=(co=this.unreadsOnlyPromptCoachmarkRef.current)===null||co===void 0?void 0:co.contentRef.current)===null||ca===void 0?void 0:ca.portal.content.clientHeight)||194;this.ensureItemInView(La,Jo)}if(Ke&&this.ensureItemInView(P.a.DailyDigest,0,!1),!b.digestAddedChannelCoachmarkChannelId&&this.props.digestAddedChannelCoachmarkChannelId&&this.ensureItemInView(this.props.digestAddedChannelCoachmarkChannelId,480),this.nextUpdateRelativeScrollPosition){const{rowKey:La=void 0,offsetTop:Jo=0}=this.nextUpdateRelativeScrollPosition,Xo=La&&this.getRowByKey(La);Xo&&this.jumpToOffset(Xo.scrollTop-Jo),this.nextUpdateRelativeScrollPosition=null}(b.rows!==this.props.rows||b.unreadIds!==this.props.unreadIds||b.mentionIds!==this.props.mentionIds)&&this.resetCurrentScrollTopMaybe(this.height)}componentWillUnmount(){this.scrollRenderTimeRaf&&window.cancelAnimationFrame(this.scrollRenderTimeRaf),eu.reset(),vd.reset(),ll.reset(),tu.reset(),gd.reset(),nu.reset(),kc.reset(),lr.reset()}onAddChannelCloseClick(){this.props.setHideAddChannelButton()}onDeleteKeyPressed(b){this.restoreFocusOnUpdate=!0;const{rows:N,closeIM:A}=this.props,oe=b.id,re=Object(dt.a)(this.rowKeys,oe),ce=N[re];ce&&ce.type==="channel"&&A(ce.id)}onEnterKeyPressed(b){const N=[".p-channel_sidebar__link",".p-channel_sidebar__section_heading_label--clickable",".p-channel_sidebar__section-heading--pages-drawer"].join(","),A=b.currentTarget.querySelector(N);A&&(b.preventDefault(),A.dispatchEvent(new PointerEvent("click",b)))}onItemContextMenu(b,N){const A=this.getRowByKey(N);A&&(this.props.digestAddedChannelCoachmarkChannelId&&(A==null?void 0:A.id)===this.props.digestAddedChannelCoachmarkChannelId||(b.preventDefault(),this.props.isEditMode&&A.type==="channel"&&this.onToggleChecked(b,{channelId:N,isContextMenu:!0})))}onLeftKeyPressed(b){var N;const A=this.getRowByKey(b.id),oe=(N=this.keyboardNavigableListRef)===null||N===void 0?void 0:N.current;if(!(!A||!oe)&&(A.type==="sectionHeading"&&A["aria-expanded"]&&this.onChannelSectionCollapseToggle({channelSection:A.channelSection,forceIsCollapsed:!0,reason:"sidebar-key-left"}),A.type==="channel")){var re;const ce=(re=A.channelSection)===null||re===void 0?void 0:re.id,je=this.getRowByKey(`sectionHeading-${ce}`);if(je===void 0)return;oe.focusOnKey(je.key)}}onHuddleKeyboardShortcutPressed(b){b.nativeEvent.preventDefault(),this.props.toggleHuddleInHighlightedChannel({highlightedChannelId:b.id})}onRightKeyPressed(b){var N;const A=this.getRowByKey(b.id),oe=(N=this.keyboardNavigableListRef)===null||N===void 0?void 0:N.current;if(!(!A||!oe)&&A.type==="sectionHeading"){this.onChannelSectionCollapseToggle({channelSection:A.channelSection,forceIsCollapsed:!1,reason:"sidebar-key-right"});const re=this.getRowByKey(A.channelIds[0]);A["aria-expanded"]&&re&&oe.focusOnKey(re.key)}}onShiftKeyAndPageDirectionPressed(b){var N;const{rows:A}=this.props,oe=this.getRowByKey(b.id),re=b.keyCode,ce=(N=this.keyboardNavigableListRef)===null||N===void 0?void 0:N.current;if(!oe||!ce)return;const je=A.filter(gt=>gt.type==="sectionHeading"&&gt.channelSection);let Ce,Ke;if(oe.type==="sectionHeading")switch(Ke=je.indexOf(oe),re){case Os.m:Ce=je[Ke-1];break;case Os.l:Ce=je[Ke+1];break;default:Ce=void 0}if(oe.type==="channel"){var rt;const gt=(rt=oe.channelSection)===null||rt===void 0?void 0:rt.id,Rn=this.getRowByKey(`sectionHeading-${gt}`);if(Rn===void 0)return;switch(Ke=je.indexOf(Rn),re){case Os.m:Ce=Rn;break;case Os.l:Ce=je[Ke+1];break;default:Ce=void 0}}Ce!==void 0&&ce.focusOnKey(Ce.key)}onToggleChecked(b,N){let{channelId:A,isContextMenu:oe}=N;if(!A)return;b&&b.nativeEvent&&b.nativeEvent.preventDefault();let re;oe&&this.props.editModeSelectedChannelIds[A]||(oe&&!this.props.editModeSelectedChannelIds[A]&&this.props.clearEditModeSelectedChannelIds(),b&&b.shiftKey?re=this.props.onEditModeChannelRangeClick({channelId:A,rows:this.props.rows}):re=this.props.onEditModeChannelClick({channelId:A}),this.props.sendMessageToAnnouncerAPI({message:tr.t("{selectedItemCount} selected",{selectedItemCount:re})}))}onChannelSectionCollapseToggle(b){let{channelSection:N,toggleAll:A=!1,forceIsCollapsed:oe=void 0,reason:re}=b;const ce=this.getRowByKey(`sectionHeading-${N.id}`);if(!ce)return;const{isEditMode:je}=this.props,Ce=!ce["aria-expanded"],Ke=oe===void 0?!Ce:oe;if(!(!A&&Ce===Ke)){switch(this.props.logger.action(rr.a,`Channel section toggle collapsed state for ${A?"all headings":"one heading"}; isCollapsed=${Ke?"y":"n"}; reason=${re}; channelSectionId=${N.id}`),re){case"sidebar-alt-right":case"sidebar-alt-left":case"sidebar-asterisk":this.props.clogger.track(Me.EventId.CHANNEL_SECTIONS_PREFERENCES_SET,{contexts:{ui_context:{action:Me.UiAction.TOGGLE,ui_component:Me.UiComponent.SIDEBAR,ui_element:Me.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"ChannelList"}},channel_section_id:N.id,pref:"collapse_all",value:Ke?"0":"1"});break;case"sidebar-key-left":case"sidebar-key-right":this.props.clogger.track(Me.EventId.CHANNEL_SECTIONS_PREFERENCES_SET,{contexts:{ui_context:{action:Me.UiAction.TOGGLE,ui_component:Me.UiComponent.SIDEBAR,ui_element:Me.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"ChannelList"}},channel_section_id:N.id,pref:"collapsed",value:Ke?"0":"1"});break;case"section-heading-alt-click":this.props.clogger.track(Me.EventId.CHANNEL_SECTIONS_PREFERENCES_SET,{contexts:{ui_context:{action:Me.UiAction.TOGGLE,ui_component:Me.UiComponent.SIDEBAR,ui_element:Me.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"SectionHeading"}},channel_section_id:N.id,pref:"collapse_all",value:Ke?"0":"1"});break;case"section-heading-click":this.props.clogger.track(Me.EventId.CHANNEL_SECTIONS_PREFERENCES_SET,{contexts:{ui_context:{action:Me.UiAction.TOGGLE,ui_component:Me.UiComponent.SIDEBAR,ui_element:Me.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"SectionHeading"}},channel_section_id:N.id,pref:"collapsed",value:Ke?"0":"1"});break;default:break}A&&je&&this.props.bulkSetEditModeChannelSectionCollapsed({isCollapsed:Ke}),!A&&je&&this.props.setEditModeChannelSectionCollapsed({channelSectionId:N.id,isCollapsed:Ke}),A&&!je&&this.props.bulkSetChannelSectionsCollapsed({isCollapsed:Ke,reason:re}),!A&&!je&&this.props.setChannelSectionCollapsed({channelSectionId:N.id,isCollapsed:Ke,reason:re}),this.nextUpdateRelativeScrollPosition={rowKey:ce.key,offsetTop:ce.scrollTop-this.currentScrollTop}}}onUpArrowPressed(b){const{isFiltering:N}=this.props,A=this.keyboardNavigableListRef.current,oe=A==null?void 0:A.getActiveItem();if(N&&oe&&oe===this.rowKeys[0]){var re,ce;(ce=(re=this.props).transitionFocusTo)===null||ce===void 0||ce.call(re,{focusKey:Ho.c.SIDEBAR_EDIT_MODE_FILTER_INPUT}),b.preventDefault()}}onAltKeyAndDirectionPressed(b){var N;const A=this.getRowByKey(b.id),oe=b.keyCode,re=(N=this.keyboardNavigableListRef)===null||N===void 0?void 0:N.current;if(!(!A||!re)&&A.type==="sectionHeading"&&(oe===Os.n||oe===Os.j)){const ce=oe===Os.j;this.onChannelSectionCollapseToggle({channelSection:A.channelSection,toggleAll:!0,forceIsCollapsed:ce,reason:ce?"sidebar-alt-left":"sidebar-alt-right"})}}onAsteriskKeyPressed(b){var N;const A=this.getRowByKey(b.id),oe=(N=this.keyboardNavigableListRef)===null||N===void 0?void 0:N.current;!A||!oe||A.type==="sectionHeading"&&(b.preventDefault(),this.onChannelSectionCollapseToggle({channelSection:A.channelSection,toggleAll:!0,forceIsCollapsed:!1,reason:"sidebar-asterisk"}))}onItemClick(b){const{isEditMode:N,onItemSelect:A,digestAddedChannelCoachmarkChannelId:oe}=this.props,re=this.getRowByKey(b.id);if(re!=null&&re.onItemSelect)return re.onItemSelect(re);if((re==null?void 0:re.type)==="pageLink"&&(re==null?void 0:re.id)==="Pbrowse-quip-files")return A(re.id,{isCmdKey:Object(xi.a)(b)});switch(re==null?void 0:re.type){case"allThreadsLink":return A(re.id,{tile:Object(Bl.d)(b)});case"pageLink":return Object(xi.a)(b)?A(re.id,{tile:!0}):N?null:re.id==="Pcalendar"?A(re.id,{tile:!0}):re.id==="Pactivity"?this.onActivityItemSelect():re.id==="Psaved"?this.onSavedItemSelect():re.id==="Pnotifications"?this.onNotificationsItemSelect():A(re.id);case"channel":return oe&&re.id===oe?void 0:A(re.id,{tile:Object(Bl.d)(b)});default:break}}onItemKeyDown(b){const N=b.keyCode;if(N===Wl){this.onEnterKeyPressed(b);return}(N===Nc||Object(br.p)()&&N===fd)&&this.onDeleteKeyPressed(b),b.key==="*"&&this.onAsteriskKeyPressed(b),b.altKey&&(N===Os.n||N===Os.j)&&this.onAltKeyAndDirectionPressed(b),b.shiftKey&&(N===Os.m||N===Os.l)&&this.onShiftKeyAndPageDirectionPressed(b),N===Os.n&&this.onRightKeyPressed(b),N===Os.j&&this.onLeftKeyPressed(b),this.props.isEditMode&&N===Os.o&&b.id&&this.onToggleChecked(b,{channelId:b.id}),N===Os.q&&this.onUpArrowPressed(b),Ri(b)&&this.onHuddleKeyboardShortcutPressed(b)}onActivityItemSelect(){this.props.openActivityView({})}onSavedItemSelect(){this.props.openSavedView()}onNotificationsItemSelect(){this.props.openNotificationsView({})}onItemSelected(b){this.selectedItemRef=b}onEnterEditModeClick(b){let{channelSection:N,channel:A}=b,oe;if(N&&(oe=this.props.rows.find(re=>{var ce;return re.type==="sectionHeading"&&((ce=re.channelSection)===null||ce===void 0?void 0:ce.id)===N.id})),A&&(oe=this.props.rows.find(re=>re.type==="channel"&&re.id===A.id)),oe&&oe.scrollTop!==void 0){const re=oe.scrollTop-this.currentScrollTop;this.props.transitionFocusTo({focusKey:Ho.c.SIDEBAR_EDIT_MODE_KEY_OFFSET,forceFocus:!0,focusMetadata:{uiState:{rowKey:oe.key,offsetTop:re}}})}else this.props.transitionFocusTo({focusKey:Ho.c.SIDEBAR_CURRENT_CHANNEL});this.props.setIsEditMode({isEditMode:!0})}onListFocusEnter(b){const{relatedEvent:N}=b;if(N&&N.keyCode===qd)return;const{bannerHeight:A,hasKeyboardFocus:oe,isEditMode:re}=this.props;if(re||!oe)return;const{isTopBannerVisible:ce,isBottomBannerVisible:je}=this.getBannerVisibility(this.height);if(!(ce||je))return;const Ke=this.keyboardNavigableListRef.current,rt=Ke==null?void 0:Ke.getActiveItem();rt&&this.ensureItemInView(rt,A+10)}onResize(b){let{height:N}=b;this.resetCurrentScrollTopMaybe(N),this.height=N,this.setState(()=>this.calculateBannerState(N))}onScroll(b){this.currentScrollTop=b.target.scrollTop,this.setState(()=>this.calculateBannerState(this.height)),this.props.experimentInsetDesignGroupOn&&(this.isItemInView(this.rowKeys[1])?this.setState(()=>({showChannelListTopBorder:!1})):this.setState(()=>({showChannelListTopBorder:!0})))}getFocusTransitionListeners(b,N,A,oe){return{[Ho.c.SIDEBAR_EDIT_MODE_KEY_OFFSET]:eu(this.focusOnEditMode,b),[Ho.c.SIDEBAR_EXIT_EDIT_MODE_KEY_OFFSET]:vd(this.focusOnExitEditMode,N),[Ho.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM]:ll(this.focusList,A),[Ho.c.SIDEBAR_CURRENT_CHANNEL]:this.focus,[Ho.c.SIDEBAR_NEW_SECTION]:tu(this.focusOnNewSection,A,oe),[Ho.c.SIDEBAR_FIRST_VISIBLE_ROW]:gd(this.focusOnFirstSection,A,oe)}}getBannerVisibility(b){const{scrolledBelowFirstMention:N,scrolledBelowFirstUnread:A,scrolledAboveLastMention:oe,scrolledAboveLastUnread:re}=this.calculateBannerState(b);return{isTopBannerVisible:N||A,isBottomBannerVisible:oe||re,scrolledBelowFirstMention:N,scrolledBelowFirstUnread:A,scrolledAboveLastMention:oe,scrolledAboveLastUnread:re}}getBannerIds(){const{unreadIds:b,mentionIds:N}=this.props,A=Object(Ao.a)(b),oe=Object(yo.a)(b),re=Object(Ao.a)(N),ce=Object(yo.a)(N);return{firstUnreadId:A,lastUnreadId:oe,firstMentionId:re,lastMentionId:ce}}getLabelForContextMenu(b){if(b){if(b.type==="sectionHeading")return tr.t("Section options");if(b.type==="channel"&&b.channelSection.type==="standard")return tr.t("Channel options",{fallbackHash:"164ed0a5a7a70c297d0a04f76226c262683c74cb",fallbackHashNs:"menu"});if(b.type==="channel"&&b.channelSection.type==="direct_messages")return tr.t("Conversation options",{fallbackHash:"db62f1e4e22d9be19061b7876a749132b9926dc9",fallbackHashNs:"menu"})}}getUnreadRows(){const{rowForItemId:b}=this.props,{firstUnreadId:N,lastUnreadId:A,firstMentionId:oe,lastMentionId:re}=this.getBannerIds();return{firstUnread:N&&b[N],lastUnread:A&&b[A],firstMention:oe&&b[oe],lastMention:re&&b[re]}}getRowByKey(b){return b?lr(this.props.rows)[b]:void 0}getAriaAttributesForRow(b){const{role:N,type:A}=b;if(A==="sectionHeading")return{role:N,"aria-expanded":b["aria-expanded"],"aria-level":b["aria-level"],"aria-label":b["aria-label"],"aria-describedby":`${b.key}-description`};const oe={addMoreChannels:!0,addMoreDM:!0};return{role:N,"aria-level":b["aria-level"],"aria-haspopup":oe[A]?"menu":void 0}}getAriaDescriptionSectionHeaderRow(b){const N={[v.b]:"channels",[v.g]:"ims",[v.j]:"app"},A=b.channelSection?N[b.channelSection.type]:b.name;if(A==="channels")return tr.t("Press {keys} to find or create a channel",{keys:this.keyboardShortcuts.browse_channels});if(A==="app")return tr.t("Press delete to remove messages from an app from the sidebar");if(A==="ims")return tr.t("Press {keys} to find or create a direct message. Press delete to remove a direct message from the sidebar",{keys:this.keyboardShortcuts.browse_dms})}getAriaLabelForRow(b){const{hasKeyboardFocus:N,getAriaLabelForRow:A}=this.props;return b&&b.id&&N?A(b.id):void 0}getBoundingClientRect(){var b;return(b=this.keyboardNavigableListRef.current)===null||b===void 0?void 0:b.getBoundingClientRect()}getContentHeight(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.rows;return b.length?b[b.length-1].scrollBottom:0}getCurrentScrollTop(){return this.currentScrollTop}getAriaDisabled(b){let{type:N}=b;return this.props.isEditMode&&{pageLink:!0,allThreadsLink:!0}[N]?!0:void 0}getAriaSelected(b){let{type:N,key:A}=b;const{selectedItemId:oe,isEditMode:re}=this.props;return re||!Yn[N]?!1:oe===A}getTabIndex(b){var N;if(!this.isRowObjectFocusable(b))return;const A=(N=this.keyboardNavigableListRef)===null||N===void 0?void 0:N.current;return this.props.isEditMode&&A?A.getInitialActiveItem()===b.key?0:-1:this.getAriaSelected(b)?0:-1}getAriaChecked(b){let{type:N,id:A}=b;const{editModeSelectedChannelIds:oe,isEditMode:re}=this.props;if(re&&N==="channel")return A&&!!oe[A]}getAriaKeyShortcutForItem(b){if(!b)return;const{key:N}=b;if(!(b.type==="pageLink"||N==="Vall_threads"))return;const re=this.ariaShortcutsForPages[N];if(re)return re}getPropsForItem(b){let{index:N,key:A}=b;const{rows:oe,showSidebarThrobber:re,showSectionsThrobber:ce}=this.props,je=oe[N];if(!je)return;let Ce;je.type==="addMoreDM"?Ce=je.showProgressiveDisclosureAddTeammatesSidebarFlag:je.type==="addMoreChannels"&&(Ce=je.showProgressiveDisclosureAddChannelsSidebarFlag);const Ke={className:Object(un.default)("p-channel_sidebar__static_list__item",{"p-channel_sidebar__static_list__item--unshrouded":re&&(je.type==="pageLink"||A==="Vall_threads")||ce&&je.type==="sectionHeading"&&je.channelSection.type===v.b,"p-channel_sidebar__static_list__item--contain":!Ce,"p-channel_sidebar__static_list__item__row_container":je.type!=="sectionHeading"&&je.type!=="pagesListSpacer"&&je.type!=="divider"})};if(je.role==="presentation")return{...Ke,role:je.role};const rt=this.getAriaAttributesForRow(je),gt=je["aria-label"]||this.getAriaLabelForRow(je);return je.type==="ariaGroup"?{...Ke,...rt,"aria-label":gt,tabIndex:this.getTabIndex(je),"aria-owns":je["aria-owns"]}:{...Ke,...rt,"aria-label":gt,tabIndex:this.getTabIndex(je),"aria-selected":this.getAriaSelected(je),"aria-checked":this.getAriaChecked(je),"aria-disabled":this.getAriaDisabled(je),"aria-setsize":je["aria-setsize"],"aria-posinset":je["aria-posinset"],"aria-keyshortcuts":this.getAriaKeyShortcutForItem(je)}}getTemplateForContentMenu(b){const{getContextMenuTemplateForChannel:N,getContextMenuTemplateForSectionHeading:A,transitionFocusTo:oe,onDMBrowserModalClick:re,onAppLauncherClick:ce,sidebarSections:je,getChannelSectionPref:Ce,setChannelSectionPref:Ke}=this.props;return b.type==="sectionHeading"?A({channelSection:b.channelSection,channelIds:b.channelIds,channelSectionId:b.channelSection.id,emoji:b.channelSection.emoji,isHovered:!1,channelSectionHasAllMutedHiddenChannels:b.channelSectionHasAllMutedHiddenChannels,channelSectionReadHiddenChannels:b.channelSectionReadHiddenChannels,channelSectionMutedHiddenChannels:b.channelSectionMutedHiddenChannels,channelSectionUnreadWithNoMentionsHiddenChannels:b.channelSectionUnreadWithNoMentionsHiddenChannels,transitionFocusTo:oe,onEnterEditModeClick:this.onEnterEditModeClick,onDMBrowserModalClick:re,onAppLauncherClick:ce,sidebarSections:je,getChannelSectionPref:Ce,setChannelSectionPref:Ke}):N({sidebar:!0,header:!1,id:b.id,type:b.type,channelSection:"channelSection"in b&&b.channelSection?b.channelSection:void 0,onEnterEditModeClick:this.onEnterEditModeClick,transitionFocusTo:oe})}setFocusableRow(){const{rows:b,selectedItemId:N}=this.props;this.focusableRow=this.getRowByKey(N)||b.find(this.isRowObjectFocusable)}calculateBannerState(b){const{firstMention:N,firstUnread:A,lastMention:oe,lastUnread:re}=this.getUnreadRows(),ce=36,je=!!(A&&this.isItemAboveView(A.key,ce)),Ce=!!(re&&this.isItemBelowView(re.key,ce,b)),Ke=!!(N&&this.isItemAboveView(N.key,ce)),rt=!!(oe&&this.isItemBelowView(oe.key,ce,b));return{scrolledBelowFirstMention:Ke,scrolledBelowFirstUnread:je,scrolledAboveLastMention:rt,scrolledAboveLastUnread:Ce}}clogInvitePeopleButton(){const{clogger:b}=this.props;b.track(Me.EventId.SIDEBAR_INVITE_PEOPLE,{contexts:{ui_context:{step:"invite_people",action:"impression",ui_properties:{element_type:"button",element_name:"invite_people"}}}}),b.track(Me.EventId.INAPP_INVITES,{contexts:{ui_context:{step:"invite_people",action:"impression",ui_properties:{element_type:"button",element_name:"invite_people"}}}}),b.track(Me.EventId.SIDEBAR_INVITE_PEOPLE,{contexts:{ui_context:{step:"invite_people",action:"impression",ui_properties:{element_type:"button",element_name:"hide_invite_people"}}}}),b.track(Me.EventId.INAPP_INVITES,{contexts:{ui_context:{step:"invite_people",action:"impression",ui_properties:{element_type:"button",element_name:"hide_invite_people"}}}})}ensureItemInView(b){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const oe=this.props.rowForItemId[b]?this.props.rowForItemId[b].key:b,re=this.keyboardNavigableListRef&&this.keyboardNavigableListRef.current;if(!re||this.isItemInView(oe,N))return;const ce=this.height,je=this.layout.getTotalHeight(),Ce=this.layout.getOffsetForKey(oe),Ke=this.layout.getHeight(oe);this.isItemAboveView(oe,N)&&re.scrollToOffset(Math.max(0,Ce-N),{animate:A}),this.isItemBelowView(oe,N)&&re.scrollToOffset(Math.min(je,Ce-ce+Ke+N),{animate:A})}findAndScrollToChannelsSection(){var b;const N=(b=this.keyboardNavigableListRef)===null||b===void 0?void 0:b.current,A=Object(en.a)(this.props.rows,oe=>oe.type==="sectionHeading"&&oe.channelSection.type===v.b);A&&N&&N.scrollToKey(A.key,{animate:!0,lazy:!0,offset:-60})}focus(){var b;const{isTopBannerVisible:N}=this.getBannerVisibility(this.height),A=N?-40:0;if(this.props.selectedItemId){var oe;if((oe=this.keyboardNavigableListRef.current)===null||oe===void 0?void 0:oe.focusOnKey(this.props.selectedItemId,{offset:A}))return}(b=this.keyboardNavigableListRef.current)===null||b===void 0||b.focus()}focusOnEditMode(b){var N;const{rowKey:A=void 0,offsetTop:oe=0}=(b==null?void 0:b.uiState)||{},re=A&&this.getRowByKey(A),ce=(N=this.keyboardNavigableListRef)===null||N===void 0?void 0:N.current;this.beforeEnterEditModeScrollTop=this.currentScrollTop,re&&ce?(ce.focusOnKey(A),this.jumpToOffset(re.scrollTop-oe)):this.focus()}focusOnExitEditMode(){this.jumpToOffset(this.beforeEnterEditModeScrollTop||0),this.focus()}focusList(){var b,N;(b=this.keyboardNavigableListRef)===null||b===void 0||(N=b.current)===null||N===void 0||N.focus()}focusOnNewSection(b){var N,A;const oe=(N=this.keyboardNavigableListRef)===null||N===void 0?void 0:N.current;if(!oe)return;const re=b==null||(A=b.params)===null||A===void 0?void 0:A.newChannelSectionId,ce=re&&`sectionHeading-${re}`;!ce||!this.rowKeys.includes(ce)||oe.focusOnKey(ce)}focusOnFirstSection(){var b,N;(b=this.keyboardNavigableListRef)===null||b===void 0||(N=b.current)===null||N===void 0||N.focusOnKey(this.rowKeys[0])}isItemAboveView(b){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var A;const oe=this.currentScrollTop+N,re=(A=this.getRowByKey(b))===null||A===void 0?void 0:A.scrollBottom;return!!re&&re<oe}isItemBelowView(b){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.height;var oe;const re=this.currentScrollTop,ce=(oe=this.getRowByKey(b))===null||oe===void 0?void 0:oe.scrollTop;return!!ce&&ce>re+(A-N)}isItemInView(b){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;var A;const oe=this.currentScrollTop,re=(A=this.getRowByKey(b))===null||A===void 0?void 0:A.scrollTop;return!!re&&re>=oe+N&&re<=oe+(this.height-N)}isRowFocusable(b){let{index:N}=b;const A=this.props.rows[N];return this.isRowObjectFocusable(A)}isRowObjectFocusable(b){return b.role==="treeitem"}jumpToOffset(b){this.keyboardNavigableListRef.current&&this.keyboardNavigableListRef.current.scrollToOffset(b)}logFirstMeaningfulPaint(){Object(pr.dispatchForClientStore)(Object(kt.a)(!1));const b=Object(Ci.d)(),N=Object(br.q)()?"_reload":"",A=Date.now()-(window.performance.timing.fetchStart+b),oe=`ttfmp_sonic_${this.props.bootType}${N}`;this.props.logger.info("PERF",`First meaningful paint: ${A}ms`),window.performance.timing.fetchStart>0&&this.props.telemeter.store(oe,A),this.clogInvitePeopleButton()}logTeamSwitchMetrics(){const b=Object(Qu.b)(),N=Date.now()-b;this.props.telemeter.store("team_switch_sonic",N),Object(pr.dispatchForClientStore)(Object(kt.d)(!1))}shouldLogFirstMeaningfulPaint(){return Object(tn.b)()||Object(tn.f)()||Object(tn.c)()||!this.props.shouldTrackTTFMP?!1:Object(Et.a)(Object(pr.getStateForClientStore)())}resetCurrentScrollTopMaybe(b){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.props.rows;b>this.getContentHeight(N)&&(this.currentScrollTop=0)}rowHasContextMenu(b){const{type:N,id:A}=b;return N==="sectionHeading"||A&&Object(B.j)(A)?!0:["allThreadsLink","channel"].includes(N)}scrollToTarget(b){const N=Math.max(0,Math.min(this.getContentHeight()-this.height,b));Object(hs.a)({fromValue:this.currentScrollTop,toValue:N,duration:200,easing:"easeOutQuad",onTick:A=>{let{value:oe,nextTick:re}=A;this.jumpToOffset(oe),re()}})}dismissAddAppsLink(){this.props.dismissAddAppsLink()}renderContextMenuForItem(b,N){const A=this.getRowByKey(b);if(!A||!this.rowHasContextMenu(A))return null;const oe=this.getTemplateForContentMenu(A);if(!oe||!oe.length)return null;const{targetBounds:re,onCloseRequested:ce}=N;return u.a.createElement(wi.a,{targetBounds:re,onCloseRequested:ce},u.a.createElement(Nt.a,{"aria-label":this.getLabelForContextMenu(A),template:oe,menuClassNames:Object(un.default)({"p-section_menu":A.type==="sectionHeading"})}))}renderChannel(b){const{key:N,id:A,index:oe,sectionChannelIndex:re,channelSection:ce,showAvatars:je,isEditMode:Ce}=b,{isChannelSectionsAPIOperational:Ke,countInternalSelfTeamIds:rt,workspaceIsFiltered:gt}=this.props;return u.a.createElement(_o.a,{id:A,selectItem:Qt.a,onItemSelected:this.onItemSelected,onToggleChecked:this.onToggleChecked,index:oe,sectionChannelIndex:re,channelSection:ce,isChannelSectionsAPIOperational:Ke,rowPosition:this.props.rowSectionPositioning.rowPosition[N],priorDisplayedChannelSectionId:this.props.rowSectionPositioning.priorDisplayedChannelSectionId[ce.id],finalDisplayedChannelSectionId:this.props.rowSectionPositioning.finalDisplayedChannelSectionId,isInstantSlackInviteeSession:this.props.isInstantSlackInviteeSession,listsEnabled:this.props.listsEnabled,experimentHuddlesGroupTreatment:this.props.experimentHuddlesGroupTreatment,experimentHuddlesStatusUltraGroupOn:this.props.experimentHuddlesStatusUltraGroupOn,clogger:this.props.clogger,experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:this.props.experimentJoinerLaunchpadShouldUseNewUserSortingTreatment,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:this.props.experimentIA4JoinerOnboardingSuggestionsGroupTreatment,experimentDesktopIa4GroupOn:this.props.experimentDesktopIa4GroupOn,experimentCanvasSidebarMixGroupOn:this.props.experimentCanvasSidebarMixGroupOn,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:this.props.experimentCanvasOrgProtoHomeSidebarChanvasGroupOn,suggestedJoinCtaEligible:this.props.suggestedJoinCtaEligible,showAvatars:je,isEditMode:Ce,tractorOrGeneralChannelId:this.props.tractorOrGeneralChannelId,experimentDesktopIa4NewTeamsV3GroupTreatment:this.props.experimentDesktopIa4NewTeamsV3GroupTreatment,experimentJoinersExperienceHomeAndMoreGroupOn:this.props.experimentJoinersExperienceHomeAndMoreGroupOn,countInternalSelfTeamIds:rt,experimentWorkspaceWeaverGroupOn:this.props.experimentWorkspaceWeaverGroupOn,digestAddedChannelCoachmarkChannelId:this.props.digestAddedChannelCoachmarkChannelId,workspaceIsFiltered:gt})}renderRowMemoized(b){const N=this.props.rows[b];return N?((!this.rowCache[N.key]||!Object(Na.a)(Object(ms.a)(this.rowCache[N.key].row,["height","scrollTop","scrollBottom"]),Object(ms.a)(N,["height","scrollTop","scrollBottom"])))&&(this.rowCache[N.key]={row:N,jsx:this.renderRowObject(N)}),this.rowCache[N.key].jsx):null}renderRowObject(b){const{experimentSlackAiNfxUpdatesV2GroupOn:N,isChannelSectionsAPIOperational:A,isEditMode:oe,isSidebarVisible:re}=this.props;switch(b.type){case"allThreadsLink":return u.a.createElement(on,{qaLabel:"all_thread_link",selectItem:Qt.a,onItemSelected:this.onItemSelected,isEditMode:!0});case"pageLink":{let ce=u.a.createElement(Go,{id:b.id,selectItem:Qt.a,onItemSelected:this.onItemSelected});return b.id==="Pslack-connect"&&(ce=u.a.createElement(ro.c,{spaceName:Za.g.IN_PRODUCT_COACHMARK,notifications:Ac,shouldAlwaysRenderChildren:!0},ce)),b.id==="Pdaily-digest"&&(ce=N?u.a.createElement(Xu.default,null,ce):u.a.createElement(ro.c,{spaceName:Za.g.IN_PRODUCT_COACHMARK,notifications:os,shouldAlwaysRenderChildren:!0},ce)),ce}case"sectionHeading":return this.renderSectionHeading(b);case"ariaGroup":return u.a.createElement(t.Fragment,null);case"channel":return this.renderChannel(b);case"addMoreChannels":return u.a.createElement(yc,{type:"channel",itemId:b.type,channelSection:b.channelSection,isSidebarEditMode:oe,isSidebarVisible:re,rowPosition:this.props.rowSectionPositioning.rowPosition[b.key],priorDisplayedChannelSectionId:this.props.rowSectionPositioning.priorDisplayedChannelSectionId[b.channelSection.id],finalDisplayedChannelSectionId:this.props.rowSectionPositioning.finalDisplayedChannelSectionId,showProgressiveDisclosureAddChannelsFlag:b.showProgressiveDisclosureAddChannelsSidebarFlag,ensureItemInView:this.ensureItemInView,experimentDesktopIa4GroupOn:this.props.experimentDesktopIa4GroupOn});case"addMoreDM":return u.a.createElement(ro.c,bd({},cl,{shouldAlwaysRenderChildren:!0,channelSectionId:b.channelSection.id}),u.a.createElement(yc,{type:"dm",itemId:b.type,channelSection:b.channelSection,isSidebarEditMode:oe,showInviteModalInAddMoreDMsLink:b.shouldShowInviteModalInAddMoreDMsLink,showDmBrowserInAddMoreDMsLink:b.shouldShowDmBrowserInAddMoreDMsLink,rowPosition:this.props.rowSectionPositioning.rowPosition[b.key],priorDisplayedChannelSectionId:this.props.rowSectionPositioning.priorDisplayedChannelSectionId[b.channelSection.id],finalDisplayedChannelSectionId:this.props.rowSectionPositioning.finalDisplayedChannelSectionId,showProgressiveDisclosureAddTeammatesFlag:b.showProgressiveDisclosureAddTeammatesSidebarFlag,ensureItemInView:this.ensureItemInView,experimentDesktopIa4GroupOn:this.props.experimentDesktopIa4GroupOn,experimentDesktopIa4NewTeamsV3GroupTreatment:this.props.experimentDesktopIa4NewTeamsV3GroupTreatment}));case"connectLink":return u.a.createElement(yc,{type:"slack_connect",channelSection:b.channelSection,isSidebarEditMode:oe,rowPosition:this.props.rowSectionPositioning.rowPosition[b.key],priorDisplayedChannelSectionId:this.props.rowSectionPositioning.priorDisplayedChannelSectionId[b.channelSection.id],finalDisplayedChannelSectionId:this.props.rowSectionPositioning.finalDisplayedChannelSectionId,experimentDesktopIa4GroupOn:this.props.experimentDesktopIa4GroupOn});case"addMoreApps":return u.a.createElement(yc,{type:"app",channelSection:b.channelSection,isSidebarEditMode:oe,rowPosition:this.props.rowSectionPositioning.rowPosition[b.key],priorDisplayedChannelSectionId:this.props.rowSectionPositioning.priorDisplayedChannelSectionId[b.channelSection.id],finalDisplayedChannelSectionId:this.props.rowSectionPositioning.finalDisplayedChannelSectionId,experimentDesktopIa4GroupOn:this.props.experimentDesktopIa4GroupOn});case"installAppsLink":return u.a.createElement(Oa,null);case"discountOfferCTA":case"goldenGateCTA":return u.a.createElement(Li.a,null);case"instantSlackYouSection":return u.a.createElement(zu,null);case"spacer":return null;case"pagesListSpacer":return u.a.createElement("div",{className:"p-channel_sidebar__pages_list_spacer"});case"divider":return u.a.createElement(Zd,null);case"emptyState":return null;case"desktopUpdate":return u.a.createElement(sl,null);case"externalWorkspaceLink":return u.a.createElement(Jd,{workspaceId:b.workspaceId,pageId:b.pageId,channelSection:b.channelSection,isChannelSectionsAPIOperational:A});case"externalWorkspacePinnedCanvas":return b.id?u.a.createElement(qr,{entityId:b.id}):null;default:Object(kn.b)().warn(`Row type ${b.type} not implemented`,b)}return null}renderSectionHeading(b){const{channelSection:N,channelIds:A,channelSectionHasAllMutedHiddenChannels:oe,channelSectionReadHiddenChannels:re,channelSectionMutedHiddenChannels:ce,channelSectionUnreadWithNoMentionsHiddenChannels:je}=b,{rowSectionPositioning:Ce,onDMBrowserModalClick:Ke,onAppLauncherClick:rt,sidebarSections:gt,visibleSidebarSectionsOrdered:Rn,clogger:co,experimentDesktopIa4GroupOn:ca,isChannelSectionsAPIOperational:La,isEditMode:Jo,setChannelSectionPref:Xo,getChannelSectionPref:Ns,getContextMenuTemplateForSectionHeading:nr}=this.props;if(!N)return null;const _r=N.id===Rn[0]&&!Object(ee.b)(N);return u.a.createElement(u.a.Fragment,null,u.a.createElement(Si,{channelSection:N,channelSectionName:this.props.getChannelSectionName({channelSection:N}),channelIds:A,channelSectionReadHiddenChannels:re,channelSectionMutedHiddenChannels:ce,channelSectionUnreadWithNoMentionsHiddenChannels:je,channelSectionHasAllMutedHiddenChannels:oe,onEnterEditModeClick:this.onEnterEditModeClick,rowPosition:Ce.rowPosition[b.key],priorDisplayedChannelSectionId:Ce.priorDisplayedChannelSectionId[N.id],finalDisplayedChannelSectionId:Ce.finalDisplayedChannelSectionId,unreadsOnlyPromptCoachmarkRef:this.unreadsOnlyPromptCoachmarkRef,onChannelSectionCollapseToggle:this.onChannelSectionCollapseToggle,onDMBrowserModalClick:Ke,onAppLauncherClick:rt,sidebarSections:gt,isFirstVisibleSection:_r,clogger:co,isInstantSlackInviteeSession:this.props.isInstantSlackInviteeSession,experimentDesktopIa4GroupOn:ca,isChannelSectionsAPIOperational:La,isEditMode:Jo,setChannelSectionPref:Xo,getChannelSectionPref:Ns,getContextMenuTemplateForSectionHeading:nr}),this.renderAriaGroup(b),this.renderAriaDescription(b))}renderAriaGroup(b){return u.a.createElement("div",{role:"group","aria-owns":b["aria-owns"]})}renderAriaDescription(b){const N=this.getAriaDescriptionSectionHeaderRow(b);return N?u.a.createElement("div",{id:`${b.key}-description`,hidden:!0},N):null}renderPlaceholder(){const{placeholderType:b,filterInputUserQuery:N}=this.props;return b==="edit-mode-filter-empty"?u.a.createElement(ls.a,{className:"p-channel_sidebar__empty_state",titleIcon:"search",title:tr.rt("No results for \u201C{query}\u201D",{query:N}),description:tr.t("You may want to try using different keywords or checking for typos.")}):null}renderTopBanner(b){const{isEditMode:N}=this.props,{firstMentionId:A,firstUnreadId:oe}=this.getBannerIds(),{isTopBannerVisible:re,scrolledBelowFirstMention:ce}=this.getBannerVisibility(b);return N||!re?null:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"p-channel_sidebar__list__top_banner_fade",role:"presentation"}),u.a.createElement(Hs,{position:"top",isMention:!!ce,linkedId:ce?A:oe,ensureItemInView:this.ensureItemInView}))}renderBottomBanner(b){const{isEditMode:N}=this.props,{lastMentionId:A,lastUnreadId:oe}=this.getBannerIds(),{isBottomBannerVisible:re,scrolledAboveLastMention:ce}=this.getBannerVisibility(b);return N||!re?null:u.a.createElement(u.a.Fragment,null,u.a.createElement(Hs,{position:"bottom",isMention:!!ce,linkedId:ce?A:oe,ensureItemInView:this.ensureItemInView}),u.a.createElement("div",{className:"p-channel_sidebar__list__bottom_banner_fade",role:"presentation"}))}renderSizedContents(b){let{width:N,height:A}=b;var oe;const{rows:re,selectedItemId:ce,hasKeyboardFocus:je,overlayIsOpen:Ce}=this.props,Ke=kc((oe=this.focusableRow)===null||oe===void 0?void 0:oe.key,ce,re),rt=tr.t("Channels and direct messages");return u.a.createElement(u.a.Fragment,null,this.renderTopBanner(A),u.a.createElement(vs.b,{layout:this.layout,ref:this.keyboardNavigableListRef,width:N,height:A,className:Object(un.default)("p-channel_sidebar__static_list",{"p-channel_sidebar__static_list--keyboard_focus":je}),keys:this.rowKeys,rowRenderer:this.renderRowMemoized,"aria-label":rt,"aria-describedby":"channel_sidebar_summary",onScroll:this.onScroll,onItemContextMenu:this.onItemContextMenu,renderContextMenuForItem:this.renderContextMenuForItem,onItemClick:this.onItemClick,onItemKeyDown:this.onItemKeyDown,overscanRatio:this.props.overscanRatio,isFocusableItem:this.isRowFocusable,pageHeight:A-26,getPropsForItem:this.getPropsForItem,role:"tree",useStaticHeightForListItems:!0,useFixedTrackHeightForScrollbar:!0,onFocusEnter:this.onListFocusEnter,persistentKeys:Ke,usePersistentOrder:!0,metricsTag:"ChannelList",tracer:this.props.tracer,disableKeyboardShortcuts:!!Ce,useApplicationRole:!1,onOverflow:this.props.onOverflow}),this.renderBottomBanner(A))}render(){var b;const{rows:N,experimentInsetDesignGroupOn:A}=this.props;return this.rowKeys=nu(N),this.rowHeightByKey=N.reduce((oe,re)=>(oe[re.key]=re.height,oe),{}),this.setFocusableRow(),u.a.createElement("div",{className:Object(un.default)("p-channel_sidebar__list",{"p-channel_sidebar__list--inset":A&&this.state.showChannelListTopBorder})},u.a.createElement(ui.a,{listeners:this.getFocusTransitionListeners(this.isEnteringEditMode,this.isLeavingEditMode,(b=this.keyboardNavigableListRef)===null||b===void 0?void 0:b.current,this.rowKeys)},N.length===0?this.renderPlaceholder():u.a.createElement(Le.a,{onResize:this.onResize},oe=>{let{width:re,height:ce}=oe;return this.renderSizedContents({width:re,height:ce})})))}constructor(b){super(b),this.rowCache={},Object(rs.a)(this,["getCurrentScrollTop","resetCurrentScrollTopMaybe","onResize","onScroll","onListFocusEnter","onAddChannelCloseClick","dismissAddAppsLink","onItemKeyDown","onItemClick","renderRowMemoized","renderRowObject","renderSizedContents","isRowFocusable","isRowObjectFocusable","getAriaAttributesForRow","onActivityItemSelect","onSavedItemSelect","onItemSelected","onEnterEditModeClick","focus","focusOnEditMode","focusOnExitEditMode","focusList","focusOnNewSection","focusOnFirstSection","getPropsForItem","onItemContextMenu","renderContextMenuForItem","renderChannel","getAriaLabelForRow","onUpArrowPressed","onToggleChecked","onChannelSectionCollapseToggle","ensureItemInView","getFocusTransitionListeners"]),this.state={scrolledBelowFirstMention:!1,scrolledBelowFirstUnread:!1,scrolledAboveLastMention:!1,scrolledAboveLastUnread:!1,showChannelListTopBorder:!1},this.scrollRenderTimeRaf=null,this.currentScrollTop=0,this.height=0,this.keyboardNavigableListRef=u.a.createRef(),this.unreadsOnlyPromptCoachmarkRef=u.a.createRef(),this.isLeavingEditMode=null,this.isEnteringEditMode=null;const N=c(je=>this.rowHeightByKey[je],"getHeight");this.layout=new xs({getHeight:N});const{keyboardLocale:A}=this.props,oe=Object(Mo.d)({keyboardLocale:A,experimentConversationViewsGroupOn:!0});this.keyboardShortcuts=Object.keys(oe).reduce((je,Ce)=>(je[Ce]=oe[Ce].keys.map(Ke=>Ke.replace("key_","")).join(" "),je),{});const re=Object(Mo.a)({keyboardLocale:A,enableUnreadView:!0}),ce={open_all_unreads:"Punreads",open_all_threads:"Vall_threads",browse_dms:"Pdms",open_mentions_reactions:"Pactivity",open_saved_items:"Psaved",open_later:"Plater",browse_channels:"Pbrowse-channels"};this.ariaShortcutsForPages=Object.keys(re).reduce((je,Ce)=>{const Ke=ce[Ce];return Ke&&(je[Ke]=re[Ce]),je},{}),this.nextUpdateRelativeScrollPosition=null,this.rowCache={},this.rowHeightByKey={},this.rowKeys=[],this.getFocusTransitionListeners=Object(So.a)(this.getFocusTransitionListeners)}},"ChannelList");dl.displayName="ChannelList",dl.defaultProps={onItemSelect:Qt.a,shouldTrackTTFMP:!0,setHideAddChannelButton:Qt.a,dismissAddAppsLink:Qt.a,overlayIsOpen:!1,selectedItemId:void 0,closeIM:Qt.a,getAriaLabelForRow:Qt.a,openActivityView:Qt.a,openSavedView:Qt.a,openNotificationsView:Qt.a,showSidebarThrobber:!1,showSectionsThrobber:!1,isSidebarVisible:!1,isEditMode:!1,setIsEditMode:Qt.a,setEditModeChannelSectionCollapsed:Qt.a,setChannelSectionCollapsed:Qt.a,overscanRatio:1/0,bulkSetEditModeChannelSectionCollapsed:Qt.a,bulkSetChannelSectionsCollapsed:Qt.a,filterInputUserQuery:"",placeholderType:void 0,visibleSidebarSectionsOrdered:[],upsertChannelSection:Qt.a,editModeSelectedChannelIds:{},clearEditModeSelectedChannelIds:Qt.a,onEditModeChannelRangeClick:()=>0,onEditModeChannelClick:()=>0,sendMessageToAnnouncerAPI:Qt.a,toggleHuddleInHighlightedChannel:Qt.a,unreadsOnlyCoachmarkVisible:{},isFiltering:!1,getContextMenuTemplateForChannel:Qt.a,getContextMenuTemplateForSectionHeading:Qt.a,onDMBrowserModalClick:Qt.a,onAppLauncherClick:Qt.a,sidebarSections:{},isInstantSlackInviteeSession:!1,listsEnabled:!1,experimentHuddlesGroupTreatment:!1,experimentHuddlesStatusUltraGroupOn:!1,experimentDesktopIa4GroupOn:!1,experimentCanvasSidebarMixGroupOn:!1,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:!1,experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:!1,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:!1,suggestedJoinCtaEligible:!1,tractorOrGeneralChannelId:"",experimentDesktopIa4NewTeamsV3GroupTreatment:!1,experimentJoinersExperienceHomeAndMoreGroupOn:!1,countInternalSelfTeamIds:0,experimentWorkspaceWeaverGroupOn:!1,digestAddedChannelCoachmarkChannelId:null,experimentSlackAiNfxUpdatesV2GroupOn:!1,workspaceIsFiltered:!1,isSlackAiRecapCoachmarkVisible:!1};const Od=Object(di.a)(dl),Zu=Object(yi.a)(Od),tc=Object(Ur.a)(Zu);var $u=Object(li.b)(tc,{name:"ChannelList"}),Pc=e("1S1r"),Vs=e("yd7g"),Ed=e("y7tO"),Ul=e.n(Ed),_d=e("GObw"),qu=e("KTqF"),Cd=e("SObh");const ou=Object(ze.c)("Create a new channel section for an external workspace",(ae,b,N)=>{let{externalWorkspaceId:A}=N;var oe,re;const ce=b(),je=Object(D.w)(ce),Ce=je.findIndex(ca=>ca.type===v.p.Channels),Ke=Ce>-1?(oe=je[Ce+1])===null||oe===void 0?void 0:oe.id:"",rt=(re=je.find(ca=>ca.type===v.p.SlackConnect))===null||re===void 0?void 0:re.id,gt=Object(_d.a)(ce)&&rt?rt:Ke,Rn=ae(Object(qu.a)({workspaceIds:[A],nextChannelSectionId:gt,reason:"external-workspace-add-to-home"})),co=function(){var ca=Object(s.coroutine)(function*(){try{yield Rn}catch{return}const{resultPromise:La}=ae(Object(Cd.b)({channelSectionId:Object(Ht.h)(A),reason:"undo-external-workspace-add-to-home"}));return La});return c(function(){return ca.apply(this,arguments)},"undo")}();return{dispatchPromise:Rn,undo:co}});ou.meta={name:"createThunk",key:"createThunkcreateExternalWorkspaceChannelSection",description:"Create a new channel section for an external workspace"};var ei=e("KwZw"),yd=e("oY18"),su=e("lqkv");const ul=new M.b("shared_workspaces"),Hl={name:"home"},Fl=Object(ze.c)("Create an external workspace channel section and give the user feedback",function(){var ae=Object(s.coroutine)(function*(b,N,A){let{channelCount:oe,workspaceId:re}=A;const ce=Object(il.g)(N()),{dispatchPromise:je,undo:Ce}=b(ou({externalWorkspaceId:re}));yield je;const Ke=function(){var rt=Object(s.coroutine)(function*(){b(Object(ei.a)());try{yield Ce()}catch{b(Object(yd.a)({element:u.a.createElement(su.b,null,ce?ul.t("Unable to undo."):"")}));return}b(Object(qn.a)({...Object(Mt.b)(re),options:{forceTab:Tc.b,navigateInPlace:!0,skipBackStack:!0}}))});return c(function(){return rt.apply(this,arguments)},"handleUndo")}();b(Object(yd.a)({element:u.a.createElement(su.b,{svgIconProps:Hl},u.a.createElement("strong",null,ce?ul.t("{channelCount, plural, =1 {# channel} other {# channels}} added to your Home sidebar.",{channelCount:oe}):""),u.a.createElement(Da.d,{className:"margin_left_50 underline",onClick:Ke},ce?ul.t("Undo"):""))})),b(Object(qn.a)({...Object(Mt.b)(re),options:{forceTab:da.f.Home}}))});return function(b,N,A){return ae.apply(this,arguments)}}());Fl.meta={name:"createThunk",key:"createThunkaddToHomeWithFeedback",description:"Create an external workspace channel section and give the user feedback"};var Kl=e("/B99"),Vl=e("jWAO"),jd=e("YUBf"),em=e("E/AO"),Gm=e("hUMe"),tm={modal_image:"modal_image__6Rcz3"};const Gl=new M.b("shared_workspaces");function Sd(ae){let{onClose:b,workspaceId:N}=ae;const A=Object(U.i)(),oe=Object(g.c)(il.g),re=Object(g.c)(gt=>Object(Kl.a)(gt,N)),ce=Object(t.useMemo)(()=>re.filter(C.wb),[re]),[je,Ce]=Object(t.useState)("idle"),Ke=Object(t.useCallback)(Object(s.coroutine)(function*(){Ce("loading");try{yield A(Fl({channelCount:ce.length,workspaceId:N})),b()}catch{Ce("error")}}),[A,ce.length,b,N]),rt=Object(t.useMemo)(()=>u.a.createElement("div",{className:"sk_foreground_low_bg padding_150"},u.a.createElement(jd.j,{src:Ul.a,className:tm.modal_image,alt:""})),[]);return oe?u.a.createElement(em.a,{headerImage:rt,title:Gl.t("Add a section with {channelCount, plural, =1 {# channel} other {# channels}} to your Home sidebar",{channelCount:ce.length}),isSubmitButtonALoadingButton:!0,submitButtonText:Gl.t("Add to Home"),onSubmit:Ke,isSubmitting:je==="loading",onCancel:b,onClose:b},u.a.createElement("span",null,Gl.rt("You\u2019ll see a new section called {workspaceName} in your Home sidebar with {channelCount, plural, =1 {# channel} other {# channels}}. You can remove these anytime.",{channelCount:ce.length,workspaceName:u.a.createElement(Gm.a,{id:N})})),je==="error"?u.a.createElement(Vl.d,{className:"margin_top_100",level:Vl.b.error,type:Vl.c.inline},Gl.t("Unable to add section to Home. Please try again.")):null):null}c(Sd,"AddToHomeConfirmationModal"),Sd.displayName="AddToHomeConfirmationModal";const Ki=new M.b("shared_workspaces");function Xc(ae){let{externalWorkspaceId:b}=ae;const N=Object(g.c)(il.g),A=Object(g.c)(re=>Object(Vs.c)(re,b)),[oe]=Object(Pc.a)(re=>{let{closeModal:ce}=re;return{element:u.a.createElement(Sd,{onClose:ce,workspaceId:b})}});return!N||A?null:u.a.createElement(Da.a,{className:"full_width",type:"outline",onClick:oe},u.a.createElement("span",{className:"margin_right_25"},u.a.createElement(vr.a,{name:"home",size:"20"})),Ki.t("Add to Home"))}c(Xc,"AddExternalWorkspaceToHome"),Xc.displayName="AddExternalWorkspaceToHome";var ml=e("+CZ0"),lt=e("DneB");function Id(ae){let{variant:b}=ae;const N=Object(g.c)(il.g),A=Object(lt.b)(ml.k);if(!N||!b||A)return null;let oe;switch(b.type){case"add-external-workspace-to-home":oe=u.a.createElement(Xc,{externalWorkspaceId:b.externalWorkspaceId});break}return oe?u.a.createElement("div",{className:"margin_top_75 margin_right_50 margin_bottom_75 margin_left_50"},oe):null}c(Id,"StickyFooterButtons"),Id.displayName="StickyFooterButtons";var nm=e("hePv"),ru=e("3rxk"),Td=e("nWdO"),am=e("/6P7");const ti=new M.b("channel_sidebar"),Ad=c(ae=>{let{rows:b,isEditModeFilterEmpty:N}=ae;const A=Object(g.c)(D.r),oe=Object(g.c)(D.l)||0,re=Object(g.c)(D.p),ce=Object(g.c)(Ns=>Object(pi.L)(Object(Ss.g)(Ns))),je=Object(d.a)(),{transitionFocusTo:Ce}=Object(t.useContext)(Bi.a),Ke=Object(U.i)(),[rt,gt]=Object(t.useState)(!1),Rn=c(()=>{Ce({focusKey:Ho.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM}),Ke(Xe({rows:b}))},"onSelectAll"),co=c(()=>{Ke(Object(hn.c)())},"clearEditMode"),ca=c(()=>{Ce({focusKey:Ho.c.SIDEBAR_CURRENT_CHANNEL}),co()},"onClearSelection"),La=c(Ns=>{let{isTruncatedUpdatedValue:nr}=Ns;nr&&gt(!0)},"onTooltipShow");if(!A)return null;const Jo=oe>0,Xo=oe===0&&re&&!N;return u.a.createElement("div",{className:"p-channel_sidebar__organize_mode_menu","data-qa":"organize-mode-menu"},u.a.createElement("div",{"data-qa":"org_mode_count",className:"p-channel_sidebar__organize_mode_count"},ti.t("{selectedItemCount} selected",{selectedItemCount:oe}),oe>0&&u.a.createElement(u.a.Fragment,null,u.a.createElement("span",null," | "),u.a.createElement(Uo.a,{className:"p-channel_sidebar__organize_selection_action",invert:!0,"data-qa":"org_mode_deselect",onClick:ca},ti.t("Clear selection"))),Xo&&u.a.createElement(u.a.Fragment,null,u.a.createElement("span",null," | "),u.a.createElement(Uo.a,{className:"p-channel_sidebar__organize_selection_action",invert:!0,"data-qa":"org_mode_select_all",onClick:Rn},ti.t("Select all")))),u.a.createElement("div",{className:"p-channel_sidebar__organize_mode_actions"},Jo?u.a.createElement(nm.a,{onItemSelected:co,position:"top"},u.a.createElement(Da.f,{type:"primary",className:"p-channel_sidebar__organize_action","data-qa":"org_mode_action_move"},ti.t("Move to\u2026"))):ce&&u.a.createElement(Td.c,{tip:ti.t("New Section"),tipClassName:Object(un.default)({hidden:!rt}),position:"top",onShow:La},u.a.createElement(Da.f,{type:"primary",className:"p-channel_sidebar__organize_action","data-qa":"org_mode_action_create",onClick:()=>Ke(Object(ol.a)({element:u.a.createElement(ru.b,{action:ru.a.CREATE,onAttemptSubmit:()=>{je.track(Me.EventId.CHANNEL_SECTIONS_CREATE,{contexts:{ui_context:{action:Me.UiAction.SAVE,ui_component_name:"OrganizeModeMenu"}}})}})}))},ti.t("New Section"))),u.a.createElement(Td.c,{tip:ti.t("Done"),tipClassName:Object(un.default)({hidden:!rt}),position:"top",onShow:La},u.a.createElement(Da.f,{type:"outline",className:"p-channel_sidebar__organize_action","data-qa":"org_mode_action_done",onClick:()=>{Ce({focusKey:Ho.c.SIDEBAR_CURRENT_CHANNEL}),Ke(nn({isEditMode:!1}))}},ti.t("Done")))))},"OrganizeModeMenu");Ad.displayName="OrganizeModeMenu";var zm=Ad,de=e("zlyu");const _=new M.b("channel_sidebar");function k(){let{anchorElement:ae}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const b=Object(U.i)(),N=Object(g.c)(Ce=>Object(Ha.u)(Ce,"has_created_channel_section")),A=Object(g.c)(Ce=>Object(pi.L)(Object(Ss.g)(Ce))),re=Object(g.c)(D.w).some(Ce=>Ce.type===v.m),ce=Object(t.useCallback)(()=>{b(Object(Ma.f)({pref:"has_created_channel_section",value:!1}))},[b]);if(!A&&N&&!re){var je;return u.a.createElement(de.a,{anchorElement:ae,closeCoachmark:ce,isOpen:N,orientation:"right",offsetY:ae?((je=ae==null?void 0:ae.getBoundingClientRect())===null||je===void 0?void 0:je.height)*-.33:void 0,coachmarkClassNames:"p-channel_sidebar__channel_sections_edu_coachmark",isMegaphoneCoachmark:!1},u.a.createElement("h2",{className:"p-channel_sidebar__channel_sections_edu_coachmark_title"},_.t("Custom sections are no longer available")),u.a.createElement("div",{className:"p-channel_sidebar__channel_sections_edu_coachmark_content"},_.t("Now that your workspace is on a free plan, all your conversations are organized in default sections. You can also still star any conversations you\u2019d like.")))}return null}c(k,"ChannelSectionsEduCoachmark");const R=u.a.lazy(()=>Promise.resolve().then(e.bind(null,"xc9X"))),W={[Za.h.SIDEBAR_SIMPLIFICATION_COACHMARK]:{component:R}},$="react_channel_sidebar_update",me=Object(an.a)(1),fe=24;var ve;let ke=c(class extends(ve=u.a.PureComponent){componentDidMount(){this.keyCommands=new ht.a,this.keyCommands.bindAll(this.commands),this.maybeLoadDraftsData(),this.shouldTrackTTFMP=this.props.isWindowFocused,this.maybeBeaconBootMountSuccess(),this.props.preFetchSlackConnectDmEligibility({reason:"sidebar-mount"})}UNSAFE_componentWillReceiveProps(b){this.shouldTrackTTFMP=this.shouldTrackTTFMP&&b.isWindowFocused;const N=b.jumperCoachmarkState==="SHOW_BUTTON"||b.jumperCoachmarkState==="HIDE_BUTTON",A=this.props.rows.length&&b.rows.length&&(this.props.rows[0].id==="Vquick_switcher"||b.rows[0].id==="Vquick_switcher")&&this.props.rows[0].id!==b.rows[0].id;(N||A)&&this.ChannelList&&this.ChannelList.jumpToOffset(0)}UNSAFE_componentWillUpdate(b){me&&b.telemeter.mark(`${$}_mark`)}componentDidUpdate(b){const{selectedItemId:N,jumperCoachmarkState:A,rows:oe,suggestedChannelsMap:re,clogger:ce,telemeter:je,isChannelDraggingOverSidebar:Ce,isChannelSectionDraggingOverSidebar:Ke}=this.props,rt=A==="SHOW_BUTTON"||A==="HIDE_BUTTON",gt=b.selectedItemId!==N;if(!rt&&gt&&this.ensureItemInView(N),this.maybeLoadDraftsData(),me&&je.measureAndClear(`${$}_mark`,$),!this.isSuggestedChannelsClogSent&&Object.keys(re).length){const ca=oe.filter(La=>La.type==="channel"&&re[La.id]).length;ca&&ce.track&&(this.isSuggestedChannelsClogSent=!0,ce.track(Me.EventId.SIDEBAR_SUGGESTED_CHANNELS_RENDERED,{count:ca}))}this.maybeBeaconBootMountSuccess();const Rn=Ce||Ke,co=b.isChannelDraggingOverSidebar||b.isChannelSectionDraggingOverSidebar;co&&!Rn&&this.autoscrollStop(),Rn&&!co&&this.autoscrollStart()}componentWillUnmount(){this.keyCommands.reset()}onItemSelect(b){let{routeParams:N,tile:A=!1,isCmdKey:oe=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.props.onItemSelect(b,{routeParams:N,tile:A,isCmdKey:oe})}onBlur(){this.restoreFocusTransition&&(this.restoreFocusTransition(),this.restoreFocusTransition=null)}setRef(b){this.ChannelList=b}setSidebarDivRef(b){this.props.connectDropTarget(b),this.sidebarDivRef.current=b}autoscrollStart(){this.autoscrollAnimationId=requestAnimationFrame(this.autoscrollTick),this.autoscrollHighPrecisionScrollTop=this.ChannelList?this.ChannelList.currentScrollTop:0}autoscrollStop(){this.autoscrollAnimationId&&(cancelAnimationFrame(this.autoscrollAnimationId),this.autoscrollLastTick=null,this.autoscrollAnimationId=null)}autoscrollTick(b){if(this.autoscrollLastTick===null&&(this.autoscrollLastTick=b),this.props.isChannelDraggingOverSidebar||this.props.isChannelSectionDraggingOverSidebar){const A=(b-this.autoscrollLastTick)/1e3,oe=this.props.autoscrollVelocity*A;if(oe&&this.ChannelList){const re=this.ChannelList.getBoundingClientRect(),ce=this.ChannelList.getContentHeight();this.autoscrollHighPrecisionScrollTop=Object(Sa.a)(this.autoscrollHighPrecisionScrollTop+oe,0,ce-re.height),this.ChannelList.jumpToOffset(this.autoscrollHighPrecisionScrollTop)}}this.autoscrollLastTick=b,this.autoscrollAnimationId=requestAnimationFrame(this.autoscrollTick)}ensureItemInView(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.selectedItemId;const{rowForItemId:N}=this.props,A=N[b];A&&this.ChannelList&&this.ChannelList.ensureItemInView(A.key,fe)}gotoNext(b,N,A){const{rowForItemId:oe,allItemIds:re,selectedItemId:ce,overlayIsOpen:je}=this.props;if(je)return;const Ce=Object(Zt.b)(document.activeElement);if(Ce){if(!Ce.isEmpty()&&(b==="up"&&(!Ce.isCursorAtBeginning||!Ce.isCursorAtBeginning())||b==="down"&&(!Ce.isCursorAtEnd||!Ce.isCursorAtEnd())))return}else if(Object(jt.a)(document.activeElement))return;const Ke=re.indexOf(ce),rt=[];if(re.forEach((Rn,co)=>{const ca=oe[Rn];N?(ca.type==="channel"||ca.type==="sectionHeading")&&(Object(dt.a)(this.props.unreadIds,Rn)>=0||Object(dt.a)(this.props.mutedMentionIds,Rn)>=0)&&rt.push({id:Rn,index:co}):ca.type==="channel"&&rt.push({id:Rn,index:co})}),rt.length===0)return;let gt;b==="down"?gt=Object(en.a)(rt,Rn=>Rn.index>Ke):gt=Object(ua.a)(rt,Rn=>Rn.index<Ke),gt===void 0&&(gt=b==="down"?Object(Ao.a)(rt):Object(yo.a)(rt)),gt!=null&&gt.id&&this.props.onItemSelect(gt==null?void 0:gt.id),A&&A.preventDefault()}maybeBeaconBootMountSuccess(){const{teamId:b,rows:N,telemeter:A,logger:oe}=this.props;window.clientBootMountTeam&&b===window.clientBootMountTeam&&N.length&&(A.count("client_boot_mount_success"),window.clientBootMountTeam=void 0,oe.info("BOOT","Beaconed client boot mount success"))}maybeLoadDraftsData(){this.props.ensureDraftChannelObjects&&!this.hasInitializedDraftsData&&(this.props.ensureDraftChannelObjects(),this.hasInitializedDraftsData=!0)}render(){const{rows:b,rowForItemId:N,rowSectionPositioning:A,placeholderType:oe,isChannelSectionsBooted:re,isChannelSectionsAPIOperational:ce,selectedItemId:je,telemeter:Ce,logger:Ke,bootType:rt,teamId:gt,clogger:Rn,tracer:co,overlayIsOpen:ca,closeIM:La,getAriaLabelForRow:Jo,isEditMode:Xo,isChannelDraggingOverSidebar:Ns,isChannelSectionDraggingOverSidebar:nr,keyboardLocale:_r,isSetupPage:mr,isEditModeFilterEmpty:Cr,sidebarSummaryText:Gs,unreadsOnlyCoachmarkVisible:Vr,isFiltering:ar,getContextMenuTemplateForChannel:us,getContextMenuTemplateForSectionHeading:Gr,onDMBrowserModalClick:Xs,onAppLauncherClick:ai,sidebarSections:gi,experimentInsetDesignGroupOn:Nr,isInstantSlackInviteeSession:Oi,listsEnabled:zr,experimentHuddlesGroupTreatment:Ei,experimentHuddlesStatusUltraGroupOn:Lr,experimentDesktopIa4GroupOn:Cs,experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:Mc,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:oi,experimentCanvasSidebarMixGroupOn:Dc,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:Rc,suggestedJoinCtaEligible:xc,setChannelSectionPref:Ia,getChannelSectionPref:Ts,showChannelSectionsEduCoachmark:Qc,tractorOrGeneralChannelId:kd,experimentDesktopIa4NewTeamsV3GroupTreatment:om,experimentJoinersExperienceHomeAndMoreGroupOn:sm,countInternalSelfTeamIds:Pd,experimentWorkspaceWeaverGroupOn:cu,digestAddedChannelCoachmarkChannelId:lu,experimentSlackAiNfxUpdatesV2GroupOn:rm,stickyFooterButtonVariant:pa,workspaceIsFiltered:fl,isSlackAiRecapCoachmarkVisible:vl}=this.props,Pa=Object(un.default)("p-channel_sidebar p-channel_sidebar--classic_nav",{"p-channel_sidebar--iap1":!0,"p-channel_sidebar--dimming":!0,"p-channel_sidebar--channel_dragging":Ns,"p-channel_sidebar--channel_section_dragging":nr,"p-channel_sidebar--contain":!0,"p-channel_sidebar--inset":Nr});return mr?u.a.createElement("div",{"data-qa-channel-sidebar":!0,className:Pa},u.a.createElement(jo,null)):u.a.createElement("div",{className:Pa,"data-qa":"channel-sidebar","data-qa-channel-sidebar":!0,"data-qa-channel-sidebar-selected-item-id":je,"data-qa-channel-sidebar-sections-booted":re,onBlur:this.onBlur,ref:this.setSidebarDivRef},Gs&&u.a.createElement("div",{id:"channel_sidebar_summary",hidden:!0},Gs),Qc&&u.a.createElement(k,{anchorElement:this.sidebarDivRef.current}),u.a.createElement(ro.c,{spaceName:Za.g.IN_PRODUCT_COACHMARK,notifications:W}),u.a.createElement($u,{rows:b,rowForItemId:N,unreadIds:this.props.unreadIds,mentionIds:this.props.mentionIds,rowSectionPositioning:A,placeholderType:oe,onItemSelect:this.onItemSelect,ref:this.setRef,telemeter:Ce,logger:Ke,shouldTrackTTFMP:this.shouldTrackTTFMP,bootType:rt,teamId:gt,setHideAddChannelButton:this.props.setHideAddChannelButton,dismissAddAppsLink:this.props.dismissAddAppsLink,clogger:Rn,tracer:co,overlayIsOpen:ca,selectedItemId:je,closeIM:La,overscanRatio:this.props.overscanRatio,getAriaLabelForRow:Jo,isEditMode:Xo,bannerHeight:fe,keyboardLocale:_r,openSavedView:this.props.openSavedView,openActivityView:this.props.openActivityView,openNotificationsView:this.props.openNotificationsView,setChannelSectionCollapsed:this.props.setChannelSectionCollapsed,bulkSetChannelSectionsCollapsed:this.props.bulkSetChannelSectionsCollapsed,upsertChannelSection:this.props.upsertChannelSection,setIsEditMode:this.props.setIsEditMode,setEditModeChannelSectionCollapsed:this.props.setEditModeChannelSectionCollapsed,bulkSetEditModeChannelSectionCollapsed:this.props.bulkSetEditModeChannelSectionCollapsed,filterInputUserQuery:this.props.filterInputUserQuery,visibleSidebarSectionsOrdered:this.props.visibleSidebarSectionsOrdered,editModeSelectedChannelIds:this.props.editModeSelectedChannelIds,onEditModeChannelClick:this.props.onEditModeChannelClick,onEditModeChannelRangeClick:this.props.onEditModeChannelRangeClick,clearEditModeSelectedChannelIds:this.props.clearEditModeSelectedChannelIds,getChannelSectionName:this.props.getChannelSectionName,toggleHuddleInHighlightedChannel:this.props.toggleHuddleInHighlightedChannel,unreadsOnlyCoachmarkVisible:Vr,isFiltering:ar,getContextMenuTemplateForChannel:us,getContextMenuTemplateForSectionHeading:Gr,onDMBrowserModalClick:Xs,onAppLauncherClick:ai,sidebarSections:gi,isChannelSectionsBooted:re,isChannelSectionsAPIOperational:ce,experimentInsetDesignGroupOn:Nr,isInstantSlackInviteeSession:Oi,listsEnabled:zr,experimentHuddlesGroupTreatment:Ei,experimentHuddlesStatusUltraGroupOn:Lr,experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:Mc,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:oi,experimentDesktopIa4GroupOn:Cs,experimentCanvasSidebarMixGroupOn:Dc,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:Rc,suggestedJoinCtaEligible:xc,setChannelSectionPref:Ia,getChannelSectionPref:Ts,tractorOrGeneralChannelId:kd,experimentDesktopIa4NewTeamsV3GroupTreatment:om,experimentJoinersExperienceHomeAndMoreGroupOn:sm,countInternalSelfTeamIds:Pd,experimentWorkspaceWeaverGroupOn:cu,onOverflow:this.props.onOverflow,digestAddedChannelCoachmarkChannelId:lu,experimentSlackAiNfxUpdatesV2GroupOn:rm,workspaceIsFiltered:fl,isSlackAiRecapCoachmarkVisible:vl}),pa?u.a.createElement(Id,{variant:pa}):null,u.a.createElement(zm,{rows:b,isEditModeFilterEmpty:Cr}))}constructor(b){super(b),this.setRef=this.setRef.bind(this),this.ensureItemInView=this.ensureItemInView.bind(this),this.onItemSelect=this.onItemSelect.bind(this),this.onBlur=this.onBlur.bind(this),this.setSidebarDivRef=this.setSidebarDivRef.bind(this),this.restoreFocusTransition=null,this.commands=[{keys:["option+up"],handler:this.gotoNext.bind(this,"up",!1)},{keys:["option+down"],handler:this.gotoNext.bind(this,"down",!1)},{keys:["option+shift+up"],handler:this.gotoNext.bind(this,"up",!0)},{keys:["option+shift+down"],handler:this.gotoNext.bind(this,"down",!0)}],this.shouldTrackTTFMP=!0,this.isSuggestedChannelsClogSent=!1,this.hasInitializedDraftsData=!1,this.autoscrollTick=this.autoscrollTick.bind(this),this.autoscrollAnimationId=null,this.autoscrollHighPrecisionScrollTop=0,this.autoscrollLastTick=null,this.sidebarDivRef=u.a.createRef()}},"ChannelSidebar");ke.displayName="ChannelSidebar",ke.defaultProps={isChannelSectionsBooted:!1,selectedItemId:null,unreadIds:[],mutedMentionIds:[],mentionIds:[],rows:[],rowSectionPositioning:void 0,rowForItemId:{},allItemIds:[],placeholderType:void 0,isEditModeFilterEmpty:!1,visibleSidebarSectionsOrdered:[],onItemSelect:Qt.a,jumperCoachmarkState:null,ensureDraftChannelObjects:void 0,telemeter:null,isWindowFocused:!1,logger:null,bootType:null,teamId:null,suggestedChannelsMap:{},clogger:{},setHideAddChannelButton:Qt.a,dismissAddAppsLink:Qt.a,overlayIsOpen:!1,closeIM:Qt.a,getAriaLabelForRow:Qt.a,isEditMode:!1,setIsEditMode:Qt.a,setEditModeChannelSectionCollapsed:Qt.a,bulkSetEditModeChannelSectionCollapsed:Qt.a,setChannelSectionCollapsed:Qt.a,bulkSetChannelSectionsCollapsed:Qt.a,filterInputUserQuery:"",upsertChannelSection:Qt.a,isSetupPage:!1,connectDropTarget:Bo.a,isChannelDraggingOverSidebar:!1,isChannelSectionDraggingOverSidebar:!1,keyboardLocale:void 0,openSavedView:Qt.a,openActivityView:Qt.a,openNotificationsView:Qt.a,sidebarSummaryText:void 0,editModeSelectedChannelIds:void 0,onEditModeChannelClick:Qt.a,onEditModeChannelRangeClick:Qt.a,clearEditModeSelectedChannelIds:Qt.a,preFetchSlackConnectDmEligibility:Qt.a,getChannelSectionName:Qt.a,toggleHuddleInHighlightedChannel:Qt.a,autoscrollVelocity:0,unreadsOnlyCoachmarkVisible:{},isFiltering:!1,getContextMenuTemplateForChannel:Qt.a,getContextMenuTemplateForSectionHeading:Qt.a,onDMBrowserModalClick:Qt.a,onAppLauncherClick:Qt.a,sidebarSections:{},experimentInsetDesignGroupOn:!1,experimentDesktopIa4GroupOn:!1,suggestedJoinCtaEligible:!1,countInternalSelfTeamIds:0,experimentWorkspaceWeaverGroupOn:!1,experimentSlackAiNfxUpdatesV2GroupOn:!1,workspaceIsFiltered:!1,isSlackAiRecapCoachmarkVisible:!1};var Ae=ke;const Se=new M.b("channel_sidebar"),He=c((ae,b,N)=>{let{totalUnreadCount:A,totalMentionCount:oe}=ae;const re=b.length>0||N.length>0,ce=[];return A>0&&oe>0&&ce.push(Se.t("{numUnreads, plural, =1 {# conversation} other {# conversations}} with unread messages, including {numBadges, plural, =1 {# mention or keyword} other {# mentions and keywords}}.",{numUnreads:A,numBadges:oe})),A>0&&oe===0&&ce.push(Se.t("{numUnreads, plural, =1 {# conversation} other {# conversations}} with unread messages.",{numUnreads:A,numBadges:oe})),re&&(Object(br.p)()?ce.push(Se.t("Press option + shift + up/down arrow to navigate between unread items.")):ce.push(Se.t("Press alt + shift + up/down arrow to navigate between unread items."))),ce.join(" ")},"getSidebarSummaryText");var bt=e("NK7x"),ot=e("9x2x"),Jt=e("/JQq"),St=e("vUm2"),yt=e("gVOt"),Bt=e("zbZx"),Kn=e("y/Pn"),Co=e("Awbm"),no=e("Fn/R"),ut=e("V+O/"),za=e("gWIG"),Io=e("Bz4R"),io=e("ZSZN"),_s=e("C2Qr"),ts=e("5SDR"),ns=e("WNnA"),Ko=e("FUEd"),dr=e("JkcV"),bs=e("3vtZ"),Er=e("GNR7"),Is=e("TiPP"),Fr=e("Z0Cl");const ur=new M.b("channel_sidebar");function ni(){let{name:ae,hasUnreads:b,badgeCount:N,isCurrent:A,ariaLabelPhrases:oe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!ae)return;const re=A?ur.t("current page"):null,ce=b&&!N?ur.t("has unreads"):null,je=N?ur.t("{count} {count, plural, =1 {unread highlight} other {unread highlights}}",{count:N}):null,Ce=Object(Fr.a)([re,ce,je,...oe||[]],Bo.a);return ae+(Ce.length?` (${Ce.join(", ")})`:"")}c(ni,"makeAriaLabelForPage");const Vi=Object(ze.c)("Sidebar: get aria-label for a page row",(ae,b,N)=>{let{id:A,isCurrent:oe}=N;const re=b(),ce=Object(ys.b)(A),je=ce.sidebar||{},Ce=Object(Vo.a)(je.hasUnreads)&&je.hasUnreads(re),Ke=Object(Vo.a)(je.badgeCount)?je.badgeCount(re):void 0,rt=Object(Vo.a)(je.getAriaLabelPhrases)?je.getAriaLabelPhrases(re):[],gt=Object(Vo.a)(ce.label)?ce.label(re):void 0;return Object(D.r)(re)?gt:ni({name:gt,hasUnreads:Ce,badgeCount:Ke,isCurrent:oe,ariaLabelPhrases:rt})});Vi.meta={name:"createThunk",key:"createThunkgetAriaLabelForPage",description:"Sidebar: get aria-label for a page row"};var nc=e("t0jf"),Ti=e("djjd"),ya=e("5BbJ"),To=e("CaVW");const $a=new M.b("channel_sidebar"),Ua=c(ae=>{let{isCurrent:b,hasUnreadThreads:N,threadsMentionCount:A,isEditMode:oe}=ae;const re=N,ce=A,je=$a.t("Threads");return oe?je:ni({name:je,hasUnreads:re,badgeCount:ce,isCurrent:b})},"getAriaLabelForThreads"),Ar=Object(ze.c)("Sidebar: get aria-label for a channel list row",(ae,b,N)=>{let{id:A,enabledPages:oe,hasUnreadThreads:re,threadsMentionCount:ce,isEditMode:je}=N;if(oe.includes(A))return ae(Vi({id:A}));if(A==="Vall_threads")return Ua({hasUnreadThreads:re,threadsMentionCount:ce,isEditMode:je});if(A===Is.a)return $a.t("Free Trial Badge");const Ce=b(),Ke=Object(he.d)(Ce,A),rt=!!Object(C.R)(Ke),gt=Object(T.d)(Ke),Rn=Object(C.t)(Ce,Ke,{publicChannelIncludeHashSign:!1});if(je)return Rn;const co=Object(Jt.a)(Ce,Ke),ca=Object(bt.b)(Ce,A),La=Object(C.v)(Ce,A),Jo=Ke?!!Object(he.c)(Ce,Ke):!1,Xo=Ke?Object(he.c)(Ce,Ke):0,Ns=Object(C.qb)(Ce,Ke),nr=Object(Ss.o)(Ce),_r=nr?Object(Bt.d)(nr):void 0,mr=Object(q.d)(Ce,"sidebar_active_presence_a11y")==="on",Cr=gt==="im",Gs=Cr?Object(yt.a)(Ke):void 0,Vr=Gs?Object(ia.g)(Ce,Gs):void 0,ar=Cr&&Object(Ko.c)(Ce,Gs)==="away",us=Cr&&Gs?Object(za.a)(Ce,Gs):void 0,Gr=Cr&&Gs?Object(Io.a)(Ce,Gs):void 0,Xs=Object(Er.a)(Ce,A),ai=Object(nc.a)(Ce,{channel:Ke})&&Object(q.d)(Ce,"shouty_workspace_name_pref")==="on",gi=Object(Ti.a)(Object(he.a)(Ce),Ke),Nr=Object(To.a)(Ce,Ke),Oi=Object(ya.a)(Ce,{channel:Ke,xwsAlpha:ai}),Ei=(Object(ec.q)(Ce)?(gi||ai)&&!Nr:!1)?[Rn,Oi].join(" "):Rn;let Lr;return Cr?Lr=Object(ts.a)({name:Rn,isSelf:co,hasNotifications:Jo,isStarred:Ns,isMuted:ca,hasDraft:La,isPrescenceAway:ar,statusEmojiCode:us,statusText:Gr,isAppOrBot:Object(no.a)(Vr),isSlackbot:Object(ut.b)(Vr),isGuest:Object(Co.a)(Vr),countNotifications:Xo,experimentSidebarActivePresenceA11yGroupOn:mr}):gt==="mpim"?Lr=Object(_s.a)({name:Rn,hasNotifications:Jo,isStarred:Ns,isMuted:ca,hasDraft:La,countNotifications:Xo}):Lr=Object(io.a)({channelName:Ei,isPrivate:Object(T.k)(Ke),isStarred:Ns,isMuted:ca,hasDraft:La,hasUnreads:rt,countNotifications:Xo,orgName:_r,isOrgGlobalSharedPublicOrPrivateChannel:Ke?Object(ot.a)(Ke):!1,isOrgSharedPublicOrPrivateChannel:Ke?Object(St.a)(Ke):!1,isExternallySharedChannel:Object(Kn.a)(Ke)}),Xs&&Xs.activeParticipants.length&&(Lr+=Object(ns.a)({huddleMemberCount:Xs.activeParticipants.length,channelAriaLabel:Lr,featureIsHuddleEnabled:Object(bs.e)(Ce,Ke)})),Object(dr.a)(Ce,A)?$a.t("{channel}, failed to send message",{channel:Lr}):Lr});Ar.meta={name:"createThunk",key:"createThunkgetAriaLabelForRow",description:"Sidebar: get aria-label for a channel list row"};var Js=e("C7Ae"),$n=e("OaiI"),xr=e("QcWC"),Cn=e("sgFo"),ac=e("I3z+"),oc=e("r6c4"),Nd=e("QKJg"),sc=e("uiBO");const vi={[da.c.CatchUp]:{primary:{id:"catch-up-cards",viewType:sc.c.CatchUpCards},secondary:void 0}},Ym=Object(ze.c)("Navigate to full screen",(ae,b,N)=>{let{container:A}=N;var oe,re;const ce=b();if(Object(ec.y)(ce))return ae(Object(Nd.e)({container:A,primary:(oe=vi[A])===null||oe===void 0?void 0:oe.primary,secondary:(re=vi[A])===null||re===void 0?void 0:re.secondary}))});Ym.meta={name:"createThunk",key:"createThunknavigateToFullScreen",description:"Navigate to full screen"};var yp=Ym,jp=e("O62x"),Jm=e("98AL");const Xm=Object(ze.c)("Opens the Canvas Browser (synthetic view)",(ae,b)=>{Object(Jm.a)(b()),ae(Object(At.a)({id:"Pbrowse-quip-files"}))});Xm.meta={name:"createThunk",key:"createThunkopenCanvasBrowser",description:"Opens the Canvas Browser (synthetic view)"};var Qm=e("MXEb"),Zm=e("TdVx"),Sp=e("Zbwg"),Ip=e("hjzp"),iu=e("NV6F"),Ai=e("ljyh");const $m=Object(ze.c)("Open a list from sidebar",(ae,b,N)=>{let{id:A}=N;if(Object(br.i)()||Object(Ai.a)()){const oe={[da.k.Primary]:Object(Mt.P)({listId:A})};ae(Object(iu.x)({viewSet:oe}));return}ae(Object(At.a)({id:"Pbrowse-lists",routeParams:{listsViewName:A,listViewId:void 0,focusRecordId:void 0}}))});$m.meta={name:"createThunk",key:"createThunkopenListFromSidebar",description:"Open a list from sidebar"};const hl=Object(ze.c)("Open a file channel from sidebar",(ae,b,N)=>{let{fileChannelId:A,channelId:oe}=N;const re=b(),ce=Object(mt.a)({state:re}),je=Object(q.d)(re,"canvas_sidebar_mix")==="on",Ce=Object(Xd.e)(re,A);return Ce&&Object(pd.o)(Ce)?(ae($m({id:A})),!0):je&&Ce&&Object(pd.u)(Ce)?(ce.track(Me.EventId.QUIP_SIDEBAR_OPEN,{contexts:{ui_context:{action:Me.UiAction.CLICK,ui_properties:{element_value:Ce.id}}}}),ae(Object(qn.a)(Object(Mt.n)(oe))),!0):!1});hl.meta={name:"createThunk",key:"createThunkopenFileChannelFromSidebar",description:"Open a file channel from sidebar"};var qm=e("EAKl"),eh=e("O9Jz"),zl=e("qb+P"),pl=e("+gmx");function Kr(){return Kr=Object.assign||function(ae){for(var b=1;b<arguments.length;b++){var N=arguments[b];for(var A in N)Object.prototype.hasOwnProperty.call(N,A)&&(ae[A]=N[A])}return ae},Kr.apply(this,arguments)}c(Kr,"connected_channel_sidebar_extends");const Yl=new M.b("channel_sidebar"),bl=Object(L.a)(ae=>{const{channelSidebarVisibleRows:b,setChannelSectionPref:N,orderedChannelSections:A,digestAddedChannelCoachmarkChannelId:oe,...re}=ae,ce=Object(U.i)(),je=Object(J.a)(),Ce=Object(d.a)(),Ke=Object(F.a)(),rt=Object(S.a)(),{getPrimaryView:gt,getSiblingView:Rn}=Object(t.useContext)(De.a),co=Object(g.c)(Vt=>Object(f.X)(Vt,{getSiblingView:Rn})),ca=Object(g.c)(ec.q),La=Object(g.c)(ec.y),Jo=Object(g.c)(Zm.a),Xo=Object(g.c)(Vt=>Object(q.d)(Vt,"inset_design")==="on"),Ns=Object(g.c)(ac.c),nr=Object(g.c)($n.isListsEnabled),_r=Object(g.c)($n.isListsAddToSidebarEnabled),mr=Object(g.c)(Vt=>Object(q.d)(Vt,"canvas_sidebar_mix")==="on"),Cr=Object(g.c)(Zr.a),Gs=Object(g.c)(X.g),Vr=Object(g.c)(K.m),ar=Object(g.c)(K.c),us=Object(g.c)(H.g),Gr=Object(g.c)(w.c),Xs=Object(g.c)(C.P),ai=Object(t.useMemo)(()=>Xs.reduce((Vt,Gt)=>(Vt[Gt]=Gt,Vt),{}),[Xs]),gi=Object(g.c)(D.t),Nr=Object(g.c)(D.p),Oi=Object(g.c)(D.z),zr=Object(g.c)(D.A),Ei=A.every(Vt=>Vt.type===v.m||!Object(ee.b)(Vt))||zr,Lr=Object(g.f)(D.o),Cs=Object(g.c)(Vt=>{var Gt;return(Gt=gt(Vt))===null||Gt===void 0?void 0:Gt.id}),Mc=Object(g.c)(D.r),oi=Object(g.c)(B.c),Dc=Object(t.useMemo)(()=>oi.map(Vt=>{let{id:Gt}=Vt;return Gt}),[oi]),{sendMessageToAnnouncerAPI:Rc}=Object(t.useContext)(Bn.a),xc=Object(g.c)(qm.r),Ia=Object(g.c)(pl.T),{rows:Ts,placeholderType:Qc,isEditModeFilterEmpty:kd,visibleSidebarSectionsOrdered:om,sidebarSummary:sm,mutedChannels:Pd,unreadChannels:cu,channelBadgeCount:lu,sidebarSections:rm}=b,pa=Object(t.useMemo)(()=>{const Vt={},Gt=[];return Ts.forEach(Mn=>{Mn.id&&(Vt[Mn.id]=Mn,Gt.push(Mn.id)),Mn.type==="sectionHeading"&&!Mn["aria-expanded"]&&Mn.channelIds&&Mn.channelIds.forEach(yr=>{Vt[yr]=Mn,Gt.push(yr)})}),{rowForItemId:Vt,allItemIds:Gt}},[Ts]),fl=Object(g.c)(Aa.f)||0,vl=Object(g.c)(Aa.k),Pa=Object(g.c)(Qn.n),or=Ns&&Pa>0,gl=Object(t.useMemo)(()=>{const Vt=[],Gt=[],Mn=[];fl&&Gt.push("Vall_threads"),vl&&Vt.push("Vall_threads"),or&&Vt.push(P.a.Later);for(let yr=0;yr<Ts.length;++yr){const si=Ts[yr];if(si.type==="sectionHeading"&&si.channelIds)for(let kr=0;kr<si.channelIds.length;++kr){const ri=si.channelIds[kr],Pr=lu[ri]>0,ic=Pd==null?void 0:Pd[ri];!ic&&cu[ri]&&Vt.push(ri),!ic&&Pr&&Gt.push(ri),ic&&Pr&&Mn.push(ri)}}return{unreadIds:Vt,mentionIds:Gt,mutedMentionIds:Mn}},[fl,vl,or,Ts,lu,Pd,cu]),th=gl.mentionIds,im=Object(x.a)(th)||[];th.forEach(Vt=>{const Gt=im.includes(Vt);im.length>0&&!Gt&&je.info("CHANNEL-SIDEBAR","Mention Id not found in previous mentions",Vt)});const nh=He(sm,gl.unreadIds,gl.mutedMentionIds);Object(t.useEffect)(()=>{ce(Object(Js.a)({}))},[ce]);const wr=Object(t.useCallback)(function(){var Vt=Object(s.coroutine)(function*(Gt){let{tile:Mn=!1,isCmdKey:yr=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if((_r||mr)&&Object(Sp.a)(Gt)){const ri=ce(Object(ue.a)({channelId:Gt}));if(ri&&Object(O.a)(ri)){const Pr=Object(Ip.b)(Gt);if(ce(hl({fileChannelId:Pr,channelId:Gt})))return}}if(Gt==="Pbrowse-quip-files"&&yr&&Jo){ce(Object(_c.a)({source:Ra.a.SIDEBAR_CANVAS_CMD_CLICK}));return}if(Gt!=="Pslack-connect"&&Mn){if(je.info("CHANNEL-SIDEBAR","tile",Gt),["activity","Pactivity","activity_page"].includes(Gt))return ce(Object(bn.b)({shouldUpdatePref:!0}));if(["starred_items","saved","Psaved","stars-flexpane"].includes(Gt))return ce(Object(Xt.b)({shouldUpdatePref:!0}));ce(Object(eh.a)({viewId:Gt}));return}if(je.info("CHANNEL-SIDEBAR","onItemSelect",Gt),Cs===Gt&&ce(Object(vt.a)({channelId:Gt})),Gt==="Pbrowse-quip-files"){ce(Xm());return}if(Gt==="threads"||Gt==="Vall_threads")ce(Object(qn.a)(Object(Mt.f)()));else if(Gt==="Pdrafts")ce(Object(qn.a)(Object(Mt.X)(P.a.Drafts)));else if(Gt==="Punreads")ce(Object(qn.a)(Object(Mt.X)(P.a.Unreads)));else if(Gt==="Pcatch-up")La?ce(yp({container:da.c.CatchUp})):(ce(Object(qn.a)(Object(Mt.X)(P.a.CatchUp))),ce(Object(jp.a)(!1)));else if(Gt==="Ppaid-benefits")ce(Object(qn.a)(Object(Mt.X)(P.a.PaidBenefits)));else if(Gt==="Pjoiner-launchpad")ce(Object(qn.a)(Object(Mt.X)(P.a.JoinerLaunchpad)));else if(Gt==="Presurrected-user-welcome")ce(Object(qn.a)(Object(Mt.X)(P.a.ResurrectedUserWelcome)));else if(Gt==="Pdaily-digest")ce(Object(qn.a)(Object(Mt.X)(P.a.DailyDigest)));else if(Gt==="Pbrowse-huddles")ce(Object(qn.a)(Object(Mt.X)(P.a.BrowseHuddles)));else{var si;ce(Object(Qm.a)({channelId:Gt})),(si=ce(Object(qn.a)(Object(Mt.n)(Gt))))===null||si===void 0||si.then(()=>{ce(Object(it.a)({channelId:Gt}))})}ce(Object(dn.b)({source:"SIDE_BAR",objId:Gt}));const kr=ce(Object(ue.a)({channelId:Gt}));if(kr){const ri=ce(Object(te.a)({channel:kr,publicChannelIncludeHashSign:!1,imIncludeAtSign:!0}));Rc({message:Yl.t("Channel {channelName}",{channelName:ri,ns:"client"})})}});return function(Gt){return Vt.apply(this,arguments)}}(),[Jo,je,Cs,ce,Rc,_r,mr,La]),cm=Object(t.useCallback)(Vt=>{const Gt=ce(Object(ue.a)({channelId:Vt})),Mn=Object(T.d)(Gt);return Mn==="im"||Mn==="mpim"?ce(Object(ne.a)({channelId:Vt})):void 0},[ce]),du=Object(t.useCallback)(Vt=>ce(Ar({id:Vt,enabledPages:Dc,hasUnreadThreads:vl,threadsMentionCount:fl,isEditMode:Mc})),[ce,Dc,vl,fl,Mc]),[As,uu]=Object(t.useState)(0),Jl=Object(t.useRef)(void 0),mu=Object(t.useRef)(void 0),ah=Object(t.useMemo)(()=>Object(In.b)(Ts),[Ts]),[{isChannelDraggingOverSidebar:oh,isChannelSectionDraggingOverSidebar:Md},sh]=Object(z.a)(()=>({accept:[xe.a,xe.b],canDrop:(Vt,Gt)=>{const Mn=Gt.getItemType();return ce(Fn({dropItem:Vt,dropItemType:Mn}))},drop:(Vt,Gt)=>{const Mn=Gt.getItemType();return ce(Ye({dropItem:Vt,dropItemType:Mn}))},hover:(Vt,Gt)=>{const Mn=Date.now();if(mu.current&&Mn-16.667<mu.current)return;mu.current=Mn;const yr=Gt.getItemType(),si=Gt.getClientOffset();if(!yr||!si){uu(0);return}const kr=Jl.current&&Jl.current.getBoundingClientRect(),ri=si.x,Pr=si.y;let ic=0;if(kr&&kr.left<=ri&&ri<kr.right){const um=kr.top,mm=kr.bottom,Ol=1500,El=Math.min(200,(mm-um)/3);Pr<=kr.top?ic=-Ol:Pr>=kr.bottom?ic=Ol:Pr<um+El?ic=-(((um+El-Pr)/El)**2)*Ol:Pr>mm-El&&(ic=((Pr-(mm-El))/El)**2*Ol)}uu(Math.round(ic))},collect:Vt=>{const Gt=Vt.getItemType();return{isChannelDraggingOverSidebar:Gt===xe.a&&Vt.isOver(),isChannelSectionDraggingOverSidebar:Gt===xe.b&&Vt.isOver()}}}),[ce,mu,uu,Jl]),rh=Object(t.useCallback)(Vt=>(Jl.current=Vt,sh(Vt)),[Jl,sh]),hu=Object(t.useCallback)(function(){let{openComposer:Vt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ce(Object(ra.a)({openComposer:Vt})),Ce.track(Me.EventId.IM_BROWSER_OPEN,{label:"ims",contexts:{ui_context:{entry_point:"sidebar_section_menu"}}})},[ce,Ce]),Tp=Object(t.useCallback)(()=>{ce(Object(wn.a)()),ce(Object(Tn.a)({eventId:Me.EventId.APP_LAUNCHER_OPEN_FROM_PLUS_BUTTON})),Ce.track(Me.EventId.SIDEBAR_PLUS_CLICK,{label:"apps"})},[Ce,ce]),ih=Object(g.c)(xr.a),Ap=Object(g.c)(Vt=>Object(bs.O)(Vt)||Object(oc.b)(Vt)),lm=Object(g.c)(Cn.W),Np=Object(g.c)(Vt=>Object(q.d)(Vt,"channel_suggestions",!1)==="with_people"||Object(q.d)(Vt,"channel_suggestions",!1)==="without_people"),ch=Object(g.c)(f.P),kp=Object(g.c)(Vt=>Object(q.d)(Vt,"canvas_home_sidebar_chanvas_prototype")==="on"),Pp=Object(g.c)(pe.m),hr=Object(g.c)(f.p),rc=Object(g.c)(ie.c),Mp=Object(g.c)(Z.a),lh=Object(g.c)(Vt=>{var Gt;return((Gt=Object(X.f)(Vt))===null||Gt===void 0?void 0:Gt.length)||0}),Xl=Object(g.c)(zl.a),Zc=Object(g.c)(Ha.i)&&Xl,[Dd,dm]=Object(t.useState)(Zc);!Zc&&!Dd&&dm(!0),Zc&&Dd&&(ce(Object(hn.k)({isRemoveSidebarCustomizationsToggleOn:Zc})),dm(!1));const dh=Object(g.c)(Vt=>Object(q.d)(Vt,"workspace_weaver")==="on"),pu=Object(g.c)(Vt=>{var Gt;const Mn=(Gt=Object(Q.a)(Vt))===null||Gt===void 0?void 0:Gt.type;return Mn!==V.b.All&&Mn!==V.b.AllInternal});return u.a.createElement(Ae,Kr({},re,{rows:Ts,rowForItemId:pa.rowForItemId,allItemIds:pa.allItemIds,placeholderType:Qc,isEditModeFilterEmpty:kd,visibleSidebarSectionsOrdered:om,rowSectionPositioning:ah,connectDropTarget:rh,autoscrollVelocity:As,isChannelDraggingOverSidebar:oh,isChannelSectionDraggingOverSidebar:Md,teamId:Gs,isWindowFocused:Vr,bootType:ar,overlayIsOpen:us,overscanRatio:2,jumperCoachmarkState:Gr,suggestedChannelsMap:ai,isFiltering:gi,filterInputUserQuery:Nr,isSetupPage:co,unreadsOnlyCoachmarkVisible:Oi,onItemSelect:wr,logger:je,selectedItemId:Cs,clogger:Ce,tracer:Ke,closeIM:cm,isChannelSectionsBooted:Ei,isChannelSectionsAPIOperational:Cr,telemeter:rt,editModeSelectedChannelIds:Lr,ensureDraftChannelObjects:Object(t.useCallback)(()=>ce(Oe()),[ce]),setHideAddChannelButton:Object(t.useCallback)(()=>ce(Object(Ma.f)({pref:"add_channel_prompt_dismissed",value:!0})),[ce]),dismissAddAppsLink:Object(t.useCallback)(()=>ce(Object(Ma.f)({pref:"add_apps_prompt_dismissed",value:!0})),[ce]),setChannelSectionCollapsed:Object(t.useCallback)(Vt=>{let{channelSectionId:Gt,isCollapsed:Mn}=Vt;return ce(N({channelSectionId:Gt,pref:ga.a,value:Mn?ga.b:ga.c,debounce:!0}))},[ce,N]),bulkSetChannelSectionsCollapsed:Object(t.useCallback)(Vt=>ce(zn({...Vt,allChannelSections:A,setChannelSectionPref:N})),[ce,N,A]),setIsEditMode:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(nn(...Gt))},[ce]),setEditModeChannelSectionCollapsed:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(Object(hn.l)(...Gt))},[ce]),bulkSetEditModeChannelSectionCollapsed:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(Object(hn.a)(...Gt))},[ce]),upsertChannelSection:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(Object(hn.z)(...Gt))},[ce]),clearEditModeSelectedChannelIds:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(Object(hn.c)(...Gt))},[ce]),openSavedView:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(Object(Xt.c)(...Gt))},[ce]),openActivityView:Object(t.useCallback)(Vt=>ce(Object(bn.c)(Vt)),[ce]),openNotificationsView:Object(t.useCallback)(Vt=>ce(qo(Vt)),[ce]),onEditModeChannelClick:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(Fa(...Gt))},[ce]),onEditModeChannelRangeClick:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(_n(...Gt))},[ce]),getChannelSectionName:Object(t.useCallback)(function(){for(var Vt=arguments.length,Gt=new Array(Vt),Mn=0;Mn<Vt;Mn++)Gt[Mn]=arguments[Mn];return ce(Object(It.a)(...Gt))},[ce]),toggleHuddleInHighlightedChannel:Object(t.useCallback)(Vt=>ce(Object($e.c)(Vt)),[ce]),unreadIds:gl.unreadIds,mentionIds:gl.mentionIds,mutedMentionIds:gl.mutedMentionIds,getAriaLabelForRow:du,isEditMode:Mc,sidebarSummaryText:nh,onDMBrowserModalClick:hu,onAppLauncherClick:Tp,sidebarSections:rm,experimentInsetDesignGroupOn:Xo,isInstantSlackInviteeSession:ih,listsEnabled:nr,experimentHuddlesGroupTreatment:Ap,experimentHuddlesStatusUltraGroupOn:lm,experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:Pp,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:ch,experimentDesktopIa4GroupOn:ca,experimentCanvasSidebarMixGroupOn:mr,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:kp,suggestedJoinCtaEligible:Np,setChannelSectionPref:N,experimentDesktopIa4NewTeamsV3GroupTreatment:rc,experimentJoinersExperienceHomeAndMoreGroupOn:Mp,tractorOrGeneralChannelId:hr,digestAddedChannelCoachmarkChannelId:oe,countInternalSelfTeamIds:lh,experimentWorkspaceWeaverGroupOn:dh,experimentSlackAiNfxUpdatesV2GroupOn:xc,workspaceIsFiltered:pu,isSlackAiRecapCoachmarkVisible:Ia}))})},"6I59":function(le,y,e){le.exports=e.p+"nfx-welcome-modal-9897cea.png"},"6llb":function(le,y,e){le.exports=e.p+"reminders-dark-8c383a3.gif"},"7lMM":function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("/MKj"),O=e("BHdc"),v=e("nNoG"),B=e("UmHn"),P=e("xXOU"),M=e("I27i"),L=e("Qrj/"),z=e("GJt6"),U=e("oSkh"),g=e("fwgq"),J=e("x5Wd"),d=e("qMw6"),S=e("FWtP"),F=e("qr0+"),x=e("es5r"),Q=e("fDBt"),V=e("oWj6"),X=e("HKlo"),K=e("W29z"),H=e("UIhb"),w=e("6AJP"),T=e("pTFQ"),ee=e("N3TF"),ne=e("sGXp");const ue=c(de=>{let{channelId:_,messageTs:k}=de;const R=Object(u.c)(W=>Object(H.b)(W,_,k));return R?(R==null?void 0:R.subtype)==="channel_join"?t.a.createElement(ee.a,{msg:R,size:ne.a.medium,customUserId:R.inviter,isInteractive:!1}):t.a.createElement(ee.a,{msg:R,size:ne.a.medium,isInteractive:!1}):null},"MentionAvatar");ue.displayName="MentionAvatar";var te=e("Ccc1"),D=e("E97Y"),f=e("y/e0"),ie=e("+l5E"),Z=e("Yauy"),pe=e("E3dU"),q=e("tcoA"),xe=e("aBhT"),ze=e("PX9a"),mt=e("pu3F"),Me=e("VvJB"),Ct=e("forh"),Qe=e("ZobM"),st=e("ji1p");const Ot=new v.b("lists"),cn=c(de=>{let{listId:_,recordId:k}=de;const R=Object(st.a)({listId:_,recordId:k,fetchIfMissing:!0});var W;const $=(W=R==null?void 0:R.fields.name)!==null&&W!==void 0?W:[];return t.a.createElement("div",{className:"p-activity_page__item__link p-activity_ia2022_page__item__link"},t.a.createElement(Qe.a,{name:"list-item",inline:!0}),$.length>0?t.a.createElement(Ct.a,{className:"p-activity_list_item_name",blocks:$,container:Me.a.activity,blocksContainerContext:Me.a.activity,serviceId:void 0,inline:!0}):t.a.createElement("span",{className:"p-activity_list_item_name_fallback"},Ot.t("Untitled item")))},"ListItemName");cn.displayName="ListItemName";var Ht=cn,Nn=e("OaiI");const zt=new v.b("activity"),Ln=c(de=>{let{text:_}=de;return t.a.createElement("strong",{className:"p-activity_ia4_page__item__header__mention"},_)},"channelTextFunction"),Fn=c(de=>{let{channelId:_,activityItem:k,messageTs:R,isHighlight:W,isInThread:$=!1,hasBundle:me=!1}=de;var fe;const ve=Object(u.c)(ut=>Object(H.b)(ut,_,R)),ke=Object(u.c)(ut=>Object(w.a)(ut,ve)),Ae=Object(u.c)(ut=>Object(pe.d)(ut,ve==null?void 0:ve.channel)),Se=Object(u.c)(ut=>Object(Z.t)(ut,Ae,{truncateMpimNames:!0})),He=Object(u.c)(ut=>Object(H.b)(ut,_,ve.thread_ts||"")),bt=He==null?void 0:He.slack_list,ot=Object(u.c)(ze.b),Jt=Object(u.c)(Nn.isListsInActivityV2Enabled),St=(ve==null?void 0:ve.subtype)==="channel_join"?ve.inviter:ve.user,yt=!St||St==="U00",Bt=Object(s.useCallback)(ut=>Object(Z.pb)(ut)?me?zt.t("Slack Notifications"):zt.t("Slack Notification"):me?zt.t("App Notifications"):zt.t("App Notification"),[me]),Kn=Object(s.useCallback)(()=>{if(W){if(yt)return zt.t("Keyword mention in a direct message");if((k==null?void 0:k.type)==="im")return zt.t("Direct Message with {channelName}",{channelName:Se});if(Se)return Se}return zt.t("Mention in a direct message")},[W,yt,Se,k]),Co=Object(s.useCallback)(ut=>{var za,Io,io,_s,ts;const ns=t.a.createElement(te.a,{className:"p-activity_page__item__link p-activity_ia2022_page__item__link",channel:ut});if(!yt){if(Object(ie.l)(ve.text))return zt.rt("<t>@channel</t> mention in {channel}",{channel:ns,"<t>":Ln});const bs=Object(ie.M)(ve.text);if(bs)return ot?zt.rt("<t>@{mentionName}</t> mention in {channel}",{mentionName:bs,channel:ns,"<t>":Ln}):""}if(W)return yt?zt.rt("Keyword mention in {channel}",{channel:ns}):(k==null?void 0:k.type)==="internal_channel_invite"?zt.rt("Channel Invitation"):(k==null?void 0:k.type)==="thread_reply"||(k==null?void 0:k.type)==="thread"||(k==null?void 0:k.type)==="unread-thread"?zt.rt("Thread in {channel}",{channel:ns}):zt.rt("Keyword mention in {channel}",{channel:ns});if((k==null?void 0:k.type)==="internal_channel_invite"||(ve==null?void 0:ve.subtype)==="channel_join")return ot&&Object(D.p)(ut)&&ve.inviter===mt.W?zt.rt("Automatically added to channel"):zt.rt("Channel Invitation");if(ve.thread_ts&&$)return zt.rt("Mention in a {channel} thread",{channel:ns});if(yt)return zt.rt("Mention in {channel}",{channel:ns});if(bt&&Jt){const bs=t.a.createElement(Ht,{listId:bt.list_id,recordId:bt.list_record_id});return zt.rt("Mention in {listItem}",{listItem:bs})}if(!(!((za=ve.document_mention)===null||za===void 0)&&za.mentioning_user_ids))return zt.rt("Mention in {channel}",{channel:ns});if(((Io=ve.document_mention)===null||Io===void 0||(io=Io.mentioning_user_ids)===null||io===void 0?void 0:io.length)===1)return zt.rt("Mention in {space}",{space:ns});if(((_s=ve.document_mention)===null||_s===void 0||(ts=_s.mentioning_user_ids)===null||ts===void 0?void 0:ts.length)>1){var Ko,dr;return zt.rt("You were mentioned {mentionCount} times in {space}",{mentionCount:(Ko=ve.document_mention)===null||Ko===void 0||(dr=Ko.mentioning_user_ids)===null||dr===void 0?void 0:dr.length,space:ns})}return zt.rt("Mention in {channel}",{channel:ns})},[yt,W,k==null?void 0:k.type,ve==null?void 0:ve.subtype,ve.thread_ts,(fe=ve.document_mention)===null||fe===void 0?void 0:fe.mentioning_user_ids,ve.text,ve.inviter,$,bt,Jt,ot]),no=Object(s.useMemo)(()=>!ve||ke?null:k.type===q.d?Bt(Ae):Object(D.h)(Ae)?Kn():Object(f.a)(Ae)?Co(Ae):ve.thread_ts?W?zt.rt("Keyword mention in a thread"):zt.rt("Mention in a thread"):W?zt.rt("Keyword mention"):zt.rt("Mention"),[k.type,Ae,ve,W,Kn,Co,Bt,ke]);return!ve||ke?null:t.a.createElement(xe.a,{lines:1,withTooltip:!0},no)},"MentionHeader");Fn.displayName="MentionHeader";const Ye=c(de=>{let{channelId:_,activityItem:k,messageTs:R,isHighlight:W}=de;const $=Object(u.c)(ke=>Object(H.b)(ke,_,R));if(!$)return null;const me=($==null?void 0:$.subtype)==="channel_join"?$.inviter:$.user,fe=!me||me==="U00";let ve="mentions";if(W&&(ve="search"),k.type===q.d&&(ve="apps"),((k==null?void 0:k.type)==="thread"||(k==null?void 0:k.type)==="unread-thread")&&(ve="threads"),!(Object(ie.l)($.text)&&!fe))return(k==null?void 0:k.type)==="im"&&(ve="direct-messages"),($==null?void 0:$.subtype)==="channel_join"&&(ve="channel"),{iconName:ve}},"useMentionHeaderIcon");var dn=e("ZDQT"),vt=e("aNr4"),Xn=e("6vQW"),kn=e("6eBE"),he=e("LzG2"),Gn=e("JnIm"),Va=e("O86Y"),Oe=e("USm0"),Ma=e("9Gfp"),ga=e("uVdA"),zn=e("ymtc"),hn=e("CTEJ"),nn=e("eM3y");const Xt=c(de=>{let{userMessagesTheme:_,isLoading:k=!1}=de;const R=Object(s.useMemo)(()=>t.a.createElement(nn.a,{size:36}),[]);return t.a.createElement(T.n,{className:"p-activity_ia4_page__item__loading",msg:null,userMessagesTheme:_,isLoading:k},t.a.createElement(T.c,null,t.a.createElement(T.d,null,t.a.createElement(hn.a,{size:"medium"})),t.a.createElement(T.e,null,t.a.createElement(hn.a,{size:"small"}))),t.a.createElement(T.a,{avatar:R},t.a.createElement(hn.a,{size:"medium"}),t.a.createElement("div",null,t.a.createElement(hn.a,{size:"medium"}))))},"ActivityItemLoading");Xt.displayName="ActivityItemLoading";var bn=Xt,sn=e("m9nJ"),Wt=e("JQ3U");const Yt=c(de=>de?Object(ie.tb)(de)||Object(Wt.l)(de)||Object(Wt.j)(de):!1,"isActivityItemUnableToLoad");var At=e("ZCy8"),Ft=e("9oTK"),sa=e("WXkz"),ba=e("DT2T");const Ha=c(de=>{let{listId:_,recordId:k}=de;const R=Object(C.i)(),W=Object(u.c)(ke=>Object(sa.O)(ke,_,k)),[$,me]=Object(s.useState)(!!W);Object(s.useEffect)(()=>{(function(){var Ae=Object(Ft.coroutine)(function*(){$||(yield R(Object(ba.a)({listId:_,id:k})),me(!0))});return c(function(){return Ae.apply(this,arguments)},"fetch")})()()},[R,_,W,$,k,me]);var fe;const ve=(fe=W==null?void 0:W.fields.name)!==null&&fe!==void 0?fe:[];return ve.length>0?t.a.createElement("div",{className:"p-activity_ia4_page__item__list_record"},t.a.createElement(xe.a,{lines:1,withTooltip:!0},t.a.createElement(Ct.a,{blocks:ve,container:Me.a.view,blocksContainerContext:Me.a.view,serviceId:void 0,inline:!0}))):null},"ActivityListRecord");Ha.displayName="ActivityListRecord";var Ba=Ha,qn=e("Y2AB"),Mt=e("2jZb");const da=new v.b("activity");function ha(de){let{activityItem:_,activityTs:k,channelId:R,className:W,hasFocus:$,messageTs:me,parentId:fe,renderActionsOffscreen:ve,userMessagesTheme:ke,isSelected:Ae=!1,groupKey:Se}=de;var He;const bt=Object(u.c)(Nn.isListsInActivityV2Enabled),ot=!0,Jt=Object(C.i)(),St=Object(u.c)(Ua=>Object(H.b)(Ua,R,me)),yt=Object(u.c)(Ma.a),Bt=Object(u.c)(Va.g),Kn=Object(u.c)(Gn.a),Co=Object(u.c)(ga.a),no=!Object(Oe.a)(St,yt,Kn,Bt,{ignoreHighlightWords:!0},Co),ut=Object(u.c)(Ua=>Object(H.b)(Ua,St.channel,St.thread_ts||"")),za=da.rt("replied to:"),Io=St.slack_list||(ut==null?void 0:ut.slack_list),io=ut!==null&&St.ts!==(ut==null?void 0:ut.ts)&&!Io,_s=Object(u.c)(vt.f),ts=Object(u.c)(Ua=>Object(w.a)(Ua,St)),ns=(St==null?void 0:St.channel)||(_==null||(He=_.channel)===null||He===void 0?void 0:He.id),Ko=Object(u.c)(Ua=>Object(pe.d)(Ua,ns,ot)),dr=Object(u.c)(Ua=>Object(vt.p)(Ua,{messageTs:St.ts,channelId:Ko.id,threadTs:_.threadTs,activityType:_.type})),bs=(St==null?void 0:St.ts)||k,Er=Object(u.c)(Ua=>Object(vt.r)(Ua,{ts:bs,activityType:_.type}))||Ae,Is=Object(sn.a)(St),Fr=Yt(St),ur=Ye({channelId:ns,activityItem:_,messageTs:me,isHighlight:no}),ni=Object(s.useMemo)(()=>t.a.createElement(ue,{channelId:ns,messageTs:me}),[ns,me]),{maybeClosePeek:Vi}=Object(s.useContext)(he.a),nc=Object(u.c)(ze.b),Ti=Object(Mt.d)(Ko),ya=Object(qn.a)({channelId:ns,threadIdOrTs:St.thread_ts}),To=Object(s.useCallback)(Ua=>{Vi(),Jt(Object(kn.a)({message:St,activityItem:_,isActivityRead:dr,event:Ua,groupKey:Se,commentThreadId:ya}))},[Jt,St,_,dr,Se,Vi,ya]);let $a;return _.type==="internal_channel_invite"&&($a={...St,text:da.t("Added you to <#{channelId}|{channelName}>",{channelId:Ko.id,channelName:Object(Z.s)(Ko)})},nc&&Object(D.p)(Ko)&&St.inviter===mt.W&&Ti&&($a={...St,text:da.t("You\u2019ve been added to the <#{channelId}|{channelName}> {recordType} channel.",{channelId:Ko.id,channelName:Object(Z.s)(Ko),recordType:Ti.toLowerCase()})})),!St||ts||Fr?null:Is?t.a.createElement(bn,{userMessagesTheme:ke,isLoading:Is}):_s&&dr&&!Er?(Jt(Object(zn.a)({channelId:ns,messageTs:me,filter:"unreads"})),null):t.a.createElement(T.n,{className:W,hasFocus:$,msg:St,parentId:fe,renderActionsOffscreen:ve,isSelected:Er,isRead:dr,onClick:To,userMessagesTheme:ke,activityItem:_},t.a.createElement(At.a,{msg:St,className:"p-message_pane_message__message_label",showPinned:!1},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:ur==null?void 0:ur.iconName},t.a.createElement(Fn,{channelId:ns,activityItem:_,messageTs:me,isHighlight:no,isInThread:io})),t.a.createElement(T.e,null,t.a.createElement(dn.a,{activityTs:k,badgeCount:1}))),t.a.createElement(T.a,{message:St,avatar:ni},t.a.createElement(T.j,null,t.a.createElement(T.k,null,t.a.createElement(Xn.a,{message:St}))),io&&t.a.createElement(T.i,{message:ut,subtext:za}),Io&&!bt&&t.a.createElement(Ba,{listId:Io.list_id,recordId:Io.list_record_id}),t.a.createElement(T.g,{message:$a||St}))))}c(ha,"ActivityMention"),ha.displayName="ActivityMention";var aa=ha,fo=e("lhZz");const No=c((de,_,k)=>{const R=Object(fo.getStoreInstanceByTeamId)(_).getState();let W=0;const $=de.map(me=>{const fe=Object(H.b)(R,k,me.activityItem.messageTs),ve=me.activityItem,ke=fe&&Object(vt.p)(R,{messageTs:fe.ts,channelId:k,threadTs:ve.threadTs,activityType:ve.type});return ke||(W+=1),{message:fe,activityItem:ve,isActivityRead:ke}});return{unreadsInBundleCount:W,bundleItems:$}},"getBundleMessages"),fa=c((de,_)=>{if(!_)return de;const k={};let R="";const W=[];return de.forEach($=>{const{type:me,channelId:fe}=$,ve={...$},ke={...ve,bundleRows:[]};me==="bot_dm"&&fe?(ve.isIncludedInBundle=!0,R=fe,k[R]?k[R].push(ve):(k[R]=[ve],ke.bundleRows=k[R],W.push(ke))):W.push(ve)}),W},"bundleActivityRows");var ko=c((de,_)=>Object(s.useMemo)(()=>fa(de,_),[de,_]),"useBundledActivityRows");function qo(de){let{activityItem:_,activityTs:k,channelId:R,className:W,hasFocus:$,messageTs:me,parentId:fe,renderActionsOffscreen:ve,userMessagesTheme:ke,isSelected:Ae=!1,groupKey:Se,bundleRows:He}=de;var bt;const ot=!0,Jt=Object(C.i)(),St=Object(u.c)(Va.g),yt=Object(u.c)(To=>Object(H.b)(To,R,me)),{unreadsInBundleCount:Bt,bundleItems:Kn}=No(He,St,R),Co=Object(u.c)(Ma.a),no=Object(u.c)(Gn.a),ut=Object(u.c)(ga.a),za=!Object(Oe.a)(yt,Co,no,St,{ignoreHighlightWords:!0},ut),Io=Object(u.c)(To=>Object(H.b)(To,yt.channel,yt.thread_ts||"")),io=yt.slack_list||(Io==null?void 0:Io.slack_list),_s=Io!==null&&yt.ts!==(Io==null?void 0:Io.ts)&&!io,ts=Object(u.c)(vt.f),ns=Object(u.c)(To=>Object(w.a)(To,yt)),Ko=(yt==null?void 0:yt.channel)||(_==null||(bt=_.channel)===null||bt===void 0?void 0:bt.id),dr=Object(u.c)(To=>Object(pe.d)(To,Ko,ot)),bs=Object(u.c)(To=>Object(vt.p)(To,{messageTs:yt.ts,channelId:dr.id,threadTs:_.threadTs,activityType:_.type})),Er=(yt==null?void 0:yt.ts)||k,Is=Object(u.c)(To=>Object(vt.r)(To,{ts:Er,activityType:_.type}))||Ae,Fr=Object(sn.a)(yt),ur=Yt(yt),ni=Ye({channelId:Ko,activityItem:_,messageTs:me,isHighlight:za}),Vi=Object(s.useMemo)(()=>t.a.createElement(ue,{channelId:Ko,messageTs:me}),[Ko,me]),{maybeClosePeek:nc}=Object(s.useContext)(he.a),Ti=Object(qn.a)({channelId:Ko,threadIdOrTs:yt.thread_ts}),ya=Object(s.useCallback)(To=>{nc(),Jt(Object(kn.a)({message:yt,activityItem:_,isActivityRead:Bt===0,event:To,groupKey:Se,commentThreadId:Ti,bundleItems:Kn}))},[Jt,Se,nc,_,yt,Ti,Kn,Bt]);return!yt||ns||ur?null:Fr?t.a.createElement(bn,{userMessagesTheme:ke,isLoading:Fr}):ts&&bs&&!Is?(Jt(Object(zn.a)({channelId:Ko,messageTs:me,filter:"unreads"})),null):t.a.createElement(T.n,{className:W,hasFocus:$,msg:yt,parentId:fe,renderActionsOffscreen:ve,isSelected:Is,onClick:ya,isRead:Bt===0,userMessagesTheme:ke,activityItem:_,bundleItems:Kn},t.a.createElement(At.a,{msg:yt,className:"p-message_pane_message__message_label",showPinned:!1},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:ni==null?void 0:ni.iconName},t.a.createElement(Fn,{channelId:Ko,activityItem:_,messageTs:me,isHighlight:za,isInThread:_s,hasBundle:!!He})),t.a.createElement(T.e,null,t.a.createElement(dn.a,{activityTs:k,badgeCount:Bt,showUnreadDot:!1}))),t.a.createElement(T.a,{message:yt,avatar:Vi},t.a.createElement(T.j,null,t.a.createElement(T.k,null,t.a.createElement(Xn.a,{message:yt}))),t.a.createElement(T.g,{message:yt}))))}c(qo,"ActivityMentionWithBundle"),qo.displayName="ActivityMentionWithBundle";var va=qo,Fa=e("/qcS");const _n=c(de=>{let{reaction:_}=de;return _?t.a.createElement(Fa.b,{text:_==null?void 0:_.name,url:_==null?void 0:_.url,emojiSize:Fa.a.LARGE,forceDisplay:!0}):null},"ReactionAvatar");_n.displayName="ReactionAvatar";var Xe=e("oTSI"),It=e("BeL+"),$e=e("HiDb"),In=e("OtLZ"),ra=e("qAkX"),wn=e("fujP"),Aa=e("Enx8"),Qn=e("ZSeE"),Bn=e("M2+7"),Tn=e("NV6F"),it=e("3956");const Sa=c(de=>{let{id:_,name:k}=de;const R=Object(C.i)(),{activityItemType:W}=Object(Qn.b)();if(!_)return null;const $=t.a.createElement("button",{className:"c-button-unstyled p-activity_page__item__link p-activity_ia2022_page__item__link",type:"button",onClick:()=>R(Object(it.a)({memberId:_})),"aria-label":k},t.a.createElement(Bn.b,{id:_,showPresence:!1,showAvatar:!1,showStatus:!1,useShortMode:!0,onlyBoldIfUnread:W!=="message_reaction",neverBold:W==="message_reaction"}));return Object(Tn.G)({memberId:_,children:$})},"ActivityItemMember");Sa.displayName="ActivityItemMember";var dt=Sa,en=e("HYaO");const ua=new v.b("activity"),Ao=Object(Xe.a)((de,_)=>{const k=Object(It.a)(Object($e.a)(de,"users"));return Object(In.a)(k,_)}),yo=c(de=>{let{channelId:_,messageTs:k,reactionUser:R,reactions:W}=de;const $=Object(u.c)(ot=>Object(H.b)(ot,_,k)),me=Object(u.c)(ot=>Object(pe.d)(ot,$==null?void 0:$.channel)),fe=Object(u.c)(Ma.a),ve=Ao(W,fe),ke=R||Object(ra.a)(ve),Ae=Ao(W,fe).filter(ot=>ot!==ke),Se=Object(u.c)(ot=>Object(Aa.a)(ot,ke)),He=Object(u.c)(ot=>Object(Aa.a)(ot,Ae[0])),bt=Object(s.useMemo)(()=>{if(!$||Object(wn.a)(W)||(Ae==null?void 0:Ae.length)===0&&!Se)return null;if(Object(f.a)(me)&&!Object(D.i)(me)){const ot=t.a.createElement(te.a,{className:"p-activity_page__item__link p-activity_ia2022_page__item__link",channel:me});return(Ae==null?void 0:Ae.length)===0?ua.rt("{member} reacted in {channel}",{member:t.a.createElement(dt,{id:ke,name:Se}),channel:ot}):(Ae==null?void 0:Ae.length)===1?ua.rt("{memberA} and {memberB} reacted in {channel}",{memberA:t.a.createElement(dt,{id:ke,name:Se}),memberB:t.a.createElement(dt,{id:Ae[0],name:He}),channel:ot}):(Ae==null?void 0:Ae.length)===2?ua.rt("{memberA} and 2 others reacted in {channel}",{memberA:t.a.createElement(dt,{id:ke,name:Se}),channel:ot,fallbackHash:"cac13ae5763e1996ac13e03c4ce90adb43d8de4c"}):ua.rt("{memberA} and several others reacted in {channel}",{memberA:t.a.createElement(dt,{id:ke,name:Se}),channel:ot,fallbackHash:"cac13ae5763e1996ac13e03c4ce90adb43d8de4c"})}return(Ae==null?void 0:Ae.length)===0?ua.rt("{member} reacted to your message",{member:t.a.createElement(dt,{id:ke,name:Se})}):(Ae==null?void 0:Ae.length)===1?Object(en.a)($)?ua.rt("{memberA} and {memberB} reacted to your reply",{memberA:t.a.createElement(dt,{id:ke,name:Se}),memberB:t.a.createElement(dt,{id:Ae[0],name:He})}):ua.rt("{memberA} and {memberB} reacted to your message",{memberA:t.a.createElement(dt,{id:ke,name:Se}),memberB:t.a.createElement(dt,{id:Ae[0],name:He})}):(Ae==null?void 0:Ae.length)===2?Object(en.a)($)?ua.rt("{memberA} and 2 others reacted to your reply",{memberA:t.a.createElement(dt,{id:ke,name:Se}),fallbackHash:"cac13ae5763e1996ac13e03c4ce90adb43d8de4c"}):ua.rt("{memberA} and 2 others reacted to your message",{memberA:t.a.createElement(dt,{id:ke,name:Se}),fallbackHash:"cac13ae5763e1996ac13e03c4ce90adb43d8de4c"}):Object(en.a)($)?ua.rt("{memberA} and several others reacted to your reply",{memberA:t.a.createElement(dt,{id:ke,name:Se}),fallbackHash:"cac13ae5763e1996ac13e03c4ce90adb43d8de4c"}):ua.rt("{memberA} and several others reacted to your message",{memberA:t.a.createElement(dt,{id:ke,name:Se}),fallbackHash:"cac13ae5763e1996ac13e03c4ce90adb43d8de4c"})},[Ae,me,$,W,Se,He,ke]);return!$||Object(wn.a)(W)?null:t.a.createElement(xe.a,{lines:1,withTooltip:!0},bt)},"ReactionHeader");yo.displayName="ReactionHeader";var Qt=e("YBS9"),Bo=e("B+uu");const un=c(de=>{let{activityItem:_,activityTs:k,channelId:R,className:W,hasFocus:$,messageTs:me,parentId:fe,renderActionsOffscreen:ve,userMessagesTheme:ke}=de;var Ae;const Se=Object(C.i)(),He=Object(u.c)(io=>Object(H.b)(io,R,me)),bt=Object(u.c)(io=>Object(w.a)(io,He)),ot=(He==null?void 0:He.channel)||(_==null||(Ae=_.channel)===null||Ae===void 0?void 0:Ae.id),Jt=(He==null?void 0:He.ts)||k,St=Object(u.c)(io=>Object(vt.r)(io,{ts:Jt,activityType:_.type})),yt=Object(sn.a)(He),Bt=Yt(He),Kn=Object(Bo.a)(He),Co=Object(u.c)(io=>Object(Qt.a)(io,Kn)),no=Co?Co.find(io=>(io==null?void 0:io.name)===_.reactionName)||Object(ra.a)(Co):void 0,ut=Object(s.useMemo)(()=>t.a.createElement(_n,{reaction:no}),[no]),{maybeClosePeek:za}=Object(s.useContext)(he.a),Io=Object(s.useCallback)(io=>{za(),Se(Object(kn.a)({message:He,activityItem:_,isActivityRead:!0,event:io}))},[Se,He,_,za]);return!He||!Co||bt||Bt?null:yt?t.a.createElement(bn,{userMessagesTheme:ke,isLoading:yt}):t.a.createElement(T.n,{isRead:!0,className:W,hasFocus:$,msg:He,parentId:fe,renderActionsOffscreen:ve,isSelected:St,onClick:Io,userMessagesTheme:ke,activityItemType:_==null?void 0:_.type},t.a.createElement(At.a,{msg:He,className:"p-message_pane_message__message_label",showPinned:!1},t.a.createElement(T.c,null,t.a.createElement(T.d,null,t.a.createElement(yo,{channelId:ot,messageTs:me,reactions:Co,reactionUser:_==null?void 0:_.reactionUser})),t.a.createElement(T.e,null,t.a.createElement(dn.a,{activityTs:k,badgeCount:1}))),t.a.createElement(T.a,{message:He,avatar:ut},t.a.createElement(T.j,null,t.a.createElement(T.k,null,t.a.createElement(Xn.a,{message:He}))),t.a.createElement(T.g,{message:He}),t.a.createElement(T.h,{message:He}))))},"ActivityReaction");un.displayName="ActivityReaction";var an=un,Zt=e("2zs3");const ht=new v.b("activity"),jt=c(de=>{let{channelId:_,messageTs:k}=de;const R=Object(u.c)(Nn.isListsInActivityV2Enabled),W=Object(u.c)(ot=>Object(H.b)(ot,_,k)),$=Object(u.c)(ot=>Object(pe.d)(ot,W==null?void 0:W.channel)),me=Object(u.c)(Ma.a),fe=Object(u.c)(ot=>Object(H.b)(ot,_,W.thread_ts)),ve=fe==null?void 0:fe.slack_list,ke=Object(In.a)(fe==null?void 0:fe.reply_users,me),Ae=Object(u.c)(ot=>Object(Aa.a)(ot,ke[0])),Se=Object(u.c)(ot=>Object(pe.d)(ot,_)),He=Object(u.c)(ot=>Object(Z.t)(ot,Se,{truncateMpimNames:!0})),bt=Object(s.useMemo)(()=>{if(!W||!$)return null;if(!Ae&&He)return t.a.createElement(t.a.Fragment,null,ht.rt("Thread in {channel}",{channel:He}));if(ve&&R){const ot=t.a.createElement(Ht,{listId:ve.list_id,recordId:ve.list_record_id});return ht.rt("Thread in {listItem}",{listItem:ot})}if(Object(f.a)($)&&!Object(D.i)($)){const ot=t.a.createElement(te.a,{className:"p-activity_page__item__link p-activity_ia2022_page__item__link",channel:$});return t.a.createElement(t.a.Fragment,null,ht.rt("Thread in {channel}",{channel:ot}))}return t.a.createElement(t.a.Fragment,null,ht.rt("Thread in a direct message",{mpim:t.a.createElement(Zt.a,{mpim:$,id:$.id})}))},[W,$,Ae,He,ve,R]);return!W||!$?null:t.a.createElement(xe.a,{lines:1,withTooltip:!0},bt)},"ReplyHeader");jt.displayName="ReplyHeader";var Pe=e("rZ8V"),ct=e("JoR1");const Dn=new v.b("activity");function eo(de){let{activityItem:_,activityTs:k,channelId:R,className:W,hasFocus:$,messageTs:me,parentId:fe,renderActionsOffscreen:ve,userMessagesTheme:ke,isSelected:Ae=!1,groupKey:Se}=de;const He=Object(u.c)(Nn.isListsInActivityV2Enabled),bt=Object(u.c)(Pe.k),ot=Object(u.c)(Is=>!Object(ct.u)(Is,"activity_include_threads_in_badge_count")),{maybeClosePeek:Jt}=Object(s.useContext)(he.a),St=!0,yt=Object(C.i)(),Bt=Object(u.c)(Is=>Object(H.b)(Is,R,me)),Kn=(Bt==null?void 0:Bt.channel)||(_==null?void 0:_.channelId),Co=Object(u.c)(Is=>Object(pe.d)(Is,Kn,St)),no=Object(u.c)(Is=>Object(vt.p)(Is,{messageTs:Bt.ts,channelId:Co.id,threadTs:_==null?void 0:_.threadTs,activityType:_==null?void 0:_.type})),ut=(_==null?void 0:_.threadTs)||(Bt==null?void 0:Bt.ts)||k,za=Object(u.c)(Is=>Object(vt.r)(Is,{ts:ut,activityType:_.type}))||Ae,Io=Object(u.c)(vt.f),io=Object(u.c)(Is=>Object(H.b)(Is,Kn,Bt.thread_ts)),_s=io==null?void 0:io.slack_list,ts=!_s,ns=Object(qn.a)({channelId:Kn,threadIdOrTs:Bt.thread_ts}),Ko=Object(s.useCallback)(Is=>{Jt(),yt(Object(kn.a)({message:Bt,activityItem:_,isActivityRead:no,event:Is,groupKey:Se,commentThreadId:ns}))},[yt,Bt,_,no,Se,Jt,ns]),dr=Yt(Bt);if(!Bt||!io||dr)return null;const bs=Object(sn.a)(Bt);if(bs)return t.a.createElement(bn,{userMessagesTheme:ke,isLoading:bs});const Er=Dn.rt("replied to:");return Io&&no&&!za?(yt(Object(zn.a)({channelId:Kn,messageTs:me,filter:"unreads"})),null):t.a.createElement(T.n,{className:W,hasFocus:$,msg:Bt,parentId:fe,renderActionsOffscreen:ve,isSelected:za,isRead:no,onClick:Ko,userMessagesTheme:ke,activityItem:_},t.a.createElement(At.a,{msg:Bt,className:"p-message_pane_message__message_label",showPinned:!1},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"threads"},t.a.createElement(jt,{channelId:Kn,messageTs:me})),t.a.createElement(T.e,null,t.a.createElement(dn.a,{activityTs:k,badgeCount:bt&&ot?0:1,showUnreadDot:!bt}))),t.a.createElement(T.a,{message:Bt,avatar:t.a.createElement(ee.a,{msg:Bt,size:ne.a.medium,isInteractive:!1})},t.a.createElement(T.j,null,t.a.createElement(T.k,null,t.a.createElement(Xn.a,{message:Bt}))),ts&&t.a.createElement(T.i,{message:io,subtext:Er}),_s&&!He&&t.a.createElement(Ba,{listId:_s.list_id,recordId:_s.list_record_id}),t.a.createElement(T.g,{message:Bt}))))}c(eo,"ActivityReply"),eo.displayName="ActivityReply";var to=eo,Da=e("xwCZ"),ss=e("beVI"),uo=e("Tevt"),sr=e("O/xh"),vo=e("zUbs"),rn=e("hUMe"),Ca=e("Grbt"),ia=e("d5BB");const Rs=new v.b("slack_connect"),ea=c(de=>{let{invite:_}=de;const k=Object(C.i)(),R=Object(u.c)(Ae=>Object(ss.s)(Ae,Object(ia.p)(_).id)),{id:W}=Object(u.c)(Ae=>Object(Da.g)(Ae,Object(ia.q)(_).id)),$=Object(u.c)(Ae=>Object(Aa.a)(Ae,W)),me=Object(s.useCallback)(()=>{k(Object(it.a)({memberId:W})),k(Object(zn.j)({}))},[k,W]);if(!W)return null;const fe=t.a.createElement(vo.a,{name:$,inline:!0,className:"no_wrap"}),ve=t.a.createElement(uo.a,{className:"sk_primary_foreground",onClick:me,"aria-label":$},fe),ke=Rs.rt("{user} from {team}",{user:fe,team:t.a.createElement(rn.a,{id:R.id,team:R,bold:!1})});return t.a.createElement(xe.a,{lines:1,withTooltip:!0,customTooltipText:ke},Rs.rt("{user} from {team}",{user:t.a.createElement(sr.a,{userId:W,profileCardProps:Ca.a},Object(Tn.G)({memberId:W,children:ve})),team:t.a.createElement(rn.a,{id:R.id,team:R,bold:!1,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0})}))},"ExternalInvitePrimary");ea.displayName="ExternalInvitePrimary";var go=e("HqVR"),ta=e("nTDs");const Wo=new v.b("slack_connect"),fs=c(de=>{let{invite:_,activityItemType:k}=de;var R,W;const $=Object(u.c)(ke=>Object(ta.d)(ke,_.invite.id)),me=($==null||(R=$.requirements)===null||R===void 0||(W=R.channel_privacy)===null||W===void 0?void 0:W.privacy)===go.b.Private,fe=Object(s.useMemo)(()=>({..._.channel}),[_.channel]);me&&fe&&(fe.is_private=!0);const ve=_.channel&&t.a.createElement(te.a,{channel:fe});return k==="external_dm_invite"?t.a.createElement(t.a.Fragment,null,Wo.rt("invited you to direct message")):ve?Wo.rt("invited you to {channelName}",{channelName:ve}):null},"ExternalInviteSecondary");fs.displayName="ExternalInviteSecondary";var so=e("Atq3"),Yo=e("pFNT"),Ga=e("x8Nh");const Tr=t.a.memo(de=>{let{invite:_}=de;const k=Object(u.c)(Ma.a),R=Object(Ga.a)({acceptances:_.acceptances,currentUserId:k}),W=Object(ia.n)({invite:_,acceptance:R}),$=Object(u.c)(fe=>Object(Da.g)(fe,Object(ia.q)(_).id));let me;switch(W){case ia.b.Default:case ia.b.Pending:case ia.b.Accepted:me=!0;break;case ia.b.Inactive:case ia.b.Rejected:me=!1;break;default:Object(so.a)(W)}return t.a.createElement(Yo.c,{tabIndex:-1,userId:$.id,user:$,size:Yo.a.medium,showCard:!0,className:Object(O.default)("p-slack_connect_received_channel_invite__avatar",{"p-slack_connect_received_channel_invite__avatar--inactive":!me}),profileCardProps:Ca.a})});var as=e("plSA"),Ws=e("Kf9z"),Te=e("WsSy"),Be=e("qr2v");const Je=c(de=>{let{invite:_,index:k,className:R,onClose:W}=de;const $=Object(C.i)(),me=Object(ia.o)(_),fe=Object(u.c)(Ma.a),ve=Object(Ga.a)({acceptances:_.acceptances,currentUserId:fe}),ke=Object(ia.n)({invite:_,acceptance:ve}),[Ae,Se]=Object(s.useState)(!0),He=Object(u.c)(St=>{switch(me){case as.a.Channel:return Object(ta.d)(St,_.invite.id);case as.a.Im:return Object(ta.p)(St,_.invite.id);default:return null}});Object(s.useEffect)(()=>{Se(!0)},[_.date_last_updated]),Object(s.useEffect)(()=>{if(Ae)switch(Se(!1),me){case as.a.Channel:$(Object(Ws.a)({connectInvite:_}));break;case as.a.Im:$(Object(Te.a)({connectInvite:_}));break;default:}},[He,$,Ae,_,me,ke]);const bt=Object(u.c)(Da.c);return Object(ia.j)(_,bt).length>0?t.a.createElement(Be.a,{itemIndex:k,invite:_,className:R,onClose:W}):null},"ExternalInviteActions");Je.displayName="ExternalInviteActions";var qe=e("ZJjT");const mn=new v.b("slack_connect"),oa=c(de=>{let{activityTs:_,className:k,userMessagesTheme:R,invite:W,inviteId:$,activityItem:me}=de;const fe=Object(C.i)(),ve=Object(u.c)(Bt=>Object(vt.r)(Bt,{ts:_,activityType:me.type})),ke=Object(u.c)(vt.f),Ae=Object(u.c)(Bt=>Object(vt.s)(Bt,{inviteId:$})),{maybeClosePeek:Se}=Object(s.useContext)(he.a),He=Object(u.c)(Bt=>Object(ta.e)(Bt,$)),bt=$?He:W,ot=Object(s.useCallback)(Bt=>{Se(),fe(Object(kn.a)({activityItem:me,isActivityRead:!Ae,event:Bt,message:null}))},[fe,Se,me,Ae]),Jt=Object(s.useMemo)(()=>t.a.createElement(Tr,{invite:bt}),[bt]),St=c(()=>t.a.createElement(T.n,{className:Object(O.default)(k,"p-activity_external_invite--ignored"),msg:null,userMessagesTheme:R},t.a.createElement(qe.a,{light:t.a.createElement("div",{className:"c-message_kit__tombstone__icon"},t.a.createElement(Qe.a,{name:"email",size:"20"}))},mn.t("You received a Slack Connect invitation that has been ignored, expired, or is no longer available for another reason.",{fallbackHash:"d7e053a43853fb010ccd392b51d4adcaaafa7c1c",fallbackHashNs:"shared_channel_invites"}))),"renderIgnoredInvitation");St.displayName="renderIgnoredInvitation";const yt=!($&&!He)&&ke&&!Ae&&!ve;return Object(s.useEffect)(()=>{yt&&fe(Object(zn.b)({inviteId:$,filter:"unreads"}))},[yt,fe,$]),$&&!He?St():yt?null:t.a.createElement(T.n,{className:Object(O.default)(k,"p-activity_external_invite"),msg:null,isSelected:ve,isRead:!Ae,onClick:ot,userMessagesTheme:R,activityItem:me},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"paper-plane"},mn.rt("Slack Connect Invitation")),t.a.createElement(T.e,null,t.a.createElement(dn.a,{activityTs:_,badgeCount:1}))),t.a.createElement(qe.a,{light:Jt},t.a.createElement(ea,{invite:bt}),t.a.createElement(xe.a,{lines:2,breakWords:!1},t.a.createElement(fs,{invite:bt,activityItemType:me.type}))))},"ActivityExternalInvite");oa.displayName="ActivityExternalInvite";var Un=oa,On=e("ZIxB"),mo=e("Atrf"),pn=e("hjzp");const Jn=c(de=>{let{userId:_}=de;const k=Object(u.c)(W=>Object(Da.g)(W,_));return t.a.createElement(t.a.Fragment,null,k&&t.a.createElement(Yo.c,{size:36,userId:_,showPresence:!1,user:k}))},"ListUserAvatar");Jn.displayName="ListUserAvatar";var Ja=Jn,Uo=e("fGfo"),Xa=e("nttS");const Oo=c(de=>{let{listId:_,recordId:k,columnId:R}=de;const W=Object(u.c)(ve=>_?Object(sa.z)(ve,_):void 0),$=Object(s.useMemo)(()=>W&&Object(Uo.l)(W),[W]),me=$==null?void 0:$.find(ve=>ve.id===R),fe=Object(u.c)(ve=>Object(sa.O)(ve,_,k));return!me||!fe?null:t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-activity_list_item_column"},t.a.createElement(Qe.a,{name:Object(Uo.c)(me.type),size:"16"}),t.a.createElement("span",{className:"p-activity_list_item_column-name"},me.name)),t.a.createElement("div",{className:"p-activity_list_item_column-value"},t.a.createElement(Xa.a,{column:me,value:fe.fields[me.key],listId:_})))},"ListItemColumn");Oo.displayName="ListItemColumn";var Ro=Oo;const vs=new v.b("lists"),Le=c(de=>{let{activityTs:_,className:k,userMessagesTheme:R,activityItem:W,listPayload:$,isUnread:me}=de;const fe=Object(C.i)(),ve=Object(u.c)(ut=>Object(vt.r)(ut,{ts:_,activityType:W.type})),ke=!(me??!1),Ae=$.list_id,Se=$.row_id,He=$.column_id,bt=$.assigned_by,{isPeekMode:ot,maybeClosePeek:Jt}=Object(s.useContext)(he.a),yt=!Object(st.a)({listId:Ae,recordId:Se,fetchIfMissing:!0}),Bt=Object(s.useCallback)(ut=>{Jt(),fe(Object(kn.a)({activityItem:W,isActivityRead:ke,event:ut,message:null}))},[fe,Jt,W,ke]);if(yt)return t.a.createElement(bn,{userMessagesTheme:R,isLoading:yt});const Kn=t.a.createElement(Ht,{listId:Ae,recordId:Se}),Co=vs.rt("Assignment in {itemName}",{itemName:Kn}),no=t.a.createElement(Ja,{userId:bt});return t.a.createElement(T.n,{className:k,msg:null,isSelected:ve,isRead:ke,onClick:Bt,userMessagesTheme:R,showMessageActions:!ot,activityItem:W},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"user"},t.a.createElement(xe.a,{lines:1,withTooltip:!0},Co)),t.a.createElement(T.e,null,t.a.createElement(t.a.Fragment,null,t.a.createElement(T.m,{activityTs:_}),!ke&&t.a.createElement("span",{className:"p-activity_ia4_page__item__message--unread-dot"})))),t.a.createElement(qe.a,{light:no},t.a.createElement(On.a,{id:$.assigned_by,showPresence:!1,showAvatar:!1,useShortMode:!0,showTooltip:!0}),t.a.createElement(Ro,{listId:Ae,recordId:Se,columnId:He})))},"ActivityListAssignment");Le.displayName="ActivityListAssignment";var we=Le;function Fe(){return Fe=Object.assign||function(de){for(var _=1;_<arguments.length;_++){var k=arguments[_];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(de[R]=k[R])}return de},Fe.apply(this,arguments)}c(Fe,"_extends");const pt=new v.b("lists"),nt=c(de=>{let{userId:_}=de;const k=Object(u.c)(W=>Object(Da.g)(W,_)),R=t.a.createElement(t.a.Fragment,null,k&&t.a.createElement(Yo.c,{size:36,userId:_,showPresence:!1,user:k}));return Object(Tn.G)({memberId:_,children:R})},"UserField");nt.displayName="UserField";const xt=c(de=>{let{activityTs:_,className:k,userMessagesTheme:R,activityItem:W,listPayload:$,isUnread:me}=de;const fe=!(me??!1),ve=Object(u.c)(Ma.a),ke=Object(u.c)(ut=>Object(vt.r)(ut,{ts:_,activityType:W.type})),Ae=Object(C.i)(),Se=$.list_id,He=$.row_id,bt=Object(u.c)(ut=>Object(sa.O)(ut,Se,He)),[ot,Jt]=Object(s.useState)(!!bt),{maybeClosePeek:St}=Object(s.useContext)(he.a),yt=Object(pn.a)(Se),Bt=Object(u.c)(ut=>Object(pe.d)(ut,yt)),Kn=t.a.createElement(te.a,{className:"p-activity_page__item__link p-activity_ia2022_page__item__link",channel:Bt});Object(s.useEffect)(()=>{(function(){var za=Object(Ft.coroutine)(function*(){ot||(yield Ae(Object(ba.a)({listId:Se,id:He})),Jt(!0))});return c(function(){return za.apply(this,arguments)},"fetch")})()()},[Ae,Se,ot,He,Jt]);const Co=Object(s.useCallback)(ut=>{St(),Ae(Object(kn.a)({activityItem:W,isActivityRead:fe,event:ut,message:null}))},[Ae,St,W,fe]),no=Object(s.useMemo)(()=>t.a.createElement(nt,{userId:$.assigned_by}),[$]);return t.a.createElement(T.n,{className:k,msg:null,isSelected:ke,isRead:fe,onClick:Co,userMessagesTheme:R,activityItem:W},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"mentions"},pt.rt("Assigned to an item in {listEntity}",{listEntity:Kn})),t.a.createElement(T.e,null,t.a.createElement(t.a.Fragment,null,t.a.createElement(T.m,{activityTs:_}),!fe&&t.a.createElement("span",{className:"p-activity_ia4_page__item__message--unread-dot"})))),t.a.createElement(qe.a,{light:no},t.a.createElement(On.a,{id:$.assigned_by,showPresence:!1,showAvatar:!1,useShortMode:!0,showTooltip:!0}),t.a.createElement(Ba,{listId:Se,recordId:He}),Object(Tn.G)({memberId:ve,children:t.a.createElement(mo.a,{id:ve})})))},"ActivityListItemV1");xt.displayName="ActivityListItemV1";const An=c(de=>Object(u.c)(Nn.isListsInActivityV2Enabled)?t.a.createElement(we,Fe({},de)):t.a.createElement(xt,Fe({},de)),"ActivityListItem");An.displayName="ActivityListItem";var Hn=An,na=e("8/D0"),Ka=e("hwwf"),Qa=e("LlDT"),Eo=e("FDKk");const Po=new v.b("lists"),Wa=new Set([na.a.Text,na.a.RichText,na.a.Message]),jo=c(()=>t.a.createElement("span",{className:"p_ativity_list_field_update__empty_value"},Po.t("Empty")),"ListFieldUpdateEmpty");jo.displayName="ListFieldUpdateEmpty";const gs=c(de=>{let{listId:_,column:k,oldValue:R,newValue:W}=de;const $=Wa.has(k.type),me=Object(s.useMemo)(()=>Object(Ka.q)({cell:R}),[R]),fe=Object(s.useMemo)(()=>Object(Ka.q)({cell:W}),[W]),ve=Object(Uo.p)(me),ke=Object(Uo.p)(fe),Ae=Object(s.useCallback)(()=>{if(ke)return t.a.createElement(jo,null);switch(k.type){case na.a.RichText:case na.a.Text:return t.a.createElement(xe.a,{lines:2,breakWords:!1,withTooltip:!0},t.a.createElement(Qa.a,{value:fe,inline:!0}));case na.a.Message:return t.a.createElement(Eo.a,{permalink:fe.toString(),truncateLines:2,linkify:!0});default:return t.a.createElement(Xa.a,{column:k,value:fe,listId:_})}},[_,k,fe,ke]),Se=Object(s.useCallback)(()=>t.a.createElement(t.a.Fragment,null,ve?t.a.createElement(jo,null):t.a.createElement(Xa.a,{column:k,value:me,listId:_}),t.a.createElement("span",{className:"p_ativity_list_field_update__arrow"},t.a.createElement(Qe.a,{name:"arrow-right",inline:!0})),ke?t.a.createElement(jo,null):t.a.createElement(Xa.a,{column:k,value:fe,listId:_})),[_,k,fe,me,ke,ve]);return t.a.createElement("div",{className:"p-activity_list_field_update"},$?Ae():Se())},"ListFieldUpdate");gs.displayName="ListFieldUpdate";var Na=gs;const ms=c(de=>{let{listId:_,columnId:k,cellEdit:R}=de;const W=Object(u.c)(fe=>_?Object(sa.z)(fe,_):void 0),$=Object(s.useMemo)(()=>W&&Object(Uo.l)(W),[W]),me=$==null?void 0:$.find(fe=>fe.id===k);return me?t.a.createElement(t.a.Fragment,null,t.a.createElement("div",{className:"p-activity_list_item_column"},t.a.createElement(Qe.a,{name:Object(Uo.c)(me.type),size:"16"}),t.a.createElement("span",{className:"p-activity_list_item_column-name"},me.name)),t.a.createElement("div",{className:"p-activity_list_item_column-value"},t.a.createElement(Na,{column:me,oldValue:R.old_value,newValue:R.new_value,listId:_}))):null},"ListItemColumnUpdate");ms.displayName="ListItemColumnUpdate";var rs=ms,es=e("hXP4"),cs=e("s4P+"),hs=e("SQ0V"),ls=e("uoFi");const rr=Object(hs.c)("Fetch the last edit for a list cell",function(){var de=Object(Ft.coroutine)(function*(_,k,R){let{activityTs:W,listId:$,recordId:me,columnId:fe}=R;try{const Ae=(yield _(Object(es.a)({listId:$,rowId:me,columnId:fe,reason:"get-last-edit-for-cell"}))).edit;return _(Object(ls.K)({activityTs:W,cellEdit:Ae})),null}catch(ke){var ve;return Object(cs.a)({label:"lists"}).error("error fetching list cell edit",ke),{error:ke==null||(ve=ke.data)===null||ve===void 0?void 0:ve.error}}});return function(_,k,R){return de.apply(this,arguments)}}());rr.meta={name:"createThunk",key:"createThunkfetchCellEdit",description:"Fetch the last edit for a list cell"};function pr(de){let{activityTs:_,listId:k,recordId:R,columnId:W,fetchIfMissing:$=!1}=de;const me=Object(C.i)(),fe=Object(u.c)(ke=>Object(sa.d)(ke,_)),ve=!fe&&$;return Object(s.useEffect)(()=>{ve&&function(){var Ae=Object(Ft.coroutine)(function*(){yield me(rr({activityTs:_,listId:k,recordId:R,columnId:W}))});return c(function(){return Ae.apply(this,arguments)},"fetch")}()()},[me,_,k,R,W,ve]),fe}c(pr,"useGetCellEditByTimestamp");const br=new v.b("lists"),tn=c(de=>{let{activityTs:_,className:k,userMessagesTheme:R,activityItem:W,listEditPayload:$,isUnread:me}=de;const fe=Object(C.i)(),ve=Object(u.c)(za=>Object(vt.r)(za,{ts:_,activityType:W.type})),ke=!(me??!1),Ae=$.list_id,Se=$.row_id,He=$.column_id,bt=$.edited_by,{isPeekMode:ot,maybeClosePeek:Jt}=Object(s.useContext)(he.a),St=Object(st.a)({listId:Ae,recordId:Se,fetchIfMissing:!0}),yt=pr({activityTs:_,listId:Ae,recordId:Se,columnId:He,fetchIfMissing:!0}),Bt=!(St&&yt),Kn=Object(s.useCallback)(za=>{Jt(),fe(Object(kn.a)({activityItem:W,isActivityRead:ke,event:za,message:null}))},[fe,Jt,W,ke]);if(Bt)return t.a.createElement(bn,{userMessagesTheme:R,isLoading:Bt});const Co=t.a.createElement(Ht,{listId:Ae,recordId:Se}),no=br.rt("Update in {itemName}",{itemName:Co}),ut=t.a.createElement(Ja,{userId:bt});return t.a.createElement(T.n,{className:k,msg:null,isSelected:ve,isRead:ke,onClick:Kn,userMessagesTheme:R,showMessageActions:!ot,activityItem:W},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"refresh"},t.a.createElement(xe.a,{lines:1,withTooltip:!0},no)),t.a.createElement(T.e,null,t.a.createElement(t.a.Fragment,null,t.a.createElement(T.m,{activityTs:_}),!ke&&t.a.createElement("span",{className:"p-activity_ia4_page__item__message--unread-dot"})))),t.a.createElement(qe.a,{light:ut},t.a.createElement(On.a,{id:bt,showPresence:!1,showAvatar:!1,useShortMode:!0,showTooltip:!0}),t.a.createElement(rs,{listId:Ae,columnId:He,cellEdit:yt})))},"ActivityListUpdate");tn.displayName="ActivityListUpdate";var Ri=tn;function Ci(){return Ci=Object.assign||function(de){for(var _=1;_<arguments.length;_++){var k=arguments[_];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(de[R]=k[R])}return de},Ci.apply(this,arguments)}c(Ci,"activity_list_edit_extends");const li=new v.b("lists"),Ur=c(de=>{let{userId:_}=de;const k=Object(u.c)(W=>Object(Da.g)(W,_)),R=t.a.createElement(t.a.Fragment,null,k&&t.a.createElement(Yo.c,{size:36,userId:_,showPresence:!1,user:k}));return Object(Tn.G)({memberId:_,children:R})},"activity_list_edit_UserField");Ur.displayName="UserField";const yi=c(de=>{let{activityTs:_,className:k,userMessagesTheme:R,activityItem:W,listEditPayload:$,isUnread:me}=de;const fe=Object(u.c)(Nn.isListsFollowItemEnabled),ve=!me,ke=Object(u.c)(za=>Object(vt.r)(za,{ts:_,activityType:W.type})),Ae=Object(C.i)(),Se=$.list_id,He=$.row_id,bt=Object(u.c)(za=>Object(sa.O)(za,Se,He)),[ot,Jt]=Object(s.useState)(!bt),{isPeekMode:St,maybeClosePeek:yt}=Object(s.useContext)(he.a),Bt=Object(pn.a)(Se),Kn=Object(u.c)(za=>Object(pe.d)(za,Bt)),Co=t.a.createElement(te.a,{className:"p-activity_page__item__link p-activity_ia2022_page__item__link",channel:Kn});Object(s.useEffect)(()=>{(function(){var Io=Object(Ft.coroutine)(function*(){ot||(yield Ae(Object(ba.a)({listId:Se,id:He})),Jt(!0))});return c(function(){return Io.apply(this,arguments)},"fetch")})()()},[Ae,Se,ot,He,Jt]);const no=Object(s.useCallback)(za=>{yt(),Ae(Object(kn.a)({activityItem:W,isActivityRead:ve,event:za,message:null}))},[Ae,yt,W,ve]),ut=Object(s.useMemo)(()=>t.a.createElement(Ur,{userId:$.edited_by}),[$]);return t.a.createElement(T.n,{className:k,msg:null,isSelected:ke,isRead:ve,onClick:no,userMessagesTheme:R,showMessageActions:!St,activityItem:W},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"edit"},fe?li.rt("Edit in a {listEntity} item",{listEntity:Co}):"Edit in a list item"),t.a.createElement(T.e,null,t.a.createElement(t.a.Fragment,null,t.a.createElement(T.m,{activityTs:_}),!ve&&t.a.createElement("span",{className:"p-activity_ia4_page__item__message--unread-dot"})))),t.a.createElement(qe.a,{light:ut},t.a.createElement(On.a,{id:$.edited_by,showPresence:!1,showAvatar:!1,useShortMode:!0,showTooltip:!0}),t.a.createElement(Ba,{listId:Se,recordId:He})))},"ActivityListEditV1");yi.displayName="ActivityListEditV1";const So=c(de=>Object(u.c)(Nn.isListsInActivityV2Enabled)?t.a.createElement(Ri,Ci({},de)):t.a.createElement(yi,Ci({},de)),"ActivityListEdit");So.displayName="ActivityListEdit";var Mo=So;const Os=new v.b("lists"),xi=c(de=>{let{activityTs:_,className:k,userMessagesTheme:R,activityItem:W,listUserMentionPayload:$,isUnread:me}=de;const fe=Object(C.i)(),ve=Object(u.c)(ut=>Object(vt.r)(ut,{ts:_,activityType:W.type})),ke=!(me??!1),Ae=$.list_id,Se=$.row_id,He=$.column_id,bt=$.mentioned_by,{isPeekMode:ot,maybeClosePeek:Jt}=Object(s.useContext)(he.a),yt=!Object(st.a)({listId:Ae,recordId:Se,fetchIfMissing:!0}),Bt=Object(s.useCallback)(ut=>{Jt(),fe(Object(kn.a)({activityItem:W,isActivityRead:ke,event:ut,message:null}))},[fe,Jt,W,ke]);if(yt)return t.a.createElement(bn,{userMessagesTheme:R,isLoading:yt});const Kn=t.a.createElement(Ht,{listId:Ae,recordId:Se}),Co=Os.rt("Mention in {itemName}",{itemName:Kn}),no=t.a.createElement(Ja,{userId:bt});return t.a.createElement(T.n,{className:k,msg:null,isSelected:ve,isRead:ke,onClick:Bt,userMessagesTheme:R,showMessageActions:!ot,activityItem:W},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"mentions"},t.a.createElement(xe.a,{lines:1,withTooltip:!0},Co)),t.a.createElement(T.e,null,t.a.createElement(t.a.Fragment,null,t.a.createElement(T.m,{activityTs:_}),!ke&&t.a.createElement("span",{className:"p-activity_ia4_page__item__message--unread-dot"})))),t.a.createElement(qe.a,{light:no},t.a.createElement(On.a,{id:$.mentioned_by,showPresence:!1,showAvatar:!1,useShortMode:!0,showTooltip:!0}),t.a.createElement(Ro,{listId:Ae,recordId:Se,columnId:He})))},"ActivityListMention");xi.displayName="ActivityListMention";var Li=xi;function Ho(){return Ho=Object.assign||function(de){for(var _=1;_<arguments.length;_++){var k=arguments[_];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(de[R]=k[R])}return de},Ho.apply(this,arguments)}c(Ho,"activity_list_user_mention_extends");const di=new v.b("lists"),ui=c(de=>{let{userId:_}=de;const k=Object(u.c)(R=>Object(Da.g)(R,_));return Object(Tn.G)({memberId:_,children:k?t.a.createElement(Yo.c,{size:36,userId:_,showPresence:!1,user:k}):null})},"activity_list_user_mention_UserField");ui.displayName="UserField";const wi=c(de=>{let{activityTs:_,className:k,userMessagesTheme:R,activityItem:W,listUserMentionPayload:$,isUnread:me}=de;const fe=!(me??!1),ve=Object(u.c)(Nn.isListsUserAlertsForMentionsEnabled),ke=Object(u.c)(Kn=>Object(vt.r)(Kn,{ts:_,activityType:W.type})),Ae=Object(C.i)(),{list_id:Se,row_id:He}=$,{isPeekMode:bt,maybeClosePeek:ot}=Object(s.useContext)(he.a),Jt=Object(pn.a)(Se),St=Object(u.c)(Kn=>Object(pe.d)(Kn,Jt));Object(s.useEffect)(()=>{(function(){var Co=Object(Ft.coroutine)(function*(){yield Ae(Object(ba.a)({listId:Se,id:He}))});return c(function(){return Co.apply(this,arguments)},"fetch")})()()},[Ae,Se,He]);const yt=Object(s.useCallback)(Kn=>{ot(),Ae(Object(kn.a)({activityItem:W,isActivityRead:fe,event:Kn,message:null}))},[Ae,ot,W,fe]),Bt=Object(s.useMemo)(()=>t.a.createElement(ui,{userId:$.mentioned_by}),[$]);return t.a.createElement(T.n,{className:k,msg:null,isSelected:ke,isRead:fe,onClick:yt,userMessagesTheme:R,showMessageActions:!bt,activityItem:W},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"mentions"},ve?di.rt("Mentioned in {listEntity}",{listEntity:t.a.createElement(te.a,{className:"p-activity_page__item__link p-activity_ia2022_page__item__link",channel:St})}):"Mentioned in a List"),t.a.createElement(T.e,null,t.a.createElement(t.a.Fragment,null,t.a.createElement(T.m,{activityTs:_}),!fe&&t.a.createElement("span",{className:"p-activity_ia4_page__item__message--unread-dot"})))),t.a.createElement(qe.a,{light:Bt},t.a.createElement(On.a,{id:$.mentioned_by,showPresence:!1,showAvatar:!1,useShortMode:!0,showTooltip:!0}),t.a.createElement(Ba,{listId:Se,recordId:He})))},"ActivityListUserMentionV1");wi.displayName="ActivityListUserMentionV1";const Nt=c(de=>Object(u.c)(Nn.isListsInActivityV2Enabled)?t.a.createElement(Li,Ho({},de)):t.a.createElement(wi,Ho({},de)),"ActivityListUserMention");Nt.displayName="ActivityListUserMention";var kt=Nt,Et=e("DIxq");const Pt=new v.b("slack_connect"),Kt=c(de=>{let{invite:_}=de;const k=Object(C.i)(),R=Object(u.c)(Ae=>Object(ss.s)(Ae,Object(Et.f)(_).id)),{id:W}=Object(u.c)(Ae=>Object(Da.g)(Ae,Object(Et.g)(_).id)),$=Object(u.c)(Ae=>Object(Aa.a)(Ae,W)),me=Object(s.useCallback)(()=>{k(Object(it.a)({memberId:W})),k(Object(zn.j)({}))},[k,W]);if(!W)return null;const fe=t.a.createElement(vo.a,{name:$,inline:!0,className:"no_wrap"}),ve=t.a.createElement(uo.a,{className:"sk_primary_foreground",onClick:me,"aria-label":$},fe),ke=Pt.rt("{user} from {team}",{user:fe,team:t.a.createElement(rn.a,{id:R.id,team:R,bold:!1})});return t.a.createElement(xe.a,{lines:1,withTooltip:!0,customTooltipText:ke},Pt.rt("{user} from {team}",{user:t.a.createElement(sr.a,{userId:W,profileCardProps:Ca.a},Object(Tn.G)({memberId:W,children:ve})),team:t.a.createElement(rn.a,{id:R.id,team:R,bold:!1,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0})}))},"ExternalWorkspaceInvitePrimary");Kt.displayName="ExternalWorkspaceInvitePrimary";const ln=new v.b("slack_connect"),wt=c(de=>{let{invite:_}=de;const k=_.shared_workspace&&t.a.createElement(rn.a,{team:_.shared_workspace,bold:!1});return k?ln.rt("invited you to {workspaceName}",{workspaceName:k}):null},"ExternalWorkspaceInviteSecondary");wt.displayName="ExternalWorkspaceInviteSecondary";const fn=t.a.memo(de=>{let{invite:_}=de;const k=Object(Et.e)({invite:_}),R=Object(u.c)($=>Object(Da.g)($,Object(Et.g)(_).id));let W;switch(k){case ia.b.Default:case ia.b.Pending:case ia.b.Accepted:W=!0;break;case ia.b.Inactive:case ia.b.Rejected:W=!1;break;default:Object(so.a)(k)}return t.a.createElement(Yo.c,{tabIndex:-1,userId:R.id,user:R,size:Yo.a.medium,showCard:!0,className:Object(O.default)("p-slack_connect_received_channel_invite__avatar",{"p-slack_connect_received_channel_invite__avatar--inactive":!W}),profileCardProps:Ca.a})});var et=e("oJGs");const Ie=c(de=>{let{invite:_,className:k,onClose:R}=de;return Object(Et.b)(_).length>0?t.a.createElement(et.a,{invite:_,className:k,onClose:R}):null},"ExternalWorkspaceInviteActions");Ie.displayName="ExternalWorkspaceInviteActions";var Ve=e("5oWW");const De=new v.b("slack_connect"),We=c(de=>{let{activityTs:_,className:k,userMessagesTheme:R,invite:W,inviteId:$,activityItem:me}=de;const fe=Object(C.i)(),ve=Object(u.c)(Bt=>Object(vt.r)(Bt,{ts:_,activityType:me.type})),ke=Object(u.c)(vt.f),Ae=Object(u.c)(Bt=>Object(vt.s)(Bt,{inviteId:$})),{isPeekMode:Se,maybeClosePeek:He}=Object(s.useContext)(he.a),bt=Object(u.c)(Ve.f)[$],ot=$?bt:W,Jt=Object(s.useCallback)(Bt=>{He(),fe(Object(kn.a)({activityItem:me,isActivityRead:!Ae,event:Bt,message:null}))},[fe,He,me,Ae]),St=Object(s.useMemo)(()=>t.a.createElement(fn,{invite:ot}),[ot]),yt=c(()=>t.a.createElement(T.n,{className:Object(O.default)(k,"p-activity_external_invite--ignored"),msg:null,userMessagesTheme:R},t.a.createElement(qe.a,{light:t.a.createElement("div",{className:"c-message_kit__tombstone__icon"},t.a.createElement(Qe.a,{name:"email",size:"20"}))},De.t("You received a Slack Connect invitation that has been ignored, expired, or is no longer available for another reason.",{fallbackHash:"d7e053a43853fb010ccd392b51d4adcaaafa7c1c",fallbackHashNs:"shared_channel_invites"}))),"renderIgnoredInvitation");return yt.displayName="renderIgnoredInvitation",$&&!bt?yt():ke&&!Ae&&!ve?(fe(Object(zn.b)({inviteId:$,filter:"unreads"})),null):t.a.createElement(T.n,{className:Object(O.default)(k,"p-activity_external_invite"),msg:null,isSelected:ve,isRead:!Ae,onClick:Jt,userMessagesTheme:R,showMessageActions:!Se,activityItem:me},t.a.createElement(T.c,null,t.a.createElement(T.d,{iconName:"paper-plane"},De.rt("Slack Connect Invitation")),t.a.createElement(T.e,null,t.a.createElement(dn.a,{activityTs:_,badgeCount:1}))),t.a.createElement(qe.a,{light:St},t.a.createElement(Kt,{invite:ot}),t.a.createElement(xe.a,{lines:2,breakWords:!1},t.a.createElement(wt,{invite:ot}))))},"ActivityExternalWorkspaceInvite");We.displayName="ActivityExternalWorkspaceInvite";var Ze=We,Dt=e("zmn3"),ft=e("wBxZ"),on=e("qawj");const at=new v.b("stories_av"),Ut=c(de=>{let{activityItem:_,channelId:k,messageTs:R}=de;const W=Object(u.c)(Se=>Object(H.b)(Se,k,R)),$=Object(u.c)(Se=>Object(pe.d)(Se,W==null?void 0:W.channel)),me=Object(u.c)(on.a),fe=_.mediaReactions,ve=Object(Dt.a)(Object(ft.a)(fe,2),"user"),ke=Object(u.f)(Se=>ve.map(He=>Object(Aa.a)(Se,He))),Ae=Object(s.useMemo)(()=>{if(!me||!fe)return null;const Se=t.a.createElement(te.a,{className:"p-activity_page__item__link bold p-activity_ia2022_page__item__link",channel:$});return fe.length===1?t.a.createElement(t.a.Fragment,null,at.rt("{member} reacted to your video in {channel}",{channel:Se,member:t.a.createElement(dt,{id:ve[0],name:ke[0]})})):fe.length===2?t.a.createElement(t.a.Fragment,null,at.rt("{memberA} and {memberB} reacted to your video in {channel}",{channel:Se,memberA:t.a.createElement(dt,{id:ve[0],name:ke[0]}),memberB:t.a.createElement(dt,{id:ve[1],name:ke[1]})})):t.a.createElement(t.a.Fragment,null,at.rt("Several people reacted to your video in {channel}",{channel:Se}))},[ve,ke,$,me,fe]);return!me||!fe?null:t.a.createElement(xe.a,{lines:1,withTooltip:!0},Ae)},"MediaReactionHeader");Ut.displayName="MediaReactionHeader";const vn=c(de=>{let{activityItem:_,activityTs:k,channelId:R,className:W,hasFocus:$,messageTs:me,parentId:fe,renderActionsOffscreen:ve,userMessagesTheme:ke}=de;const Ae=Object(C.i)(),Se=Object(u.c)(Bt=>Object(H.b)(Bt,R,me)),He=(Se==null?void 0:Se.ts)||k,bt=Object(u.c)(Bt=>Object(vt.r)(Bt,{ts:He,activityType:_.type})),ot=_.mediaReactions,{maybeClosePeek:Jt}=Object(s.useContext)(he.a),St=Object(s.useCallback)(Bt=>{Jt(),Ae(Object(kn.a)({message:Se,activityItem:_,isActivityRead:!0,event:Bt}))},[Ae,Se,_,Jt]),yt=Object(s.useCallback)(()=>{const Bt=Object(ra.a)(ot);return Bt?t.a.createElement(Fa.b,{text:Bt.name,emojiSize:Fa.a.LARGE,forceDisplay:!0}):null},[ot]);return!Se||!ot||!ot.length?null:t.a.createElement(T.n,{isRead:!0,className:W,hasFocus:$,msg:Se,parentId:fe,renderActionsOffscreen:ve,isSelected:bt,onClick:St,userMessagesTheme:ke,activityItem:_},t.a.createElement(At.a,{msg:Se,className:"p-message_pane_message__message_label",showPinned:!1},t.a.createElement(T.c,null,t.a.createElement(T.d,null,t.a.createElement(Ut,{activityItem:_,messageTs:me,channelId:R})),t.a.createElement(T.e,null,t.a.createElement(dn.a,{activityTs:k,badgeCount:1}))),t.a.createElement(T.a,{message:Se,avatar:yt()},t.a.createElement(T.j,null,t.a.createElement(T.k,null,t.a.createElement(Xn.a,{message:Se}))),t.a.createElement(T.g,{message:Se}),t.a.createElement(T.b,{message:Se}))))},"ActivityMediaReaction");vn.displayName="ActivityMediaReaction";var Ne=vn,Zn=e("Ry3q"),jn=e("L/3P"),gn=e("ktUG"),xo=e("wKGu"),Wn=e("rbPy"),Oa=e("arBb"),Do=e("ifKl");const xs=c(()=>{const de=Object(C.i)(),_=Object(s.useRef)(null);return Object(s.useEffect)(()=>()=>{_.current&&_.current.cancel()},[_]),{fetchActivities:Object(s.useCallback)(R=>{let{mode:W,fetchNew:$,filter:me}=R;_.current=de(Object(Wn.a)({limit:Oa.a,filter:me,mode:W,fetchNew:$})).then(()=>(de(Object(zn.h)(!1)),Do.a)).catch(()=>(de(Object(zn.h)(!0)),Do.a)).finally(()=>{_.current=null})},[de]),fetchPromise:_}},"useFetchActivityFeed"),_o=c(()=>{const de=Object(u.c)(vt.f),_=Object(u.c)(vt.n),k=Object(u.c)(vt.e),{fetchActivities:R}=xs();return Object(s.useCallback)(()=>{de&&k<=10&&_&&R({mode:"chrono_unreads",filter:"unreads"})},[de,k,_,R])},"useMaybeFetchRemainingUnreads");var Vo=e("34VX"),ys=e("hleP"),js=e("tOKv"),is=e("/K2e"),Za=e("M4gW"),ro=e("6pS0"),mi=t.a.memo(de=>{let{ts:_,threadTs:k,channelId:R,targetBounds:W,onCloseRequested:$,activityItem:me}=de;const fe=Object(s.useContext)(Za.a),{maybeClosePeek:ve}=Object(s.useContext)(he.a),ke=Object(C.i)(),Ae=Object(s.useCallback)(()=>ke(Object(ro.a)({origin:"context_menu",channelId:R,ts:_,threadTs:k,viewContext:fe,maybeClosePeek:ve,activityItem:me})),[ke,R,ve,k,_,fe,me]),Se=me==null?void 0:me.type;return["list_record_assigned","list_user_mentioned","external_dm_invite","external_channel_invite","shared_workspace_invite"].includes(Se)?null:t.a.createElement(js.a,{targetBounds:W,onCloseRequested:$},t.a.createElement(is.a,{template:Ae(),width:"auto"}))}),Hr=e("IJCU"),Qr=e("fdv1"),ps=e("N3JQ");const En=new v.b("a11y"),ka=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,isUnread:me,includeDateTimeFirst:fe}=de;return me?fe?R?En.t("New mention from {name} in {channelName}, {date} at {time}: {message}",{name:_,date:R,time:W,channelName:k,message:$}):En.t("New mention from {name} in {channelName}, at {time}: {message}",{name:_,time:W,channelName:k,message:$}):R?En.t("New mention from {name} in {channelName}: {message} {date} at {time}.",{name:_,date:R,time:W,channelName:k,message:$}):En.t("New mention from {name} in {channelName}: {message} At {time}.",{name:_,time:W,channelName:k,message:$}):fe?R?En.t("{name} mentioned you in {channelName}, {date} at {time}: {message}",{name:_,date:R,time:W,channelName:k,message:$}):En.t("{name} mentioned you in {channelName}, at {time}: {message}",{name:_,time:W,channelName:k,message:$}):R?En.t("{name} mentioned you in {channelName}: {message} {date} at {time}.",{name:_,date:R,time:W,channelName:k,message:$}):En.t("{name} mentioned you in {channelName}: {message} At {time}.",{name:_,time:W,channelName:k,message:$})},"formatMentionWithNameInChannel"),Us=c(de=>{let{channelName:_,date:k,time:R,message:W,isUnread:$,includeDateTimeFirst:me}=de;return $?me?k?En.t("New mention in {channelName}, {date} at {time}: {message}",{date:k,time:R,channelName:_,message:W}):En.t("New mention in {channelName}, at {time}: {message}",{time:R,channelName:_,message:W}):k?En.t("New mention in {channelName}: {message} {date} at {time}.",{date:k,time:R,channelName:_,message:W}):En.t("New mention in {channelName}: {message} At {time}.",{time:R,channelName:_,message:W}):me?k?En.t("You were mentioned in {channelName}, {date} at {time}: {message}",{date:k,time:R,channelName:_,message:W}):En.t("You were mentioned in {channelName}, at {time}: {message}",{time:R,channelName:_,message:W}):k?En.t("You were mentioned in {channelName}: {message} {date} at {time}.",{date:k,time:R,channelName:_,message:W}):En.t("You were mentioned in {channelName}: {message} At {time}.",{time:R,channelName:_,message:W})},"formatMentionInChannel"),Go=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,isUnread:me,includeDateTimeFirst:fe}=de;return me?fe?R?En.t("New mention from {name} in thread in {channelName}, {date} at {time}: {message}",{name:_,date:R,time:W,channelName:k,message:$}):En.t("New mention from {name} in thread in {channelName}, at {time}: {message}",{name:_,time:W,channelName:k,message:$}):R?En.t("New mention from {name} in thread in {channelName}: {message} {date} at {time}.",{name:_,date:R,time:W,channelName:k,message:$}):En.t("New mention from {name} in thread in {channelName}: {message} At {time}.",{name:_,time:W,channelName:k,message:$}):fe?R?En.t("{name} mentioned you in thread in {channelName}, {date} at {time}: {message}",{name:_,date:R,time:W,channelName:k,message:$}):En.t("{name} mentioned you in thread in {channelName}, at {time}: {message}",{name:_,time:W,channelName:k,message:$}):R?En.t("{name} mentioned you in thread in {channelName}: {message} {date} at {time}.",{name:_,date:R,time:W,channelName:k,message:$}):En.t("{name} mentioned you in thread in {channelName}: {message} At {time}.",{name:_,time:W,channelName:k,message:$})},"formatMentionWithNameInThread"),fr=c(de=>{let{channelName:_,date:k,time:R,message:W,isUnread:$,includeDateTimeFirst:me}=de;return $?me?k?En.t("New mention in thread in {channelName}, {date} at {time}: {message}",{date:k,time:R,channelName:_,message:W}):En.t("New mention in thread in {channelName}, at {time}: {message}",{time:R,channelName:_,message:W}):k?En.t("New mention in thread in {channelName}: {message} {date} at {time}.",{date:k,time:R,channelName:_,message:W}):En.t("New mention in thread in {channelName}: {message} At {time}.",{time:R,channelName:_,message:W}):me?k?En.t("You were mentioned in thread in {channelName}, {date} at {time}: {message}",{date:k,time:R,channelName:_,message:W}):En.t("You were mentioned in thread in {channelName}, at {time}: {message}",{time:R,channelName:_,message:W}):k?En.t("You were mentioned in thread in {channelName}: {message} {date} at {time}.",{date:k,time:R,channelName:_,message:W}):En.t("You were mentioned in thread in {channelName}: {message} At {time}.",{time:R,channelName:_,message:W})},"formatMentionInThread"),hi=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,isUnread:me,includeDateTimeFirst:fe}=de;return me?fe?R?En.t("New keyword mention from {name} in {channelName}, {date} at {time}: {message}",{name:_,date:R,time:W,channelName:k,message:$}):En.t("New keyword mention from {name} in {channelName}, at {time}: {message}",{name:_,time:W,channelName:k,message:$}):R?En.t("New keyword mention from {name} in {channelName}: {message} {date} at {time}.",{name:_,date:R,time:W,channelName:k,message:$}):En.t("New keyword mention from {name} in {channelName}: {message} At {time}.",{name:_,time:W,channelName:k,message:$}):fe?R?En.t("{name} mentioned your keyword {channelName}, {date} at {time}: {message}",{name:_,date:R,time:W,channelName:k,message:$}):En.t("{name} mentioned your keyword in {channelName}, at {time}: {message}",{name:_,time:W,channelName:k,message:$}):R?En.t("{name} mentioned your keyword in {channelName}: {message} {date} at {time}.",{name:_,date:R,time:W,channelName:k,message:$}):En.t("{name} mentioned your keyword in {channelName}: {message} At {time}.",{name:_,time:W,channelName:k,message:$})},"formatKeywordMatchWithNameInChannel"),Bi=c(de=>{let{channelName:_,date:k,time:R,message:W,isUnread:$,includeDateTimeFirst:me}=de;return $?me?k?En.t("New keyword mention in {channelName}, {date} at {time}: {message}",{date:k,time:R,channelName:_,message:W}):En.t("New keyword mention in {channelName}, at {time}: {message}",{time:R,channelName:_,message:W}):k?En.t("New keyword mention in {channelName}: {message} {date} at {time}.",{date:k,time:R,channelName:_,message:W}):En.t("New keyword mention in {channelName}: {message} At {time}.",{time:R,channelName:_,message:W}):me?k?En.t("Your keyword was mentioned in {channelName}, {date} at {time}: {message}",{date:k,time:R,channelName:_,message:W}):En.t("Your keyword was mentioned in {channelName}, at {time}: {message}",{time:R,channelName:_,message:W}):k?En.t("Your keyword was mentioned in {channelName}: {message} {date} at {time}.",{date:k,time:R,channelName:_,message:W}):En.t("Your keyword was mentioned in {channelName}: {message} At {time}.",{time:R,channelName:_,message:W})},"formatKeywordMatchInChannel"),Xi=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,isUnread:me,includeDateTimeFirst:fe}=de;return me?fe?R?En.t("New keyword mention from {name} in thread in {channelName}, {date} at {time}: {message}",{name:_,date:R,time:W,channelName:k,message:$}):En.t("New keyword mention from {name} in thread in {channelName}, at {time}: {message}",{name:_,time:W,channelName:k,message:$}):R?En.t("New keyword mention from {name} in thread in {channelName}: {message} {date} at {time}.",{name:_,date:R,time:W,channelName:k,message:$}):En.t("New keyword mention from {name} in thread in {channelName}: {message} At {time}.",{name:_,time:W,channelName:k,message:$}):fe?R?En.t("{name} mentioned your keyword in thread in {channelName}, {date} at {time}: {message}",{name:_,date:R,time:W,channelName:k,message:$}):En.t("{name} mentioned your keyword in thread in {channelName}, at {time}: {message}",{name:_,time:W,channelName:k,message:$}):R?En.t("{name} mentioned your keyword in thread in {channelName}: {message} {date} at {time}.",{name:_,date:R,time:W,channelName:k,message:$}):En.t("{name} mentioned your keyword in thread in {channelName}: {message} At {time}.",{name:_,time:W,channelName:k,message:$})},"formatKeywordMentionWithNameInThread"),Qi=c(de=>{let{channelName:_,date:k,time:R,message:W,isUnread:$,includeDateTimeFirst:me}=de;return $?me?k?En.t("New keyword mention in thread in {channelName}, {date} at {time}: {message}",{date:k,time:R,channelName:_,message:W}):En.t("New keyword mention in thread in {channelName}, at {time}: {message}",{time:R,channelName:_,message:W}):k?En.t("New keyword mention in thread in {channelName}: {message} {date} at {time}.",{date:k,time:R,channelName:_,message:W}):En.t("New keyword mention in thread in {channelName}: {message} At {time}.",{time:R,channelName:_,message:W}):me?k?En.t("Your keyword was mentioned in thread in {channelName}, {date} at {time}: {message}",{date:k,time:R,channelName:_,message:W}):En.t("Your keyword was mentioned in thread in {channelName}, at {time}: {message}",{time:R,channelName:_,message:W}):k?En.t("Your keyword was mentioned in thread in {channelName}: {message} {date} at {time}.",{date:k,time:R,channelName:_,message:W}):En.t("Your keyword was mentioned in thread in {channelName}: {message} At {time}.",{time:R,channelName:_,message:W})},"formatKeywordMentionInThread");var Si=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,isUnread:me,isThreadReply:fe,isKeywordMatch:ve,includeDateTimeFirst:ke}=de;const Ae=_?Object(v.k)(_):void 0,Se=k?Object(v.k)(k):void 0,He=R?Object(v.k)(R):void 0,bt=Object(v.k)(W),ot=Object(v.k)($),Jt=Se&&!ve&&!fe,St=Se&&!ve&&fe,yt=Se&&ve&&!fe,Bt=Se&&ve&&fe;if(Jt)return Ae?ka({name:Ae,channelName:Se,date:He,time:bt,message:ot,isUnread:me,includeDateTimeFirst:ke}):Us({channelName:Se,date:He,time:bt,message:ot,isUnread:me,includeDateTimeFirst:ke});if(St)return Ae?Go({name:Ae,channelName:Se,date:He,time:bt,message:ot,isUnread:me,includeDateTimeFirst:ke}):fr({channelName:Se,date:He,time:bt,message:ot,isUnread:me,includeDateTimeFirst:ke});if(yt)return Ae?hi({name:Ae,channelName:Se,date:He,time:bt,message:ot,isUnread:me,includeDateTimeFirst:ke}):Bi({channelName:Se,date:He,time:bt,message:ot,isUnread:me,includeDateTimeFirst:ke});if(Bt)return Ae?Xi({name:Ae,channelName:Se,date:He,time:bt,message:ot,isUnread:me,includeDateTimeFirst:ke}):Qi({channelName:Se,date:He,time:bt,message:ot,isUnread:me,includeDateTimeFirst:ke})},"formatAriaLabelForMention"),vr=e("HBMi"),Mr=e("rEgV"),ir=e("tqVr"),Hs=e("rsVu"),vc=e("mSgU"),Fo=c(de=>vc.e.test(de)?de:`${de}.`,"maybeAddAPeriod");const Es=Object(hs.c)("Build aria-label for ListItem in the DMs list",(de,_,k)=>{let{messageTs:R,channelId:W,activityTs:$,threadTs:me,activityType:fe}=k;const ve=_(),ke=W&&R?Object(H.b)(ve,W,R):void 0;if(!ke)return;const Ae=Object(pe.d)(ve,W);if(!Ae)return;const Se=Object(Z.t)(ve,Ae),He=Object(Qr.a)(ve,{channelId:W,ts:R,viewContext:d.a.ACTIVITY_FLEXPANE});if(!He)return;const bt=Object(ps.a)({text:(He==null?void 0:He.text)||"",attachmentCount:He==null?void 0:He.attachmentCount,attachmentTexts:He==null?void 0:He.attachmentTexts,reminderText:He==null?void 0:He.reminderText,files:He==null?void 0:He.files,includeDate:!1,hideTimestamp:!0});if(!bt)return;const ot=!!Object(ct.u)(ve,"a11y_screen_reader_message_label_date_time_first"),Jt=Object(vr.a)(R||$,{returnMoment:!0}),St=Object(Mr.a)($)?void 0:Object(ir.a)(Jt,{shortenMonth:!0}),yt=Object(ct.u)(ve,"time24"),Bt=Object(Hs.a)(Jt,{do24hrTime:yt}),Kn=Object(vt.p)(ve,{messageTs:R,channelId:W,threadTs:me,activityType:fe}),Co=Object(Ma.a)(ve),no=Object(Va.g)(ve),ut=Object(Gn.a)(ve),za=Object(ga.a)(ve),Io=!Object(Oe.a)(ke,Co,ut,no,{ignoreHighlightWords:!0},za),io=!!me,_s=ke.user,ts=!1,ns=!1,Ko=!0,dr=!1,bs=_s?Object(Aa.a)(ve,_s,ts,ns,Ko,dr):void 0;return Si({name:bs===_s?void 0:bs,channelName:Se,date:St,time:Bt,message:Fo(bt),isUnread:!Kn,isThreadReply:io,isKeywordMatch:Io,includeDateTimeFirst:ot})});Es.meta={name:"createThunk",key:"createThunkmakeAriaLabelForActivityListMention",description:"Build aria-label for ListItem in the DMs list"};var Ls=Es,ws=e("Fsnq");const ds=new v.b("a11y"),gc=c(de=>{let{name:_,date:k,time:R,mostRecentReactionName:W,messageText:$,memberIds:me,reactions:fe,experimentNewAriaLabelForReactionsGroupOn:ve}=de;if(ve)return me.length>1||Object(ws.a)(fe)>1?k?ds.t("{name}, {date} at {time}, reacted with {emoji} to: {messageText} And more reactions.",{name:_,date:k,time:R,emoji:W,messageText:$}):ds.t("{name} at {time} reacted with {emoji} to: {messageText} And more reactions.",{name:_,time:R,emoji:W,messageText:$}):k?ds.t("{name}, {date} at {time}, reacted with {emoji} to: {messageText}",{name:_,date:k,time:R,emoji:W,messageText:$}):ds.t("{name} at {time} reacted with {emoji} to: {messageText}",{name:_,time:R,emoji:W,messageText:$})},"formatReactionInAllTabDateTimeFirst"),Oc=c(de=>{let{name:_,date:k,time:R,mostRecentReactionName:W,messageText:$,memberIds:me,reactions:fe,experimentNewAriaLabelForReactionsGroupOn:ve}=de;if(ve)return me.length>1||Object(ws.a)(fe)>1?k?ds.t("{name} reacted with {emoji} to: {messageText}, {date} at {time}. And more reactions",{name:_,emoji:W,messageText:$,date:k,time:R}):ds.t("{name} reacted with {emoji} to: {messageText}, at {time}. And more reactions",{name:_,emoji:W,messageText:$,time:R}):k?ds.t("{name} reacted with {emoji} to: {messageText}, {date} at {time}",{name:_,emoji:W,messageText:$,date:k,time:R}):ds.t("{name} reacted with {emoji} to: {messageText}, at {time}",{name:_,emoji:W,messageText:$,time:R})},"formatReactionInAllTab"),Kc=c(de=>{let{name:_,date:k,time:R,mostRecentReactionName:W,messageText:$,memberIds:me,reactions:fe,experimentNewAriaLabelForReactionsGroupOn:ve}=de;if(ve)return me.length>1||Object(ws.a)(fe)>1?k?ds.t("{name}, {date} at {time}, {emoji}: {messageText} And more reactions",{name:_,date:k,time:R,emoji:W,messageText:$}):ds.t("{name} at {time} {emoji}: {messageText} And more reactions",{name:_,time:R,emoji:W,messageText:$}):k?ds.t("{name}, {date} at {time}, {emoji}: {messageText}",{name:_,date:k,time:R,emoji:W,messageText:$}):ds.t("{name} at {time} {emoji}: {messageText}",{name:_,time:R,emoji:W,messageText:$})},"formatReactionInReactionTabDateTimeFirst"),Vc=c(de=>{let{name:_,date:k,time:R,mostRecentReactionName:W,messageText:$,memberIds:me,reactions:fe,experimentNewAriaLabelForReactionsGroupOn:ve}=de;if(ve)return me.length>1||Object(ws.a)(fe)>1?k?ds.t("{name} {emoji}: {messageText}, {date} at {time}. And more reactions",{name:_,emoji:W,messageText:$,date:k,time:R}):ds.t("{name} {emoji}: {messageText} at {time}. And more reactions",{name:_,emoji:W,messageText:$,time:R}):k?ds.t("{name} {emoji}: {messageText}, {date} at {time}",{name:_,emoji:W,messageText:$,date:k,time:R}):ds.t("{name} {emoji}: {messageText} at {time}",{name:_,emoji:W,messageText:$,time:R})},"formatReactionInReactionTab");var tl=c(de=>{let{name:_,date:k,time:R,mostRecentReactionName:W,messageText:$,selectedTab:me,includeDateTimeFirst:fe,memberIds:ve,reactions:ke,experimentNewAriaLabelForReactionsGroupOn:Ae}=de;if(!Ae)return;const Se=_?Object(v.k)(_):void 0,He=k?Object(v.k)(k):void 0,bt=Object(v.k)(R),ot=W?Object(v.k)(W):void 0,Jt=Object(v.k)($);return me===q.o.ALL?fe?gc({name:Se,date:He,time:bt,mostRecentReactionName:ot,messageText:Jt,memberIds:ve,reactions:ke,experimentNewAriaLabelForReactionsGroupOn:Ae}):Oc({name:Se,date:He,time:bt,mostRecentReactionName:ot,messageText:Jt,memberIds:ve,reactions:ke,experimentNewAriaLabelForReactionsGroupOn:Ae}):fe?Kc({name:Se,date:He,time:bt,mostRecentReactionName:ot,messageText:Jt,memberIds:ve,reactions:ke,experimentNewAriaLabelForReactionsGroupOn:Ae}):Vc({name:Se,date:He,time:bt,mostRecentReactionName:ot,messageText:Jt,memberIds:ve,reactions:ke,experimentNewAriaLabelForReactionsGroupOn:Ae})},"formatAriaLabelForActivityListReaction"),qs=e("RVJP");const Ec=Object(hs.c)("Build aria-label for Reaction item in the Activity list",(de,_,k)=>{let{channelId:R,messageTs:W,reactionTs:$,reactionUser:me,selectedTab:fe}=k;const ve=_(),ke=Object(qs.d)(ve,"new_aria_label_for_reactions")==="on";if(!ke)return;const Ae=R&&W?Object(H.b)(ve,R,W):void 0;if(!Ae)return;const Se=Object(Qr.a)(ve,{channelId:R,ts:W,viewContext:d.a.ACTIVITY_FLEXPANE});if(!Se)return;const He=Object(ps.a)({text:(Se==null?void 0:Se.text)||"",attachmentCount:Se==null?void 0:Se.attachmentCount,attachmentTexts:Se==null?void 0:Se.attachmentTexts,reminderText:Se==null?void 0:Se.reminderText,files:Se==null?void 0:Se.files,includeDate:!1,hideTimestamp:!0});if(!He)return;const bt=Object(Bo.a)(Ae),ot=Object(Qt.a)(ve,bt);if(!ot)return;const Jt=Object(Ma.a)(ve),St=Object(In.a)(Object(It.a)(Object($e.a)(ot,"users")),Jt),yt=me||Object(ra.a)(St),Bt=Object(Aa.a)(ve,yt),Kn=Object(ra.a)(ot),Co=Kn==null?void 0:Kn.name,no=!!Object(ct.u)(ve,"a11y_screen_reader_message_label_date_time_first"),ut=Object(vr.a)($,{returnMoment:!0}),za=Object(Mr.a)($)?void 0:Object(ir.a)(ut,{shortenMonth:!0}),Io=Object(ct.u)(ve,"time24"),io=Object(Hs.a)(ut,{do24hrTime:Io});return tl({name:Bt,date:za,time:io,mostRecentReactionName:Co,messageText:Fo(He),includeDateTimeFirst:no,selectedTab:fe,memberIds:St,reactions:ot,experimentNewAriaLabelForReactionsGroupOn:ke})});Ec.meta={name:"createThunk",key:"createThunkmakeAriaLabelForActivityListReaction",description:"Build aria-label for Reaction item in the Activity list"};var pi=Ec;const Ss=new v.b("a11y"),_c=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,includeDateTimeFirst:me,experimentNewAriaLabelForThreadsGroupOn:fe}=de;if(fe)return me?R?Ss.t("New reply in {channel} from {name}, {date} at {time}: {message}",{channel:k,name:_,date:R,time:W,message:$}):Ss.t("New reply in {channel} from {name}, at {time}: {message}",{channel:k,name:_,date:R,time:W,message:$}):R?Ss.t("New reply in {channel} from {name}: {message} {date} at {time}",{channel:k,name:_,message:$,date:R,time:W}):Ss.t("New reply in {channel} from {name}: {message} At {time}",{channel:k,name:_,message:$,time:W})},"formatUnreadThreadInAllTab"),Ra=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,includeDateTimeFirst:me,experimentNewAriaLabelForThreadsGroupOn:fe}=de;if(fe)return me?R?Ss.t("Reply in {channel} from {name}, {date} at {time}: {message}",{channel:k,name:_,date:R,time:W,message:$}):Ss.t("Reply in {channel} from {name}, at {time}: {message}",{channel:k,name:_,date:R,time:W,message:$}):R?Ss.t("Reply in {channel} from {name}: {message} {date} at {time}",{channel:k,name:_,message:$,date:R,time:W}):Ss.t("Reply in {channel} from {name}: {message} At {time}",{channel:k,name:_,message:$,time:W})},"formatReadThreadInAllTab"),Wi=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,includeDateTimeFirst:me,experimentNewAriaLabelForThreadsGroupOn:fe}=de;if(fe)return me?R?Ss.t("New in {channel} from {name}, {date} at {time}: {message}",{channel:k,name:_,date:R,time:W,message:$}):Ss.t("New in {channel} from {name}, at {time}: {message}",{channel:k,name:_,date:R,time:W,message:$}):R?Ss.t("New in {channel} from {name}: {message} {date} at {time}",{channel:k,name:_,message:$,date:R,time:W}):Ss.t("New in {channel} from {name}: {message} At {time}",{channel:k,name:_,message:$,time:W})},"formatUnreadThreadInThreadTab"),Zr=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,includeDateTimeFirst:me,experimentNewAriaLabelForThreadsGroupOn:fe}=de;if(fe)return me?R?Ss.t("In {channel} from {name}, {date} at {time}: {message}",{channel:k,name:_,date:R,time:W,message:$}):Ss.t("In {channel} from {name}, at {time}: {message}",{channel:k,name:_,date:R,time:W,message:$}):R?Ss.t("In {channel} from {name}: {message} {date} at {time}",{channel:k,name:_,message:$,date:R,time:W}):Ss.t("In {channel} from {name}: {message} At {time}",{channel:k,name:_,message:$,time:W})},"formatReadThreadInThreadTab");var $i=c(de=>{let{name:_,channelName:k,date:R,time:W,message:$,isUnread:me,includeDateTimeFirst:fe,selectedTab:ve,experimentNewAriaLabelForThreadsGroupOn:ke}=de;if(!ke)return;const Ae=_?Object(v.k)(_):void 0,Se=k?Object(v.k)(k):void 0,He=R?Object(v.k)(R):void 0,bt=Object(v.k)(W),ot=Object(v.k)($);return ve===q.o.ALL?me?_c({name:Ae,channelName:Se,date:He,time:bt,message:ot,includeDateTimeFirst:fe,experimentNewAriaLabelForThreadsGroupOn:ke}):Ra({name:Ae,channelName:Se,date:He,time:bt,message:ot,includeDateTimeFirst:fe,experimentNewAriaLabelForThreadsGroupOn:ke}):me?Wi({name:Ae,channelName:Se,date:He,time:bt,message:ot,includeDateTimeFirst:fe,experimentNewAriaLabelForThreadsGroupOn:ke}):Zr({name:Ae,channelName:Se,date:He,time:bt,message:ot,includeDateTimeFirst:fe,experimentNewAriaLabelForThreadsGroupOn:ke})},"formatAriaLabelForThread");const qi=Object(hs.c)("Build aria-label for Thread item in the Activity list",(de,_,k)=>{let{messageTs:R,channelId:W,threadTs:$,activityType:me,selectedTab:fe}=k;const ve=_(),ke=Object(qs.d)(ve,"new_aria_label_for_threads")==="on";if(!ke)return;const Ae=W&&R?Object(H.b)(ve,W,R):void 0;if(!Ae)return;const Se=Object(Qr.a)(ve,{channelId:W,ts:R,viewContext:d.a.ACTIVITY_FLEXPANE});if(!Se)return;const He=Object(ps.a)({text:(Se==null?void 0:Se.text)||"",attachmentCount:Se==null?void 0:Se.attachmentCount,attachmentTexts:Se==null?void 0:Se.attachmentTexts,reminderText:Se==null?void 0:Se.reminderText,files:Se==null?void 0:Se.files,includeDate:!1,hideTimestamp:!0});if(!He)return;const bt=Object(pe.d)(ve,W);if(!bt)return;const ot=Object(Z.t)(ve,bt),Jt=!!Object(ct.u)(ve,"a11y_screen_reader_message_label_date_time_first"),St=Object(vr.a)(R),yt=Object(Mr.a)(R)?void 0:Object(ir.a)(St,{shortenMonth:!0}),Bt=Object(ct.u)(ve,"time24"),Kn=Object(Hs.a)(St,{do24hrTime:Bt}),Co=Object(vt.p)(ve,{messageTs:R,channelId:W,threadTs:$,activityType:me}),no=Ae.user,ut=!1,za=!1,Io=!0,io=!1,_s=no?Object(Aa.a)(ve,no,ut,za,Io,io):void 0;return $i({name:_s===no?void 0:_s,channelName:ot,date:yt,time:Kn,message:Fo(He),isUnread:!Co,includeDateTimeFirst:Jt,selectedTab:fe,experimentNewAriaLabelForThreadsGroupOn:ke})});qi.meta={name:"createThunk",key:"createThunkmakeAriaLabelForActivityListThread",description:"Build aria-label for Thread item in the Activity list"};var dd=qi;const Fs=new v.b("a11y"),bi=c(de=>{let{name:_,date:k,time:R,message:W,includeDateTimeFirst:$,experimentNewAriaLabelForAppsGroupOn:me}=de;if(me)return $?k?Fs.t("New app notification from {name}, {date} at {time}: {message}",{name:_,date:k,time:R,message:W}):Fs.t("New app notification from {name}, at {time}: {message}",{name:_,date:k,time:R,message:W}):k?Fs.t("New app notification from {name}: {message} {date} at {time}",{name:_,date:k,time:R,message:W}):Fs.t("New app notification from {name}: {message} At {time}",{name:_,date:k,time:R,message:W})},"formatUnreadAppNotificationInAllTab"),cr=c(de=>{let{name:_,date:k,time:R,message:W,includeDateTimeFirst:$,experimentNewAriaLabelForAppsGroupOn:me}=de;if(me)return $?k?Fs.t("App notification from {name}, {date} at {time}: {message}",{name:_,date:k,time:R,message:W}):Fs.t("App notification from {name}, at {time}: {message}",{name:_,date:k,time:R,message:W}):k?Fs.t("App notification from {name}: {message} {date} at {time}",{name:_,date:k,time:R,message:W}):Fs.t("App notification from {name}: {message} At {time}",{name:_,date:k,time:R,message:W})},"formatReadAppNotificationInAllTab"),Ml=c(de=>{let{name:_,date:k,time:R,message:W,includeDateTimeFirst:$,experimentNewAriaLabelForAppsGroupOn:me}=de;if(me)return $?k?Fs.t("New from {name}, {date} at {time}: {message}",{name:_,date:k,time:R,message:W}):Fs.t("New from {name}, at {time}: {message}",{name:_,date:k,time:R,message:W}):k?Fs.t("New from {name}: {message} {date} at {time}",{name:_,date:k,time:R,message:W}):Fs.t("New from {name}: {message} At {time}",{name:_,date:k,time:R,message:W})},"formatUnreadAppNotificationInAppTab"),ud=c(de=>{let{name:_,date:k,time:R,message:W,includeDateTimeFirst:$,experimentNewAriaLabelForAppsGroupOn:me}=de;if(me)return $?k?Fs.t("{name}, {date} at {time}: {message}",{name:_,date:k,time:R,message:W}):Fs.t("{name}, at {time}: {message}",{name:_,date:k,time:R,message:W}):k?Fs.t("{name}: {message} {date} at {time}",{name:_,date:k,time:R,message:W}):Fs.t("{name}: {message} At {time}",{name:_,date:k,time:R,message:W})},"formatReadAppNotificationInAppTab");var md=c(de=>{let{name:_,date:k,time:R,message:W,isUnread:$,includeDateTimeFirst:me,selectedTab:fe,experimentNewAriaLabelForAppsGroupOn:ve}=de;if(!ve)return;const ke=_?Object(v.k)(_):void 0,Ae=k?Object(v.k)(k):void 0,Se=Object(v.k)(R),He=Object(v.k)(W);return fe===q.o.ALL?$?bi({name:ke,date:Ae,time:Se,message:He,includeDateTimeFirst:me,experimentNewAriaLabelForAppsGroupOn:ve}):cr({name:ke,date:Ae,time:Se,message:He,includeDateTimeFirst:me,experimentNewAriaLabelForAppsGroupOn:ve}):$?Ml({name:ke,date:Ae,time:Se,message:He,includeDateTimeFirst:me,experimentNewAriaLabelForAppsGroupOn:ve}):ud({name:ke,date:Ae,time:Se,message:He,includeDateTimeFirst:me,experimentNewAriaLabelForAppsGroupOn:ve})},"formatAriaLabelForAppNotification"),ec=e("Epto");const nl=Object(hs.c)("Build aria-label for App Notification item in the Activity list",(de,_,k)=>{let{messageTs:R,channelId:W,activityType:$,selectedTab:me}=k;const fe=_(),ve=Object(qs.d)(fe,"new_aria_label_for_apps")==="on";if(!ve)return;const ke=W&&R?Object(H.b)(fe,W,R):void 0;if(!ke)return;const Ae=Object(Qr.a)(fe,{channelId:W,ts:R,viewContext:d.a.ACTIVITY_FLEXPANE});if(!Ae)return;const Se=Object(ps.a)({text:(Ae==null?void 0:Ae.text)||"",attachmentCount:Ae==null?void 0:Ae.attachmentCount,attachmentTexts:Ae==null?void 0:Ae.attachmentTexts,reminderText:Ae==null?void 0:Ae.reminderText,files:Ae==null?void 0:Ae.files,includeDate:!1,hideTimestamp:!0});if(!Se)return;const He=!!Object(ct.u)(fe,"a11y_screen_reader_message_label_date_time_first"),bt=Object(vr.a)(R),ot=Object(Mr.a)(R)?void 0:Object(ir.a)(bt,{shortenMonth:!0}),Jt=Object(ct.u)(fe,"time24"),St=Object(Hs.a)(bt,{do24hrTime:Jt}),yt=Object(vt.p)(fe,{messageTs:R,channelId:W,activityType:$}),Bt=Object(ec.a)(fe,{userId:ke.user,botId:ke==null?void 0:ke.bot_id,username:ke==null?void 0:ke.username,botProfile:ke==null?void 0:ke.bot_profile});return md({name:Bt,date:ot,time:St,message:Fo(Se),isUnread:!yt,includeDateTimeFirst:He,selectedTab:me,experimentNewAriaLabelForAppsGroupOn:ve})});nl.meta={name:"createThunk",key:"createThunkmakeAriaLabelForActivityListAppNotification",description:"Build aria-label for App Notification item in the Activity list"};var Dl=nl;const Ks=new v.b("a11y"),Ys=c(de=>{let{name:_,date:k,time:R,message:W,includeDateTimeFirst:$,experimentNewAriaLabelForInternalInvitationsGroupOn:me}=de;if(me)return $?k?Ks.t("New channel invitation from {name}, {date} at {time}: {message}",{name:_,date:k,time:R,message:W}):Ks.t("New channel invitation from {name}, at {time}: {message}",{name:_,date:k,time:R,message:W}):k?Ks.t("New channel invitation from {name}: {message} {date} at {time}",{name:_,date:k,time:R,message:W}):Ks.t("New channel invitation from {name}: {message} At {time}",{name:_,date:k,time:R,message:W})},"formatUnreadInternalInvitationInAllTab"),Cc=c(de=>{let{name:_,date:k,time:R,message:W,includeDateTimeFirst:$,experimentNewAriaLabelForInternalInvitationsGroupOn:me}=de;if(me)return $?k?Ks.t("Channel invitation from {name}, {date} at {time}: {message}",{name:_,date:k,time:R,message:W}):Ks.t("Channel invitation from {name}, at {time}: {message}",{name:_,date:k,time:R,message:W}):k?Ks.t("Channel invitation from {name}: {message} {date} at {time}",{name:_,date:k,time:R,message:W}):Ks.t("Channel invitation from {name}: {message} At {time}",{name:_,date:k,time:R,message:W})},"formatReadInternalInvitationInAllTab"),Rl=c(de=>{let{name:_,date:k,time:R,message:W,includeDateTimeFirst:$,experimentNewAriaLabelForInternalInvitationsGroupOn:me}=de;if(me)return $?k?Ks.t("New from {name}, {date} at {time}: {message}",{name:_,date:k,time:R,message:W}):Ks.t("New from {name}, at {time}: {message}",{name:_,date:k,time:R,message:W}):k?Ks.t("New from {name}: {message} {date} at {time}",{name:_,date:k,time:R,message:W}):Ks.t("New from {name}: {message} At {time}",{name:_,date:k,time:R,message:W})},"formatUnreadInternalInvitationInInvitationTab"),yc=c(de=>{let{name:_,date:k,time:R,message:W,includeDateTimeFirst:$,experimentNewAriaLabelForInternalInvitationsGroupOn:me}=de;if(me)return $?k?Ks.t("{name}, {date} at {time}: {message}",{name:_,date:k,time:R,message:W}):Ks.t("{name}, at {time}: {message}",{name:_,date:k,time:R,message:W}):k?Ks.t("{name}: {message} {date} at {time}",{name:_,date:k,time:R,message:W}):Ks.t("{name}: {message} At {time}",{name:_,date:k,time:R,message:W})},"formatReadInternalInvitationInInvitationTab");var al=c(de=>{let{name:_,date:k,time:R,message:W,isUnread:$,includeDateTimeFirst:me,selectedTab:fe,experimentNewAriaLabelForInternalInvitationsGroupOn:ve}=de;if(!ve)return;const ke=_?Object(v.k)(_):void 0,Ae=k?Object(v.k)(k):void 0,Se=Object(v.k)(R),He=Object(v.k)(W);return fe===q.o.ALL?$?Ys({name:ke,date:Ae,time:Se,message:He,includeDateTimeFirst:me,experimentNewAriaLabelForInternalInvitationsGroupOn:ve}):Cc({name:ke,date:Ae,time:Se,message:He,includeDateTimeFirst:me,experimentNewAriaLabelForInternalInvitationsGroupOn:ve}):$?Rl({name:ke,date:Ae,time:Se,message:He,includeDateTimeFirst:me,experimentNewAriaLabelForInternalInvitationsGroupOn:ve}):yc({name:ke,date:Ae,time:Se,message:He,includeDateTimeFirst:me,experimentNewAriaLabelForInternalInvitationsGroupOn:ve})},"formatAriaLabelForInternalInvitation");const ol=new v.b("a11y"),xl=Object(hs.c)("Build aria-label for Internal Invitation item in the Activity list",(de,_,k)=>{let{messageTs:R,channelId:W,activityType:$,selectedTab:me}=k;const fe=_(),ve=Object(qs.d)(fe,"new_aria_label_for_internal_invitations")==="on",ke=W&&R?Object(H.b)(fe,W,R):void 0;if(!ke)return;const Ae=Object(pe.d)(fe,W);if(!Ae)return;const Se=ve?ol.t("Added you to {channelNameorId}.",{channelNameorId:Object(Z.s)(Ae)||Ae.id}):"",He=!!Object(ct.u)(fe,"a11y_screen_reader_message_label_date_time_first"),bt=Object(vr.a)(R),ot=Object(Mr.a)(R)?void 0:Object(ir.a)(bt,{shortenMonth:!0}),Jt=Object(ct.u)(fe,"time24"),St=Object(Hs.a)(bt,{do24hrTime:Jt}),yt=Object(vt.p)(fe,{messageTs:R,channelId:W,activityType:$}),Bt=ke.inviter,Kn=!1,Co=!1,no=!0,ut=!1,za=Bt?Object(Aa.a)(fe,Bt,Kn,Co,no,ut):void 0;return al({name:za===Bt?void 0:za,date:ot,time:St,message:Se,isUnread:!yt,includeDateTimeFirst:He,selectedTab:me,experimentNewAriaLabelForInternalInvitationsGroupOn:ve})});xl.meta={name:"createThunk",key:"createThunkmakeAriaLabelForActivityListInternalInvitation",description:"Build aria-label for Internal Invitation item in the Activity list"};var Dr=xl,$r=e("RSO0");function xa(){return xa=Object.assign||function(de){for(var _=1;_<arguments.length;_++){var k=arguments[_];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(de[R]=k[R])}return de},xa.apply(this,arguments)}c(xa,"activity_page_list_extends");const hd=Object(S.a)(de=>de.reduce((_,k)=>{const{ts:R,channelId:W,threadTs:$,activityItem:me}=k;return R&&(_[R]={ts:R,channelId:W,threadTs:$,activityItem:me}),_},{})),zc=c(de=>{let{fetchActivity:_,isLoading:k,isDocked:R,items:W,shouldTrackScroll:$=!0,userMessagesTheme:me,ariaLabel:fe,selectedTab:ve,isUnreadsFilterToggleSelected:ke,refocusOnActivityItems:Ae=!1}=de;const Se=Object(u.c)(K.g),He=Object(u.c)(vt.k),bt=Object(xo.a)(),ot=Object(s.useMemo)(()=>{const ya=new Q.a({DEFAULT_HEIGHT:150});return new V.a({heightCache:ya})},[]),Jt=Object(s.useRef)(null);let St=Object(g.a)({items:W,isLoading:k});const yt=Object(u.c)(ya=>Object(qs.d)(ya,"fe_bundle_apps_activity")==="on"),Bt=ko(St,yt);yt&&(St=Bt);const Kn=Object(s.useMemo)(()=>St.map(ya=>ya==null?void 0:ya.key),[St]),Co=Object(s.useRef)(ke),no=Object(u.c)(ya=>Object(qs.d)(ya,"new_aria_label_for_reactions")==="on"),ut=Object(u.c)(ya=>Object(qs.d)(ya,"new_aria_label_for_threads")==="on"),za=Object(u.c)(ya=>Object(qs.d)(ya,"new_aria_label_for_apps")==="on"),Io=Object(u.c)(ya=>Object(qs.d)(ya,"new_aria_label_for_internal_invitations")==="on"),io=Object(s.useContext)(J.a),{isPeekMode:_s}=Object(s.useContext)(he.a),ts=Object(C.i)(),ns=_o(),Ko=Object(s.useCallback)((ya,To)=>{var $a;const Ua=St.find(Js=>(Js==null?void 0:Js.key)===To);if(!Ua||Ua.type===jn.a||Ua.type==="xws-education"||Ua.type==="education")return;const Ar=Ua.activityItem;if(!Ar){Object(cs.b)().error("no activityItem in ActivityList row");return}ts(Object(kn.b)({activityItem:Ar,event:ya})),($a=Jt.current)===null||$a===void 0||$a.scrollToKey(To,{lazy:!0})},[St,ts]),dr=Object(s.useCallback)(ya=>{ya.key&&ya.id&&ya.key.toLowerCase()==="enter"&&Ko(ya,ya.id)},[Ko]),bs=Object(s.useCallback)(ya=>{const To=ya.split("-"),$a=To[To.length-1];return hd(St)[$a]},[St]),Er=Object(s.useCallback)((ya,To,$a)=>{let{hasKeyboardFocus:Ua}=$a;To&&bs(To)&&(ya.preventDefault(),bt.track(gn.EventId.MSG_ACTIONS_CONTEXT_MENU,{contexts:{ui_context:{action:gn.UiAction.CONTEXT_MENU,ui_properties:{view_context:d.a.ACTIVITY_PAGE,client_has_keyboard_focus:Ua}}}}))},[bs,bt]),Is=Object(s.useCallback)(ya=>{let{index:To}=ya;if(!io)return;const $a=St[To];if(!$a)return;const{channelId:Ua,activityItem:Ar}=$a;if(!Ua||!Ar)return;const{messageTs:Js,activityTs:$n,reactionUser:xr,ts:Cn,threadTs:ac,activityItemType:oc}=Ar;if(Js&&!($a.type==="top-anchor-hack"||$a.type==="loader"||$a.type==="education"||$a.type===jn.a))return $a.type==="message_reaction"?no?{"aria-label":ts(pi({channelId:Ua,messageTs:Js,reactionTs:Cn,reactionUser:xr,selectedTab:ve}))}:{"aria-label":ts(Object(ys.a)({channelId:Ua,messageTs:Js,viewContext:d.a.ACTIVITY_FLEXPANE}))}:$a.type==="thread_reply"?ut?{"aria-label":ts(dd({messageTs:Js,channelId:Ua,threadTs:ac,activityType:oc,selectedTab:ve}))}:{"aria-label":ts(Object(Vo.a)({channelId:Ua,ts:Js,viewContext:d.a.ACTIVITY_FLEXPANE}))}:$a.type==="bot_dm"?za?{"aria-label":ts(Dl({messageTs:Js,channelId:Ua,activityType:oc,selectedTab:ve}))}:{"aria-label":ts(Object(Vo.a)({channelId:Ua,ts:Js,viewContext:d.a.ACTIVITY_FLEXPANE}))}:$a.type==="internal_channel_invite"&&Io?{"aria-label":ts(Dr({messageTs:Js,channelId:Ua,activityType:oc,selectedTab:ve}))}:{"aria-label":ts(Ls({messageTs:Js,channelId:Ua,activityTs:$n,activityType:oc}))}},[Io,za,ut,no,ve,io,St,ts]),Fr=Object(s.useCallback)(()=>{var ya;if(!Kn.length||R||k)return!1;const To=Kn[1];return!To||!ts(Object(g.b)(St[1]))?!1:Jt==null||(ya=Jt.current)===null||ya===void 0?void 0:ya.focusOnKey(To)},[Kn,R,k,St,ts]);Object(z.a)(X.c.VIEW_ACTIVITY_LIST,Fr);const ur=Object(s.useCallback)(ya=>{let{index:To}=ya;const $a=Kn[To];return!!($a&&$a!=="top-anchor-hack"&&$a!=="loader")},[Kn]),ni=Object(s.useCallback)((ya,To)=>{if(!ya)return null;const $a=bs(ya);if(!$a)return null;const{ts:Ua,channelId:Ar,threadTs:Js,activityItem:$n}=$a,{targetBounds:xr,onCloseRequested:Cn}=To;return t.a.createElement(mi,{ts:Ua,threadTs:Js,channelId:Ar,targetBounds:xr,onCloseRequested:Cn,activityItem:$n})},[bs]),Vi=Object(s.useCallback)((ya,To)=>{let{hasFocus:$a,itemId:Ua,isInView:Ar}=To;const Js=!!(Ar&&io),$n=St[ya],xr=$n==null?void 0:$n.type;if(!$n||!$n.type)return null;if($n.type==="top-anchor-hack"){const vi=Object(O.default)({"p-activity_page__top_anchor_hack_item":!R,"p-activity_page__top_anchor_hack_item--docked":R});return t.a.createElement("div",{className:vi})}if($n.type==="loader")return t.a.createElement(Zn.a,{isDocked:!0});if($n.type==="education"||$n.type==="xws-education"||$n.type===jn.a)return null;if($n.type==="external_channel_invite"||$n.type==="external_dm_invite"||$n.type==="shared_workspace_invite"){var Cn;const vi={key:$n.key,userMessagesTheme:me,activityItem:$n.activityItem,className:Object(O.default)({"p-activity_page__item--docked":R,"p-activity_ia2022_page__item--last-in-day":xr==="date-divider"||xr==="unread-divider"}),activityTs:(Cn=$n.ts)!==null&&Cn!==void 0?Cn:"",isUnread:$n.activityItem.isUnread,invite:$n.activityItem.item,inviteId:$n.activityItem.invite,renderActionsOffscreen:!1,hasFocus:!!$a};return $n.type==="shared_workspace_invite"?t.a.createElement(Ze,xa({},vi)):t.a.createElement(Un,xa({},vi))}if($n.type==="list_record_assigned"){var ac;const vi={index:ya,key:$n.key,userMessagesTheme:me,activityItem:$n.activityItem,className:Object(O.default)("p-activity_ia4_page__item__list-record-assigned","p-activity_list_item_header",{"p-activity_page__item--docked":R,"p-activity_ia2022_page__item--last-in-day":xr==="date-divider"||xr==="unread-divider"}),activityTs:(ac=$n.ts)!==null&&ac!==void 0?ac:"",isUnread:$n.activityItem.isUnread,linkedItemId:$n.activityItem.linkedItemId,listPayload:$n.activityItem.listPayload,renderActionsOffscreen:!1,hasFocus:!!$a};return t.a.createElement(Hn,xa({},vi))}if($n.type==="list_record_edited"){var oc;const vi={index:ya,key:$n.key,userMessagesTheme:me,activityItem:$n.activityItem,className:Object(O.default)("p-activity_ia4_page__item__list-record-edited","p-activity_list_item_header",{"p-activity_page__item--docked":R,"p-activity_ia2022_page__item--last-in-day":xr==="date-divider"||xr==="unread-divider"}),activityTs:(oc=$n.ts)!==null&&oc!==void 0?oc:"",isUnread:$n.activityItem.isUnread,linkedItemId:$n.activityItem.linkedItemId,listEditPayload:$n.activityItem.listEditPayload,renderActionsOffscreen:!1,hasFocus:!!$a};return t.a.createElement(Mo,xa({},vi))}if($n.type==="list_user_mentioned"){var Nd;const vi={index:ya,key:$n.key,userMessagesTheme:me,activityItem:$n.activityItem,className:Object(O.default)("p-activity_ia4_page__item__list-user-mentioned","p-activity_list_item_header",{"p-activity_page__item--docked":R,"p-activity_ia2022_page__item--last-in-day":xr==="date-divider"||xr==="unread-divider"}),activityTs:(Nd=$n.ts)!==null&&Nd!==void 0?Nd:"",isUnread:$n.activityItem.isUnread,linkedItemId:$n.activityItem.linkedItemId,listUserMentionPayload:$n.activityItem.listUserMentionPayload,renderActionsOffscreen:!1,hasFocus:!!$a};return t.a.createElement(kt,xa({},vi))}const sc={key:$n.key,activityItem:$n.activityItem,userMessagesTheme:me,className:Object(O.default)({"p-activity_page__item--docked":R,"p-activity_ia4_page__item--last-in-day":xr==="date-divider"||xr==="unread-divider"}),channelId:$n.channelId,messageTs:$n.activityItem.messageTs,hasFocus:$a||!1,parentId:Ua,renderActionsOffscreen:Js||!1,activityTs:$n.activityItem.ts,bundleRows:$n==null?void 0:$n.bundleRows};return $n.type==="message_reaction"?t.a.createElement(an,xa({},sc)):$n.type==="thread_reply"||ve==="replies"&&$n.type==="at_user"?t.a.createElement(to,xa({},sc)):$n.type==="reaction"?t.a.createElement(an,xa({},sc)):$n.type==="media_reaction"?t.a.createElement(Ne,xa({},sc)):$n.type==="bot_dm"?yt&&$n.bundleRows?t.a.createElement(va,xa({},sc)):t.a.createElement(aa,xa({},sc)):$n.type==="thread"?t.a.createElement(to,xa({},sc)):t.a.createElement(aa,xa({},sc))},[io,R,St,me,ve,yt]);Object(s.useEffect)(()=>{!Kn.length||R||k||(ke===!1&&Co.current===!0&&W.length>0&&Fr(),Co.current=ke)},[Fr,Kn.length,R,k,ke,W]),Object(s.useEffect)(()=>{Ae&&Fr()},[Ae,Fr]),Object(Hr.a)({keys:Kn,currentKey:He,isFocusableItem:ur,onSelect:Ko,enabled:!_s});const nc=Object(O.default)("p-activity_ia4_list",{"p-activity_ia4_list--docked":R}),Ti=c(()=>{_s&&ts(Object(zn.i)(!0)),ns()},"handleOnItemClick");return t.a.createElement(U.a,null,ya=>{let{width:To,height:$a}=ya;return t.a.createElement(F.b,{className:nc,ref:Jt,animateOnScroll:!1,height:$a,isFocusableItem:ur,"aria-label":fe,getPropsForItem:Is,keys:Kn,layout:ot,loadPost:_,loadAround:_,rowRenderer:Vi,width:To,onItemKeyDown:dr,onItemClick:Ti,disableKeyboardShortcuts:Se,autoScrollmarkTrackingId:$?x.a.MENTIONS_REACTIONS:void 0,useGlobalKeyboardShortcuts:!R,onItemContextMenu:Er,renderContextMenuForItem:ni})})},"ActivityList");zc.displayName="ActivityList";var $t=t.a.forwardRef((de,_)=>t.a.createElement(zc,xa({},de,{ref:_}))),er=e("3Wsq"),Ui=e("PPXB"),jc=e("mVUb"),Sc=e("2VFn"),Yc=e("ciPa"),zu=e("qDEp"),Ll=e("ptfs"),Or=e("+l+1"),Rr=e("nZ0E"),sl=e("sjOx"),Ic=e("NgZ7"),Tc=e("Trx9"),rl=e("Iwbv");const Hi=new v.b("mentions"),fi=c(()=>{const de=Object(C.i)(),_=Object(u.c)(Pe.t),k=Object(u.c)(rl.a),R=Object(u.c)(Ae=>Object(Ic.a)(Ae,"user_onboarding_team_size_category")),W=Object(s.useCallback)(()=>{de(R==="large_team"?Object(Rr.a)({initialBrowsePageFilter:{filter:"channelType",value:sl.a.all}}):Object(Ll.a)({source:Or.f.ActivityUserInviteSection}))},[de,R]);let $,me,fe,ve="";R==="large_team"?(fe="bell",$=_?Hi.rt("<b>It\u2019s a little quiet here.</b> You\u2019ll start seeing more activity if you join some conversations."):"",me=_?Hi.t("Browse Channels"):"",ve="Browse Channels"):(fe="sun_with_face",_?$=k?Hi.rt("<b>It\u2019s a little quiet here.</b> Things will pick up when the event gets started.",{fallbackHash:"749371558bd46b102e898a12eecbb45b019c6672"}):$=Hi.rt("<b>Nothing to see here\u2026 yet. </b> Add more people to Slack to get things moving."):$="",me=_?Hi.t("Add Coworkers"):"",ve="Add Coworkers");const ke=Object(s.useMemo)(()=>({elementName:ve,onClick:{enableClogAction:!0}}),[ve]);return t.a.createElement(Tc.a,{uiStep:ve==="Add Coworkers"?gn.UiStep.ADD_COWORKERS:gn.UiStep.BROWSE_CHANNELS,uiComponentName:gn.UiComponentName.ACTIVITY_USER_INVITE_SECTION,uiComponentVariant:R,clogImpression:!0},t.a.createElement("div",{className:"p-user_invite__section"},t.a.createElement(Fa.b,{text:fe,emojiSize:Fa.a.MEDIUM}),t.a.createElement("span",{className:"p-user_invite__content"},$),!k&&t.a.createElement(zu.f,{onClick:W,type:"outline",pillarClassName:"p-user_invite__button",autoClogProps:ke},me)))},"UserInviteSection");fi.displayName="UserInviteSection";var wl=fi,Jd=e("mQiU"),il=e("fG8H"),Yu=e("83nZ"),Xd=e("my9F"),pd=e("zm5I"),Ju=e("FAoC"),Jc=e("ZKjC"),qr=e("uVZW"),Qd=e("7+Lm");const Zd=Object(Jc.b)(de=>{if(!L.a.isAnyTreatment(de)||!(Object(Qd.c)(de,qr.g.ACTIVITY_TAB_SIDEBAR)===qr.h.HOME_ACTIVITY_NUDGE))return!1;const{homeBadgeCount:k}=Object(Ju.a)(de);return k>0});Zd.meta={name:"createSelector",key:"createSelectorshouldShowHomeActivityNudge",description:de=>{if(!L.a.isAnyTreatment(de)||!(Object(Qd.c)(de,qr.g.ACTIVITY_TAB_SIDEBAR)===qr.h.HOME_ACTIVITY_NUDGE))return!1;const{homeBadgeCount:k}=Object(Ju.a)(de);return k>0}};var Bl=e("69o4"),Xu=e("eWGC"),Qu=e("RR6E"),$d=e("Zrm2"),bd=e("jWAO"),Ac=e("nFQW");const cl=new v.b("ia4");function os(){const de=Object(C.i)(),_=Object(s.useRef)(),k=Object(s.useCallback)(He=>{_.current=He},[]),R=Object(u.c)(L.a.isAnyTreatment),W=Object(u.c)(L.a.isTreatmentHome),$=Object(u.c)(Qu.d),me=Object(u.c)(Zd);let fe=`ia4_new_teams_v2_${W?L.a.GROUPS.TREATMENT_HOME:L.a.GROUPS.TREATMENT_HOME_MORE}`;$&&(fe="desktop_ia4_new_teams_v3__treatment_home_more");const ve=Object(s.useMemo)(()=>t.a.createElement(Qe.a,{name:"stacked-cards",size:"20"}),[]),ke=Object(s.useCallback)(()=>{var He;de(Object($d.b)({reason:$d.a.Click,tab:Sc.f.Home})),de(Object(Bl.a)({action:qr.f.CLICK,spaceName:qr.g.ACTIVITY_TAB_SIDEBAR})),(He=_.current)===null||He===void 0||He.call(_,{action:gn.UiAction.CLICK})},[de]),Ae=Object(s.useCallback)(He=>{let{text:bt}=He;return t.a.createElement(uo.a,{"data-qa":"home_activity_nudge__home_link",onClick:ke},bt)},[ke]),Se=Object(s.useCallback)(()=>{var He;de(Object(Bl.a)({action:qr.f.DISMISS,spaceName:qr.g.ACTIVITY_TAB_SIDEBAR})),(He=_.current)===null||He===void 0||He.call(_,{action:gn.UiAction.CLOSE})},[de]);return Object(s.useEffect)(()=>{me&&de(Object(Xu.a)({action:qr.f.IMPRESSION,notificationName:qr.h.HOME_ACTIVITY_NUDGE}))},[de,me]),me?t.a.createElement(Tc.a,{clogImpression:!0,elementName:"home_activity_nudge",elementType:gn.ElementType.ALERT,eventId:gn.EventId.ACTIVITY_TAB_OPEN,stepVariant:fe,uiStep:gn.UiStep.HOME_ACTIVITY_NUDGE,trackClogRef:k},t.a.createElement(bd.d,{className:"p-home_activity_nudge",customIcon:ve,"data-qa":"home_activity_nudge",heading:R?cl.t("You have unread messages in Home"):"",level:"info"},R?cl.rt("Only your mentions, replies and reactions appear in Activity. <a>View Home</a>",{"<a>":Ae}):"",t.a.createElement(Ac.a,{"aria-label":cl.t("Close"),className:"p-home_activity_nudge__close_button","data-qa":"home_activity_nudge__close_button",onClick:Se,size:"x-small"},t.a.createElement(Qe.a,{name:"close",size:"20"})))):null}c(os,"HomeActivityNudge"),os.displayName="HomeActivityNudge";var Wl=Object(s.memo)(os),Nc=e("AdTA"),fd=e("lx3m"),qd=e("fenk"),tr=e("2IFS"),eu=e("8E+v"),vd=e("xuus");const ll=425,tu=new v.b("slack_connect"),gd=c(de=>{let{invite:_,index:k,isLast:R,columnWidth:W=0,onClose:$}=de;const me=Object(C.i)(),fe=Object(u.c)(Yc.a),ve=W<ll,ke=Object(s.useMemo)(()=>t.a.createElement(Tr,{invite:_}),[_]),Ae=Object(s.useMemo)(()=>t.a.createElement(fs,{invite:_,activityItemType:Object(qd.g)(_)?"external_channel_invite":"external_dm_invite"}),[_]),Se=`invitation-${_.invite.id}`,He=_.invite.message,bt=Object(s.useCallback)(()=>{me(Object(Nc.a)({invitationsTabId:fd.c.received,tryToShowPendingInvitations:!0}))},[me]),ot=Object(s.useMemo)(()=>He?t.a.createElement(eu.a,{className:"caption align_items_end margin_top_50",contractedLines:2,isBlockQuote:!0,text:He,onViewFullMessageClickOverride:bt,viewFullMessageTextOverride:tu.t("View",{fallbackHash:"7a9aa966ca3aaa3f21ae736df7ceb6b6b735e862"})}):null,[He,bt]);return t.a.createElement("div",{id:Se,className:Object(O.default)("p-activity_pending_external_invite",{"p-activity_pending_external_invite--last":R},Object(vd.a)({msg:null,userMessagesTheme:fe}),"p-activity_ia4_page__item--static")},t.a.createElement(qe.a,{className:"padding_right_100 padding_left_100",light:ke},t.a.createElement("div",{className:Object(O.default)("p-activity_pending_external_invite__body",{"p-activity_pending_external_invite__body--narrow":ve})},t.a.createElement("div",{className:"margin_right_100",id:"external-invite"},t.a.createElement(ea,{invite:_}),t.a.createElement(xe.a,{lines:1,withTooltip:!0,customTooltipText:Ae,breakWords:!1},Ae),ve&&ot),t.a.createElement(Je,{invite:_,index:k,className:Object(O.default)("p-activity_pending_external_invite__actions",{"p-activity_pending_external_invite__actions--narrow":ve}),onClose:$})),!ve&&ot))},"ActivityPendingExternalInvite");gd.displayName="ActivityPendingExternalInvite";var nu=Object(tr.b)(gd);const au=c(de=>{let{invite:_,isLast:k,columnWidth:R=0,onClose:W}=de;const $=Object(u.c)(Yc.a),me=R<ll,fe=Object(s.useMemo)(()=>t.a.createElement(fn,{invite:_}),[_]),ve=Object(s.useMemo)(()=>t.a.createElement(wt,{invite:_}),[_]),ke=`invitation-${_.id}`;return t.a.createElement("div",{id:ke,className:Object(O.default)("p-activity_pending_external_workspace_invite",{"p-activity_pending_external_workspace_invite--last":k},Object(vd.a)({msg:null,userMessagesTheme:$}),"p-activity_ia4_page__item--static")},t.a.createElement(qe.a,{className:"padding_right_100 padding_left_100",light:fe},t.a.createElement("div",{className:Object(O.default)("p-activity_pending_external_workspace_invite__body",{"p-activity_pending_external_workspace_invite__body--narrow":me})},t.a.createElement("div",{className:"margin_right_100"},t.a.createElement(Kt,{invite:_}),t.a.createElement(xe.a,{lines:1,withTooltip:!0,customTooltipText:ve,breakWords:!1},ve)),t.a.createElement(Ie,{invite:_,className:Object(O.default)("p-activity_pending_external_workspace_invite__actions",{"p-activity_pending_external_workspace_invite__actions--narrow":me}),onClose:W}))))},"ActivityPendingExternalWorkspaceInvite");au.displayName="ActivityPendingExternalWorkspaceInvite";var kc=Object(tr.b)(au),lr=e("gFwg");function Yn(){return Yn=Object.assign||function(de){for(var _=1;_<arguments.length;_++){var k=arguments[_];for(var R in k)Object.prototype.hasOwnProperty.call(k,R)&&(de[R]=k[R])}return de},Yn.apply(this,arguments)}c(Yn,"activity_pending_external_invites_extends");const Fi=new v.b("slack_connect"),dl=3,Od=c(de=>{let{allPendingExternalInvitations:_,allPendingExternalWorkspaceInvitations:k,onClose:R}=de;const W=Object(C.i)(),$=[..._,...k].sort((Jt,St)=>{var yt,Bt;const Kn=Jt.date_created||((yt=Jt.invite)===null||yt===void 0?void 0:yt.date_created);return(St.date_created||((Bt=St.invite)===null||Bt===void 0?void 0:Bt.date_created))-Kn}),me=$.slice(0,dl),fe=$.length,ve=me.length,ke=fe-ve,Ae=Object(s.useMemo)(()=>[...me.map((St,yt)=>`pending-external-invite-${yt}`),"footer"],[me]),Se=Object(s.useCallback)(()=>{W(Object(Nc.a)({invitationsTabId:fd.c.received,tryToShowPendingInvitations:!0,entryPoint:"activity_pending_external_invitations"}))},[W]),He=Object(s.useCallback)((Jt,St)=>{if(!Jt)return null;const yt=St+1===ve;return Object(qd.h)(Jt)?t.a.createElement(kc,{invite:Jt,isLast:yt,onClose:R}):t.a.createElement(nu,{invite:Jt,index:St,isLast:yt,onClose:R})},[ve,R]),bt=Object(s.useCallback)(()=>t.a.createElement("div",{className:"padding_left_100 padding_bottom_100 width_100"},ke>0&&t.a.createElement(uo.a,{onClick:Se,className:"caption"},Fi.rt("View {count} more {count, plural, =1 {invitation} other {invitations}}",{count:ke}))),[ke,Se]),ot=Object(s.useCallback)((Jt,St)=>{const{index:yt}=St,Bt=me[yt];let Kn;return Jt==="footer"&&ke>0?Kn=bt():Kn=He(Bt,yt),t.a.createElement("div",Yn({},St),Kn)},[bt,He,me,ke]);return fe?t.a.createElement("div",{className:"p-activity_pending_external_invites padding_top_100 margin_100"},t.a.createElement("div",{className:"caption bold padding_left_100 margin_bottom_25"},Fi.t("Invitations to review")),t.a.createElement(lr.a,{keys:Ae,renderCell:ot})):null},"ActivityPendingExternalInvites");Od.displayName="ActivityPendingExternalInvites";var Zu=Od,tc=e("fqBJ"),$u=e("VkPA"),Pc=e("i5Ig"),Vs=e("E/kj"),Ed=e("ypw0");const Ul={thread_reply:"replies",bot_dm:"apps",at_user:"mentions",keyword:"mentions",at_everyone:"mentions",at_user_group:"mentions",at_channel:"mentions",message_reaction:"reactions",invitations:"invitations",internal_channel_invite:"invitations",external_channel_invite:"invitations",external_dm_invite:"invitations",shared_workspace_invite:"invitations"},_d=c(()=>{const de=Object(u.c)(Pe.c),{isPeekMode:_}=Object(s.useContext)(he.a),k=!Object(u.c)(M.d),R=Object(u.c)(vt.o),W=Object(u.c)(vt.g),$=Object(u.c)(vt.f),me=R&&!k,fe=Object(u.c)(Jt=>_?"all":Object(vt.l)(Jt)),ve=Object(u.f)(Vs.g)||Pc.a,ke=Object(u.f)(Vs.a)||Ed.a,Ae=Object(u.f)(Vs.d)||Pc.a,Se=Object(u.f)(Vs.f)||Pc.a,He=Object(u.f)(Vs.e)||Pc.a,bt=Object(u.f)(Vs.b)||Pc.a,ot=Object(u.f)(Vs.c)||Pc.a;return Object(s.useCallback)(Jt=>{const St={[q.o.ALL]:ke,[q.o.MENTIONS]:Ae,[q.o.REPLIES]:Se,[q.o.REACTIONS]:He,[q.o.APPS]:bt,[q.o.INVITATIONS]:ot};if(!me&&W)return[];if(de&&fe===q.o.REACTIONS&&$)return[];let yt=St[Jt];return!de&&$&&(yt=ve),de&&fe!==q.o.ALL&&(yt=yt.filter(Bt=>fe===q.o.REPLIES&&Bt.type==="at_user"||Ul[Bt.type]===fe)),yt},[ve,ke,Ae,Se,He,bt,ot,$,fe,me,W,de])},"useGetActivityListForTab"),qu=c(de=>{switch(de.type){case q.h:case q.a:case q.b:return q.o.MENTIONS;case q.l:case q.m:return q.o.REPLIES;case q.j:case q.g:case q.i:return q.o.REACTIONS;case q.d:return q.o.APPS;case q.e:case q.f:case q.k:return q.o.INVITATIONS;default:return q.o.ALL}},"getActivityItemType"),Cd=c(()=>{const de=_d(),_=Object(u.f)(Vs.a)||Ed.a;return Object(s.useCallback)(k=>{const R=_.filter($=>qu($)===k).length||0,W=de(k);return W?W.length||R:0},[de,_])},"useGetActivityTabCount");var ou=e("K2b1");const ei=new ou.b("mentions"),yd=c(()=>{const de={[q.o.ALL]:ei.t("All"),[q.o.MENTIONS]:ei.t("Mentions"),[q.o.REPLIES]:ei.t("Threads"),[q.o.REACTIONS]:ei.t("Reactions"),[q.o.APPS]:ei.t("Apps"),[q.o.INVITATIONS]:ei.t("Invitations")},_={[q.o.ALL]:ei.t("All Activity"),[q.o.MENTIONS]:ei.t("Mentions"),[q.o.REPLIES]:ei.t("Thread replies"),[q.o.REACTIONS]:ei.t("Reactions"),[q.o.APPS]:ei.t("App notifications"),[q.o.INVITATIONS]:ei.t("Invitations")};return{tabIdToLabelMap:de,tabIdToAriaLabelMap:_}},"useActivityTabLabels"),su=new v.b("mentions"),ul={eventId:gn.EventId.ACTIVITY_TAB_OPEN,onClick:{enableClogAction:!0}},Hl=[q.o.ALL,q.o.MENTIONS,q.o.REPLIES,q.o.REACTIONS,q.o.APPS,q.o.INVITATIONS],Fl={[q.o.MENTIONS]:{name:"mentions"},[q.o.REPLIES]:{name:"threads"},[q.o.REACTIONS]:{name:"emoji"},[q.o.APPS]:{name:"apps"},[q.o.INVITATIONS]:{name:"paper-plane"}},Kl=c(()=>{Object(P.a)("Pactivity");const de=Object(u.c)(L.a.isAnyTreatment),_=Object(u.c)(Pe.c),k=Object(C.i)(),{isPeekMode:R}=Object(s.useContext)(he.a),W=Object(u.c)(bt=>R?"all":Object(vt.l)(bt)),$=Object(u.c)(vt.f),me=Object(u.c)(vt.h),fe=Cd(),{tabIdToLabelMap:ve,tabIdToAriaLabelMap:ke}=yd(),Ae=Object(s.useMemo)(()=>de&&Hl.filter(bt=>bt!==q.o.ALL).filter(bt=>fe(bt)>0).length<2,[de,fe]),Se=Object(s.useMemo)(()=>Hl==null?void 0:Hl.map(bt=>{const ot=ve[bt],Jt=ke[bt];return{title:ot,"aria-label":Jt,label:ot,id:bt,autoClogProps:{elementName:bt},svgIcon:Fl[bt]}}).filter(bt=>{const ot=fe(bt.id)||0;return!de||bt.id===q.o.ALL||!Ae&&ot>0}),[fe,ve,ke,de,Ae]),He=Object(s.useCallback)(bt=>{me&&k(Object(zn.i)(!1)),!_&&$&&k(Object(zn.g)(!1)),k(Object(zn.k)(bt))},[k,me,$,_]);return _&&R||!_&&($||R)?null:t.a.createElement($u.a,{key:`activity-tabs-${Se?Se.length:0}`,ariaLabel:su.t("Activity type",{fallbackHash:"96e578211aa295317cf257310712fa28ccd8f6c6",fallbackHashNs:"admin"}),tabs:Se,currentTabId:W,onTabChange:He,tabMenuClassnames:"p-activity_ia4_page__tab_menu",className:"p-activity_ia4_page__tab_container",autoClogProps:ul,focusOnMount:!0,maxSize:500,iconPosition:"left",manualTabActivation:!0})},"ActivityPageTabs");Kl.displayName="ActivityPageTabs";var Vl=Kl;const jd=c(()=>{const de=Object(u.c)(vt.c),{isPeekMode:_}=Object(s.useContext)(he.a),k=Object(u.c)($=>_?"all":Object(vt.l)($)),W=_d()(k).length;return t.a.createElement(t.a.Fragment,null,de>0||W>0?t.a.createElement("div",{className:"p-activity_ia4_page__unreads_info"},de," ",de===1?"unread":"unreads"):null)},"ActivityUnreadCountHeader");jd.displayName="ActivityUnreadCountHeader";var em=jd,tm=c(()=>{const de=Object(u.c)(Pe.c),_=Object(u.c)(vt.f),{isPeekMode:k}=Object(s.useContext)(he.a);return!(de||!_||k)},"useShouldShowActivityUnreadCountHeader"),Gl=e("ipK5"),Sd=e("790+"),Ki=e("E4u3");const Xc=new v.b("mentions"),ml=c(()=>{var de,_,k,R;const W=Object(u.c)(Pe.c),$=Object(C.i)(),me=Object(u.c)(vt.o),{isPeekMode:fe}=Object(s.useContext)(he.a),ve=Object(u.c)(Kn=>Object(ct.u)(Kn,"preferred_skin_tone"))||"1",ke=Object(u.c)(Va.g),Ae=Object(u.c)(vt.f),Se=Object(u.c)(Kn=>fe?"all":Object(vt.l)(Kn)),He=Object(Ki.b)(ve,ke),bt=Object(Ki.c)(ve,Se,ke),ot=Object(Ki.a)(Se,ve,ke),Jt=Object(s.useMemo)(()=>Math.floor(Math.random()*He.length),[He.length]),St=Object(s.useCallback)(()=>{Ae&&$(Object(zn.g)(!1)),$(Object(zn.k)(q.o.ALL))},[$,Ae]);if(me)return null;let yt,Bt;return W?(yt=Se===q.o.ALL,Bt=Se!==q.o.ALL):(yt=Ae,Bt=!Ae),t.a.createElement(t.a.Fragment,null,yt&&t.a.createElement(Sd.a,{description:(de=He[Jt])===null||de===void 0?void 0:de.description,isExtended:!0,title:(_=He[Jt])===null||_===void 0?void 0:_.title,secondaryActionText:Xc.t("Show all activity",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),onClickSecondaryAction:St,className:"p-activity_ia4_page__empty_unreads_container"}),Bt&&t.a.createElement(Sd.a,{isExtended:!0,description:W?(k=bt[Jt])===null||k===void 0?void 0:k.description:void 0,title:W?(R=bt[Jt])===null||R===void 0?void 0:R.title:ot==null?void 0:ot.title,secondaryActionText:W?Xc.t("Show all activity"):void 0,onClickSecondaryAction:St,className:"p-activity_ia4_page__empty_unreads_container"}))},"ActivityEmptyState");ml.displayName="ActivityEmptyState";var lt=ml;const Id=c(()=>{const{isPeekMode:de}=Object(s.useContext)(he.a),_=Object(u.c)(vt.t),k=Object(u.c)($=>de?"all":Object(vt.l)($)),W=Cd()(k);return!_&&!W},"useShouldShowEmptyState");var nm=e("Oizi"),ru=e("us/z"),Td=e("fk6o");const am=new v.b("mentions"),ti="should_preselect_activity_item",Ad=c(de=>{let{shouldTrackScroll:_,className:k}=de;Object(P.a)("Pactivity");const R=Object(u.c)(L.a.isAnyTreatment),W=Object(u.c)(Pe.c),$=Object(C.i)(),me=Object(u.c)(pd.a),fe=Object(O.default)(`p-activity_ia4_page p-activity_ia4_page--${me}`,k),[ve,ke]=Object(s.useState)(!1),{getSiblingView:Ae}=Object(s.useContext)(Jd.a),{isPeekMode:Se}=Object(s.useContext)(he.a),He=Object(u.c)(vt.g),bt=!Object(u.c)(M.d),ot=Object(u.c)(Yc.a),Jt=Object(u.c)(vt.o),St=Object(u.c)(Ua=>Se?"all":Object(vt.l)(Ua)),yt=Object(u.c)(Ua=>Ae(Ua,{container:Sc.k.Primary})),Bt=tm(),Kn=Object(s.useRef)((yt==null?void 0:yt.id)!==B.a.Empty),Co=Object(u.c)(Ua=>Object(ct.u)(Ua,"onboarding_complete"));var no;const ut=Object(u.c)(Ua=>(no=Object(Ic.a)(Ua,ti))!==null&&no!==void 0?no:!0),za=Object(u.c)(Ua=>Object(Xd.a)(Ua,ti)),Io=Object(u.c)(ta.b),io=Object(u.c)(Ve.c),_s=Io.length+io.length,ts=Object(u.c)(vt.f),ns=Object(u.c)(vt.h),Ko=Object(il.a)(St,ts),bs=_d()(St),{fetchActivities:Er,fetchPromise:Is}=xs(),{tabIdToAriaLabelMap:Fr}=yd(),ur=Object(Gl.a)({filter:St,isUnreadMode:ts,isFilteringRevampToggledOn:W});Object(s.useEffect)(()=>{!Se&&ns||Er({fetchNew:!0,mode:Ko,filter:ur})},[$,Er,ur,ns,Se,Ko]);const ni=Object(u.f)(Ua=>{if(!bs||bs.length===0)return null;const Ar=bs[0];return{message:Object(H.b)(Ua,Ar.channelId,Ar.messageTs),activityItem:Ar,isActivityRead:!0}});Object(s.useEffect)(()=>{(yt==null?void 0:yt.id)===B.a.Empty&&(za&&!Se&&ni&&!Kn.current?($(Object(kn.a)(ni)),Kn.current=!0):$(Object(zn.j)({})))},[ni,$,R,Se,yt,za]),Object(s.useEffect)(()=>{R&&!za&&!Co&&ut&&$(Object(Yu.a)({pref:ti,value:!1}))},[$,R,Co,ut,za]),Object(s.useEffect)(()=>()=>{Se||$(Object(zn.i)(!1))},[$,Se]);const Vi=Object(s.useCallback)(()=>{Is.current||Jt||Er({mode:Ko,filter:ur})},[ur,Jt,Er,Ko,Is]),nc=Object(s.useCallback)(()=>Er({fetchNew:!0,mode:Ko,filter:ur}),[Er,Ko,ur]),Ti=Object(s.useCallback)(()=>{_s-1===0?ke(!0):ke(!1)},[ke,_s]),ya=Jt&&!bt,To=Object(u.c)(vt.t),$a=Id();return!ya&&He?t.a.createElement(er.a,{tryAgain:nc,showHelpLink:!0},am.t("Something\u2019s fishy! Slack can\u2019t seem to load your activity feed.")):t.a.createElement(Ui.b,{subtype:"activity_ia4_page"},t.a.createElement(tc.a,null,t.a.createElement(Vl,null),t.a.createElement(Zu,{allPendingExternalInvitations:Io,allPendingExternalWorkspaceInvitations:io,onClose:Ti}),Bt&&t.a.createElement(em,null),t.a.createElement(jc.b,{id:d.a.ACTIVITY_PAGE},t.a.createElement("div",{className:fe},!Se&&t.a.createElement(Wl,null),To&&t.a.createElement(wl,null),$a&&t.a.createElement(lt,null),t.a.createElement($t,{fetchActivity:Vi,isLoading:!!Jt,items:bs,isDocked:!1,shouldTrackScroll:_,userMessagesTheme:ot,ariaLabel:Fr[St],selectedTab:St,isUnreadsFilterToggleSelected:ts,refocusOnActivityItems:ve})))))},"ActivityPage");Ad.displayName="ActivityPage";var zm=y.a=Ad},"89zG":function(le,y,e){"use strict";e.r(y);var s=e("9oTK"),t=e.n(s),u=e("q1tI"),C=e.n(u),O=e("/MKj"),v=e("jfcS"),B=e("G0eX"),P=e("kBpe"),M=e("s4P+"),L=e("zxER"),z=e("lhZz"),U=e("RVJP"),g=e("69o4"),J=e("y6xh"),d=e("uVZW"),S=e("beVI"),F=e("DHqQ"),x=e("j77i");const Q=c(V=>{let{notificationName:X,expiry:K}=V;const H=Object(O.i)(),w=Object(L.c)(M.a),T=Object(L.c)(te=>Object(U.d)(te,"warn_users_before_logout")==="on"),ee=Object(L.c)(S.g),ne=Object(u.useCallback)(()=>{H(Object(g.a)({spaceName:d.g.CLIENT_FOOTER,action:d.f.DISMISS}))},[H]),ue=Object(u.useCallback)(Object(s.coroutine)(function*(){var te;const D=(te=Object(B.n)(ee))!==null&&te!==void 0?te:"";try{yield ne()}catch(f){w.error("Error logging warning banner dismissal",f)}if(Object(P.s)())Object(x.w)(D,J.a,"true"),window.open(Object(B.v)(ee,"/ssb/signin_redirect?session_duration_logout_team=1"),"_blank");else{const f={teamId:D};Object(B.z)(ee)&&(f.orgId=Object(B.k)(ee)),Object(z.dispatchForClientStore)(Object(F.a)(f))}}),[ee,ne,w]);return C.a.createElement(v.a,{experimentWarnUsersBeforeLogoutGroupOn:T,expiry:K,show15MinuteWarning:X===d.h.SESSION_EXPIRY_WARNING_BANNER_15,handleSignOutReauth:ue,handleDismissBanner:ne})},"UserSessionExpirationBannerContainer");Q.displayName="UserSessionExpirationBannerContainer",y.default=Object(u.memo)(Q)},"8Bdi":function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("EAKl"),O=e("zxER"),v=e("ZobM"),B=e("nNoG"),P=e("nFQW"),M=e("nWdO"),L=e("PV82"),z=e("ktUG"),U=e("9oTK"),g=e("SQ0V"),J=e("2VFn"),d=e("NV6F"),S=e("37+L");const F=Object(g.c)("Opens an AI summary message in a child window",function(){var w=Object(U.coroutine)(function*(T,ee,ne){let{channelId:ue,threadTs:te}=ne;const D={[J.k.Secondary]:Object(S.qb)({channelId:ue,threadTs:te})};return T(Object(d.x)({viewSet:D,containerOrigin:J.k.Secondary}))});return function(T,ee,ne){return w.apply(this,arguments)}}());F.meta={name:"createThunk",key:"createThunkopenSummaryInChildWindow",description:"Opens an AI summary message in a child window"};var x=F,Q=e("EJCY");const V=new B.b("assistant"),X={eventId:z.EventId.NATIVE_AI,elementName:L.a.ACTIVITY_SUMMARY_BUTTON,onClick:{enableClogAction:!0}},K=c(()=>{const w=Object(u.i)(),T=Object(O.c)(C.j),ee=Object(s.useCallback)(()=>w(Object(Q.a)({reason:"summarize-activity"})).then(ue=>{var te,D;ue.ok&&(!((te=ue.message)===null||te===void 0)&&te.channel)&&(!((D=ue.message)===null||D===void 0)&&D.ts)&&w(F({channelId:ue.message.channel,threadTs:ue.message.ts}))}),[w]);if(!T)return null;const ne=V.t("Summarize activity");return t.a.createElement(M.c,{tip:ne,position:"bottom",delay:M.a},t.a.createElement(P.a,{"aria-label":ne,onClick:ee,autoClogProps:X},t.a.createElement(v.a,{name:"sparkles",size:"20"})))},"SummarizeActivityButton");K.displayName="SummarizeActivityButton";var H=y.a=t.a.memo(K)},"8JrE":function(le,y,e){"use strict";e.r(y),e.d(y,"BaseUnreadsSimplificationCoachmark",function(){return ne});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("zlyu"),v=e("3V+Q"),B=e("la4u"),P=e("CpuT"),M=e("HCZ2"),L=e("nNoG"),z=e("7nxQ"),U=e("69o4"),g=e("zm5I"),J=e("uVZW"),d=e("P7By"),S=e("tUlc"),F=e("tOT8"),x=e("o1ZU"),Q=e("T1zM"),V=e("ktUG"),X=e("RUo5"),K=e("Vy29");function H(){return H=Object.assign||function(D){for(var f=1;f<arguments.length;f++){var ie=arguments[f];for(var Z in ie)Object.prototype.hasOwnProperty.call(ie,Z)&&(D[Z]=ie[Z])}return D},H.apply(this,arguments)}c(H,"_extends");const w=new L.b("channel_sidebar"),T={elementType:V.ElementType.COACHMARK,uiComponentName:V.UiComponentName.UNREADS_SIMPLIFICATION_COACHMARK,eventId:V.EventId.CLIENT_GENERAL,megaphoneSpaceName:J.g.IN_PRODUCT_COACHMARK,megaphoneNotificationName:J.h.UNREADS_SIMPLIFICATION_COACHMARK},ee={"de-DE":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-de-DE.json").then(e.t.bind(null,"DID2",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-de-DE.json").then(e.t.bind(null,"aRfA",3))},"en-GB":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-en-GB.json").then(e.t.bind(null,"/Ea7",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-en-GB.json").then(e.t.bind(null,"mKvy",3))},"en-US":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light.json").then(e.t.bind(null,"PeTs",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark.json").then(e.t.bind(null,"7Zjy",3))},"es-ES":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-es-ES.json").then(e.t.bind(null,"BAl+",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-es-ES.json").then(e.t.bind(null,"YinH",3))},"es-LA":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-es-LA.json").then(e.t.bind(null,"2eXt",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-es-LA.json").then(e.t.bind(null,"dKSi",3))},"fr-FR":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-fr-FR.json").then(e.t.bind(null,"tFZ5",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-fr-FR.json").then(e.t.bind(null,"pBzQ",3))},"it-IT":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-it-IT.json").then(e.t.bind(null,"Dl/t",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-it-IT.json").then(e.t.bind(null,"7PnD",3))},"ja-JP":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-ja-JP.json").then(e.t.bind(null,"ka+r",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-ja-JP.json").then(e.t.bind(null,"wo8d",3))},"ko-KR":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-ko-KR.json").then(e.t.bind(null,"c0+A",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-ko-KR.json").then(e.t.bind(null,"fL90",3))},"pt-BR":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-pt-BR.json").then(e.t.bind(null,"ElzP",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-pt-BR.json").then(e.t.bind(null,"iRbL",3))},"zh-CN":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-zh-CN.json").then(e.t.bind(null,"0gZ+",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-zh-CN.json").then(e.t.bind(null,"kF7d",3))},"zh-TW":{light:e.e("gantry-v2-async-lottie-unreads-simplification-animation-light-zh-TW.json").then(e.t.bind(null,"VeSG",3)),dark:e.e("gantry-v2-async-lottie-unreads-simplification-animation-dark-zh-TW.json").then(e.t.bind(null,"Clpi",3))}},ne=c(D=>{let{children:f,handleDismiss:ie,clientTheme:Z,sidebarBehavior:pe,onChangeSidebarBehavior:q,onClickPrimaryButton:xe,UNSAFE_parentSelector:ze}=D;const mt=Object(z.i)(),Me=ee[mt]||ee["en-US"],Ct=Me.dark,Qe=Me.light,st=Object(s.useCallback)(()=>Z==="dark"?Ct:Qe,[Z,Ct,Qe]),Ot=t.a.createElement(O.a,{coachmarkClassNames:"p-unreads_simplification_coachmark",closeCoachmark:ie,isOpen:!0,arrowPosition:20,offsetY:-20,offsetX:-18,centerOnArrow:!0,orientation:"right-bottom",forceCoachmarkRefurbish:!0,primaryCallToActionText:w.t("Save"),onClickPrimaryButton:xe,autoClogProps:T,shouldCloseOnOverlayClick:!1,UNSAFE_parentSelector:ze},t.a.createElement("div",{className:"p-unreads_simplification_coachmark__wrapper"},t.a.createElement("div",{className:"p-unreads_simplification_coachmark__hero_container"},t.a.createElement(d.a,{getAnimationImport:st,className:"p-unreads_simplification_coachmark__hero",autoplay:!0,loop:!0,svgClassName:"p-unreads_simplification_coachmark__hero__svg",renderLoading:()=>t.a.createElement("div",{className:"p-unreads_simplification_coachmark__loading_placeholder"})})),t.a.createElement("div",{className:"p-unreads_simplification_coachmark__content"},t.a.createElement("p",{className:"p-unreads_simplification_coachmark__content__header"},w.t("Want a simpler sidebar?")),t.a.createElement("p",{className:"p-unreads_simplification_coachmark__content__description"},w.rt("Since you have a lot of channels, we recommend only showing those with unread messages. Once you\u2019ve read a conversation, it can be found just a click away.")),t.a.createElement(P.a,{"data-qa":"unreads_simplification_coachmark_radiogroup"},t.a.createElement(v.b,{key:F.c,text:t.a.createElement(t.a.Fragment,null,w.t("Show unreads only")," ",t.a.createElement(M.a,null,w.t("RECOMMENDED"))),type:"inline",cursor:"pointer"},t.a.createElement(B.a,{name:"sidebar_behavior_set",value:F.c,checked:pe===F.c,onChange:q,"data-qa":"unreads_simplification_coachmark_radio--show_unreads_only"})),t.a.createElement(v.b,{key:F.a,text:w.t("Show all"),type:"inline",cursor:"pointer"},t.a.createElement(B.a,{name:"sidebar_behavior_set",value:F.a,checked:pe===F.a,onChange:q,"data-qa":"unreads_simplification_coachmark_radio--show_all"}))))));return t.a.createElement(X.b,{orientation:"right-bottom",coachmarkElement:Ot},f)},"UnreadsSimplificationCoachmark");ne.displayName="UnreadsSimplificationCoachmark";const ue=t.a.memo(D=>{const f=Object(u.i)(),ie=Object(C.c)(g.a),Z=Object(C.c)(S.a);Object(s.useEffect)(()=>{f(Object(K.b)({pref:"sidebar_behavior",value:F.c}))},[f]);const pe=Object(s.useCallback)(()=>{f(Object(U.a)({spaceName:J.g.IN_PRODUCT_COACHMARK,action:J.f.DISMISS}))},[f]),q=Object(s.useCallback)(()=>{f(Object(x.h)(!0)),Z===F.c&&f(Object(K.b)({pref:"sidebar_behavior",value:F.a})),pe()},[f,pe,Z]),xe=Object(s.useCallback)(()=>{f(Object(x.h)(!0)),Z===F.c&&f(Object(Q.f)({pref:"sidebar_behavior",value:Z})),pe()},[f,pe,Z]),ze=Object(s.useCallback)(mt=>{const Me=mt.target.value;f(Object(K.b)({pref:"sidebar_behavior",value:Me}))},[f]);return t.a.createElement(ne,H({},D,{handleDismiss:q,clientTheme:ie,sidebarBehavior:Z,onChangeSidebarBehavior:ze,onClickPrimaryButton:xe}))});var te=y.default=ue},"8Wv3":function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("Trx9"),O=e("9oTK"),v=e("0FX9"),B=e.n(v),P=e("Lgge"),M=e("nNoG"),L=e("O86Y"),z=e("zxER"),U=e("9Gfp");const g=new M.b("mobile_app_promos"),J=c(T=>{let{eventId:ee}=T;const ne=Object(M.m)(),[ue,te]=Object(s.useState)(),D=Object(z.c)(U.a),f=Object(z.c)(L.g);let ie="www.slack.com/download";ne!=="en-US"&&(ie=ie.replace("/download",`/intl/${ne}/downloads`));const Z=Object(s.useCallback)(function(){var xe=Object(O.coroutine)(function*(ze){return new P.a(mt=>{mt(B.a.toDataURL(`${ze}?src=qr_code&event_id=${ee}&user_id=${D}&team_id=${f}`))})});return function(ze){return xe.apply(this,arguments)}}(),[ee,D,f]),pe=Object(s.useCallback)(Object(O.coroutine)(function*(){const xe=yield Z(ie);te(xe)}),[ie,Z]);Object(s.useEffect)(()=>{pe()},[pe]);const q=g.t("Scan the code below with your mobile device and we\u2019ll take you to where you need to go to download the app.",{fallbackHash:"81faf152a5d90c4d186098bc214e5dfbc8795218"});return t.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action"},t.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action_copy--wrapper"},q),t.a.createElement("div",{className:"p-mobile_download_modal__qr_code_action--wrapper"},ue&&t.a.createElement("img",{alt:g.t("Quick Response (QR) code to download the Slack mobile app"),className:"p-mobile_download_modal__qr_code_action--image","data-qa":"qr-download-link-image",src:ue})))},"QrCodeAction");J.displayName="QrCodeAction";var d=J,S=e("YUBf"),F=e("7JUD"),x=e("ktUG"),Q=e("+kJ4"),V=e("UQe9"),X=e.n(V);const K=new M.b("mobile_app_promos"),H=c(T=>{let{eventId:ee}=T;const ne=Object(u.i)(),ue=Object(s.useCallback)(()=>ne(Object(Q.a)()),[ne]),te=K.t("Download the Slack mobile app"),D=K.t("Hands holding a mobile phone");let f=null;const ie=Object(s.useCallback)(()=>{ue(),f==null||f({action:x.UiAction.CLOSE,elementName:"close_download_mobile_modal"})},[ue,f]);return t.a.createElement(C.a,{eventId:ee,uiStep:x.UiStep.QR_CODE_DOWNLOAD_MODAL,trackClogRef:Z=>{f=Z}},t.a.createElement(F.a,{contentLabel:te,closeModal:ie,isOpen:!0,centered:!0,dataQa:"mobile-download-modal",className:"p-mobile_download_modal",describedby:"mobile-download-modal-described-by-label"},t.a.createElement(S.i,null,t.a.createElement("div",{className:"p-mobile_download_modal__img_wrapper"},t.a.createElement("img",{className:"p-mobile_download_modal__header_img",alt:D,src:X.a}))),t.a.createElement(S.d,null,t.a.createElement(S.l,{title:te}),t.a.createElement(S.e,{className:"p-mobile_download_modal__content_section"},t.a.createElement("span",{hidden:!0,id:"mobile-download-modal-described-by-label"},K.t("Scan QR code")),t.a.createElement(d,{eventId:ee})))))},"MobileDownloadModal");H.displayName="MobileDownloadModal";var w=y.a=H},"9Az/":function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("BHdc"),C=e("Trx9"),O=e("+QGB"),v=e("zonX"),B=e("nFQW"),P=e("c+dP"),M=e("ktUG"),L=e("nNoG"),z=e("v5z3");function U(){return U=Object.assign||function(S){for(var F=1;F<arguments.length;F++){var x=arguments[F];for(var Q in x)Object.prototype.hasOwnProperty.call(x,Q)&&(S[Q]=x[Q])}return S},U.apply(this,arguments)}c(U,"_extends");const g=new L.b("setup_page"),J=c(S=>{let{children:F,tip:x}=S;return Object(v.a)(x,z.g.Explainer),t.a.createElement(C.a,{eventId:M.EventId.NEWXP_TEAM_CREATE,uiStep:M.UiStep.PROG_DISC_TIP,stepVariant:x,elementName:z.g.Explainer,clogImpression:!0},t.a.createElement("div",{className:Object(u.default)("p-setup_prog_disc_user_menu_explainer_tip",`p-setup_prog_disc_user_menu_explainer_tip--${x}`),"data-qa":`explainer_tip--${x}`},t.a.createElement("div",{className:"display_flex"},t.a.createElement("div",{className:"p-setup_prog_disc_user_menu_explainer_tip__text"},g.rt("<strong>Taking a break?</strong> Set a status so your team knows you\u2019re away.")),t.a.createElement(P.e,{renderMenu:Q=>t.a.createElement(O.a,U({},Q)),position:"left"},t.a.createElement(B.a,{className:"p-setup_prog_disc_user_menu_explainer_tip__close","aria-label":g.t("Close"),icon:"times-small"}))),F))},"ProgressiveDisclosureUserMenuExplainerTip");J.displayName="ProgressiveDisclosureUserMenuExplainerTip";var d=y.a=J},"9B1d":function(le,y,e){"use strict";e.d(y,"a",function(){return S});var s=e("q1tI"),t=e.n(s),u=e("nNoG"),C=e("/MKj"),O=e("zxER"),v=e("3B2B"),B=e("Tsh7"),P=e("Rthn"),M=e("a7YP"),L=e("Lts7"),z=e("qwEi"),U=e("pgVm"),g=e("nFQW"),J=e("ZobM");const d=new u.b("shortcuts_gallery"),S=c(F=>{let{minimizedView:x,clogSource:Q}=F;const V=Object(C.i)(),X=Object(O.c)(U.b),K=Object(O.c)(z.a),H=Object(O.c)(P.c),w=Object(O.c)(M.v),ee=Object(O.c)(M.O)?"workflow/create-empty":"template-selection",ne=Object(s.useCallback)(()=>{V(Object(L.a)({source:Q,subPath:w?ee:"templates"}))},[V,w,Q,ee]);return!X||!K||!H?null:t.a.createElement(B.d,{tipClassName:"p-explorer__tooltip",position:x?"top":"bottom",tip:d.t("Create workflow")},x?t.a.createElement(g.a,{"aria-label":d.t("Create workflow"),onClick:ne},t.a.createElement(J.a,{name:"plus",inline:!0})):t.a.createElement(v.a,{onClick:ne},d.t("Create workflow")))},"AutomationsHeaderActions");S.displayName="AutomationsHeaderActions"},"9d7T":function(le,y,e){"use strict";e.r(y),e.d(y,"BaseSetupTadaCoachmark",function(){return T});var s=e("9oTK"),t=e("q1tI"),u=e.n(t),C=e("Trx9");const O=u.a.memo(()=>u.a.createElement("svg",{className:"p-setup_tada_sparkles p-setup_tada_sparkles--left",width:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 66 102"},u.a.createElement("path",{d:"M51.887 40.225c-3.321-2.894-7.015-9.607-7.763-11.135-.041-.12-.248-.12-.29 0-.706 1.528-4.4 8.24-7.72 11.135C31.961 43.843 22 46.455 22 46.455c.041 0 9.34 2.975 14.943 9.849 4.733 5.788 6.31 15.716 6.808 19.415 0 .16.125.24.249.281.124-.04.208-.12.25-.281.497-3.698 2.075-13.627 6.807-19.415C56.66 49.43 65.958 46.455 66 46.455c-.041-.04-10.004-2.653-14.113-6.23z",fill:"#ECB22E"}),u.a.createElement("path",{d:"M17.66 6.926C15.698 5.14 13.515.998 13.074.056c-.025-.075-.148-.075-.172 0-.417.942-2.6 5.084-4.562 6.87C5.887 9.158 0 10.77 0 10.77c.025 0 5.519 1.836 8.83 6.077 2.796 3.571 3.729 9.698 4.023 11.98 0 .099.073.148.147.173.074-.025.123-.074.147-.174.294-2.281 1.227-8.408 4.023-11.98 3.311-4.24 8.805-6.076 8.83-6.076-.024-.024-5.911-1.637-8.34-3.844z",fill:"#ECB22E"}),u.a.createElement("path",{d:"M17.66 79.926c-1.962-1.786-4.145-5.928-4.586-6.87-.025-.075-.148-.075-.172 0-.417.942-2.6 5.084-4.562 6.87C5.887 82.158 0 83.77 0 83.77c.025 0 5.519 1.836 8.83 6.077 2.796 3.571 3.729 9.698 4.023 11.979 0 .1.073.149.147.174.074-.025.123-.074.147-.174.294-2.281 1.227-8.408 4.023-11.98 3.311-4.24 8.805-6.076 8.83-6.076-.024-.024-5.911-1.637-8.34-3.844z",fill:"#ECB22E"}))),v=u.a.memo(()=>u.a.createElement("svg",{className:"p-setup_tada_sparkles p-setup_tada_sparkles--right",width:"48",fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 66 102"},u.a.createElement("path",{d:"M51.887 40.225c-3.321-2.894-7.015-9.607-7.763-11.135-.041-.12-.248-.12-.29 0-.706 1.528-4.4 8.24-7.72 11.135C31.961 43.843 22 46.455 22 46.455c.041 0 9.34 2.975 14.943 9.849 4.733 5.788 6.31 15.716 6.808 19.415 0 .16.125.24.249.281.124-.04.208-.12.25-.281.497-3.698 2.075-13.627 6.807-19.415C56.66 49.43 65.958 46.455 66 46.455c-.041-.04-10.004-2.653-14.113-6.23z",fill:"#ECB22E"}),u.a.createElement("path",{d:"M17.66 6.926C15.698 5.14 13.515.998 13.074.056c-.025-.075-.148-.075-.172 0-.417.942-2.6 5.084-4.562 6.87C5.887 9.158 0 10.77 0 10.77c.025 0 5.519 1.836 8.83 6.077 2.796 3.571 3.729 9.698 4.023 11.98 0 .099.073.148.147.173.074-.025.123-.074.147-.174.294-2.281 1.227-8.408 4.023-11.98 3.311-4.24 8.805-6.076 8.83-6.076-.024-.024-5.911-1.637-8.34-3.844z",fill:"#ECB22E"}),u.a.createElement("path",{d:"M17.66 79.926c-1.962-1.786-4.145-5.928-4.586-6.87-.025-.075-.148-.075-.172 0-.417.942-2.6 5.084-4.562 6.87C5.887 82.158 0 83.77 0 83.77c.025 0 5.519 1.836 8.83 6.077 2.796 3.571 3.729 9.698 4.023 11.979 0 .1.073.149.147.174.074-.025.123-.074.147-.174.294-2.281 1.227-8.408 4.023-11.98 3.311-4.24 8.805-6.076 8.83-6.076-.024-.024-5.911-1.637-8.34-3.844z",fill:"#ECB22E"})));var B=e("G0eX"),P=e("qDEp"),M=e("zlyu"),L=e("RUo5"),z=e("oEDn"),U=e("ktUG"),g=e("nNoG"),J=e("Cfcg"),d=e("q6Tz"),S=e("69o4"),F=e("eWGC"),x=e("uVZW"),Q=e("83nZ"),V=e("4YJR"),X=e("BPx/"),K=e("beVI");const H=new g.b("setup_page"),w={elementName:"confirm",onClick:{enableClogAction:!0}};let T=c(class extends t.Component{componentDidMount(){this.props.setTadaCoachmarkAsSeen(),this.props.setSetupCoachmarkAsShowing(),this.props.recordTadaCoachmarkImpression()}componentWillUnmount(){this.props.startProgressiveDisclosure()}render(){const{channelName:D,children:f,forceOpen:ie,UNSAFE_parentSelector:Z}=this.props,pe=H.rt("Meet <b>{channelName}</b>, your team\u2019s first channel",{channelName:D},Me=>{let{tag:Ct,text:Qe}=Me;switch(Ct){case"b":return u.a.createElement("span",{className:"p-setup_tada_coachmark__header_channel"},u.a.createElement(z.a,{className:"p-setup_tada_coachmark__channel_icon",type:"channel",size:"inherit"}),Qe);default:return null}}),q=H.rt("Channels keep your work focused, by giving each topic, project, or team its own space."),xe=pe,ze=q,mt=u.a.createElement(M.a,{orientation:"right",arrowPosition:20,centerOnArrow:!0,modalBodyOpenClassNames:"p-setup_tada_coachmark__ReactModal__Body--open",coachmarkClassNames:"p-setup_tada_coachmark",isOpen:!!ie,closeCoachmark:this.closeCoachmark,isMegaphoneCoachmark:!1,UNSAFE_parentSelector:Z},u.a.createElement(C.a,{eventId:U.EventId.NEWXP_TEAM_CREATE,uiStep:U.UiStep.SETUP_TADA_COACHMARK,stepVariant:"",clogImpression:!0,trackClogRef:Me=>{this.trackClog=Me}},u.a.createElement("div",{className:"display_flex","data-qa":"setup_flow_tada_coachmark"},u.a.createElement(O,null),u.a.createElement("div",{className:"display_flex flex_direction_column align_items_center"},u.a.createElement("div",{className:"p-setup_tada_coachmark__header"},xe),u.a.createElement("div",{className:"p-setup_tada_coachmark__body"},ze),u.a.createElement("div",{className:"p-setup_tada_coachmark__footer"},u.a.createElement(P.f,{className:"p-setup_tada_coachmark__button",onClick:this.closeCoachmark,type:"primary",size:"large","data-qa":"setup_flow_tada_coachmark_cta",autoClogProps:w},H.t("Let\u2019s Go")))),u.a.createElement(v,null))));return u.a.createElement(L.b,{coachmarkElement:mt,orientation:"right"},f)}constructor(...D){super(...D),this.closeCoachmark=()=>{var f,ie;this.props.closeCoachmark(),(ie=(f=this).trackClog)===null||ie===void 0||ie.call(f,{action:U.UiAction.CLICK,elementName:"dismiss"})}}},"SetupTadaCoachmark");T.displayName="SetupTadaCoachmark";const ee=c(te=>{const D=Object(K.g)(te);return{teamName:Object(B.h)(D)}},"mapStateToProps");function ne(te){return{closeCoachmark:()=>te(Object(S.a)({action:x.f.DISMISS,spaceName:x.g.WELCOME_SPACE})),recordTadaCoachmarkImpression:()=>te(Object(F.a)({action:x.f.IMPRESSION,notificationName:x.h.TADA_COACHMARK})),setSetupCoachmarkAsShowing:()=>te(Object(V.z)(!0)),setTadaCoachmarkAsSeen:()=>te(Object(Q.a)({pref:"setup_tada_coachmark_seen",value:!0})),startProgressiveDisclosure:Object(s.coroutine)(function*(){return yield te(Object(d.c)({event:{type:x.e.REQUEST_SPACES,spaces:[x.g.PROGRESSIVE_DISCLOSURE]}})),te(Object(V.z)(!1)),te(Object(X.a)())})}}c(ne,"mapDispatchToProps");var ue=y.default=Object(J.a)(ee,ne)(T)},AMiY:function(le,y,e){"use strict";e.r(y),e.d(y,"register",function(){return un});var s=e("9oTK"),t=e("qvC3"),u=e("KGIc"),C=e("j77i");function O(an){return v.apply(this,arguments)}c(O,"recordStoreTimestamp");function v(){return v=Object(s.coroutine)(function*(an){let{contextualInfo:Zt}=an;const{isBootingWarm:ht,teamId:jt}=Zt;if((yield ht)||!jt)return;const Pe=parseInt(Object(u.f)(),10);Object(C.w)(jt,"versionDataTs",Pe)}),v.apply(this,arguments)}c(v,"_recordStoreTimestamp");var B=e("bryr");function P(an){return M.apply(this,arguments)}c(P,"bootSaveColorsToLocalConfig");function M(){return M=Object(s.coroutine)(function*(an){let{contextualInfo:Zt,store:ht}=an;const{teamId:jt}=Zt;jt&&Object(B.a)(jt,ht.getState())}),M.apply(this,arguments)}c(M,"_bootSaveColorsToLocalConfig");var L=e("1jwg"),z=e("lhZz");function U(an){return g.apply(this,arguments)}c(U,"maybeGetCurrentCalendarAndUser");function g(){return g=Object(s.coroutine)(function*(an){let{contextualInfo:Zt,store:ht}=an;const{teamId:jt}=Zt;if(!jt)return;(ht||Object(z.getStoreInstanceByTeamId)(jt)).dispatch(Object(L.a)())}),g.apply(this,arguments)}c(g,"_maybeGetCurrentCalendarAndUser");var J=e("RVJP");function d(an){if(Object(J.d)(an,"dolores")==="on"){const Zt=document.createElement("link");Zt.setAttribute("rel","manifest"),Zt.setAttribute("crossorigin","use-credentials"),Zt.setAttribute("href","/manifest.json"),document.head.appendChild(Zt),window.addEventListener("appinstalled",()=>{const ht=new URL(location.href);ht.searchParams.get("multi_team")||(ht.searchParams.append("multi_team","1"),location.href=ht.toString())})}}c(d,"maybeEnablePWA");function S(an){let{contextualInfo:Zt,store:ht}=an;const{isForegroundTeam:jt}=Zt,Pe=ht.getState();jt&&d(Pe)}c(S,"maybeEnablePWAOnFirstBoot");var F=e("m2ga"),x=e("Omjo"),Q=e("JoR1"),V=e("T1zM"),X=e("vfQU");function K(an){return H.apply(this,arguments)}c(K,"recordDesktopClientId");function H(){return H=Object(s.coroutine)(function*(an){let{contextualInfo:Zt,store:ht}=an;const{teamId:jt}=Zt;if(!jt||!Object(X.db)())return;const Pe=ht==null?void 0:ht.getState();if(!Pe)return;const ct=Object(X.I)("environment","uuid");if(!ct)return;const Dn=Object(Q.u)(Pe,"desktop_client_ids"),eo=(()=>{try{if(!Dn)return[];const Da=JSON.parse(Dn);return Array.isArray(Da)?Da:[]}catch{return[]}})();if(eo.includes(ct))return;const to=[ct,...eo];to.length>10&&(to.length=10);try{const Da=JSON.stringify(to);ht.dispatch(Object(V.f)({pref:"desktop_client_ids",value:Da}))}catch(Da){Object(x.a)("Serializing desktop client ids",Da)}}),H.apply(this,arguments)}c(H,"_recordDesktopClientId");var w=e("Pw4T"),T=e("2um6");function ee(an){return ne.apply(this,arguments)}c(ee,"recordScreenReaderUsage");function ne(){return ne=Object(s.coroutine)(function*(an){let{contextualInfo:Zt,store:ht}=an;const{isForegroundTeam:jt}=Zt,Pe=ht.getState();jt&&Object(T.j)(Pe)&&Object(w.d)({state:Pe}).count("screenreader_enabled")}),ne.apply(this,arguments)}c(ne,"_recordScreenReaderUsage");var ue=e("gSGL"),te=e("wwBm"),D=e("qiCS"),f=e("bczA"),ie=e("s4P+"),Z=e("jm2/"),pe=e("o9PY"),q=e("TBxF"),xe=e("Zbwg"),ze=e("7cRW"),mt=e("SQ0V"),Me=e("u4hO"),Ct=e("beVI"),Qe=e("9Gfp"),st=e("dz36");const Ot=Object(mt.c)("Moves an Instant Slack conversation to a permanent workspace.",(an,Zt)=>{const ht=Zt(),jt=Object(J.d)(ht,"adoption_instant_slack_invitee")==="on",{channelId:Pe,teamId:ct,userId:Dn}=Object(st.c)(),eo=Pe&&ct&&Dn,to=Object(Ct.g)(ht),Da=Object(Qe.a)(ht);if(!jt||!eo||!(to!==ct&&Dn!==Da)){Object(st.b)();return}an(Object(Me.a)({channel:Pe,team:ct,user:Dn,reason:"instant-slack-save-conversation"})).then(uo=>{uo.ok&&Object(st.b)()})});Ot.meta={name:"createThunk",key:"createThunksaveInstantSlackConversation",description:"Moves an Instant Slack conversation to a permanent workspace."};var cn=Ot,Ht=e("ptfs"),Nn=e("Cy/8"),zt=e("rq2j"),Ln=e("sygB"),Fn=e("nZ0E"),Ye=e("q1tI"),dn=e.n(Ye),vt=e("3l96"),Xn=e("/MKj"),kn=e("BHdc"),he=e("zxER"),Gn=e("Cfcg"),Va=e("zm5I"),Oe=e("G0eX"),Ma=e("nNoG"),ga=e("YUBf"),zn=e("qDEp"),hn=e("oEDn"),nn=e("+kJ4"),Xt=e("vmiY"),bn=e.n(Xt);const sn=new Ma.b("govslack"),Wt=c(an=>{let{currentTeam:Zt}=an;const ht=Object(Xn.i)(),jt=Object(he.c)(Va.a),Pe=Object(Ye.useCallback)(()=>{ht(Object(V.f)({pref:"dismissed_gov_slack_first_time_popup",value:!0})),ht(Object(nn.a)())},[ht]),ct=Zt?Object(Oe.h)(Zt):null,Dn=sn.rt("This workspace is using GovSlack"),eo=dn.a.createElement(hn.a,{type:"gov-slack",size:"inherit",className:Object(kn.default)("p-gov_slack_modal__title_icon",`p-gov_slack_modal__title_icon--${jt}`)}),to=sn.rt("GovSlack works just like regular Slack, but it\u2019s built to meet strict federal compliance requirements.");return dn.a.createElement(ga.a,{isOpen:!0,centered:!0,fullscreen:!1,className:"p-channel_create_modal",closeModal:Pe},dn.a.createElement(ga.i,null,dn.a.createElement("div",{className:"p-gov_slack_modal__header_img_container"},dn.a.createElement("img",{className:"p-gov_slack_modal__header_img",src:bn.a,alt:sn.t("GovSlack")})),dn.a.createElement(ga.l,{title:Dn,subtitle:ct,icon:eo})),dn.a.createElement(ga.d,{className:"p-gov_slack_modal__content"},dn.a.createElement(ga.e,null,to)),dn.a.createElement(ga.g,null,dn.a.createElement(ga.h,null,dn.a.createElement(zn.f,{type:"primary",onClick:Pe},sn.t("Got It")))))},"GovSlackModal");Wt.displayName="GovSlackModal";const Yt=c(an=>({currentTeam:Object(Ct.g)(an)}),"mapStateToProps");var At=Object(Gn.a)(Yt)(Wt);const Ft=Object(mt.c)("Opens the Gov Slack modal in client",(an,Zt)=>{const ht=Zt();Object(Z.a)(ht)&&an(Object(vt.a)({element:dn.a.createElement(At,null)}))});Ft.meta={name:"createThunk",key:"createThunkopenGovSlackModal",description:"Opens the Gov Slack modal in client"};var sa=Ft,ba=e("qN/r"),Ha=e("dgAS"),Ba=e("+l+1");const qn={BrowseChannels:"browse_channels",ClipsNux:"clips_nux",Connect:"connect",CreateChannel:"create_channel",CreateSharedChannel:"create_shared_channel",GovSlack:"gov_slack",InviteMembers:"invite_members",Notifications:"notifications",SharedInviteWelcomeModal:"shared_invite_welcome_modal",SharedWorkspacesInviteWelcomeModal:"shared_workspace_invite_welcome_modal",StartHuddle:"start_huddle",HuddlesDeeplink:"huddles_deeplink"},Mt=c(an=>window.history.replaceState("","",Object(D.c)(window.location.href,an)),"clearParams");function da(an){return ha.apply(this,arguments)}c(da,"maybeOpenModal");function ha(){return ha=Object(s.coroutine)(function*(an){let{contextualInfo:Zt,store:ht}=an;const{dispatch:jt,getState:Pe}=ht,ct=Object(te.d)(window.location.search),{open:Dn}=ct,eo=ct[st.a]==="1";Dn!==qn.SharedInviteWelcomeModal&&eo&&(jt(cn()),Mt([st.a,"selected_team_id","accepted_invite_id"]));try{const to=Pe(),Da=Object(Z.a)(to);if(!Dn&&!Da)return;switch(Dn){case qn.BrowseChannels:{jt(Object(Fn.a)({}));break}case qn.CreateChannel:{Mt(["open"]),jt(Object(Nn.a)({entryPoint:ze.a.ExternalLink}));break}case qn.CreateSharedChannel:{Mt(["open"]),jt(Object(Nn.a)({entryPoint:ze.a.ExternalLink,createSharedChannel:!0}));break}case qn.InviteMembers:{jt(Object(Ht.b)({source:ct.source||Ba.f.QueryStringParameter,provider:ct.provider}));break}case qn.Notifications:{jt(Object(ba.a)({activeSection:"notifications"}));break}case qn.SharedWorkspacesInviteWelcomeModal:{Mt(["open","sharedWorkspaceId"]),jt(Object(Ln.a)({externalWorkspaceId:ct.sharedWorkspaceId}));break}case qn.SharedInviteWelcomeModal:{Mt(["open","accepted_invite_id","invite_id_to_accept","is_dm","sig","prompt_for_scdm_after_accept_in_web","is_workspace","inviting_toplevel_team_id","is_link","external_workspace_id"]);const uo=ct.invite_id_to_accept||ct.accepted_invite_id;Object(ue.a)(uo)&&jt(Object(zt.a)({inviteId:uo,isDm:!!ct.is_dm,isWorkspace:!!ct.is_workspace,externalWorkspaceId:Object(ue.a)(ct.external_workspace_id)?ct.external_workspace_id:void 0,shouldAcceptInvite:!!ct.invite_id_to_accept,sig:Object(ue.a)(ct.sig)?ct.sig:void 0,promptForScdmAfterAcceptInWeb:ct.prompt_for_scdm_after_accept_in_web==="true"})).then(()=>{eo&&(Mt([st.a]),jt(cn()))});break}case qn.ClipsNux:{Mt(["open"]),jt(Object(pe.a)());break}case qn.GovSlack:{Da&&(Mt(["open"]),jt(sa()));break}case qn.StartHuddle:{const uo=Object(f.b)(to).entityId;uo&&Object(xe.a)(uo)&&(Mt(["open"]),jt(Object(q.a)({channelId:uo,entryPoint:"boot"})));break}case qn.HuddlesDeeplink:ht.dispatch(Object(Ha.a)({requestNux:!1})),Mt(["open"]);break;default:break}const ss=Object(Q.u)(to,"dismissed_gov_slack_first_time_popup");Da&&!ss&&jt(sa())}catch(to){Object(ie.a)({getState:Pe}).error("CLIENT_BOOT","maybeOpenModal failed to dispatch modal.",`Error: ${to.message}`)}}),ha.apply(this,arguments)}c(ha,"_maybeOpenModal");var aa=e("A7My"),fo=e("SUU+"),No=e("R3nY");function fa(){const an=Object(C.g)("lastActiveTeamId");if(an){const Pe=Object(aa.b)(an);try{const ct=Object(C.i)(an,"enterprise_id");Object(x.b)("BOOT",`Setting reducedSignInWorkflowExperiment object in local storage. teamId: ${an}, enterpriseId: ${ct}, isOn: ${Pe}`),window.localStorage.setItem("reducedSignInWorkflowExperiment",JSON.stringify({isOn:Pe,lastActiveTeamId:an,enterpriseId:ct}))}catch(ct){Object(x.b)("BOOT",`Failed to set reducedSignInWorkflowExperiment object in local storage: ${ct}`)}}const{triggerSignInAfterBoot:Zt,triggerSignInForTeamId:ht}=Object(No.a)();if(!Zt)return;Object(z.getClientStoreInstance)().dispatch(Object(fo.a)({teamId:ht}))}c(fa,"maybeOpenSignIn");var _a=e("sj3v"),ko=e("qCdX"),qo=e("O86Y"),va=e("NV6F"),Fa=e("v9TI");const _n=Object(mt.c)("Use localStorage data to reconstruct a multi-window layout",(an,Zt)=>{const ht=Zt(),jt=Object(qo.g)(ht),Pe=Object(ie.b)({label:"WIN-RESTORE"}),ct=Object(C.g)(Fa.c);!ct||!ct[jt]||(Object.keys(ct[jt]).forEach(Dn=>{const eo=ct[jt][Dn].windowViewport;Pe.info(`Opening a window for teamId ${jt} with dimensions`,eo);const to=ct[jt][Dn].viewSet;Pe.info(`Opening a window for teamId ${jt} with viewSet`,to),an(Object(va.x)({viewSet:to,shouldNavigateInContext:ct[jt][Dn].shouldNavigateInContext,shouldShowSearch:ct[jt][Dn].shouldShowSearch,childWindowDimensions:eo,clogParams:{entryPoint:"restore_windows",uiComponentName:"boot_team"}}))}),delete ct[jt],Object(C.v)(Fa.c,ct))});_n.meta={name:"createThunk",key:"createThunkmaybeRestoreWithWindowRestorationData",description:"Use localStorage data to reconstruct a multi-window layout"};var Xe=e("BjgE"),It=e("Lizi"),$e=e("IGJb"),In=e("Iwbv"),ra=e("I0j/"),wn=e("37+L"),Aa=e("uZL6"),Qn=e("nxT7");const Bn=Object(Aa.a)(Qn.a,In.a,(an,Zt)=>!an&&Zt),Tn=c(an=>{let{store:Zt}=an;const ht=Zt.getState(),jt=Bn(ht),Pe=Object(In.a)(ht);if(jt)Zt.dispatch(Object(ra.a)(Object(wn.Y)()));else if(Pe){const ct=Object(Ct.k)(ht);Zt.dispatch(Object(ra.a)(Object(wn.b)(ct[0].id)))}},"maybeRedirectUsersToEventView");var it=e("PLUl"),Sa=e("aVxi"),dt=e("Aqb/"),en=e("fF9N"),ua=e("rIJ2");const Ao=20;function yo(){Object(ua.a)(Ao)&&Object(Sa.a)(Zt=>{let{value:ht,id:jt,attribution:Pe}=Zt;const ct=Object(it.a)(),Dn=Object(en.b)();var eo,to;const Da={...Dn,web_vitals_id:jt,last_event:`${(eo=Pe.eventType)!==null&&eo!==void 0?eo:"(unknown)"} @ ${(to=Pe.eventTarget)!==null&&to!==void 0?to:"(none)"}`,load_state:Pe.loadState,metric_version:1},ss=ct.createMetricsTrace({label:"web_vitals",tags:Da,samplingOptions:{sampleType:dt.a.ALWAYS}});ss.store({name:"web_vitals:inp",value:ht}),ct.reportTrace(ss)},{reportAllChanges:!0})}c(yo,"registerOnINP");var Qt=e("7ibc"),Bo=e("9Tv7");function un(an){an.hooks.renderApp.tap("Render React",function(){var Zt=Object(s.coroutine)(function*(ht){let{store:jt,contextualInfo:Pe}=ht;return Object(It.a)(),Object(_a.renderClient)({contextualInfo:Pe}),{store:jt,contextualInfo:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Deferred messaging client data fetches",function(){var Zt=Object(s.coroutine)(function*(ht){let{store:jt,contextualInfo:Pe}=ht;const ct=Object(te.d)(window.location.search),{open:Dn}=ct,eo=Dn==="huddles_deeplink"?Dn:"boot";return jt.dispatch(Object(Xe.a)({reason:"client-v2-boot-team",megaphoneReason:eo})),{store:jt,contextualInfo:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Maybe get current calendar and user",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return U({contextualInfo:jt,store:Pe}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Maybe enable PWA",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return S({contextualInfo:jt,store:Pe}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Log if we forced a refresh due to a service worker network stack failure",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return Object(F.b)(),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Maybe open a modal on boot based on query params",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return da({contextualInfo:jt,store:Pe}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Maybe redirect users to the event view if they are on a solo workspace",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return Tn({store:Pe}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Update the list of desktop client ids for the current user",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return K({contextualInfo:jt,store:Pe}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Fire a telemetry call if the current user has a screenreader enabled",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return ee({contextualInfo:jt,store:Pe}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Save channel sidebar and team switcher colors",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return P({contextualInfo:jt,store:Pe}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Navigate to sign-in, if the user is not booted into the foregrounded team",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return jt.isForegroundTeam&&fa(),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Register performance observer",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return jt.isForegroundTeam&&(Object(ko.a)(),yo()),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Report initial HTML/JS fetch timing metrics",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return Object(t.a)({contextualInfo:jt}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Record store timestamp",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return O({contextualInfo:jt}),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Maybe hide the green screenshare border on SSB",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return Object(X.db)()&&Object($e.c)(),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Fetch canvas templates",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return Object(Qt.b)(Pe.getState())&&Pe.dispatch(Object(Bo.d)()),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}()),an.hooks.renderComplete.tap("Maybe restore child windows",function(){var Zt=Object(s.coroutine)(function*(ht){let{contextualInfo:jt,store:Pe}=ht;return Pe.dispatch(_n()),{contextualInfo:jt,store:Pe}});return function(ht){return Zt.apply(this,arguments)}}())}c(un,"register")},AaVa:function(le,y,e){"use strict";e.r(y),e.d(y,"DataQa",function(){return Q}),e.d(y,"BaseCheckoutRescueBanner",function(){return X});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("RVJP"),v=e("beVI"),B=e("/0Xg"),P=e("ktUG"),M=e("nNoG"),L=e("69o4"),z=e("uVZW"),U=e("Trx9"),g=e("IiTT"),J=e("Tevt"),d=e("1jr5");function S(){return S=Object.assign||function(H){for(var w=1;w<arguments.length;w++){var T=arguments[w];for(var ee in T)Object.prototype.hasOwnProperty.call(T,ee)&&(H[ee]=T[ee])}return H},S.apply(this,arguments)}c(S,"_extends");const F=new M.b("checkout_abandonment"),x="checkout_abandonment_banner",Q={Banner:x,Link:`${x}_link`},V={isPrimaryCTA:!0,onClick:{enableClogAction:!0},elementName:"checkout_link"},X=c(H=>{let{entryPoint:w,experimentCheckoutAbandonmentRescueGroupTreatment:T,onClick:ee,onClose:ne,productId:ue,team:te}=H;if(!T)return null;const D=Object(B.u)({team:te,entryPoint:w,productId:ue}),f=c(ie=>{let{text:Z}=ie;return t.a.createElement(J.a,{"data-qa":Q.Link,autoClogProps:V,onClick:ee,href:D},Z)},"renderCheckoutLink");return t.a.createElement(U.a,{eventId:P.EventId.UPGRDEXP_CHECKOUT,elementType:P.ElementType.BANNER,clogImpression:!0,enableClogImpressionOffScreen:!0,uiComponentName:P.UiComponentName.CHECKOUT_RESCUE_BANNER},t.a.createElement(g.a,{className:"align_center",type:d.b.info,preventTypeOverride:!0,isFixedPosition:!1,onClose:ne,"data-qa":Q.Banner},F.rt("Looks like you started upgrading to a more powerful paid plan, but didn\u2019t make it all the way through. <a>Finish checkout</a>",{"<a>":f})))},"CheckoutRescueBanner");X.displayName="CheckoutRescueBanner";const K=c(H=>{const w=Object(C.c)(v.g),T=Object(C.c)(D=>Object(O.d)(D,"checkout_abandonment_rescue")==="treatment"),ee=Object(u.i)(),ne=Object(s.useCallback)(D=>ee(Object(L.a)({spaceName:z.g.CLIENT_FOOTER,action:D})),[ee]),ue=Object(s.useCallback)(()=>{ne(z.f.DISMISS)},[ne]),te=Object(s.useCallback)(()=>{ne(z.f.CLICK)},[ne]);return t.a.createElement(X,S({experimentCheckoutAbandonmentRescueGroupTreatment:T,team:w,onClick:te,onClose:ue},H))},"ConnectedCheckoutRescueBanner");K.displayName="ConnectedCheckoutRescueBanner",y.default=K},AfuT:function(le,y,e){"use strict";e.r(y);var s=e("9oTK"),t=e("q1tI"),u=e.n(t),C=e("BHdc"),O=e("/MKj"),v=e("zxER"),B=e("wuvV"),P=e("nNoG"),M=e("UAMj"),L=e("uiBO"),z=e("69o4"),U=e("7+Lm"),g=e("uVZW"),J=e("eWGC"),d=e("EAKl"),S=e("ZobM"),F=e("nFQW"),x=e("qDEp"),Q=e("03PU"),V=e("N0zA"),X=e("A/mR"),K=e("ktUG"),H=e("PV82"),w=e("VA3Q");const T=new P.b("assistant"),ee=c(ze=>{let{children:mt}=ze;const Me=Object(v.c)(d.q),{slackAiTrialEndDate:Ct}=Object(v.f)(Ln=>Me?Object(U.b)(Ln,g.g.IN_PRODUCT_COACHMARK):{slackAiTrialEndDate:""}),Qe=T.t("You\u2019re on a 30-day Slack AI trial",{slackAiTrialEndDate:Object(X.g)(Ct,"{date_num}",{customFormat:"MMMM D"}),fallbackHash:"e940de2e468f479f6c20e55a65fe6aa59b8b0aa7"}),{isOpen:st,closeCoachmark:Ot,renderCoachmark:cn}=Object(V.a)(g.h.SLACK_AI_PERSISTENT_SIDEBAR_NFX_COACHMARK),Ht=Object(t.useMemo)(()=>({eventId:K.EventId.NATIVE_AI,uiStep:K.UiStep.SLACK_AI_PERSISTENT_SIDEBAR_NFX_COACHMARK,elementName:H.a.NUX_COACHMARK}),[]),Nn=Object(t.useCallback)(()=>{Ot()},[Ot]),zt=cn({className:"p-slack_ai_persistent_sidebar_nfx_coachmark",closeCoachmark:Nn,icon:"/img/slack_ai/celebration.svg",offsetX:-20,offsetY:16,title:Qe,ariaLabel:Qe,bodyText:Me?T.t("Learn more in our help center about how you can get the most out of your day with Slack AI."):"Learn more in our help center about how you can get the most out of your day with Slack AI.",autoClogProps:Ht});return!Me||!st?mt:u.a.createElement(Q.c,{coachmarkElement:zt,orientation:"right"},u.a.createElement("div",{className:"p-slack_ai_persistent_sidebar_nfx_coachmark"},mt))},"SlackAiPersistentSidebarNfxCoachmark");ee.displayName="SlackAiPersistentSidebarNfxCoachmark";var ne=ee,ue=e("3l96"),te=e("ZsGj"),D=e("kqp1");const f=new P.b("assistant"),ie=25076892548883,Z={SLACK_AI_TRIAL:"slack_ai_trial",SLACK_AI:"slack_ai"},pe={LEARN_MORE:"learn_more",TAKE_TOUR:"take_tour"},q=c(()=>{const ze=Object(O.i)(),mt=Object(v.c)(d.q),Me=Object(v.c)(d.r),Ct=Object(v.c)(D.c);Object(B.a)(g.h.SIDEBAR_MENU_HEADER_SLACK_AI_NFX_CTA);const Qe=Object(t.useCallback)(()=>{ze(Object(z.a)({spaceName:g.g.SIDEBAR_MENU_HEADER,action:g.f.DISMISS}))},[ze]),st=Object(t.useCallback)(()=>{ze(Object(M.a)({id:"help",params:{articleId:ie},viewType:L.c.Help}))},[ze]),{displayLearnMoreVariant:Ot}=Object(v.f)(Fn=>mt?Object(U.b)(Fn,g.g.SIDEBAR_MENU_HEADER):{displayLearnMoreVariant:""}),cn=Object(t.useCallback)(Object(s.coroutine)(function*(){yield ze(Object(J.a)({notificationName:g.h.SIDEBAR_MENU_HEADER_SLACK_AI_NFX_CTA,action:g.f.CLICK})),yield ze(Object(ue.a)({element:u.a.createElement(te.default,null)}))}),[ze]),Ht=Object(t.useMemo)(()=>({eventId:K.EventId.NATIVE_AI,uiStep:K.UiStep.SLACK_AI_PERSISTENT_SIDEBAR_NFX_BANNER,onClick:{enableClogAction:!0},slackAiLicenseType:Ct?Z.SLACK_AI_TRIAL:Z.SLACK_AI,stepVariant:Ot?pe.LEARN_MORE:pe.TAKE_TOUR}),[Ot,Ct]),Nn=Object(t.useMemo)(()=>({...Ht,elementName:H.a.PERSISTENT_SIDEBAR_NFX_BANNER}),[Ht]),zt=Object(t.useMemo)(()=>({...Ht,elementName:H.a.PERSISTENT_SIDEBAR_NFX_BANNER_DISMISS}),[Ht]),Ln=Object(t.useCallback)(Fn=>{let{text:Ye}=Fn;return u.a.createElement(x.e,{onClick:Ot?st:cn,className:"p-slack_ai_persistent_sidebar_nfx_cta__link",autoClogProps:Nn},Ye)},[Nn,Ot,cn,st]);return mt?u.a.createElement(ne,null,u.a.createElement("div",{className:Object(C.default)("p-slack_ai_persistent_sidebar_nfx_cta",{"p-slack_ai_persistent_sidebar_nfx_cta--v2-designs":Me})},Me?u.a.createElement("span",{className:"p-slack_ai_persistent_sidebar_nfx_cta__content"},u.a.createElement("span",{className:"p-slack_ai_persistent_sidebar_nfx_cta__icon"},u.a.createElement(S.a,{name:"slack-ai",size:"16"})),Ot?f.rt("AI is here. <a>Learn more</a>",{"<a>":Ln}):f.rt("Try Slack AI. <a>Take a tour</a>",{"<a>":Ln})):u.a.createElement(x.e,{onClick:Ot?st:cn,className:"p-slack_ai_persistent_sidebar_nfx_cta__description",autoClogProps:Nn},u.a.createElement(S.a,{name:"slack-ai",size:"20"}),u.a.createElement("span",{className:"p-slack_ai_persistent_sidebar_nfx_cta__description_text"},Ot?f.t("Learn about Slack AI"):f.t("Take the Slack AI tour"))),u.a.createElement(F.a,{"aria-label":f.t("Close"),onClick:Qe,className:"p-slack_ai_persistent_sidebar_nfx_cta__close",autoClogProps:zt},u.a.createElement("span",{className:Object(C.default)({"p-slack_ai_persistent_sidebar_nfx_cta__close_icon":Me})},u.a.createElement(S.a,{name:"close",size:Me?"16":"20"}))))):null},"SlackAiPersistentSidebarNfxCta");q.displayName="SlackAiPersistentSidebarNfxCta";var xe=y.default=q},Arwo:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("BHdc"),C=e("nxXk"),O=e("d/7b"),v=e("ZobM"),B=e("oEDn");function P(x){let{iconType:Q,channelIsUnread:V,className:X=void 0}=x;if(["lock-o","channel","channel-pane-hash"].includes(Q)){let K="channel";return Q==="lock-o"&&(K="lock"),t.a.createElement("div",{className:X},t.a.createElement(v.a,{size:"16",name:K,variation:V&&(Q==="channel"||Q==="channel-pane-hash")?"filled":void 0,"data-qa":"sidebar-channel-icon-prefix","data-sidebar-channel-icon":K}))}return t.a.createElement(B.a,{className:X,"data-qa":"sidebar-channel-icon-prefix",inline:!0,size:"inherit",type:Q})}c(P,"ChannelPrefixIcon"),P.displayName="ChannelPrefixIcon";var M=t.a.memo(P),L=e("NPtR");function z(x){let{userId:Q,className:V}=x;return t.a.createElement(L.a,{className:Object(u.default)("p-channel_sidebar__presence_icon","p-channel_sidebar__presence_icon--dim_enabled",V),"data-qa":"sidebar-channel-presence-prefix",inline:!1,memberId:Q})}c(z,"ChannelPrefixPresence"),z.displayName="ChannelPrefixPresence";var U=t.a.memo(z),g=e("viKh");function J(x){let{className:Q}=x;return t.a.createElement("div",{className:Q},t.a.createElement(v.a,{size:"16",name:"canvas","data-qa":"sidebar-channel-icon-prefix","data-sidebar-channel-icon":"canvas"}))}c(J,"ChannelPrefixWithCanvasIndicator"),J.displayName="ChannelPrefixWithCanvasIndicator";var d=t.a.memo(J);function S(x){let{memberIdFromIm:Q=void 0,isSlackbotChannel:V=!1,isUnread:X=!1,isSelected:K=!1,isTyping:H=!1,isAppIm:w=!1,experimentCanvasSidebarMixGroupOn:T=!1,iconType:ee="channel",mpimMember:ne=void 0,className:ue=void 0,showAvatars:te=!1,showPresence:D=!1,mpimMemberCount:f=void 0,channelIsCanvasFile:ie=!1}=x;if(D||V)return te?t.a.createElement(g.a,{userId:Q,className:ue,isAppIm:w,isSlackbotChannel:V}):t.a.createElement(U,{userId:Q,className:ue});if(te&&ne)return t.a.createElement(O.a,{className:ue,mpimMember:ne,userCount:f||0});const Z=Object(u.default)("p-channel_sidebar__channel_icon_prefix",{"p-channel_sidebar__channel_icon_prefix--im-slackbot":V},ue);return H&&!K?t.a.createElement(C.a,{className:Z}):T&&ie?t.a.createElement(d,{className:Z}):t.a.createElement(M,{iconType:ee,channelIsUnread:!!X,className:Z})}c(S,"ChannelPrefix"),S.displayName="ChannelPrefix";var F=y.a=t.a.memo(S)},BjeH:function(le,y,e){"use strict";e.d(y,"a",function(){return v}),e.d(y,"b",function(){return B});var s=e("lE2N"),t=e("BeL+"),u=e("G4qV"),C=e("IaLB"),O=e("v5z3");const v=Object(u.a)(P=>Object(C.j)(P),function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Object(s.a)(P,"email").map((M,L)=>{let{email:z="",name:U,photo:g}=M;return{id:`email-${L}`,type:O.s.DirectMessageEmail,emailName:z.split("@")[0],emailString:z,name:U,photo:g}})}),B=Object(u.a)(P=>Object(C.v)(P),function(){let P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Object(t.a)(P).map(M=>({id:`member-${M}`,type:O.s.DirectMessageMember,memberId:M}))})},DD9N:function(le,y,e){le.exports=e.p+"sales-coachmark-e4414f7.png"},Dcay:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("UnpP"),O=e("I0j/"),v=e("37+L"),B=e("UmHn"),P=e("OaiI"),M=e("03PU"),L=e("N0zA"),z=e("nNoG"),U=e("zxER"),g=e("eWGC"),J=e("uVZW"),d=e("M5O7"),S=e.n(d),F=e("6AJQ"),x=e.n(F);const Q=new z.b("lists"),V=c(K=>{let{children:H}=K;const w=Object(u.i)(),T=Object(U.c)(P.isListsPilotNUXEnabled),{closeCoachmark:ee,isOpen:ne,renderCoachmark:ue}=Object(L.a)(J.h.LISTS_INTRODUCING_LISTS_COACHMARK),te=Object(s.useCallback)(()=>{ee()},[ee]),D=Object(s.useCallback)(()=>{ee(),w(Object(O.a)(Object(v.X)(B.a.BrowseLists)))},[w,ee]);if(Object(s.useEffect)(()=>{ne&&w(Object(g.a)({action:J.f.IMPRESSION,notificationName:J.h.LISTS_INTRODUCING_LISTS_COACHMARK}))},[w,ne]),!T)return t.a.createElement(t.a.Fragment,null,H);const f=t.a.createElement("div",{className:"p-lists_introducing_lists_coachmark__hero"},t.a.createElement("img",{srcSet:`${S.a}, ${x.a} 2x`,alt:Q.t("Introducing Lists coachmark")})),ie=Q.rt("{sparklesEmoji} Introducing Lists {sparklesEmoji}",{sparklesEmoji:t.a.createElement(C.b,{emojiSize:C.a.MEDIUM,text:"sparkles"})}),Z=Q.t("Welcome to the new way to stay organized in Slack. Collaboratively manage projects, prioritize issues, organize requests and more."),pe=ue({className:"p-lists_introducing_lists_coachmark",hero:f,title:ie,bodyText:Z,centerOnArrow:!0,width:382,offsetX:-15,offsetY:-5,arrowPosition:70,closeCoachmark:te,orientation:M.a.Right,isMegaphoneCoachmark:!0,onClickLink:D,linkText:Q.t("Take me there!")});return t.a.createElement(M.c,{coachmarkElement:pe,orientation:"right"},H)},"ListsIntroducingListsCoachmark");V.displayName="ListsIntroducingListsCoachmark";var X=y.default=V},E4u3:function(le,y,e){"use strict";e.d(y,"b",function(){return B}),e.d(y,"c",function(){return P}),e.d(y,"a",function(){return M});var s=e("UnpP"),t=e("+J8q"),u=e("nNoG"),C=e("q1tI"),O=e.n(C);const v=new u.b("mentions");function B(L,z,U){return[{title:v.rt("{emoji} You\u2019re all caught up",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:Object(t.a)("raised_hands",L,z),className:"p-activity_ia4_page__unreads_emoji"}),fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("Nice work!",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})},{title:v.rt("{emoji} Nothing new",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"sun_with_face",className:"p-activity_ia4_page__unreads_emoji"}),fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("Carry on.",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})},{title:v.rt("{emoji} Ta-da!",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"tada",className:"p-activity_ia4_page__unreads_emoji"}),fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("You\u2019re up to date.",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})},{title:v.rt("{emoji} You\u2019ve read all the unreads",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"horse",className:"p-activity_ia4_page__unreads_emoji"}),fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("Here\u2019s a pony.",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})},{title:U?v.rt("{emoji} No unread DMs",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"otter",className:"p-activity_ia4_page__unreads_emoji"}),fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}):v.rt("{emoji} No unread activity",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"otter",className:"p-activity_ia4_page__unreads_emoji"}),fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("Isn\u2019t that nice?",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})}]}c(B,"getUnreadsEmptyPageData"),B.displayName="getUnreadsEmptyPageData";function P(L,z,U){return[{title:v.rt("{emoji} No unread {filter}",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:Object(t.a)("raised_hands",L,U),className:"p-activity_ia4_page__unreads_emoji"}),filter:z,fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("Nice work!",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})},{title:v.rt("{emoji} No unread {filter}",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"sun_with_face",className:"p-activity_ia4_page__unreads_emoji"}),filter:z,fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("Carry on.",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})},{title:v.rt("{emoji} No unread {filter}",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"tada",className:"p-activity_ia4_page__unreads_emoji"}),filter:z,fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("You\u2019re up to date.",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})},{title:v.rt("{emoji} No unread {filter}",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"horse",className:"p-activity_ia4_page__unreads_emoji"}),filter:z,fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("Here\u2019s a pony.",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})},{title:v.rt("{emoji} No unread {filter}",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:"otter",className:"p-activity_ia4_page__unreads_emoji"}),filter:z,fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"}),description:v.t("Isn\u2019t that nice?",{fallbackHash:"4177b01ddb0588662b1d0f38f1d5bdab467bee8b"})}]}c(P,"getUnreadsEmptyPageDataForFilter"),P.displayName="getUnreadsEmptyPageDataForFilter";function M(L,z,U){let g=v.t("No mentions\u2026yet",{fallbackHash:"749371558bd46b102e898a12eecbb45b019c6672"});return L==="replies"?g=v.t("No thread replies\u2026yet",{fallbackHash:"749371558bd46b102e898a12eecbb45b019c6672"}):L==="reactions"?g=v.t("No reactions\u2026yet",{fallbackHash:"749371558bd46b102e898a12eecbb45b019c6672"}):L==="apps"?g=v.t("No app notifications\u2026yet",{fallbackHash:"749371558bd46b102e898a12eecbb45b019c6672"}):L==="invitations"&&(g=v.t("No invitations\u2026yet",{fallbackHash:"749371558bd46b102e898a12eecbb45b019c6672"})),{title:v.rt("{emoji} {title}",{emoji:O.a.createElement(s.b,{emojiSize:s.a.LARGE,text:Object(t.a)("bell",z,U),className:"p-activity_ia4_page__unreads_emoji"}),title:g,fallbackHash:"f3840c9b4e242dc69c585bf7cc03efb1c539480b"})}}c(M,"getTabEmptyPageData"),M.displayName="getTabEmptyPageData"},E5vq:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("BHdc"),O=e("nNoG"),v=e("ZobM"),B=e("WAPM"),P=e("qDEp"),M=e("zxER"),L=e("69o4"),z=e("T1zM"),U=e("JoR1"),g=e("uVZW"),J=e("zm5I"),d;(function(q){q.TreatmentAOrganizeSidebarHelpLink="question_and_recommendation_treatment_a_organize_sidebar_help_link",q.TreatmentASendRemindersHelpLink="question_and_recommendation_treatment_a_send_reminders_help_link",q.TreatmentAShareAudioVideoHelpLink="question_and_recommendation_treatment_a_share_audio_video_help_link",q.TreatmentBHelpLink="question_and_recommendation_treatment_b_help_link",q.TreatmentCHelpLink="question_and_recommendation_treatment_c_help_link"})(d||(d={}));var S={tipContainer:"tipContainer__jAsaX",tipHeader:"tipHeader__oWhQ2",headerTitleContainer:"headerTitleContainer__MJfje",title:"title__5XwyB",tipItem:"tipItem__1CREQ",tipIcon:"tipIcon__RH82y",tipListContainer:"tipListContainer__63VYt",tipContent:"tipContent__gFqPU",tipAnimatedGif:"tipAnimatedGif__ffZbI",learnHow:"learnHow__quJ1f",learnHowHelpLink:"learnHowHelpLink__xcACG",helpLink:"helpLink__te40J",helpLinkDark:"helpLinkDark__URWsh",tipCloseText:"tipCloseText__yQXhP",caratDark:"caratDark__LEXRr"};const F=new O.b("productivity_tip"),x=c(()=>{const q=Object(M.c)(Qe=>Object(U.u)(Qe,"question_and_recommendation_banner_collapsed"))||!1,xe=Object(u.i)(),ze=Object(s.useCallback)(()=>{xe(Object(z.f)({pref:"question_and_recommendation_banner_collapsed",value:!q}))},[xe,q]),mt=Object(M.c)(J.a),Me=Object(C.default)(S.helpLink,{[S.helpLinkDark]:mt==="dark"}),Ct=Object(s.useCallback)(()=>{xe(Object(L.a)({spaceName:g.g.SIDEBAR_POPOUT,action:g.f.DISMISS}))},[xe]);return t.a.createElement("div",{className:S.tipContainer},t.a.createElement("div",{className:S.tipHeader},t.a.createElement("div",{className:S.headerTitleContainer},t.a.createElement(v.a,{name:"emoji-objects",size:"20"}),t.a.createElement("span",{className:S.title},F.t("Want a productivity boost?"))),t.a.createElement(P.d,{"aria-expanded":q,className:Object(C.default)(S.carat,{[S.caratDark]:mt==="dark"}),onClick:ze},t.a.createElement(v.a,{name:q?"caret-up":"caret-down",size:"24"}))),!q&&t.a.createElement("div",{className:S.tipListContainer},t.a.createElement(B.a,{className:Me,articleId:360043207674,autoClogProps:{elementName:d.TreatmentAOrganizeSidebarHelpLink,onClick:{enableClogAction:!0}}},t.a.createElement("div",{className:S.tipItem},t.a.createElement("span",{className:S.tipIcon},t.a.createElement(v.a,{name:"sidebar-left",size:"20"})),F.t("Organize your sidebar"))),t.a.createElement(B.a,{className:Me,articleId:208423427,autoClogProps:{elementName:d.TreatmentASendRemindersHelpLink,onClick:{enableClogAction:!0}}},t.a.createElement("div",{className:S.tipItem},t.a.createElement("span",{className:S.tipIcon},t.a.createElement(v.a,{name:"reminder",size:"20"})),F.t("Send yourself reminders"))),t.a.createElement(B.a,{className:Me,articleId:4406235165587,autoClogProps:{elementName:d.TreatmentAShareAudioVideoHelpLink,onClick:{enableClogAction:!0}}},t.a.createElement("div",{className:S.tipItem},t.a.createElement("span",{className:S.tipIcon},t.a.createElement(v.a,{name:"video",size:"20"})),F.t("Share audio and video clips"))),t.a.createElement(P.d,{className:S.tipCloseText,onClick:Ct},F.t("Don\u2019t show again"))))},"ProductivityTipTreatmentA");x.displayName="ProductivityTipTreatmentA";var Q=e("nJZ4"),V=e.n(Q),X=e("x1ew"),K=e.n(X);const H=new O.b("productivity_tip"),w=c(()=>{const q=Object(u.i)(),xe=Object(s.useCallback)(()=>{q(Object(L.a)({spaceName:g.g.SIDEBAR_POPOUT,action:g.f.DISMISS}))},[q]),ze=Object(M.c)(J.a);return t.a.createElement("div",{className:S.tipContainer},t.a.createElement("div",{className:S.tipHeader},t.a.createElement("span",null,H.t("Organize your conversations")),t.a.createElement(P.d,{className:S.closeButton,onClick:xe},t.a.createElement(v.a,{name:"close"}))),t.a.createElement("img",{src:ze==="dark"?K.a:V.a,className:S.tipAnimatedGif,alt:H.t("animation of organizing the Slack sidebar")}),t.a.createElement("div",{className:S.tipContent},t.a.createElement("div",null,H.t("Focus on the channels and messages that matter most by tailoring your sidebar with custom sections.")),t.a.createElement("div",{className:S.learnHow},t.a.createElement(B.a,{className:S.learnHowHelpLink,articleId:360043207674,autoClogProps:{elementName:d.TreatmentBHelpLink,onClick:{enableClogAction:!0}}},H.t("Learn how")))))},"ProductivityTipTreatmentB");w.displayName="ProductivityTipTreatmentB";var T=e("1lh3"),ee=e.n(T),ne=e("6llb"),ue=e.n(ne);const te=new O.b("productivity_tip"),D=c(()=>{const q=Object(u.i)(),xe=Object(s.useCallback)(()=>{q(Object(L.a)({spaceName:g.g.SIDEBAR_POPOUT,action:g.f.DISMISS}))},[q]),ze=Object(M.c)(J.a);return t.a.createElement("div",{className:S.tipContainer},t.a.createElement("div",{className:S.tipHeader},t.a.createElement("span",null,te.t("Remind yourself about messages")),t.a.createElement(P.d,{className:S.closeButton,onClick:xe},t.a.createElement(v.a,{name:"close"}))),t.a.createElement("img",{src:ze==="dark"?ue.a:ee.a,className:S.tipAnimatedGif,alt:te.t("animation of setting a message reminder in Slack")}),t.a.createElement("div",{className:S.tipContent},t.a.createElement("div",null,te.t("In the zone? Going somewhere? Set a reminder to come back and reply to a message later.")),t.a.createElement("div",{className:S.learnHow},t.a.createElement(B.a,{className:S.learnHowHelpLink,articleId:208423427,autoClogProps:{elementName:d.TreatmentCHelpLink,onClick:{enableClogAction:!0}}},te.t("Learn how")))))},"ProductivityTipTreatmentC");D.displayName="ProductivityTipTreatmentC";var f=e("79wK");const ie=f.a.QUESTION_AND_RECOMMENDATION_TIP,Z=c(q=>{let{treatment:xe}=q;return xe==="treatment_a"?t.a.createElement(x,null):xe==="treatment_b"?t.a.createElement(w,null):xe==="treatment_c"?t.a.createElement(D,null):null},"QuestionAndRecommendation");Z.displayName="QuestionAndRecommendation";var pe=y.default=Z},E81m:function(le,y,e){"use strict";e.d(y,"a",function(){return v});var s=e("q1tI"),t=e.n(s),u=e("wKGu"),C=e("WSQ4"),O=e("ktUG");const v=c((B,P)=>{const{window:M}=Object(s.useContext)(C.a),L=Object(u.a)();return{clogDismissFromOverlay:Object(s.useCallback)(U=>{var g,J;const d=(J=(g=M.document)===null||g===void 0?void 0:g.getElementsByClassName(B))===null||J===void 0?void 0:J[0];U&&d&&!d.contains(U.target)&&P.eventId&&L.track(P.eventId,{contexts:{ui_context:{action:O.UiAction.CLOSE,...(P==null?void 0:P.uiStep)&&{step:P==null?void 0:P.uiStep},...(P==null?void 0:P.uiComponentVariant)&&{ui_component_variant:P==null?void 0:P.uiComponentVariant},...(P==null?void 0:P.elementName)&&{ui_properties:{element_name:`${P==null?void 0:P.elementName}_outside_close`}}}}})},[P,L,B,M])}},"useClogDismissFromOverlay")},EBYt:function(le,y,e){le.exports=e.p+"log-activity-coachmark-hero-4fdc9c5.png"},EHvj:function(le,y,e){le.exports=e.p+"Slack_AI_NUX_Recap_Coachmark_Dark-47575c1.png"},EQMr:function(le,y,e){"use strict";e.r(y),e.d(y,"renderCoachmarkForHubble",function(){return F}),e.d(y,"BaseJoinerLaunchpadDismissedCoachmark",function(){return d});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("ZFGU"),O=e("o3gz"),v=e("03PU"),B=e("N0zA"),P=e("nNoG"),M=e("zxER"),L=e("q6Tz"),z=e("uVZW"),U=e("p/ji");function g(){return g=Object.assign||function(x){for(var Q=1;Q<arguments.length;Q++){var V=arguments[Q];for(var X in V)Object.prototype.hasOwnProperty.call(V,X)&&(x[X]=V[X])}return x},g.apply(this,arguments)}c(g,"_extends");const J=new P.b("joiner_launchpad"),d=c(x=>{let{children:Q,renderCoachmark:V,stepVariant:X,UNSAFE_parentSelector:K,onClose:H}=x;const w=J.t("You can always explore more in \u201CMore\u201D"),T=J.t("Browse people, channels, workflows, files \u2014 you name it, you can find it in More."),ee=V({title:w,bodyText:T,centerOnArrow:!0,offsetX:-15,offsetY:-8,arrowPosition:30,closeCoachmark:H,orientation:v.a.Right,autoClogProps:Object(C.f)(X),UNSAFE_parentSelector:K});return t.a.createElement(v.c,{coachmarkElement:ee,orientation:"right"},Q)},"JoinerLaunchpadDismissedCoachmark");d.displayName="JoinerLaunchpadDismissedCoachmark";const S=c(x=>{let{children:Q}=x;const V=Object(u.i)(),{isOpen:X,closeCoachmark:K,renderCoachmark:H}=Object(B.a)(z.h.JOINER_LAUNCHPAD_DISMISSED_COACHMARK),w=Object(M.c)(ne=>Object(U.i)(ne,!0)),T=Object(M.c)(U.e),ee=Object(s.useCallback)(()=>{K(),V(Object(L.c)({event:{type:z.e.REQUEST_SPACES,spaces:[z.g.PROGRESSIVE_DISCLOSURE,z.g.WELCOME_SPACE],iaVersion:4}}))},[V,K]);return!w||!X?Q:t.a.createElement(d,{renderCoachmark:H,onClose:ee,stepVariant:T},Q)},"ConnectedJoinerLaunchpadDismissedCoachmark");S.displayName="ConnectedJoinerLaunchpadDismissedCoachmark";const F=c(x=>t.a.createElement(O.b,g({},x)),"renderCoachmarkForHubble");y.default=S},FAb6:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseTabsCustomizationNuxCoachmark",function(){return V});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("vDDd"),O=e.n(C),v=e("P7By"),B=e("9Rsq"),P=e("79wK"),M=e("qN/r"),L=e("zxER"),z=e("uVZW"),U=e("JoR1"),g=e("03PU"),J=e("N0zA"),d=e("ktUG"),S=e("nNoG");const F=new S.b("view"),x={clogImpression:!0,elementName:"more_tab_coachmark_close",uiComponentName:d.UiComponentName.MORE_TAB_NUX_COACHMARK},Q=P.a.TABS_CUSTOMIZATION_NUX_COACHMARK,V=c(H=>{let{areAnimationsEnabled:w,children:T,onClick:ee,onClose:ne,renderCoachmark:ue,UNSAFE_parentSelector:te}=H;const D=Object(s.useCallback)(()=>e.e("tabs-customization-nux-coachmark.json").then(e.t.bind(null,"r5Ok",3)),[]),f=Object(s.useMemo)(()=>w?t.a.createElement(v.a,{autoplay:!0,svgClassName:"p-tabs_customization_nux_coachmark__hero",getAnimationImport:D,loop:!0}):t.a.createElement("img",{alt:"","aria-hidden":!0,className:"p-tabs_customization_nux_coachmark__hero",src:O.a,width:"100%"}),[w,D]),ie=ue({autoClogProps:x,bodyText:F.t("Now you can customize the navigation bar to include the tabs you use most."),centerOnArrow:!0,className:"p-tabs_customization_nux_coachmark",closeBackgroundStyle:"dark",closeCoachmark:ne,hero:f,offsetX:-8,onClickPrimaryButton:ee,orientation:"right",primaryCallToActionText:F.t("Try it"),title:F.t("Put your favorite tools front and center"),UNSAFE_parentSelector:te,width:400});return t.a.createElement(g.c,{coachmarkAnchorClassNames:"p-home_tab_button__coachmark_anchor",coachmarkElement:ie,orientation:"right"},T)},"BaseTabsCustomizationNuxCoachmark");V.displayName="BaseTabsCustomizationNuxCoachmark";const X=c(H=>{let{children:w}=H;const T=Object(u.i)(),{closeCoachmark:ee,renderCoachmark:ne}=Object(J.a)(z.h.TAB_RAIL_TABS_CUSTOMIZATION_NUX_COACHMARK),ue=Object(L.c)(f=>!!Object(U.u)(f,"a11y_animations")),te=Object(s.useCallback)(()=>ee(!1),[ee]),D=Object(s.useCallback)(()=>{T(Object(M.a)({activeSection:B.a.tabRail})),te()},[T,te]);return t.a.createElement(V,{areAnimationsEnabled:ue,onClick:D,onClose:te,renderCoachmark:ne},w)},"TabsCustomizationNuxCoachmark");X.displayName="TabsCustomizationNuxCoachmark";var K=y.default=Object(s.memo)(X)},FlVn:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("VP3E"),O=e("P7By"),v=e("aMUS"),B=e.n(v),P=e("1z69"),M=e("cD3f"),L=e("Jq9w"),z=e("03PU"),U=e("N0zA"),g=e("ktUG"),J=e("nNoG"),d=e("zxER"),S=e("eWGC"),F=e("uVZW"),x=e("JoR1"),Q=e("aHgF"),V=e("W1Ru");const X=new J.b("usecase_onboarding"),K="p-usecase_onboarding_coachmark__huddles_overlay",H={eventId:g.EventId.NEWXP_TEAM_CREATE,elementName:F.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,elementType:g.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:F.g.WELCOME_SPACE,megaphoneNotificationName:F.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,clogImpression:!0},w=c(T=>{let{children:ee}=T;const ne=Object(u.i)(),ue=Object(d.c)(st=>!!Object(x.u)(st,"a11y_animations")),te=Object(d.c)(Q.e),{openChannelCanvas:D}=Object(M.a)(),f=P.c[F.h.USECASE_ONBOARDING_HUDDLE_COACHMARK],ie=Object(s.useCallback)(()=>t.a.createElement(L.a,{currentStep:f,totalSteps:P.d}),[f]),Z=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-coachmark.json").then(e.t.bind(null,"5Qtj",3)),[]),pe=Object(s.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__huddles"}),[]),q=Object(s.useMemo)(()=>ue?t.a.createElement(O.a,{getAnimationImport:Z,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:pe}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:B.a,className:"p-usecase_onboarding_coachmark_gif"}),[Z,ue,pe]);Object(s.useEffect)(()=>{ne(Object(S.a)({notificationName:F.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,action:F.f.IMPRESSION}))},[ne]);const{onAfterOpen:xe}=Object(C.a)({className:P.a,highlightPadding:{left:-8},backgroundClassName:K}),{isOpen:ze,closeCoachmark:mt,renderCoachmark:Me}=Object(U.a)(F.h.USECASE_ONBOARDING_HUDDLE_COACHMARK,F.g.WELCOME_SPACE),Ct=Object(s.useCallback)(()=>{mt(!0),te&&D()},[mt,D,te]);if(!ze)return null;const Qe=Me({arrowPosition:85,hero:q,title:X.t("Host team meetings right in Slack"),bodyText:X.rt("Huddles are the quickest way to meet with your team. Start a voice or video huddle from any conversation. <steps></steps>",{"<steps>":ie}),closeCoachmark:Ct,onClickPrimaryButton:Ct,className:`p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__huddles ${P.a}`,primaryCallToActionText:X.t("Done"),ariaLabel:X.t("Huddles are the quickest way to meet with your team. Start a voice or video huddle from any conversation. {currentStep} of {totalSteps}",{currentStep:f,totalSteps:P.d}),autoClogProps:H,width:P.b,offsetX:-300,closeBackgroundStyle:"dark",orientation:z.a.Right,onAfterOpen:xe});return t.a.createElement(z.c,{coachmarkElement:Qe,orientation:"bottom"},ee)},"UsecaseOnboardingHuddlesCoachmark");w.displayName="UsecaseOnboardingHuddlesCoachmark",y.default=w},"GKX/":function(le,y,e){"use strict";e.r(y),e.d(y,"BaseHuddleSidebarMiniPlayerEducationCoachmark",function(){return S});var s=e("q1tI"),t=e.n(s),u=e("68qM"),C=e("/MKj"),O=e("Trx9"),v=e("ktUG"),B=e("nNoG"),P=e("uVZW"),M=e("69o4"),L=e("eWGC"),z=e("1jr5"),U=e("Tevt"),g=e("HoeF"),J=e("/ZOI");const d=new B.b("huddles"),S=c(x=>{let{dismissCoachmark:Q,onClickShowMore:V}=x;const X=Object(s.useMemo)(()=>({eventId:v.EventId.HUDDLES_NUX_TOOLTIP,uiAction:v.UiAction.CLICK,uiElement:v.UiElement.NUX_SHOW_MORE,uiStep:P.h.HUDDLE_MINI_PLAYER_EDUCATION,onClick:{enableClogAction:!0}}),[]);return t.a.createElement(O.a,{eventId:v.EventId.HUDDLES_NUX_TOOLTIP,uiStep:P.h.HUDDLE_MINI_PLAYER_EDUCATION,clogImpression:!0},t.a.createElement("div",null,t.a.createElement(z.c,{type:"info",showCloseButton:!0,isFixedPosition:!1,onClose:Q,className:"p-huddle_education__mini_player"},d.rt("<b>\u2728New!</b> Try adding a reaction or turning on your video to say hi. <a>Show me more.</a>",{"<a>":K=>{let{text:H}=K;return t.a.createElement(U.a,{autoClogProps:X,onClick:V},t.a.createElement("b",null,H))},"<b>":K=>{let{text:H}=K;return t.a.createElement("b",null,H)},fallbackHash:"a1974697fbff47b3a7d825d50b4f22b2d52411ca"}))))},"HuddleSidebarMiniPlayerEducationCoachmark");S.displayName="HuddleSidebarMiniPlayerEducationCoachmark";const F=c(()=>{const x=Object(C.i)();Object(u.a)(()=>{x(Object(L.a)({notificationName:P.h.HUDDLE_MINI_PLAYER_EDUCATION,action:P.f.IMPRESSION}))},[]);const Q=Object(s.useCallback)(()=>x(Object(M.a)({spaceName:P.g.IN_PRODUCT_COACHMARK,action:P.f.DISMISS})),[x]),V=Object(s.useCallback)(()=>{Q(),x(Object(g.l)({huddleEducationPromptEntrypoint:"MINI_PLAYER"}))},[x,Q]);return t.a.createElement(S,{dismissCoachmark:Q,onClickShowMore:V})},"ConnectedHuddleSidebarMiniPlayerEducationCoachmark");F.displayName="ConnectedHuddleSidebarMiniPlayerEducationCoachmark",y.default=F},GS4q:function(le,y,e){"use strict";(function(s){e.d(y,"a",function(){return T});var t=e("q1tI"),u=e.n(t),C=e("wSSu"),O=e.n(C),v=e("9rZX"),B=e.n(v),P=e("JEhF"),M=e("qJlv"),L=e("7B0+"),z=e.n(L),U=e("LRa4"),g=e("lhZz"),J=e("s4P+"),d=e("Pw4T"),S=e("7xYR"),F=e("Z7Ay"),x=e("TY84"),Q=e("1tno"),V=e("Uz4Y"),X=e("qdNi"),K=e("xuAo"),H=e("dJM2");const w=Object(L.hot)(s)(Q.a);function T(ee,ne){const ue=Object(g.getClientStoreInstance)(),te=Object(S.getFocusedWorkspace)(ue.getState()),D=c(()=>{O.a.render(u.a.createElement(P.a,{backend:M.a},u.a.createElement(U.b,{store:ue},u.a.createElement(U.a,{store:ue},u.a.createElement(V.a,null,u.a.createElement(w,null))))),ee,ne)},"render");D.displayName="render",Object(d.a)().count("client_boot_mount_attempt"),window.clientBootMountTeam=te,(te?Object(J.a)({teamId:te}):Object(J.b)()).info("BOOT",`(${te}) Mounting client`),D(),B.a.setAppElement(ee),Object(F.a)("mountClient",()=>{D()}),Object(F.a)("unmountClient",()=>{O.a.unmountComponentAtNode(ee)})}c(T,"mountClient")}).call(this,e("3UD+")(le))},GUMB:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("VP3E"),O=e("P7By"),v=e("4Pyn"),B=e.n(v),P=e("1z69"),M=e("Jq9w"),L=e("q0lC"),z=e("03PU"),U=e("N0zA"),g=e("Ccc1"),J=e("ktUG"),d=e("nNoG"),S=e("zxER"),F=e("E3dU"),x=e("q6Tz"),Q=e("eWGC"),V=e("uVZW"),X=e("NgZ7"),K=e("JoR1"),H=e("aHgF"),w=e("W1Ru");const T=new d.b("usecase_onboarding"),ee={eventId:J.EventId.NEWXP_TEAM_CREATE,elementName:V.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,elementType:J.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:V.g.WELCOME_SPACE,megaphoneNotificationName:V.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,clogImpression:!0},ne=c(ue=>{let{children:te}=ue;var D;const f=Object(u.i)(),ie=Object(S.c)(kn=>!!Object(K.u)(kn,"a11y_animations")),Z=P.c[V.h.USECASE_ONBOARDING_CHANNEL_COACHMARK],pe=Object(S.c)(L.h),q=Object(S.c)(kn=>Object(X.a)(kn,"use_case_onboarding_selection")),xe=Object(S.c)(F.s),ze=Object(s.useCallback)(()=>{f(Object(x.c)({event:{type:V.e.REQUEST_SPACES,spaces:[V.g.WELCOME_SPACE]}}))},[f]),mt=Object(s.useCallback)(()=>t.a.createElement(M.a,{currentStep:Z,totalSteps:P.d}),[Z]),Me=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-channels-coachmark.json").then(e.t.bind(null,"HZJ8",3)),[]),Ct=Object(s.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__channels"}),[]),Qe=Object(s.useMemo)(()=>ie?t.a.createElement(O.a,{getAnimationImport:Me,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:Ct}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:B.a,className:"p-usecase_onboarding_coachmark_gif"}),[Me,ie,Ct]);Object(s.useEffect)(()=>{f(Object(Q.a)({notificationName:V.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,action:V.f.IMPRESSION}))},[f]);const{onAfterOpen:st}=Object(C.a)({className:P.a}),{isOpen:Ot,closeCoachmark:cn,renderCoachmark:Ht}=Object(U.a)(V.h.USECASE_ONBOARDING_CHANNEL_COACHMARK,V.g.WELCOME_SPACE),Nn=Object(S.c)(H.e),zt=Object(s.useCallback)(()=>cn(!0),[cn]);if(!Ot)return null;const Ln=t.a.createElement(g.a,{channelId:(D=xe[0])===null||D===void 0?void 0:D.id,showTeam:!1});let Fn,Ye,dn,vt="";switch(q!=null&&q.length&&(vt=q.split("|")[0]),vt){case"meetings":{Fn=T.rt("Run meetings efficiently in {channelName}, your team\u2019s first channel",{channelName:Ln}),Ye=T.rt("Channels keep all of your conversations focused \u2014 whether that\u2019s over messaging, audio or video. <steps></steps>",{"<steps>":mt}),dn=T.t("Channels keep all of your conversations focused \u2014 whether that\u2019s over messaging, audio or video. {currentStep} of {totalSteps}",{currentStep:Z,totalSteps:P.d});break}case"connect":{Fn=T.rt("Stay aligned with clients in {channelName}, your first channel",{channelName:Ln}),Ye=T.rt("Channels keep projects focused so your team and your customers stay on the same page. <steps></steps>",{"<steps>":mt}),dn=T.t("Channels keep projects focused so your team and your customers stay on the same page. {currentStep} of {totalSteps}",{currentStep:Z,totalSteps:P.d});break}default:{Fn=T.rt("Stay aligned in {channelName}, your team\u2019s first channel",{channelName:Ln}),Ye=T.rt("Channels keep projects focused by organizing conversations, keeping everyone on the same page. <steps></steps>",{"<steps>":mt}),dn=Nn?T.t("Channels keep projects focused by organizing conversations, keeping everyone on the same page. {currentStep} of {totalSteps}",{currentStep:Z,totalSteps:P.d}):"";break}}pe||(Fn=T.rt("Welcome to {channelName}, one of your team\u2019s first channels",{channelName:Ln}));const Xn=Ht({arrowPosition:10,hero:Qe,title:Fn,bodyText:Ye,closeCoachmark:zt,onClickPrimaryButton:ze,className:`p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__channels ${P.a}`,primaryCallToActionText:T.t("Next"),ariaLabel:dn,autoClogProps:ee,width:P.b,offsetY:170,offsetX:-10,closeBackgroundStyle:"dark",onAfterOpen:st});return t.a.createElement(z.c,{coachmarkElement:Xn,orientation:"right"},te)},"UsecaseOnboardingChannelsCoachmark");ne.displayName="UsecaseOnboardingChannelsCoachmark",y.default=ne},Geup:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("uVZW"),C=e("s4P+"),O=e("nNoG"),v=e("1jr5"),B=e("Tevt"),P=e("/MKj"),M=e("ktUG"),L=e("69o4"),z=e("Trx9"),U=e("IiTT");const g=c(Wt=>{let{children:Yt,"data-qa":At,dunningSubtype:Ft,type:sa}=Wt;const ba=Object(P.i)(),Ha=Object(s.useCallback)(()=>{ba(Object(L.a)({spaceName:u.g.CLIENT_FOOTER,step:Ft,action:u.f.DISMISS}))},[ba,Ft]);return t.a.createElement(z.a,{eventId:M.EventId.UPGRDEXP_DUNNING_BANNER,elementType:M.ElementType.BANNER,clogImpression:!0,enableClogImpressionOffScreen:!0,uiComponentName:M.UiComponentName[Ft.toUpperCase()],uiStep:M.UiStep.BANNER_DUNNING},t.a.createElement(U.a,{type:sa,preventTypeOverride:!0,isFixedPosition:!1,onClose:Ha,"data-qa":At},Yt))},"DunningNoticeBanner");g.displayName="DunningNoticeBanner";var J=g;const d={ADMIN_BILLING_FAILED:"admin/billing/failed",CONTACT_SUPPORT:"help/requests/new"},S=new O.b("dunning_banners"),F={elementName:"admin_billing_methods",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},x=c(Wt=>{let{dunningSubtype:Yt}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_one_banner",dunningSubtype:Yt,type:v.b.warning},S.rt("There was an issue processing your recent payment. <a>Update your payment details</a>",{"<a>":At=>{let{text:Ft}=At;return t.a.createElement(B.a,{autoClogProps:F,"data-qa":"banner-dunning_billing_methods_link",href:d.ADMIN_BILLING_FAILED},Ft)}}))},"DunningNoticeDayOneBanner");x.displayName="DunningNoticeDayOneBanner";var Q=x;const V=new O.b("dunning_banners"),X={elementName:"admin_billing_methods",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},K=c(Wt=>{let{dunningSubtype:Yt}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_three_owner_cardholder_banner",dunningSubtype:Yt,type:v.b.warning},V.rt("Keep your workspace from being downgraded to the Free plan by <a>updating your payment details</a>.",{"<a>":At=>{let{text:Ft}=At;return t.a.createElement(B.a,{autoClogProps:X,"data-qa":"banner-dunning_billing_methods_link",href:d.ADMIN_BILLING_FAILED},Ft)}}))},"DunningNoticeDayThreeOwnerCardholderBanner");K.displayName="DunningNoticeDayThreeOwnerCardholderBanner";var H=K,w=e("DShJ");function T(){return T=Object.assign||function(Wt){for(var Yt=1;Yt<arguments.length;Yt++){var At=arguments[Yt];for(var Ft in At)Object.prototype.hasOwnProperty.call(At,Ft)&&(Wt[Ft]=At[Ft])}return Wt},T.apply(this,arguments)}c(T,"_extends");const ee=new O.b("dunning_banners"),ne={elementName:"show_members_admins",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},ue=c(Wt=>{let{dunningSubtype:Yt,onLinkClick:At}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_three_admin_billing_contacts_banner",dunningSubtype:Yt,type:v.b.warning},ee.rt("There was an issue processing payment for this workspace. Please <a>ask your Workspace Owner</a> to update their payment details.",{"<a>":Ft=>{let{text:sa}=Ft;return t.a.createElement(B.a,{autoClogProps:ne,"data-qa":"banner-dunning_admin_billing_contacts_link",onClick:At},sa)}}))},"DunningNoticeDayThreeAdminBillingContactsBanner");ue.displayName="DunningNoticeDayThreeAdminBillingContactsBanner";const te=c(Wt=>{const Yt=Object(P.i)(),At=Object(s.useCallback)(()=>{Yt(Object(w.a)({filters:{accountType:"admins"}}))},[Yt]);return t.a.createElement(ue,T({onLinkClick:At},Wt))},"ConnectedDunningNoticeDayThreeAdminBillingContactsBanner");te.displayName="ConnectedDunningNoticeDayThreeAdminBillingContactsBanner";var D=te;const f=new O.b("dunning_banners"),ie={elementName:"admin_billing_methods",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},Z=c(Wt=>{let{dunningSubtype:Yt}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_seven_owner_cardholder_banner",dunningSubtype:Yt,type:v.b.warning},f.rt("Keep your paid plan for access to your full message history. <a>Update your payment details</a>",{"<a>":At=>{let{text:Ft}=At;return t.a.createElement(B.a,{autoClogProps:ie,"data-qa":"banner-dunning_billing_methods_link",href:d.ADMIN_BILLING_FAILED},Ft)}}))},"DunningNoticeDaySevenOwnerCardholderBanner");Z.displayName="DunningNoticeDaySevenOwnerCardholderBanner";var pe=Z;function q(){return q=Object.assign||function(Wt){for(var Yt=1;Yt<arguments.length;Yt++){var At=arguments[Yt];for(var Ft in At)Object.prototype.hasOwnProperty.call(At,Ft)&&(Wt[Ft]=At[Ft])}return Wt},q.apply(this,arguments)}c(q,"dunning_notice_day_seven_admin_billing_banner_extends");const xe=new O.b("dunning_banners"),ze={elementName:"show_members_admins",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},mt=c(Wt=>{let{dunningSubtype:Yt,onLinkClick:At}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_seven_admin_billing_banner",dunningSubtype:Yt,type:v.b.warning},xe.rt("There was an issue processing payment for this workspace. Please <a>ask your Workspace Owner</a> to update their payment details.",{"<a>":Ft=>{let{text:sa}=Ft;return t.a.createElement(B.a,{autoClogProps:ze,"data-qa":"banner-dunning_admin_members_link",onClick:At},sa)}}))},"DunningNoticeDaySevenAdminBillingBanner");mt.displayName="DunningNoticeDaySevenAdminBillingBanner";const Me=c(Wt=>{const Yt=Object(P.i)(),At=Object(s.useCallback)(()=>{Yt(Object(w.a)({filters:{accountType:"admins"}}))},[Yt]);return t.a.createElement(mt,q({onLinkClick:At},Wt))},"ConnectedDunningNoticeDaySevenAdminBillingBanner");Me.displayName="ConnectedDunningNoticeDaySevenAdminBillingBanner";var Ct=Me;function Qe(){return Qe=Object.assign||function(Wt){for(var Yt=1;Yt<arguments.length;Yt++){var At=arguments[Yt];for(var Ft in At)Object.prototype.hasOwnProperty.call(At,Ft)&&(Wt[Ft]=At[Ft])}return Wt},Qe.apply(this,arguments)}c(Qe,"dunning_notice_day_14_admin_billing_banner_extends");const st=new O.b("dunning_banners"),Ot={elementName:"show_members_admins",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},cn={elementName:"contact_support",onClick:{enableClogAction:!0}},Ht=c(Wt=>{let{dunningSubtype:Yt,onAdminLinkClick:At}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_14_admin_billing_banner",dunningSubtype:Yt,type:v.b.urgent},st.rt("Payment for this workspace is overdue, and it will be downgraded soon. Questions? <a>Contact your Workspace Owner</a>, or <contact>contact support</contact>.",{"<a>":Ft=>{let{text:sa}=Ft;return t.a.createElement(B.a,{autoClogProps:Ot,"data-qa":"banner-dunning_admin_members_link",onClick:At},sa)},"<contact>":Ft=>{let{text:sa}=Ft;return t.a.createElement(B.a,{autoClogProps:cn,"data-qa":"banner-dunning_support_link",href:d.CONTACT_SUPPORT},sa)}}))},"DunningNoticeDay14AdminBillingBanner");Ht.displayName="DunningNoticeDay14AdminBillingBanner";const Nn=c(Wt=>{const Yt=Object(P.i)(),At=Object(s.useCallback)(()=>{Yt(Object(w.a)({filters:{accountType:"admins"}}))},[Yt]);return t.a.createElement(Ht,Qe({onAdminLinkClick:At},Wt))},"ConnectedDunningNoticeDay14AdminBillingBanner");Nn.displayName="ConnectedDunningNoticeDay14AdminBillingBanner";var zt=Nn;const Ln=new O.b("dunning_banners"),Fn={elementName:"admin_billing_methods",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},Ye=c(Wt=>{let{dunningSubtype:Yt}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_14_owner_cardholder_banner",dunningSubtype:Yt,type:v.b.urgent},Ln.rt("Your payment is overdue, and your workspace will be downgraded soon. Keep your paid plan by <a>updating your payment details</a>.",{"<a>":At=>{let{text:Ft}=At;return t.a.createElement(B.a,{autoClogProps:Fn,"data-qa":"banner-dunning_billing_methods_link",href:d.ADMIN_BILLING_FAILED},Ft)}}))},"DunningNoticeDay14OwnerCardholderBanner");Ye.displayName="DunningNoticeDay14OwnerCardholderBanner";var dn=Ye;const vt=new O.b("dunning_banners"),Xn={elementName:"admin_billing_methods",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},kn={elementName:"contact_support",onClick:{enableClogAction:!0}},he=c(Wt=>{let{dunningSubtype:Yt,numDaysTilDowngrade:At}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_21_billing_stakeholders_banner",dunningSubtype:Yt,type:v.b.urgent},vt.rt("Your workspace will be downgraded if payment is not received within {numDaysTilDowngrade} days. <a>Update your payment details</a> or <contact>contact support</contact>.",{numDaysTilDowngrade:At,"<a>":Ft=>{let{text:sa}=Ft;return t.a.createElement(B.a,{autoClogProps:Xn,"data-qa":"banner-dunning_billing_methods_link",href:d.ADMIN_BILLING_FAILED},sa)},"<contact>":Ft=>{let{text:sa}=Ft;return t.a.createElement(B.a,{autoClogProps:kn,"data-qa":"banner-dunning_support_link",href:d.CONTACT_SUPPORT},sa)}}))},"DunningNoticeDay21BillingStakeholdersBanner");he.displayName="DunningNoticeDay21BillingStakeholdersBanner";var Gn=he;function Va(){return Va=Object.assign||function(Wt){for(var Yt=1;Yt<arguments.length;Yt++){var At=arguments[Yt];for(var Ft in At)Object.prototype.hasOwnProperty.call(At,Ft)&&(Wt[Ft]=At[Ft])}return Wt},Va.apply(this,arguments)}c(Va,"dunning_notice_day_21_all_users_banner_extends");const Oe=new O.b("dunning_banners"),Ma={elementName:"show_members_admins",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},ga=c(Wt=>{let{dunningSubtype:Yt,onLinkClick:At}=Wt;return t.a.createElement(J,{"data-qa":"dunning_notice_day_21_all_users_banner",dunningSubtype:Yt,type:v.b.warning},Oe.rt("Your workspace may be downgraded soon, which will limit how many past messages you can see. Questions? <a>Contact your admins</a>",{"<a>":Ft=>{let{text:sa}=Ft;return t.a.createElement(B.a,{autoClogProps:Ma,onClick:At,"data-qa":"banner-dunning_admin_members_link"},sa)}}))},"DunningNoticeDay21AllUsersBanner");ga.displayName="DunningNoticeDay21AllUsersBanner";const zn=c(Wt=>{const Yt=Object(P.i)(),At=Object(s.useCallback)(()=>{Yt(Object(w.a)({filters:{accountType:"admins"}}))},[Yt]);return t.a.createElement(ga,Va({onLinkClick:At},Wt))},"ConnectedDunningNoticeDay21AllUsersBanner");zn.displayName="ConnectedDunningNoticeDay21AllUsersBanner";var hn=zn;function nn(){return nn=Object.assign||function(Wt){for(var Yt=1;Yt<arguments.length;Yt++){var At=arguments[Yt];for(var Ft in At)Object.prototype.hasOwnProperty.call(At,Ft)&&(Wt[Ft]=At[Ft])}return Wt},nn.apply(this,arguments)}c(nn,"dunning_notice_container_extends");const Xt=Object(C.b)(),bn=c(Wt=>{const{dunningSubtype:Yt}=Wt;switch(Yt){case u.c.DUNNING_DAY_1_BANNER:return t.a.createElement(Q,nn({},Wt));case u.c.DUNNING_DAY_3_OWNER_CARDHOLDER_BANNER:return t.a.createElement(H,nn({},Wt));case u.c.DUNNING_DAY_3_ADMIN_BILLING_CONTACTS_BANNER:return t.a.createElement(D,nn({},Wt));case u.c.DUNNING_DAY_7_OWNER_CARDHOLDER_BANNER:return t.a.createElement(pe,nn({},Wt));case u.c.DUNNING_DAY_7_ADMIN_BILLING_CONTACTS_BANNER:return t.a.createElement(Ct,nn({},Wt));case u.c.DUNNING_DAY_14_OWNER_CARDHOLDER_BANNER:return t.a.createElement(dn,nn({},Wt));case u.c.DUNNING_DAY_14_ADMIN_BILLING_CONTACTS_BANNER:return t.a.createElement(zt,nn({},Wt));case u.c.DUNNING_DAY_21_BILLING_STAKEHOLDERS_BANNER:return t.a.createElement(Gn,nn({},Wt));case u.c.DUNNING_DAY_21_ALL_USERS_BANNER:return t.a.createElement(hn,nn({},Wt));default:return Xt.error(u.d,`${Yt} is not a recognized dunning subtype name for notification name ${u.h.DUNNING_NOTICE}.`),null}},"DunningNoticeContainer");bn.displayName="DunningNoticeContainer";var sn=y.default=bn},HgTo:function(le,y,e){"use strict";var s=e("SQ0V"),t=e("JkcV"),u=e("HYaO"),C=e("xcHN"),O=e("+l5E"),v=e("ccuj"),B=e("s4P+"),P=e("RV0M"),M=e("KcWJ");const L=Object(s.c)("If a failed message is in a thread, open the thread",(z,U,g,J)=>{let{channelId:d}=g;const S=Object(t.a)(U(),d),{shouldUseNavigate:F,getSiblingView:x}=J(P.a);if(S&&Object(u.a)(S)){const Q=Object(C.c)(Object(O.x)(S),Object(v.a)(S)),V=Object(C.b)(U(),{shouldUseNavigate:F,getSiblingView:x});Q!==V&&(Object(B.a)({getState:U}).info("MSG-SEND-FAILED",`Opening thread ${Q}`),z(Object(M.a)({channelId:Object(O.x)(S),threadTs:Object(v.a)(S)})))}});L.meta={name:"createThunk",key:"createThunkmaybeOpenThreadWithFailedMessage",description:"If a failed message is in a thread, open the thread"},y.a=L},I8IW:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("nNoG"),C=e("BHdc"),O=e("/MKj"),v=e("zxER"),B=e("ZobM"),P=e("Gbja"),M=e("0cEW"),L=e("mQiU"),z=e("LzG2"),U=e("qDEp"),g=e("c+dP"),J=e("UHsu"),d=e("7+Lm"),S=e("ZE3X"),F=e("I0j/"),x=e("ohbk"),Q=e("4/8S"),V=e("uVZW"),X=e("QEyh"),K=e("37+L"),H=e("/0Xg"),w=e("Trx9"),T=e("ktUG"),ee=e("U28S"),ne=e("/cL/"),ue=e("130k"),te=e("gJbv"),D=e("AdTA");const f=new u.b("guided_trials");var ie;(function(sn){sn.UPGRADE_NOW="upgrade_now_cta",sn.PLANS_AT_GLANCE="plans_at_glance_cta",sn.SEE_UPGRADE_OPTIONS="see_upgrade_options_cta"})(ie||(ie={}));var Z;(function(sn){sn.MESSAGES="messages",sn.SLACK_CONNECT_CHANNELS="slack-connect-channels",sn.HUDDLES="huddles",sn.CANVASES="canvases",sn.APPS_INTEGRATIONS="apps-integraions"})(Z||(Z={}));const pe={elementName:ie.UPGRADE_NOW,onClick:{enableClogAction:!0}},q={elementName:ie.SEE_UPGRADE_OPTIONS,onClick:{enableClogAction:!0}},xe={elementName:ie.PLANS_AT_GLANCE,onClick:{enableClogAction:!0}},ze=c(()=>{const sn=Object(O.i)(),{shouldUseNavigate:Wt}=Object(s.useContext)(L.a),{maybeClosePeek:Yt}=Object(s.useContext)(z.a),At=Object(v.c)(te.c),Ft=At===te.a.TREATMENT_1,sa=At===te.a.TREATMENT_2,ba=Ft||sa,Ha=Object(v.c)(Qn=>Object(d.b)(Qn,V.g.SIDEBAR_MENU_HEADER)),{appsAndIntegrations:Ba,filesAndMessages:qn,sharedChannels:Mt,huddles:da,canvases:ha}=Ha,aa=Object(s.useMemo)(()=>[...Mt.privateSharedChannels.map(Qn=>({...Qn,isPrivate:!0})),...Mt.publicSharedChannels.map(Qn=>({...Qn,isPrivate:!1}))],[Mt]),fo=c(()=>t.a.createElement("div",{className:"p-sidebar_trial_peek_view__section__check_icon_wrapper"},t.a.createElement(B.a,{name:"check",variation:"filled",size:"20"})),"renderCheckIcon"),No=c(Qn=>t.a.createElement("div",{className:"p-sidebar_trial_peek_view__section__icon_wrapper"},t.a.createElement(B.a,{name:Qn,size:"20"})),"renderIcon"),fa=Object(s.useCallback)(()=>{Yt({forceClose:!0})},[Yt]),_a=Object(s.useCallback)(()=>{fa(),sn(Object(S.a)())},[sn,fa]),ko=Object(s.useCallback)(()=>{fa(),sn(Object(D.a)())},[sn,fa]),qo=Object(s.useCallback)(()=>sn(Object(F.a)(Object(K.i)())),[sn]),va=Object(s.useCallback)(()=>sn(Object(X.a)()),[sn]),Fa=Object(s.useCallback)(()=>{fa(),sn(Object(Q.a)())},[sn,fa]),_n=Object(s.useCallback)(Qn=>()=>{fa(),sn(Wt?Object(F.a)(Object(K.n)(Qn)):Object(x.a)({id:Qn}))},[Wt,sn,fa]),Xe=Object(s.useCallback)(()=>{fa(),sn(Object(ue.a)({canUserPurchase:Ha.canUserPurchase}))},[fa,sn,Ha.canUserPurchase]),It=c(Qn=>t.a.createElement("span",{className:"p-sidebar_trial_peek_view__sub_menu_text"},t.a.createElement(B.a,{name:Qn.isPrivate?"lock":"channel"}),Qn.channelName),"renderChannelSubMenuText"),$e=c(()=>t.a.createElement(g.f,{width:244,menuClassNames:"p-sidebar_trial_peek_view__wrapper"},aa.map(Qn=>t.a.createElement(g.b,{"data-qa":`${Qn.channelName}-menu-item`,disableHoverStyling:!0,key:Qn.encodedId,label:It(Qn),className:"p-sidebar_trial_peek_view__section",onSelected:_n(Qn.encodedId),autoClogProps:{elementName:`peek_view_row_${Z.SLACK_CONNECT_CHANNELS}`,onClick:{enableClogAction:!0}}}))),"renderChannelSubMenu"),In=c(Qn=>{let{key:Bn,title:Tn,description:it,checked:Sa,icon:dt,handleClick:en}=Qn;return Bn===Z.SLACK_CONNECT_CHANNELS&&Mt.checked&&aa.length>1?t.a.createElement(J.a,{key:Bn,showFullCarat:!0,disableHoverStyling:!0,"data-qa":`${Bn}-menu-item`,renderSubmenu:$e,className:"p-sidebar_trial_peek_view__section",classNameListItem:"p-sidebar_trial_peek_view__item"},Sa?fo():No(dt),t.a.createElement("div",{className:"p-sidebar_trial_peek_view__section_text_container"},t.a.createElement("div",{className:"p-sidebar_trial_peek_view__section_title"},Tn),t.a.createElement("div",{className:"p-sidebar_trial_peek_view__section_sub_title"},it))):t.a.createElement(g.b,{className:"p-sidebar_trial_peek_view__section",classNameListItem:"p-sidebar_trial_peek_view__item",disableHoverStyling:!0,onSelected:en,key:Bn,"data-qa":`${Bn}-menu-item`,autoClogProps:{elementName:`peek_view_row_${Bn}`,onClick:{enableClogAction:!0}}},Sa?fo():No(dt),t.a.createElement("div",{className:"p-sidebar_trial_peek_view__section_text_container"},t.a.createElement("div",{className:"p-sidebar_trial_peek_view__section_title"},Tn),t.a.createElement("div",{className:"p-sidebar_trial_peek_view__section_sub_title"},it)))},"renderMenuItem");In.displayName="renderMenuItem";const ra=c(Qn=>{if(Ft||sa)switch(Qn){case Z.MESSAGES:return qn.lockedMessagesCount>0?f.rt("Search {messageCount} messages older than <div>90 days</div>",{messageCount:Object(ee.a)(qn.lockedMessagesCount)}):f.t("Search messages older than 90 days");case Z.SLACK_CONNECT_CHANNELS:{let Bn="";return!Mt.checked||aa.length===0?Bn=f.t("Work with people outside your company"):aa.length===1?Bn=t.a.createElement("span",{className:"p-sidebar_trial_peek_view__section_sub_title_channel"},f.rt("View <span>{icon}</span>{channelName}",{channelName:aa[0].channelName,icon:t.a.createElement(B.a,{name:aa[0].isPrivate?"lock":"channel"})})):aa.length>1&&(Bn=f.rt("View {channelCount} channels with external people",{channelCount:aa.length})),Bn}case Z.HUDDLES:return da.checked&&da.count>0?f.rt("Your team has completed {count} group {count, plural, =1 {call} other {calls}}",{count:da.count}):f.t("Initiate video calls with screen sharing");case Z.CANVASES:return ha.checked&&ha.count>0?f.rt("Your team has created {count} {count, plural, =1 {document} other {documents}}",{count:ha.count}):f.t("Document and share ideas and knowledge");case Z.APPS_INTEGRATIONS:{let Bn="";return!Ba.checked||Ba.count===0?Bn=f.t("Integrate tools and services into Slack"):Bn=f.rt("Your team has installed {count} {count, plural, =1 {app} other {apps}}",{count:Ba.count}),Bn}default:return""}return""},"getSectionDescription");ra.displayName="getSectionDescription";const wn=[{key:Z.MESSAGES,title:ba?f.t("Message & file history"):"",description:ra(Z.MESSAGES),checked:!0,handleClick:_a,icon:"check",altText:ba?f.t("Message icon"):""},{key:Z.SLACK_CONNECT_CHANNELS,title:ba?f.t("Slack Connect channels"):"",description:ra(Z.SLACK_CONNECT_CHANNELS),checked:Mt.checked,handleClick:aa.length>0&&Mt.checked?_n(aa[0].encodedId):ko,icon:"shared-channel",altText:ba?f.t("Shared channels icon"):""},{key:Z.HUDDLES,title:ba?f.t("Huddles"):"",description:ra(Z.HUDDLES),checked:da.checked,handleClick:Fa,icon:"headphones",altText:ba?f.t("Huddle icon"):""},{key:Z.CANVASES,title:ba?f.t("Canvas"):"",description:ra(Z.CANVASES),handleClick:qo,checked:ha.checked,icon:"canvas-browser",altText:ba?f.t("Canvas browser icon"):""},{key:Z.APPS_INTEGRATIONS,title:ba?f.t("Apps & automations",{fallbackHash:"788f41aff7265e67e6f74ec825dbbeb5bbd735c4"}):"",description:ra(Z.APPS_INTEGRATIONS),checked:Ba.checked,handleClick:va,icon:"bolt",altText:ba?f.t("Bolt icon"):""}],Aa=Object(v.c)(Qn=>Object(H.z)(Qn,{action:H.t.CHECKOUT,productLevel:H.k.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"}));return t.a.createElement(w.a,{uiComponentName:T.UiComponentName.GUIDED_TRIAL_SIDEBAR_PEEK_VIEW,clogImpression:!0},t.a.createElement(g.f,{width:355,menuClassNames:"p-sidebar_trial_peek_view__wrapper"},t.a.createElement(g.c,{label:Ft||sa?f.t("How you and your team are using Pro features",{fallbackHash:"a22905528ed2533124a1111d9b50f46d03fee029"}):"",className:"p-sidebar_trial_peek_view__header_text"}),wn.map(Qn=>In(Qn)),t.a.createElement(g.d,{className:"p-sidebar_trial_peek_view__section_sperator"}),t.a.createElement("div",{className:"p-sidebar_trial_peek_view__cta_wrapper"},Ha.canUserPurchase?t.a.createElement(U.b,{autoClogProps:pe,href:Aa,className:"p-sidebar_trial_peek_view__cta_upgrade","data-qa":"peek-view-upgrade-now-cta"},ba?f.t("Upgrade Now"):""):t.a.createElement(ne.a,{"data-qa":"peek-view-upgrade-now-cta",className:"p-sidebar_trial_peek_view__cta_upgrade",entryPoint:"guided_trials_peek_upgrade_cta",autoClogProps:q},ba?f.t("See Upgrade Options"):""),t.a.createElement(U.d,{autoClogProps:xe,onClick:Xe,className:"p-sidebar_trial_peek_view__cta_compare","data-qa":"peek-view-compare-plans-cta"},t.a.createElement(B.a,{name:"help"}),ba?f.t("Compare free vs. paid plan"):""))))},"SidebarTrialPeekView");ze.displayName="SidebarTrialPeekView";var mt=ze;const Me=-10,Ct=c(sn=>{let{children:Wt}=sn;const Yt=Object(s.useCallback)(()=>t.a.createElement(mt,null),[]);return t.a.createElement(P.a,{position:M.b.RightBottom,renderContent:Yt,offsetY:Me},Wt)},"SidebarTrialPeekTrigger");Ct.displayName="SidebarTrialPeekTrigger";var Qe=Ct,st=e("AKIH"),Ot=e("TiPP"),cn=e("UmHn"),Ht=e("Wn1n"),Nn=e("2VFn"),zt=e("JoR1");const Ln=new u.b("guided_trials"),Fn={elementName:"sidebar_trial_badge_paid_benfits_btn",onClick:{enableClogAction:!0}},Ye=c(()=>{const sn=Object(O.i)(),{shouldUseNavigate:Wt,getSiblingView:Yt}=Object(s.useContext)(L.a),At=Object(v.c)(te.c),Ft=At===te.a.TREATMENT_1,sa=At===te.a.TREATMENT_2,ba=Object(v.c)(_a=>Object(d.b)(_a,V.g.SIDEBAR_MENU_HEADER)),Ha=Object(v.c)(_a=>{var ko;return Wt?(ko=Yt(_a,{container:Nn.k.Primary}))===null||ko===void 0?void 0:ko.id:Object(Ht.a)(_a)}),Ba=Object(v.c)(_a=>Object(zt.u)(_a,"trials_sidebar_banner_wrapper_dismissed")===!1),qn=Ha==="Ppaid-benefits",Mt=Object(st.b)(ba.trialEndDate)||0,da=sa?Mt===14:Mt===30,ha=Mt===1,aa=da&&Ba||ha,fo=Object(s.useCallback)(()=>{sn(Wt?Object(F.a)(Object(K.X)(cn.a.PaidBenefits)):Object(x.a)({id:Ot.a}))},[sn,Wt]),No=c(()=>{let _a=null;return Mt>2&&Mt<=30?_a=t.a.createElement(B.a,{size:"20",name:"hourglass"}):Mt===2&&(_a=t.a.createElement(B.a,{size:"20",name:"info",variation:"filled"})),_a},"renderStartIcon");No.displayName="renderStartIcon";const fa=c(()=>Ft||sa?ha?Ln.t("View Paid Benefits"):Ln.rt("{trialDaysRemaining} {trialDaysRemaining, plural, =1 {day} other {days}} left in trial",{trialDaysRemaining:Mt}):"","getButtonText");return t.a.createElement(U.d,{className:Object(C.default)("p-sidebar_trial_badge__button",{"p-sidebar_trial_badge__button_generic":!ha&&!qn,"p-sidebar_trial_badge__button_last_day":ha&&!qn,"p-sidebar_trial_badge__button_first_day":da&&aa&&!qn,"p-sidebar_trial_badge__button_generic_selected":!aa&&qn,"p-sidebar_trial_badge__button_with_wrapper_selected":aa&&qn,"p-sidebar_trial_badge__button_with_wrapper_selected_border":aa&&qn&&ha}),"data-qa":"sidebar-trial-badge-btn",autoClogProps:Fn,onClick:fo},No(),t.a.createElement("div",{className:"p-sidebar_trial_badge__button_text_container"},fa()),t.a.createElement("span",null,t.a.createElement(B.a,{size:"24",name:"caret-right"})))},"SideBarTrialBadge");Ye.displayName="SideBarTrialBadge";var dn=Ye,vt=e("beVI"),Xn=e("zm5I"),kn=e("T1zM"),he=e("WSQ4"),Gn=e("1501"),Va=e.n(Gn),Oe=e("uZS/"),Ma=e.n(Oe);const ga=new u.b("guided_trials"),zn={elementName:"sidebar_trial_badge_upgrade_btn",onClick:{enableClogAction:!0}},hn={elementName:"sidebar_trial_badge_see_upgrade_options_btn",onClick:{enableClogAction:!0}},nn={elementName:"sidebar_trial_badge_wrapper_close_btn",onClick:{enableClogAction:!0}},Xt=c(()=>{const sn=Object(O.i)(),{activeTab:Wt}=Object(s.useContext)(L.a),Yt=Wt===Nn.f.Home,{window:At}=Object(s.useContext)(he.a),Ft=Object(v.c)(Xn.a),sa=Object(v.c)(vt.g),ba=Object(v.c)(te.c),Ha=ba===te.a.TREATMENT_1,Ba=ba===te.a.TREATMENT_2,qn=Ha||Ba,Mt=Object(v.c)(Fa=>Object(d.b)(Fa,V.g.SIDEBAR_MENU_HEADER)),da=Object(v.c)(Fa=>Object(zt.u)(Fa,"trials_sidebar_banner_wrapper_dismissed")===!1),ha=Object(st.b)(Mt.trialEndDate)||0,aa=Ba?ha===14:ha===30,fo=ha===1,No=aa&&da||fo,fa=Object(s.useCallback)(()=>{sn(Object(kn.f)({pref:"trials_sidebar_banner_wrapper_dismissed",value:!0}))},[sn]),_a=Object(v.c)(Fa=>Object(H.z)(Fa,{action:H.t.CHECKOUT,productLevel:H.k.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"})),ko=Object(s.useCallback)(()=>{const Fa=Mt.canUserPurchase?_a:Object(H.w)({team:sa,entryPoint:"guided_trials_sidebar_upgrade_cta"});At.open(Fa)},[sa,At,Mt.canUserPurchase,_a]),qo=Object(s.useMemo)(()=>Mt.canUserPurchase?qn?ga.t("Upgrade Now"):"":qn?ga.t("See Upgrade Options"):"",[Mt.canUserPurchase,qn]),va=c(()=>aa?Ha||Ba?ga.t("Get started with your Pro trial"):"":fo&&(Ha||Ba)?ga.t("It\u2019s the last day of your Pro trial"):"","getWrapperText");return!Yt||!qn||ha<=0?null:t.a.createElement(w.a,{uiComponentName:T.UiComponentName.GUIDED_TRIAL_SIDEBAR_BADGE,clogImpression:!0},t.a.createElement(z.b,null,t.a.createElement("div",null,No&&t.a.createElement("div",{className:Object(C.default)("p-sidebar_trial_badge_wrapper__wrapper",{"sk-client-theme--light":Ft===M.c.Light})},t.a.createElement("div",{className:"p-sidebar_trial_badge_wrapper__wrapper_header"},t.a.createElement("div",{className:"p-sidebar_trial_badge_wrapper__wrapper_text"},va()),t.a.createElement("div",{className:"p-sidebar_trial_badge_wrapper__wrapper_header_image_container"},aa&&t.a.createElement("img",{src:Va.a,alt:"gift"}),fo&&t.a.createElement("img",{src:Ma.a,alt:"clock"}),aa&&t.a.createElement(U.d,{className:"p-sidebar_trial_badge_wrapper__wrapper_header_close_btn",onClick:fa,autoClogProps:nn,"data-qa":"sidebar-badge-wrapper-close-btn"},t.a.createElement(B.a,{name:"close"})))),fo&&t.a.createElement(U.d,{onClick:ko,autoClogProps:Mt.canUserPurchase?zn:hn,className:"p-sidebar_trial_badge_wrapper__upgrade_now_btn dt-hocus:theme-base-pry","data-qa":"sidebar-badge-wrapper-upgrade-now-btn"},Mt.canUserPurchase&&t.a.createElement(B.a,{size:"20",name:"rocket"}),t.a.createElement("span",null,qo))),t.a.createElement("div",{className:Object(C.default)("p-sidebar_trial_badge_wrapper__button_wrapper",{"p-sidebar_trial_badge_wrapper__button_wrapper_bg":No,"sk-client-theme--light":Ft===M.c.Light})},t.a.createElement(Qe,null,t.a.createElement("div",null,t.a.createElement(dn,null)))))))},"SideBarTrialBadgeWrapper");Xt.displayName="SideBarTrialBadgeWrapper";var bn=y.default=Xt},IYUO:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-en-GB-c479ba7.gif"},Ig95:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseDiscountSeatPromoProgressCoachmark",function(){return F});var s=e("pf5X"),t=e("zxER"),u=e("RVJP"),C=e("69o4"),O=e("uVZW"),v=e("o3gz"),B=e("03PU"),P=e("ktUG"),M=e("nNoG"),L=e("/0Xg"),z=e("q1tI"),U=e.n(z),g=e("/MKj");function J(){return J=Object.assign||function(Q){for(var V=1;V<arguments.length;V++){var X=arguments[V];for(var K in X)Object.prototype.hasOwnProperty.call(X,K)&&(Q[K]=X[K])}return Q},J.apply(this,arguments)}c(J,"_extends");const d=new M.b("promotions"),S={eventId:P.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:P.UiComponentName.DISCOUNT_SEAT_PROMO_PROGRESS_COACHMARK,elementType:P.ElementType.COACHMARK,onClick:{enableClogAction:!0},promoType:L.g.DiscountSeatPromo,clogImpression:!0,megaphoneSpaceName:O.g.IN_PRODUCT_COACHMARK,megaphoneNotificationName:O.h.DISCOUNT_SEAT_PROMO_PROGRESS_COACHMARK},F=c(Q=>{let{anchorRef:V,children:X,dismissCoachmark:K,linkClicked:H,experimentSeatExpansionDiscountPromoGroupTreatment:w,tiers:T,currentUsersAdded:ee,currentTierIndex:ne,discountDurationMonths:ue,UNSAFE_parentSelector:te}=Q;var D;const f=ne===null?O.b.NO_TIER:O.b.TIER_1,ie=Object(z.useMemo)(()=>({...S,uiStep:f}),[f]);if(!w)return X;const Z=ne===null?0:ne+1,pe=(D=T[Z])===null||D===void 0?void 0:D.discount;if(!pe)return X;const q=f===O.b.NO_TIER?d.rt("{currentUsersAdded, plural, =1 {# person has} other {# people have}} been added this month \xA0\u{1F91D}",{currentUsersAdded:ee}):d.rt("{currentUsersAdded, plural, =1 {# person has} other {# people have}} been added this month \xA0\u{1F973}",{currentUsersAdded:ee}),xe=U.a.createElement(v.b,{autoClogProps:ie,centerOnArrow:!0,isOpen:!0,onClickLink:H,closeCoachmark:K,title:q,offsetX:-20,arrowPosition:60,bodyText:d.rt("If you add one more coworker, you\u2019ll get {discountPercent}% off your bill for {numMonths, plural, =1 {# month} other {# months}}.",{discountPercent:pe,numMonths:ue}),linkText:f===O.b.NO_TIER?d.t("Don\u2019t remind me again"):void 0,UNSAFE_parentSelector:te});return U.a.createElement(B.c,{coachmarkElement:xe,orientation:"right"},U.a.createElement("div",{ref:V},X))},"DiscountSeatPromoProgressCoachmark");F.displayName="DiscountSeatPromoProgressCoachmark";const x=c(Q=>{const V=Object(g.i)(),[X,K]=Object(z.useState)(!1),H=Object(z.useRef)(null),w=Object(t.c)(te=>Object(u.d)(te,"seat_expansion_discount_promo"))==="treatment",T=Object(z.useCallback)(te=>{V(Object(C.a)({spaceName:O.g.IN_PRODUCT_COACHMARK,action:O.f.DISMISS,step:te})),K(!0)},[V]),ee=Object(s.a)(Q.channelSectionId,H),ne=Object(z.useCallback)(()=>T(),[T]),ue=Object(z.useCallback)(()=>{T(O.b.TIER_1)},[T]);return X||!Q.tiers||Q.tiers.length<2||ee?Q.children:U.a.createElement(F,J({},Q,{anchorRef:H,dismissCoachmark:ne,linkClicked:ue,experimentSeatExpansionDiscountPromoGroupTreatment:w}))},"ConnectedDiscountSeatPromoProgressCoachmark");x.displayName="ConnectedDiscountSeatPromoProgressCoachmark",y.default=x},JEWL:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-pt-BR-e75fa5a.gif"},JUEh:function(le,y,e){"use strict";e.d(y,"a",function(){return L});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("I0j/"),O=e("37+L"),v=e("goBh"),B=e("CnKg"),P=e("FcR8"),M=e("oUrV");function L(){const z=Object(u.i)();return Object(s.useCallback)(U=>{if(U.type!=="externalWorkspaceLink"&&U.type!=="externalWorkspacePinnedCanvas")return;const g=U.workspaceId;if(g){if(U.type==="externalWorkspaceLink")U.pageId===v.a.AboutEventsView?z(Object(C.a)(Object(O.b)(g))):U.pageId===v.a.ChannelBrowser?z(Object(C.a)(Object(O.x)(g))):U.pageId===v.a.PeopleBrowser&&z(Object(C.a)(Object(O.y)(g)));else if(U.type==="externalWorkspacePinnedCanvas"&&U.id){const J=Object(B.f)(U.id);if(!J)return;z(Object(P.a)({fileId:J,source:M.a.EXTERNAL_WORKSPACE_EVENT_VIEW_SIDEBAR,externalWorkspaceId:g}))}}},[z])}c(L,"useExternalWorkspaceItemSelect")},Jq9w:function(le,y,e){"use strict";e.d(y,"a",function(){return v});var s=e("q1tI"),t=e.n(s),u=e("nNoG"),C=e("W1Ru");const O=new u.b("usecase_onboarding"),v=Object(s.memo)(B=>{let{currentStep:P,totalSteps:M}=B;return t.a.createElement("span",{className:"p-usecase_onboarding_coachmark__steps"},O.t("{currentStep} of {totalSteps}",{currentStep:P,totalSteps:M}))})},JyXf:function(le,y,e){le.exports=e.p+"clipboard-b6549ca.svg"},K4s9:function(le,y,e){"use strict";e.r(y),e.d(y,"removePendingAuthWorkspace",function(){return L});var s=e("n3tL"),t=e("SQ0V"),u=e("s4P+"),C=e("WCk1"),O=e("5TXe"),v=e("7xYR");const B=Object(C.a)("Delete given team id from e-p (pending auth) cookie",(z,U,g)=>{var J;const d=U(),S=Object(v.getBootedWorkspaces)(d)[0],F=Object(v.getWorkspacesMeta)(d);return O.a.fetch({method:"auth.removePendingTeam",args:{token:F==null||(J=F[S])===null||J===void 0?void 0:J.token,encoded_team_id:g},teamId:S}).catch(x=>{throw Object(u.a)({getState:U}).error(`API call to auth.removePendingTeam failed with error: ${x}`),x})});B.meta={name:"createFetcher",key:"createFetcherremovePendingTeam",description:"Delete given team id from e-p (pending auth) cookie"};var P=e("3Nmk"),M=e("sduE");const L=Object(t.c)("Removes a workspace from the list of workspaces pending auth and from the pending auth cookie",(z,U,g)=>{Object(u.b)({label:M.a}).info("removePendingAuthWorkspace",g),z(Object(P.a)(g)),z(B(g))});L.meta={name:"createThunk",key:"createThunkremovePendingAuthWorkspace",description:"Removes a workspace from the list of workspaces pending auth and from the pending auth cookie"},L.propTypes=s.default.string},Kx7x:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("GWPn"),C=e("K2b1"),O=e("V3OF"),v=e("/MKj"),B=e("eWGC"),P=e("uVZW");const M=new C.b("shortcuts_gallery"),L=c(z=>{let{className:U}=z;const g=Object(v.i)();return Object(O.a)(()=>{g(Object(B.a)({notificationName:P.h.AUTOMATION_NEW_CALLOUT,action:P.f.IMPRESSION}))}),t.a.createElement(u.a,{className:U},M.t("NEW",{fallbackHash:"66aabd91fc41cc4635aad94dc77d93a0e2eac67b",fallbackHashNs:"search"}))},"AutomationNewCallout");L.displayName="AutomationNewCallout",y.default=L},LR2U:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("VP3E"),O=e("P7By"),v=e("xtxb"),B=e.n(v),P=e("1z69"),M=e("cD3f"),L=e("Jq9w"),z=e("03PU"),U=e("N0zA"),g=e("ktUG"),J=e("nNoG"),d=e("zxER"),S=e("eWGC"),F=e("uVZW"),x=e("JoR1"),Q=e("aHgF"),V=e("W1Ru");const X=new J.b("usecase_onboarding"),K={eventId:g.EventId.NEWXP_TEAM_CREATE,elementName:F.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,elementType:g.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:F.g.WELCOME_SPACE,megaphoneNotificationName:F.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,clogImpression:!0},H=c(w=>{let{children:T}=w;const ee=Object(u.i)(),ne=Object(d.c)(Qe=>!!Object(x.u)(Qe,"a11y_animations")),ue=Object(d.c)(Q.e),te=P.c[F.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK],{openChannelCanvas:D}=Object(M.a)(),f=Object(s.useCallback)(()=>t.a.createElement(L.a,{currentStep:te,totalSteps:P.d}),[te]),ie=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-external-coachmark.json").then(e.t.bind(null,"OfTl",3)),[]),Z=Object(s.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__external"}),[]),pe=Object(s.useMemo)(()=>ne?t.a.createElement(O.a,{getAnimationImport:ie,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:Z}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:B.a,className:"p-usecase_onboarding_coachmark_gif"}),[ie,ne,Z]);Object(s.useEffect)(()=>{ee(Object(S.a)({notificationName:F.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,action:F.f.IMPRESSION}))},[ee]);const{onAfterOpen:q}=Object(C.a)({className:P.a,highlightPadding:{left:10,right:10,top:0,bottom:0}}),{isOpen:xe,closeCoachmark:ze,renderCoachmark:mt}=Object(U.a)(F.h.USECASE_ONBOARDING_SLACKCONNECT_COACHMARK,F.g.WELCOME_SPACE),Me=Object(s.useCallback)(()=>{ze(!0),ue&&D()},[ze,D,ue]);if(!xe)return null;const Ct=mt({arrowPosition:30,hero:pe,title:X.t("Keep track of your external connections"),bodyText:X.rt("To learn more about working in Slack with people from other companies, head to the External tab. <steps></steps>",{"<steps>":f}),closeCoachmark:Me,onClickPrimaryButton:Me,className:`p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark__external ${P.a}`,primaryCallToActionText:X.t("Done"),ariaLabel:X.t("To learn more about working in Slack with people from other companies, head to the External tab. {currentStep} of {totalSteps}",{currentStep:te,totalSteps:P.d}),autoClogProps:K,width:P.b,offsetX:-10,offsetY:100,closeBackgroundStyle:"dark",onAfterOpen:q});return t.a.createElement(z.c,{coachmarkElement:Ct,orientation:"right"},T)},"UsecaseOnboardingExternalCoachmark");H.displayName="UsecaseOnboardingExternalCoachmark",y.default=H},Lkuf:function(le,y,e){le.exports=e.p+"slack_ai_digest_added_channel_nux-2fc8b83.png"},Lnmw:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseDiscountSeatPromoOneWeekLeftBanner",function(){return x});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("BHdc"),v=e("nNoG"),B=e("ktUG"),P=e("69o4"),M=e("uVZW"),L=e("RVJP"),z=e("Trx9"),U=e("IiTT"),g=e("8RdJ"),J=e("j21I"),d=e.n(J);function S(){return S=Object.assign||function(X){for(var K=1;K<arguments.length;K++){var H=arguments[K];for(var w in H)Object.prototype.hasOwnProperty.call(H,w)&&(X[w]=H[w])}return X},S.apply(this,arguments)}c(S,"_extends");const F=new v.b("promotions"),x=c(X=>{let{currentUsersAdded:K,tiers:H,enableSectionNavigation:w,experimentSeatExpansionDiscountPromoGroupTreatment:T,onDismissBanner:ee}=X;if(!T)return null;const ne=H[0].usersAdded-(K||0),ue=t.a.createElement("div",{className:"p-discount_seat_promo_one_week_left_banner__content"},t.a.createElement("img",{src:d.a,alt:""}),t.a.createElement("span",null,F.rt("Don\u2019t forget! You\u2019ll save on your entire bill by adding {numUsersToAdd, plural, =1 {# more person} other {# more people}} by February 28. <a>Learn how</a>",{numUsersToAdd:ne,"<a>":te=>{let{text:D}=te;return Object(g.a)(D)}})));return t.a.createElement(z.a,{clogImpression:!0,eventId:B.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:B.UiComponentName.DISCOUNT_SEAT_PROMO_ONE_WEEK_LEFT_BANNER,enableClogImpressionOffScreen:!0},t.a.createElement(U.a,{className:Object(O.default)("align_center","p-discount_seat_promo_one_week_left_banner"),"data-qa":"discount_seat_promo_one_week_left_banner",enableSectionNavigation:w,isFixedPosition:!1,onClose:ee},ue))},"DiscountSeatPromoOneWeekLeftBanner");x.displayName="DiscountSeatPromoOneWeekLeftBanner";const Q=c(X=>{const K=Object(u.i)(),H=Object(C.c)(T=>Object(L.d)(T,"seat_expansion_discount_promo"))==="treatment",w=Object(s.useCallback)(()=>{K(Object(P.a)({spaceName:M.g.CLIENT_FOOTER,action:M.f.DISMISS}))},[K]);return!X.tiers||X.tiers.length<2?null:t.a.createElement(x,S({experimentSeatExpansionDiscountPromoGroupTreatment:H,onDismissBanner:w},X))},"ConnectedDiscountSeatPromoOneWeekLeftBanner");Q.displayName="ConnectedDiscountSeatPromoOneWeekLeftBanner";var V=y.default=Q},"M/6v":function(le,y,e){le.exports=e.p+"Slack_AI_NUX_Recap_Coachmark_Light-f6ddb9b.png"},MAiY:function(le,y,e){"use strict"},Mp1l:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-zh-CN-77f3f96.gif"},N1BJ:function(le,y,e){"use strict";e.d(y,"b",function(){return u}),e.d(y,"a",function(){return C});var s=e("ZKjC"),t=e("B7Jy");const u=Object(s.b)(O=>{var v;return O==null||(v=O.dmsTab)===null||v===void 0?void 0:v.dmsTabHydrated});u.meta={name:"createSelector",key:"createSelectorisDmsTabHydrated",description:O=>{var v;return O==null||(v=O.dmsTab)===null||v===void 0?void 0:v.dmsTabHydrated}};const C=Object(s.b)(O=>{var v,B;return(B=O==null||(v=O.dmsTab)===null||v===void 0?void 0:v.dmsTabActiveFilter)!==null&&B!==void 0?B:t.a.ALL});C.meta={name:"createSelector",key:"createSelectorgetDmsTabActiveFilter",description:O=>{var v,B;return(B=O==null||(v=O.dmsTab)===null||v===void 0?void 0:v.dmsTabActiveFilter)!==null&&B!==void 0?B:t.a.ALL}}},NDvm:function(le,y,e){"use strict";e.d(y,"a",function(){return vs});var s=e("q1tI"),t=e.n(s),u=e("x91h"),C=e("SQ0V"),O=e("ktUG"),v=e("d/xU"),B=e("SFTG"),P=e("iJ8e"),M=e("tv4y"),L=e("HKlo"),z=e("+vFE"),U=e("bUJO"),g=e("ifKl"),J=e("nNoG"),d=e("E97Y"),S=e("E3dU"),F=e("stJQ"),x=e("fjHP"),Q=e("5IZy"),V=e("DsNm");const X=new J.b("channel_sidebar"),K=Object(C.c)("move channels to different sections with toast & undo support",function(Le,we){let{channelIdsToMute:Fe=[],channelIdsToUnmute:pt=[],onUndo:nt=g.a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const xt=we(),{resultPromise:An,undo:Hn}=Le(Object(F.a)({channelIdsToMute:Fe,channelIdsToUnmute:pt}));let na;Fe.length>0?na=Fe.some(Qa=>Object(d.h)(Object(S.d)(xt,Qa)))?X.rt("Muted {numChannels, plural, =1{conversation} other {# conversations}}.",{numChannels:Fe.length}):X.rt("Muted {numChannels, plural, =1{channel} other {# channels}}.",{numChannels:Fe.length}):pt.length>0&&(na=pt.some(Qa=>Object(d.h)(Object(S.d)(xt,Qa)))?X.rt("Unmuted {numChannels, plural, =1{conversation} other {# conversations}}.",{numChannels:pt.length}):X.rt("Unmuted {numChannels, plural, =1{channel} other {# channels}}.",{numChannels:pt.length}));const Ka=c(()=>{Object(Q.a)({state:we()}).track(O.EventId.CHANNEL_SECTIONS_CHANNELS_MOVE,{contexts:{ui_context:{action:O.UiAction.UNDO,ui_component_name:"PerformBulkMuteUnmuteChannels"}}}),Hn(),nt()},"wrappedUndo");return na&&Le(Object(V.a)({content:na,undo:Ka})),An.catch(Qa=>{throw Le(Object(x.d)({error:x.a})),Qa})});K.meta={name:"createThunk",key:"createThunkperformBulkMuteUnmuteChannels",description:"move channels to different sections with toast & undo support"};var H=K,w=e("SObh"),T=e("bqbz"),ee=e("XcMG");const ne=new J.b("channel_sidebar"),ue=Object(C.c)("delete a channel section and send a toast with undo support",function(Le,we){let{channelSectionId:Fe,reason:pt}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const nt=Object(T.g)(we(),Fe),{resultPromise:xt,undo:An}=Le(Object(w.b)({channelSectionId:Fe||"",reason:pt||""}));xt.catch(()=>{Le(Object(x.d)({error:x.a}))});const Hn=An?()=>{An(),Object(Q.a)({state:we()}).track(O.EventId.CHANNEL_SECTIONS_DELETE,{contexts:{ui_context:{action:O.UiAction.UNDO,ui_component_name:"PerformChannelSectionDelete"},channel_section_id:Fe}})}:void 0;return xt.then(()=>{Le(Object(V.a)({content:ne.rt("Deleted {channelSection}.",{channelSection:t.a.createElement("strong",null,t.a.createElement(ee.a,{channelSection:nt,showIcon:nt.type!==P.p.ExternalWorkspace}))}),undo:Hn}))})});ue.meta={name:"createThunk",key:"createThunkperformChannelSectionDelete",description:"delete a channel section and send a toast with undo support"};var te=ue,D=e("3l96"),f=e("+kJ4"),ie=e("Cy/8"),Z=e("KYMJ"),pe=e("/qcS"),q=e("BHdc"),xe=e("SvML"),ze=e("3rxk"),mt=e("zrDx"),Me=e("AdTA"),Ct=e("Zbwg"),Qe=e("Yauy"),st=e("djjd"),Ot=e("RVJP"),cn=e("LuIj"),Ht=e("6H+D"),Nn=e("xueD"),zt=e("JoR1"),Ln=e("NK7x"),Fn=e("I27i"),Ye=e("1lov"),dn=e("TdVx"),vt=e("y3Vx"),Xn=e("dVyO"),kn=e("Wn1n"),he=e("ohbk"),Gn=e("hsQ6"),Va=e("Zdzc"),Oe=e("beVI"),Ma=e("G0eX"),ga=e("7cRW"),zn=e("xeGy"),hn=e("mzsf"),nn=e("O9Jz"),Xt=e("qN/r"),bn=e("U3SE"),sn=e("VU9B"),Wt=e("Atq3"),Yt=e("Cfcg"),At=e("d4Qy"),Ft=e("O86Y"),sa=e("jWAO"),ba=e("KkHf");const Ha=new J.b("channel_browser_coachmark");let Ba=c(class extends s.Component{renderEmojiPrefix(){const{emojiPrefix:we}=this.props;return we||""}render(){const{channelSection:we,channelExternalTeamNamesAffected:Fe,numOtherChannelsAffected:pt,numOtherWorkspacesOfCurrentEnterprise:nt,onModalSubmit:xt,onModalClose:An,selfEnterpriseOrgName:Hn}=this.props,na=we?t.a.createElement("div",{"data-qa":"channel-section-delete-confirmation-modal-single-workspace-message"},Ha.rt("Conversations in <strong>{inlineChannelSection}</strong> will move back to the Channels and Direct messages sections in your sidebar.",{inlineChannelSection:t.a.createElement(ee.a,{channelSection:we})})):null,Ka=we?t.a.createElement("div",{"data-qa":"channel-section-delete-confirmation-modal-multi-workspace-message"},Ha.rt("Conversations in <strong>{inlineChannelSection}</strong> will move back to the Channels and Direct messages sections in your sidebar.",{inlineChannelSection:t.a.createElement(ee.a,{channelSection:we})})):null,Qa=Fe?Object.keys(Fe).length:0,Eo=Fe?Object.keys(Fe)[0]:null,Po=t.a.createElement(sa.d,{type:"inline",align:"left",level:"warning",className:"p-channel_sidebar__remove_section_modal_spacing","data-qa":"channel-section-delete-confirmation-modal-multi-workspace-warning"},Ha.rt("<strong>{numOtherChannelsAffected, plural, =1 {# channel not shown} other {# channels not shown}}</strong> (in {numTotalWorkspacesAffected, plural, =1 {{firstWorkspaceAffectedName}} =2 {{firstWorkspaceAffectedName} and 1 other workspace} other {{firstWorkspaceAffectedName} and {numTotalWorkspacesAffectedMinusOne} other workspaces}}) will also move out of this section.",{numOtherChannelsAffected:pt,numTotalWorkspacesAffected:Qa,firstWorkspaceAffectedName:Eo,numTotalWorkspacesAffectedMinusOne:Qa-1})),Wa=t.a.createElement(sa.d,{type:"inline",align:"left",level:"warning",className:"p-channel_sidebar__remove_section_modal_spacing","data-qa":"channel-section-delete-confirmation-modal-starred-multi-workspace-warning"},Ha.rt("<strong>Starred</strong> will be deleted across all your {orgName} workspaces.",{orgName:Hn})),jo=typeof nt=="number",gs=t.a.createElement(t.a.Fragment,null,jo&&nt>0?Ka:na,t.a.createElement("div",{className:"p-channel_sidebar__remove_section_modal_spacing"},Ha.rt("And don\u2019t worry \u2014 you won\u2019t be removed from any channels when you delete this section.")),Fe&&Object.keys(Fe).length>0?Po:null,jo&&nt>0&&(we==null?void 0:we.type)===P.n&&Wa);return t.a.createElement(ba.a,{"data-qa":"remove_channel_section_modal",submitButtonText:Ha.t("Delete"),submitButtonType:"danger",cancelButtonText:Ha.t("Cancel"),onSubmit:xt,onCancel:An,onClose:An,title:Ha.t("Delete this section?")},gs)}},"SectionHeadingConfirmationModal");Ba.displayName="SectionHeadingConfirmationModal",Ba.defaultProps={numOtherWorkspacesOfCurrentEnterprise:0,channelExternalTeamNamesAffected:{},numOtherChannelsAffected:0,onModalSubmit:g.a,onModalClose:g.a,emojiPrefix:null,selfEnterpriseOrgName:""};const qn=c((Le,we)=>{let{channelSectionId:Fe}=we;const pt=Object(At.b)(Le).filter(Hn=>!!Hn.enterprise_id&&Hn.enterprise_id===Object(Ft.d)(Le)).length,nt=Object(T.h)(Le,Fe).map(Hn=>Object(S.d)(Le,Hn)).filter(Hn=>Hn&&Object(Qe.X)(Hn)).map(Hn=>Object(Ma.h)(Object(Oe.s)(Le,Object(Qe.Fb)(Le,Hn)))),xt={};nt.forEach(Hn=>{xt[Hn]?xt[Hn]+=1:xt[Hn]=1});let An=0;return An=Object.values(xt).reduce((Hn,na)=>Hn+na,0),{numOtherWorkspacesOfCurrentEnterprise:pt,channelExternalTeamNamesAffected:xt,numOtherChannelsAffected:An,channelSection:Object(T.g)(Le,Fe),selfEnterpriseOrgName:Object(Oe.m)(Le)}},"mapStateToProps");var Mt=Object(Yt.a)(qn)(Ba),da=e("T1zM"),ha=e("cOHG"),aa=e("ZKjC"),fo=e("i5Ig");const No=Object(aa.b)(Le=>{var we;return!((we=Le.quipMostRecent)===null||we===void 0)&&we.list.length?Le.quipMostRecent.list:fo.a});No.meta={name:"createSelector",key:"createSelectorgetMostRecentQuipDocIds",description:Le=>{var we;return!((we=Le.quipMostRecent)===null||we===void 0)&&we.list.length?Le.quipMostRecent.list:fo.a}};const fa=Object(aa.b)(Le=>{var we;return Le==null||(we=Le.quipMostRecent)===null||we===void 0?void 0:we.currentlyOpenDocId});fa.meta={name:"createSelector",key:"createSelectorgetCurrentlyOpenDocIdFromMessage",description:Le=>{var we;return Le==null||(we=Le.quipMostRecent)===null||we===void 0?void 0:we.currentlyOpenDocId}};const _a=Object(aa.b)(Le=>{var we;return Le==null||(we=Le.quipMostRecent)===null||we===void 0?void 0:we.backToChannelId});_a.meta={name:"createSelector",key:"createSelectorgetBackToChannelId",description:Le=>{var we;return Le==null||(we=Le.quipMostRecent)===null||we===void 0?void 0:we.backToChannelId}};var ko=e("CnKg"),qo=e("dmdh"),va=e("I0j/"),Fa=e("37+L"),_n=e("RV0M"),Xe=e("rZ8V"),It=e("NfYe"),$e=e("0mlZ"),In=e("Q93d"),ra=e("EAKl"),wn=e("pLaY"),Aa=e("ZobM"),Qn=e("+gmx"),Bn=e("qb+P"),Tn=e("GhjL"),it=e("Pn4H"),Sa=e("DQNL"),dt=e("/MKj"),en=e("zxER"),ua=e("VDNX"),Ao=e("lvWT"),yo=e("tYRW"),Qt=e("AEEY"),Bo=e("zKrX"),un=e("YyjR"),an=e("9org"),Zt=e("qDEp"),ht=e("npde"),jt=e("zpy0"),Pe=e("D2c/"),ct=e("DYc5"),Dn=e("Vy29"),eo=e("s4P+");const to="HIDDEN-USER-GROUP-SECTIONS-PREF",Da="hidden_user_group_sections",ss=Object(C.c)("Hide a user group section",(Le,we,Fe)=>{let{sectionId:pt,reason:nt}=Fe;if(!Object(Pe.a)(pt))return;const xt=we(),An=Object(zt.u)(xt,Da),Hn=Object(jt.a)(An);if(Hn.includes(pt))return;Hn.push(pt);const na=Hn.join();try{Le(Object(ct.g)({pref:Da,value:na,reason:nt}))}catch(Ka){Object(eo.b)().error(to,"Failed to set the pref to hide user group sections",Ka),Le(Object(Dn.b)({pref:Da,value:An}))}});ss.meta={name:"createThunk",key:"createThunkhideUserGroupSections",description:"Hide a user group section"};const uo=new J.b("channel_sidebar");function sr(Le){let{userGroupSectionId:we,userGroupId:Fe,closeModal:pt}=Le;const nt=Object(dt.i)(),xt=Object(en.c)(Bn.b),An=Object(en.c)(Eo=>Object(Tn.d)(Eo,Fe)),Hn=Object(s.useCallback)(()=>{nt(ss({sectionId:we,reason:"sidebar-section-context-menu"})),pt()},[pt,nt,we]),na=Object(s.useCallback)(()=>{pt()},[pt]),{modalTitle:Ka,modalContent:Qa}=Object(s.useMemo)(()=>{var Eo;const Po=xt?uo.t("Remove this section?"):"",Wa=An&&Object(Sa.r)(An)?(((Eo=An.prefs)===null||Eo===void 0?void 0:Eo.channels)||[]).length:0;let jo;return Wa===0?jo=xt?uo.t("Conversations in this section will move back to the Channels section of your Home sidebar."):"":jo=xt?uo.rt("Conversations in <strong>{usergroupName}</strong> section will move back to the Channels section of your Home sidebar.<br></br><br></br>And don\u2019t worry- you won\u2019t be removed from {channelCount,plural, =1 {this channel} other {any of these {channelCount} channels}} and you can add the section back again in <strong>Preferences</strong>.",{usergroupName:Object(Sa.h)(An),channelCount:Wa}):"",{modalTitle:Po,modalContent:jo}},[xt,An]);return xt?t.a.createElement(ua.a,{onClose:pt,isOpen:!0,contentLabel:uo.t("Delete message?"),centered:!0},t.a.createElement(Ao.a,null,t.a.createElement(yo.a,{title:Ka})),t.a.createElement(Qt.a,null,t.a.createElement(an.a,null,t.a.createElement("p",null,Qa))),t.a.createElement(Bo.a,null,t.a.createElement(un.a,null,t.a.createElement(Zt.f,{type:"outline",onClick:na},xt?uo.t("Cancel"):""),t.a.createElement(Zt.f,{type:"danger",onClick:Hn},xt?uo.t("Remove"):"")))):null}c(sr,"RemoveUserGroupSectionConfirmationModal"),sr.displayName="RemoveUserGroupSectionConfirmationModal";const vo=Object(ht.a)(sr),rn=new J.b("channel_browser_coachmark"),Ca=new J.b("menu");function ia(Le){let we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(arguments.length>2?arguments[2]:void 0).track(O.EventId.CONTEXT_MENU_ACTION,{...we,contexts:{ui_context:{action:O.UiAction.CLICK,ui_component:O.UiComponent.SIDEBAR,ui_element:O.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"SectionHeading"}},label:Le})}c(ia,"trackContextMenuClick");function Rs(Le){let{dispatch:we,props:Fe}=Le;const{channelSection:pt,clogger:nt}=Fe;we(Object(D.a)({element:t.a.createElement(ze.b,{action:ze.a.CREATE,nextChannelSectionId:pt.id,onAttemptSubmit:()=>{nt.track(O.EventId.CHANNEL_SECTIONS_CREATE,{contexts:{ui_context:{action:O.UiAction.SAVE,ui_component:O.UiComponent.SIDEBAR,ui_element:O.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"SectionHeading"}}})}})})),ia("create",{},nt)}c(Rs,"onCreateNewSection"),Rs.displayName="onCreateNewSection";function ea(Le){const{channelSection:we,clogger:Fe,onEnterEditModeClick:pt}=Le;pt({channelSection:we}),ia("organize",{},Fe)}c(ea,"onClickEditSidebar");function go(Le){let{dispatch:we,props:Fe}=Le;const{channelSection:pt,transitionFocusTo:nt,clogger:xt}=Fe;we(te({channelSectionId:pt.id,reason:"section-heading-confirm-delete"})).then(()=>{nt({focusKey:L.c.SIDEBAR_CURRENT_CHANNEL}),xt.track(O.EventId.CHANNEL_SECTIONS_DELETE,{contexts:{ui_context:{action:O.UiAction.CONFIRM,ui_component:O.UiComponent.SIDEBAR,ui_element:O.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"SectionHeading"}},channel_section_id:pt.id})}).finally(()=>we(Object(f.a)()))}c(go,"section_heading_context_menu_get_template_onModalSubmit");function ta(Le){const{emoji:we,hasUnmutedUnreads:Fe,isCollapsed:pt,hasAllMutedChannels:nt,isHovered:xt}=Le;if(!we)return null;const An=Object(q.default)("p-channel_sidebar__emoji",{"p-channel_sidebar__emoji--active":Fe||!pt||xt,"p-channel_sidebar__emoji--muted":pt&&nt});return t.a.createElement(pe.b,{text:we,shouldFallbackOnLoadError:!0,stopAnimations:!0,emojiSize:pe.a.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,className:An,renderEmojiFallback:!0})}c(ta,"renderEmojiPrefix"),ta.displayName="renderEmojiPrefix";function Wo(Le){let{dispatch:we,props:Fe}=Le;const{channelSectionChannels:pt,channelSection:nt,transitionFocusTo:xt,clogger:An}=Fe,Hn=pt.length;if(ia("delete",{channel_section_id:nt.id},An),Hn>0||nt.type===P.n){we(Object(D.a)({element:t.a.createElement(Mt,{onModalSubmit:()=>go({dispatch:we,props:Fe}),onModalClose:()=>we(Object(f.a)()),channelSectionId:nt.id,emojiPrefix:ta(Fe)})}));return}Hn===0&&(xt({focusKey:L.c.SIDEBAR_CURRENT_CHANNEL}),we(te({channelSectionId:nt.id,reason:"section-heading-delete"})),An.track(O.EventId.CHANNEL_SECTIONS_DELETE,{contexts:{ui_context:{action:O.UiAction.SELECT,ui_component:O.UiComponent.SIDEBAR,ui_element:O.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"SectionHeading"}},channel_section_id:nt.id}))}c(Wo,"onRemoveSectionSelected"),Wo.displayName="onRemoveSectionSelected";function fs(Le){let{dispatch:we,props:Fe}=Le;const{clogger:pt,channelSection:nt}=Fe;we(Object(D.a)({element:t.a.createElement(ze.b,{action:ze.a.RENAME,channelSectionId:nt.id,initialText:we(Object(xe.a)({channelSection:nt})),initialEmoji:nt.emoji,onAttemptSubmit:()=>{pt.track(O.EventId.CHANNEL_SECTIONS_RENAME,{contexts:{ui_context:{action:O.UiAction.SELECT,ui_component:O.UiComponent.SIDEBAR,ui_element:O.UiElement.SIDEBAR_CHANNEL_ITEM,ui_component_name:"SectionHeading"}},channel_section_id:nt.id})}})})),ia("rename",{channel_section_id:nt.id},pt)}c(fs,"onRenameSectionSelected"),fs.displayName="onRenameSectionSelected";function so(Le){let{dispatch:we,props:Fe}=Le;const{transitionFocusTo:pt,clogger:nt,channelSection:xt,channelIds:An,sidebarSections:Hn,allUnreadChannels:na}=Fe;pt({focusKey:L.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM}),ia("mark_as_read",{channel_section_id:xt.id},nt);const Ka=Hn?Hn[xt.id].channelsAssociatedOrdered:An,Qa=na.length;we(Object(U.a)({channelIds:Ka,displayCount:Qa,reason:"section-heading-menu"}))}c(so,"onMarkAsReadSelected");function Yo(Le){let{dispatch:we,props:Fe}=Le;const{transitionFocusTo:pt,clogger:nt,channelSection:xt}=Fe;pt({focusKey:L.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM}),ia("view_unreads",{channel_section_id:xt.id},nt),we(Object(da.f)({pref:"all_unreads_section_filter",value:xt.id})),we(Object(ha.a)({}))}c(Yo,"onViewUnreadsSelected");function Ga(Le){let{dispatch:we,props:Fe}=Le;const{transitionFocusTo:pt,channelSection:nt,clogger:xt,channelSectionChannels:An}=Fe;pt({focusKey:L.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM}),ia("mute",{channel_section_id:nt.id},xt),we(H({channelIdsToMute:An}))}c(Ga,"onMuteAllSelected");function Tr(Le){let{dispatch:we,props:Fe}=Le;const{transitionFocusTo:pt,clogger:nt,channelSection:xt,channelSectionChannels:An}=Fe;pt({focusKey:L.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM}),ia("unmute",{channel_section_id:xt.id},nt),we(H({channelIdsToUnmute:An}))}c(Tr,"onUnmuteAllSelected");function as(Le){let{dispatch:we,props:Fe}=Le;const{transitionFocusTo:pt,channelSection:nt,clogger:xt,channelSectionChannels:An}=Fe,Hn=Array.from(An);pt({focusKey:L.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM}),ia("add_section_to_recap",{channel_section_id:nt.id},xt),we(Object(wn.a)({channelIds:Hn,channelSectionName:nt.name}))}c(as,"addAllToRecaps");function Ws(Le,we){let{dispatch:Fe,props:pt}=Le;const{transitionFocusTo:nt,channelSection:xt,clogger:An,setChannelSectionPref:Hn}=pt;nt({focusKey:L.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM}),Fe(Hn({channelSectionId:xt.id,pref:B.e,value:we}));let na;we===B.g?na="show_mentions":we===B.h?na="show_unread":na="show_all",ia(na,{channel_section_id:xt.id},An)}c(Ws,"onSetSidebarBehavior");function Te(Le,we){let{dispatch:Fe,props:pt}=Le;const{transitionFocusTo:nt,channelSection:xt,clogger:An,setChannelSectionPref:Hn}=pt;nt({focusKey:L.c.SIDEBAR_PREVIOUSLY_FOCUSED_ITEM}),Fe(Hn({channelSectionId:xt.id,pref:B.i,value:we})),ia(`sort_${we}`,{channel_section_id:xt.id},An)}c(Te,"onSetSorting");function Be(Le){let{dispatch:we,props:Fe}=Le;const{canUserCreateChannels:pt,channelSection:nt,isExternalWorkspaceAndCanCreateChannels:xt,workspaceId:An}=Fe;if(!Object(sn.c)(nt)&&nt.type!==P.p.ExternalWorkspace&&nt.type!==P.m&&nt.type!==P.n)return[];if(nt.type===P.p.ExternalWorkspace&&!xt||!pt)return[];const Hn=c(()=>{const na={entryPoint:ga.a.ChannelSidebar};nt.type===P.p.ExternalWorkspace?na.initialWorkspaceId=Object(sn.f)(nt.id):(na.targetChannelSection=nt,na.initialWorkspaceId=An),we(Object(ie.a)(na))},"handleClick");return[{label:Ca.t("Create channel"),click:Hn,dataQa:"channel_section_menu__create_channel"}]}c(Be,"getCreateChannelSubmenuItem");function Je(Le,we,Fe){const{showBehavior:pt}=Fe;return{label:{[B.f]:Ca.t("All"),[B.h]:Ca.t("Unreads only"),[B.g]:Ca.t("Mentions only")}[Le],value:Le,key:Le,dataQa:`channel_section_menu_sidebar_behavior_${Le}`,type:M.b.radio,checked:pt===Le,click:()=>Ws({dispatch:we,props:Fe},Le)}}c(Je,"itemForBehavior");function qe(Le){const{showBehavior:we}=Le;let Fe;switch(we){case B.h:Fe=rn.t("Unreads only");break;case B.g:Fe=rn.t("Mentions only");break;case B.f:default:Fe=rn.t("All");break}return Fe}c(qe,"getShowStateLabel");function mn(Le,we,Fe){const{enableGlobalSidebarPref:pt}=we,nt=Xa("section_show_prefs",Le,we,Fe),xt=Xa("section_sort_prefs",Le,we,Fe);return[{label:Ca.t("Show in this section"),type:M.b.header},...nt,{type:M.b.separator},{label:Ca.t("Sort this section"),type:M.b.header},...xt,...pt?[{type:M.b.separator},{click:()=>{Le(Object(Xt.a)({activeSection:"sidebar",activeSubsection:"sidebar_show_pref"}))},label:t.a.createElement("div",{className:"p-section_heading_context_menu__show_section_state"},Ca.rt('<strong className="sk_highlight">Change these settings for all sections in Preferences</strong>')),key:"open-prefs-modal",className:"p-channel_sidebar__channel_section_menu_submenu__link"}]:[]]}c(mn,"getShowSortPrefsSubmenuItems"),mn.displayName="getShowSortPrefsSubmenuItems";function oa(Le){let{dispatch:we,props:Fe}=Le;const{channelSection:pt}=Fe;pt.type!==P.p.UserGroup||!pt.usergroupId||we(vo({userGroupSectionId:pt.id,userGroupId:pt.usergroupId}))}c(oa,"onHideUserGroupSection");function Un(Le){let{dispatch:we,props:Fe}=Le;const{userGroup:pt}=Fe;we(Object(it.a)({groupId:(pt==null?void 0:pt.id)||""}))}c(Un,"onOpenUserGroupView");function On(Le,we,Fe){const{channelSection:pt}=we;let nt;const xt=Oo([["create_scdm","create_sc_channel"],["create_section"]],Le,we,Fe);switch(pt.type){case P.m:case P.n:case P.b:nt=Oo([["create_channel","create_section"]],Le,we,Fe);break;case P.g:nt=Oo([["create_dm","create_section"]],Le,we,Fe);break;case P.c:nt=[{label:Ca.t("Slack Connect"),type:M.b.header},...xt];break;case P.j:default:nt=Oo([["create_channel","create_section"]],Le,we,Fe);break;case P.p.ExternalWorkspace:nt=Oo([["create_channel"]],Le,we,Fe);break}return nt.length===0?[]:[{label:Ca.t("Create"),type:M.b.submenu,key:"create_submenu",dataQa:"channel_section_submenu_create",submenu:nt,submenuWidth:"auto"}]}c(On,"getCreateSubmenu");function mo(Le,we,Fe){const{channelSection:pt,experimentUserGroupSectionsGroupOn:nt}=we;let xt;switch(pt.type){case P.m:case P.n:xt=[["mark_all_as_read","mute_all","add_section_to_recap","view_unreads"],["rename_section","delete_section"],["edit_all"],["share_channel_set"]];break;case P.b:default:xt=[["mark_all_as_read","view_unreads"],["browse_page","edit_all"],["share_channel_set"]];break;case P.g:xt=[["mark_all_as_read","edit_all","view_unreads"],["browse_page"],["share_channel_set"]];break;case P.c:xt=[["mark_all_as_read","view_unreads"],["browse_page","edit_all"],["share_channel_set"]];break;case P.j:xt=[["mark_all_as_read","view_unreads"],["browse_page","edit_all"],["share_channel_set"]];break;case P.p.ExternalWorkspace:xt=[["mark_all_as_read","add_section_to_recap","view_unreads"],["remove_external_workspace_from_home"]];break;case P.p.UserGroup:if(!nt)return[];xt=[["mute_all","add_section_to_recap"],["hide_user_group_section"],["edit_all"]];break}const An=Oo(xt,Le,we,Fe);return An.length===0?[]:[{label:Ca.t("Manage"),type:M.b.submenu,key:"manage",dataQa:"channel_section_submenu_manage",submenu:An,submenuWidth:"auto"}]}c(mo,"getManageSubmenuItem");function pn(Le,we,Fe){const{channelsWithUnmutedUnreads:pt,unreadWithNoMentionsHiddenChannels:nt,isCollapsed:xt,showBehavior:An,experimentEnhanceContextMenusGroupOn:Hn,experimentSidebarPrefsApplyToMenusGroupOn:na,showAvatars:Ka,channelNamesToChannelIdsMap:Qa,digestedChannels:Eo}=we,Po=An===B.g,Wa=[],jo=pt.concat(nt),gs=Po&&nt.length>0&&!xt?nt:jo;return(Po&&nt.length>0||xt&&jo.length>0)&&(Wa.push({label:rn.t("Unread conversations"),type:M.b.header}),gs.forEach(Na=>{const ms=Object(d.h)(Na),rs=Eo==null?void 0:Eo.includes(Na.id),es=Object(st.a)(Qa,Na);Wa.push({label:t.a.createElement(hn.b,{id:Na.id,model:Na,forceRealName:na?void 0:!0,showPresence:Hn,showStatus:Hn,showAvatar:na?ms&&Ka:void 0,useShortMode:!0,className:"p-section_heading_context_menu__channel",onlyBoldIfUnread:!0,showUnreadBadge:!0,shortenTooltipContents:!0,showTruncatedChannelNameTooltip:!0,showTeamForLocalChannel:es,inlineNameSuffix:rs?Ja():null}),click:cs=>{Object(bn.a)(cs)?Le(Object(nn.a)({viewId:Na.id})):Le(Fe?Object(va.a)(Object(Fa.n)(Na.id)):Object(he.a)({id:Na.id}))}})})),Wa}c(pn,"renderHiddenUnreadsWithoutMentions"),pn.displayName="renderHiddenUnreadsWithoutMentions";function Jn(Le,we,Fe){const{readHiddenChannels:pt,showBehavior:nt,isCollapsed:xt,hasUnreads:An,unreadWithNoMentionsHiddenChannels:Hn,experimentEnhanceContextMenusGroupOn:na,experimentSidebarPrefsApplyToMenusGroupOn:Ka,showAvatars:Qa,channelNamesToChannelIdsMap:Eo,digestedChannels:Po}=we,Wa=pt.length>0,jo=nt===B.h,gs=nt===B.g,Na=[];if(Wa&&(jo||gs||xt)){const ms=Ca.t("You're all caught up!"),rs=t.a.createElement(t.a.Fragment,null,t.a.createElement(pe.b,{text:"tada",shouldFallbackOnLoadError:!0,stopAnimations:!0,emojiSize:pe.a.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0,className:"p-section_heading_context_menu__unread_icon"}),t.a.createElement("span",null,ms));!An&&Hn.length<=0?Na.push({label:rs,type:M.b.header}):Na.push({label:rn.t("Read conversations"),type:M.b.header}),pt.forEach(es=>{const cs=Object(d.h)(es),hs=Object(st.a)(Eo,es),ls=Po==null?void 0:Po.includes(es.id);Na.push({label:t.a.createElement(hn.b,{id:es.id,model:es,forceRealName:Ka?void 0:!0,showPresence:na,showStatus:na,showAvatar:Ka?cs&&Qa:void 0,useShortMode:!0,className:"p-section_heading_context_menu__channel",onlyBoldIfUnread:!0,showUnreadBadge:!0,shortenTooltipContents:!0,showTruncatedChannelNameTooltip:!0,showTeamForLocalChannel:hs,inlineNameSuffix:ls?Ja():null}),click:rr=>{Object(bn.a)(rr)?Le(Object(nn.a)({viewId:es.id})):Le(Fe?Object(va.a)(Object(Fa.n)(es.id)):Object(he.a)({id:es.id}))}})})}return Na}c(Jn,"renderHiddenReadChannels"),Jn.displayName="renderHiddenReadChannels";function Ja(){return t.a.createElement("span",null,t.a.createElement(Aa.a,{size:"inherit",inline:!0,name:"slack-ai"}))}c(Ja,"renderRecapIcon"),Ja.displayName="renderRecapIcon";function Uo(Le,we,Fe){const{mutedHiddenChannels:pt,experimentEnhanceContextMenusGroupOn:nt,experimentSidebarPrefsApplyToMenusGroupOn:xt,showAvatars:An,channelNamesToChannelIdsMap:Hn,digestedChannels:na}=we;if(pt.length===0)return[];const Ka=[];return Ka.push({label:Ca.t("Muted conversations"),type:M.b.header}),pt.forEach(Qa=>{const Eo=Object(d.h)(Qa),Po=Object(st.a)(Hn,Qa),Wa=na==null?void 0:na.includes(Qa.id);Ka.push({label:t.a.createElement(hn.b,{id:Qa.id,model:Qa,forceRealName:xt?void 0:!0,showPresence:nt,showStatus:nt,showAvatar:xt?Eo&&An:void 0,useShortMode:!0,className:"p-section_heading_context_menu__channel",onlyBoldIfUnread:!0,showUnreadBadge:!0,shortenTooltipContents:!0,showTruncatedChannelNameTooltip:!0,showTeamForLocalChannel:Po,inlineNameSuffix:Wa?Ja():null}),click:jo=>{Object(bn.a)(jo)?Le(Object(nn.a)({viewId:Qa.id})):Le(Fe?Object(va.a)(Object(Fa.n)(Qa.id)):Object(he.a)({id:Qa.id}))}})}),Ka}c(Uo,"renderHiddenMutedChannels"),Uo.displayName="renderHiddenMutedChannels";function Xa(Le,we,Fe,pt){const{channelSection:nt,hasUnreads:xt,canMuteSection:An,canUnmuteSection:Hn,sortBehavior:na,allJoinableChannelsAssociatedWithTheSection:Ka,enableChannelSectionEditing:Qa,onDMBrowserModalClick:Eo,onAppLauncherClick:Po,onBrowserChannelsClick:Wa,experimentShareableSectionsGroupTreatment:jo,experimentSlackAiCatchUpGroupOn:gs,experimentExternalWorkspacePilotV2GroupOn:Na,experimentUserGroupSectionsGroupOn:ms,isAPaidTeam:rs,isClientOnline:es,hasPendingChannelSectionSetRequest:cs,clogger:hs,isEditMode:ls,userGroup:rr,potentiallyStaleSharedInvitesCanGetLinkResult:pr,isSlackConnectHubEnabled:br,canUserCreateSlackConnectChannels:tn}=Fe;switch(Le){case"mark_all_as_read":return xt?[{label:Ca.t("Mark all as read"),click:()=>so({dispatch:we,props:Fe}),dataQa:"channel_section_menu_mark_as_read"}]:[];case"view_unreads":return xt?[{label:Ca.t("View unreads"),click:()=>Yo({dispatch:we,props:Fe}),dataQa:"channel_section_menu_view_unreads"}]:[];case"mute_all":return An&&(nt.type===P.m||nt.type===P.p.UserGroup)?[{label:Ca.t("Mute all"),click:()=>Ga({dispatch:we,props:Fe}),dataQa:"channel_section_menu_mute"}]:Hn&&(nt.type===P.m||nt.type===P.p.UserGroup)?[{label:Ca.t("Unmute all"),click:()=>Tr({dispatch:we,props:Fe}),dataQa:"channel_section_menu_unmute"}]:[];case"add_section_to_recap":return gs?[{label:Ca.t("Add section to recap"),click:()=>as({dispatch:we,props:Fe}),dataQa:"add_section_to_recap"}]:[];case"edit_all":return rs&&Qa&&!ls&&Object(z.c)(nt)?[{dataQa:"edit_mode_enter",label:t.a.createElement("span",null,Ca.t("Edit all sections",{fallbackHash:"d7ab9424ca9c85484a40d8dba144bee52a77ecaf"})),click:()=>ea(Fe)}]:[];case"rename_section":return nt.type===P.m?[{label:Ca.t("Rename {sectionName}",{sectionName:Object(J.k)(nt.name)}),disabled:!Object(z.c)(nt)||!es||cs,click:()=>fs({dispatch:we,props:Fe}),dataQa:"channel_section_menu_rename_channel_section"}]:[];case"delete_section":return nt.type===P.m||nt.type===P.n?[{label:Ca.t("Delete {sectionName}",{sectionName:Object(J.k)(we(Object(xe.a)({channelSection:nt})))}),disabled:!Object(z.c)(nt)||!es||cs,click:()=>Wo({dispatch:we,props:Fe}),dataQa:"channel_section_menu_remove_channel_section",danger:!0}]:[];case"create_section":return Qa?rs?[{dataQa:"channel_section_menu_create_new_section",label:Ca.t("Create section"),disabled:!es||cs,click:()=>Rs({dispatch:we,props:Fe})}]:[{dataQa:"channel_section_menu_create_new_section--callout",label:Ca.t("Create sidebar section"),badgeLabel:Ca.t("PAID"),badgeClassName:"p-channel_sidebar__channel_section_menu_item__callout",href:`https://${Object(v.n)()}/help/articles/360043207674`}]:[];case"create_channel":return Be({dispatch:we,props:Fe});case"create_sc_channel":return tn?rs?[{label:rn.t("Create channel"),click:()=>we(Object(ie.a)({entryPoint:ga.a.ChannelSidebarSlackConnectSection})),dataQa:"channel_section_menu__create_sc_channel"}]:[{label:t.a.createElement("div",{className:"display_flex align_items_center"},rn.t("Create a channel"),t.a.createElement(zn.a,{className:"margin_left_50",hideTooltip:!0,uiComponentVariant:O.UiComponentVariant.SLACK_CONNECT_MENU_CREATE_CHANNEL})),click:()=>we(Object(Z.a)({uiComponentVariant:O.UiComponentVariant.SLACK_CONNECT_MENU_CREATE_CHANNEL})),dataQa:"channel_section_menu__create_sc_channel"}]:[];case"create_scdm":return pr?[{label:rn.t("Start direct message"),click:()=>{we(Object(mt.a)({entryPoint:"channel_sidebar_slack_connect_right_click"}))},dataQa:"channel_section_menu__create_scdm"}]:[];case"create_dm":return[{label:rn.t("Start direct message"),click:()=>Eo({openComposer:!0})}];case"remove_external_workspace_from_home":return nt.type!==P.p.ExternalWorkspace?[]:[{label:Na?Ca.t("Remove from Home"):"",click:()=>we(te({channelSectionId:nt.id,reason:"remove-external-workspace-from-home"})),dataQa:"remove_external_workspace_from_home",danger:!0}];case"hide_user_group_section":return[{label:ms?rn.t("Remove section"):"",click:()=>oa({dispatch:we,props:Fe})}];case"browse_page":switch(nt.type){case P.b:return Wa?[{label:Ca.t("Browse channels"),click:Wa,dataQa:"channel_section_menu__channels__browse"}]:[];case P.g:return[{label:rn.t("Recent direct messages"),click:Eo,dataQa:"channel_sidebar__recent_dms"}];case P.j:return[{label:rn.t("Browse apps"),click:Po}];case P.c:return br?[{label:rn.t("Browse Slack Connect"),click:()=>{ia("Browse Slack Connect",{},hs),we(Object(Me.a)({entryPoint:"channel_sidebar_slack_connect_options"}))},dataQa:"channel_sidebar__slack_connect__browse"}]:[];default:return[]}case"share_channel_set":return jo?[{label:Ca.t("Share this set of channels"),click:()=>we(Object(Nn.a)({channelSetName:we(Object(xe.a)({channelSection:nt})),channelSectionChannels:Ka,shareType:$e.b.CHANNEL_SET})),dataQa:"share_channel_set"}]:[];case"section_show_prefs":return[Je(B.f,we,Fe),Je(B.h,we,Fe),nt.type!==P.g?Je(B.g,we,Fe):null];case"section_sort_prefs":return[{label:Ca.t("Alphabetically"),value:B.j,key:B.j,dataQa:"channel_section_menu_sort_default",type:M.b.radio,checked:!na||na===B.j,click:()=>Te({dispatch:we,props:Fe},B.j)},{label:Ca.t("By most recent"),value:B.l,key:B.l,dataQa:"channel_section_menu_sort_recent",type:M.b.radio,checked:na===B.l,click:()=>Te({dispatch:we,props:Fe},B.l)},{label:Ca.t("Priority"),value:B.k,key:B.k,dataQa:"channel_section_menu_sort_recent",type:M.b.radio,checked:na===B.k,click:()=>Te({dispatch:we,props:Fe},B.k)}];case"user_group_section_context":return!ms||nt.type!==P.p.UserGroup?[]:[{type:M.b.default,key:"usergroupsections",dataQa:"user_group_section_context",children:ms?Object(u.a)(rn.t("{userGroupName}",{userGroupName:Object(Sa.h)(rr)})):"",description:ms?Ca.t("Open user group details"):"",icon:t.a.createElement(Aa.a,{variation:"filled",name:"user-groups",size:"20"}),click:()=>Un({dispatch:we,props:Fe})}];case"per_section_show_sort_prefs_submenu":return!rs||ls||!Object(z.c)(nt)?[]:[{label:t.a.createElement("div",{className:"p-channel_sidebar__channel_section_menu_submenu_label"},Ca.t("Show and sort"),t.a.createElement("span",{className:"p-channel_sidebar__channel_section_menu_submenu_label__secondary_text"},qe(Fe))),type:M.b.submenu,key:"showsort",dataQa:"channel_section_menu_show_sort_pref",submenu:mn(we,Fe,pt),submenuWidth:"auto"}];case"create_submenu":return nt.type===P.m||nt.type===P.n||nt.type===P.b||nt.type===P.g||nt.type===P.p.ExternalWorkspace?On(we,Fe,pt):[];case"manage_submenu":return mo(we,Fe,pt);case"unread_channels":return pn(we,Fe,pt);case"read_channels":return Jn(we,Fe,pt);case"muted_channels":return Uo(we,Fe,pt);default:Object(Wt.a)(Le)}}c(Xa,"renderMenuPlaceholderItem"),Xa.displayName="renderMenuPlaceholderItem";function Oo(Le,we,Fe,pt){return Le.map(xt=>xt.flatMap(An=>Xa(An,we,Fe,pt))).filter(xt=>xt&&xt.length>0).flatMap((xt,An)=>An>0?[{type:M.b.separator},...xt]:xt,[])}c(Oo,"renderMenuPlaceholders");const Ro=c((Le,we)=>{let{channelSection:Fe,channelIds:pt=[],channelSectionHasAllMutedHiddenChannels:nt=!1,channelSectionReadHiddenChannels:xt=[],channelSectionMutedHiddenChannels:An=[],channelSectionUnreadWithNoMentionsHiddenChannels:Hn=[],sidebarSections:na={},getPrimaryView:Ka,shouldUseNavigate:Qa,getChannelSectionPref:Eo}=we;var Po,Wa;const jo=pt.reduce((at,Ut)=>{if(!Object(Ct.a)(Ut))return at;const vn=Object(S.d)(Le,Ut);return vn&&Object(Qe.ub)(vn)?at.concat(vn):at},[]),gs=xt.map(at=>Object(S.d)(Le,at)),Na=An.map(at=>Object(S.d)(Le,at)),ms=Hn.map(at=>Object(S.d)(Le,at)),rs=(Po=na[Fe.id])===null||Po===void 0?void 0:Po.channelsAssociatedOrdered.filter(at=>{const Ut=Object(S.d)(Le,at);return!Object(d.h)(Ut)}),es=jo.length,cs=es>0||Hn.length>0,hs=Qa?(Wa=Ka(Le))===null||Wa===void 0?void 0:Wa.id:Object(kn.a)(Le),ls=jo.filter(at=>{if(!Object(Ln.b)(Le,at.id)){const Ut=Object(Qe.R)(at);return Ut&&Ut>0&&hs!==at.id}return!1}),rr=[];rs==null||rs.forEach(at=>{const Ut=Object(S.d)(Le,at);Object(Qe.ub)(Ut)&&rr.push(Ut)});const pr=gs.filter(at=>{if(at!=null&&at.id&&Object(Ln.b)(Le,at.id)){const Ut=Object(Qe.R)(at);return!Ut&&Ut===0&&hs!==at.id}return!1}),br=Object(ra.o)(Le),tn=br?rs.filter(at=>Object(Qn.N)(Le,{channelId:at})):fo.a,Ri=ls.length>0,Ci=pt.length>0?ls.length===0:!!nt,li=Object(Gn.a)(Le),Ur=Object(T.h)(Le,Fe.id),{canMuteSection:yi,canUnmuteSection:So}=Ur.reduce((at,Ut)=>{const vn=Object(S.d)(Le,Ut);return!vn||!(!Object(Qe.X)(vn)&&Object(Qe.db)(vn)&&!Object(Qe.pb)(vn))||(vn&&Object(Ln.b)(Le,vn.id)?at.canUnmuteSection=!0:at.canMuteSection=!0),at},{canMuteSection:!1,canUnmuteSection:!1}),Mo=Object(Ye.c)(Le),Os=Object(vt.c)(Le).ok,xi=Object(Xn.a)(Le),Li=Object(T.r)(Le),Ho=Li?Object(T.k)(Le,Fe.id):Object(In.a)(Eo(Fe.id,B.a)),di=Object(Fn.d)(Le),ui=Object(Oe.g)(Le),wi=Object(Ma.L)(ui),Nt=Eo(Fe.id,B.e),kt=!!Object(zt.u)(Le,"show_sidebar_avatars"),Et=Object(Ot.d)(Le,"enhance_context_menus")==="on",Pt=Object(Ot.d)(Le,"sidebar_prefs_apply_to_menus")==="on",Kt=Object(It.g)(Le),ln=Object(Ot.d)(Le,"shareable_sections")==="treatment",wt=Object(Bn.b)(Le),fn=Eo(Fe.id,B.i),et=Object(Va.b)(Le,{shouldRefetch:!1}),Ie=Object(Q.a)({state:Le}),Ve=Object(Ot.d)(Le,"context_menu_search")==="on",De=Object(cn.a)(Le),We=Object(Ht.a)(Le),Ze=No(Le).map(at=>({id:Object(ko.a)(at),title:Object(qo.e)(Le,at).title})),Dt=Object(S.a)(Le),ft=Fe!=null&&Fe.usergroupId?Object(Tn.d)(Le,Fe.usergroupId):null;var on;return{isEditMode:Li,isCollapsed:Ho,isClientOnline:di,isAPaidTeam:wi,hasUnreads:cs,hasPendingChannelSectionSetRequest:li,hasUnmutedUnreads:Ri,hasAllMutedChannels:Ci,canMuteSection:yi,canUnmuteSection:So,canUserCreateChannels:Mo,showBehavior:Nt,sortBehavior:fn,showAvatars:kt,experimentContextMenuSearchGroupOn:Ve,experimentSectionAllUnreadsGroupTreatment:De,experimentShareableSectionsGroupTreatment:ln,experimentEnhanceContextMenusGroupOn:Et,experimentSidebarPrefsApplyToMenusGroupOn:Pt,experimentExternalWorkspacePilotV2GroupOn:Kt,experimentUserGroupSectionsGroupOn:wt,canUserCreateSlackConnectChannels:Os,canManageSlackConnect:xi,isSlackConnectHubEnabled:We,potentiallyStaleSharedInvitesCanGetLinkResult:et,experimentSlackAiCatchUpGroupOn:br,unreadChannelCount:es,allUnreadChannels:rr,channelSectionChannels:Ur,readHiddenChannels:gs,mutedHiddenChannels:Na,unreadWithNoMentionsHiddenChannels:ms,channelsWithMutedReads:pr,channelsWithUnmutedUnreads:ls,allJoinableChannelsAssociatedWithTheSection:rs,clogger:Ie,sidebarSections:na,channelNamesToChannelIdsMap:Dt,userGroup:ft,recentQuipDocs:Ze,canCreateCanvas:Object(dn.a)(Le),experimentDesktopIa4GroupOn:Object(Xe.q)(Le),digestedChannels:tn,isExternalWorkspaceAndCanCreateChannels:Object(Ye.b)(Le,[(on=Object(sn.f)(Fe.id))!==null&&on!==void 0?on:""])}},"mapStateToPropsOnDemand"),vs=Object(C.c)("Gets a context menu template, triggered by ChannelContextMenu",(Le,we,Fe,pt)=>{let{channelSection:nt,channelIds:xt,emoji:An,isHovered:Hn=!1,channelSectionHasAllMutedHiddenChannels:na=!1,channelSectionReadHiddenChannels:Ka,channelSectionMutedHiddenChannels:Qa,channelSectionUnreadWithNoMentionsHiddenChannels:Eo,sidebarSections:Po,getChannelSectionPref:Wa,enableChannelSectionEditing:jo=!0,enableGlobalSidebarPref:gs=!0,...Na}=Fe;const{shouldUseNavigate:ms,getPrimaryView:rs}=pt(_n.a),es=Ro(we(),{channelSection:nt,channelIds:xt,channelSectionHasAllMutedHiddenChannels:na,channelSectionReadHiddenChannels:Ka,channelSectionMutedHiddenChannels:Qa,channelSectionUnreadWithNoMentionsHiddenChannels:Eo,sidebarSections:Po,getPrimaryView:rs,shouldUseNavigate:ms,getChannelSectionPref:Wa}),cs={channelSection:nt,channelIds:xt,isHovered:Hn,channelSectionHasAllMutedHiddenChannels:na,channelSectionReadHiddenChannels:Ka,channelSectionMutedHiddenChannels:Qa,channelSectionUnreadWithNoMentionsHiddenChannels:Eo,emoji:An,getChannelSectionPref:Wa,enableChannelSectionEditing:jo,enableGlobalSidebarPref:gs,...Na,...es};let hs=[];if(nt.type===P.e?hs=[["per_section_show_sort_prefs_submenu"],["unread_channels"],["read_channels"],["muted_channels"]]:hs=[["user_group_section_context"],["create_submenu"],["manage_submenu"],["per_section_show_sort_prefs_submenu"],["unread_channels"],["read_channels"],["muted_channels"]],(hs==null?void 0:hs.length)!==0)return Oo(hs,Le,cs,ms)});vs.meta={name:"createThunk",key:"createThunkgetImprovedSectionHeadingContextMenuTemplate",description:"Gets a context menu template, triggered by ChannelContextMenu"}},NP9x:function(le,y,e){"use strict";e.r(y),e.d(y,"DigestNuxEducationCoachmark",function(){return xe});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("BHdc"),O=e("zxER"),v=e("nNoG"),B=e("A/mR"),P=e("BeLv"),M=e("EHvj"),L=e.n(M),z=e("M/6v"),U=e.n(z),g=e("aQR5"),J=e.n(g),d=e("N0zA"),S=e("uVZW"),F=e("W29z"),x=e("eWGC"),Q=e("69o4"),V=e("EAKl"),X=e("FroQ"),K=e("+gmx"),H=e("eqVl"),w=e("ktUG"),T=e("I0j/"),ee=e("37+L"),ne=e("7+Lm"),ue=e("u4cD"),te=e("8kKn"),D=e("+kJ4"),f=e("JoR1");function ie(){return ie=Object.assign||function(Me){for(var Ct=1;Ct<arguments.length;Ct++){var Qe=arguments[Ct];for(var st in Qe)Object.prototype.hasOwnProperty.call(Qe,st)&&(Me[st]=Qe[st])}return Me},ie.apply(this,arguments)}c(ie,"_extends");const Z=new v.b("assistant"),pe=135,q=175,xe=c(Me=>{let{experimentSlackAiCatchUpGroupOn:Ct,isOpenViaMegaphone:Qe,nuxWasSeenBefore:st,dismissCoachmark:Ot,onClickPrimaryCta:cn,onClickHandler:Ht,children:Nn,isOpenViaTour:zt,experimentSlackAiRecapGaGroupOn:Ln,experimentSlackaiNfxUpdatesV2GroupOn:Fn,isNuxTourVariant:Ye,shouldHideCoachmark:dn=!1,hasRecapBeenSetup:vt,nextDailyDigestTime:Xn}=Me;const kn=Object(O.c)(Wt=>!Object(f.u)(Wt,"a11y_animations"));let he=Z.t("It\u2019s okay to not read every message"),Gn=Z.t("You\u2019re human! Slack AI can send you daily recaps of less urgent channels and mute them in your sidebar, so you can stay focused."),Va=kn?pe:q,Oe=Object(s.useMemo)(()=>kn?void 0:t.a.createElement("img",{className:"p-digest_nux_education_coachmark__hero-image",alt:"","aria-hidden":!0,src:J.a}),[kn]);Ln&&(Gn=Z.t("You\u2019re human! Slack AI can keep you informed with daily channel recaps, and save you some reading time."));let Ma=Z.t("Preview Your Recap");const ga=Z.t("Maybe Later");st&&(he=Z.t("You have a recap ready to preview"),Gn=Z.t("Check out your first daily recap from Slack AI to see how it keeps you in the loop on less urgent channels.")),Fn&&zt&&(vt?(he=Z.t("Stay in the loop on channels you care about",{fallbackHash:"673df05518d601d75b959baf264ac33725eeaf35"}),Gn=Z.t("Nice, you\u2019ve already set up your daily recap! Your next recap will be ready at {time}.",{time:Xn?Object(B.g)(Xn,"{time}"):"7 AM",fallbackHash:"4a5c15d778b0532bd65dc44b3cbb6948aaf9602a"})):(he=Z.t("Recap and mute noisy channels",{fallbackHash:"c4a91e6cfa6703030a2892102396e4d7703a6871"}),Gn=Z.t("Let Slack AI send daily recaps of channels you can\u2019t always make time for, and mute them in your sidebar for better focus.",{fallbackHash:"4a5c15d778b0532bd65dc44b3cbb6948aaf9602a"}),Oe=void 0,Va=pe),Ma=Z.t("Done")),Fn&&Ye&&(he=Z.t("You have a recap ready to preview"),Gn=Z.t("Get a peek at what your daily recap from Slack AI can look like, and see how it keeps you in the loop on less urgent channels."));const zn=Object(s.useMemo)(()=>{let Wt=w.UiStep.SLACK_AI_RECAP_EDUCATION_COACHMARK;return st&&!zt&&(Wt=w.UiStep.SLACK_AI_NUX_RECAP_COACHMARK_SECOND_PREVIEW),zt&&(Wt=w.UiStep.SLACK_AI_NUX_RECAP_COACHMARK),Wt},[zt,st]),hn=st||zt,nn=Object(s.useMemo)(()=>t.a.createElement("div",null,t.a.createElement("p",{className:"c-coachmarkv2__body margin_bottom_150"},Gn),t.a.createElement("div",{className:"p-digest_nux_education_coachmark__steps"},Z.t("{stepNumber} of {totalStepCount}",{stepNumber:3,totalStepCount:3}))),[Gn]),Xt=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-slack-ai-nux-light").then(e.t.bind(null,"HUJL",3)),[]),bn=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-slack-ai-nux-dark").then(e.t.bind(null,"lFjc",3)),[]);return!Ct||!(zt||Qe)||Qe&&dn?Nn:t.a.createElement("span",{role:"none",onClick:Ht},t.a.createElement(P.a,{className:Object(C.default)("p-digest_nux_education_coachmark",{"p-digest_nux_education_coachmark--with-color-gradient-background":!!Oe}),isOpen:Qe||zt,arrowCenterOnAnchor:!0,arrowPosition:10,offsetX:-30,offsetY:Va,orientation:"right-bottom",titleText:he,bodyText:Qe?Gn:nn,dismissCoachmark:Ot,heroOverride:Oe,getAnimationImportLight:Xt,getAnimationImportDark:bn,staticAssetLight:U.a,staticAssetDark:L.a,primaryCallToActionText:Ma,onClickPrimaryButton:cn,secondaryCallToActionText:hn?void 0:ga,onClickSecondaryButton:hn?void 0:Ot,useCustomOverlay:!0,clogUiStep:zn,cutoutTopBottomPadding:4,cutoutLeftRightPadding:4},Nn))},"DigestNuxEducationCoachmark");xe.displayName="DigestNuxEducationCoachmark";const ze=c(Me=>{const Ct=Object(u.i)(),Qe=Object(O.c)(V.o),st=Object(O.c)(V.r),Ot=Object(O.c)(V.u);var cn;const Ht=(cn=Object(O.c)(K.i))!==null&&cn!==void 0?cn:null,Nn=Ht===H.e.Recap,zt=Object(O.c)(F.g),Ln=Object(O.c)(ne.e),Fn=Ht!==null,Ye=Object(O.c)(K.y),dn=Object(O.c)(K.n),vt=Object(O.c)(K.s),Xn=!!((dn||Ye)&&!vt),{isOpen:kn,closeCoachmark:he}=Object(d.a)(S.h.SLACK_AI_DIGEST_NUX_EDUCATION),Gn=(zt||Fn)&&kn;Gn&&!Ln&&Ct(Object(ue.g)(!0));const Va=Gn||Ln;Object(s.useEffect)(()=>{kn&&!Va&&Ct(Object(x.a)({action:S.f.IMPRESSION,notificationName:S.h.SLACK_AI_DIGEST_NUX_EDUCATION}))},[Ct,kn,Va]);const{seenBefore:Oe,isNuxTourVariant:Ma}=Object(O.c)(nn=>Object(ne.b)(nn,S.g.IN_PRODUCT_COACHMARK)),ga=Object(s.useCallback)(()=>{Nn?(Ct(Object(D.a)()),Ct(Object(X.K)(null)),Ct(Object(te.a)()),Ct(Object(Q.a)({spaceName:S.g.SIDEBAR_MENU_HEADER,action:S.f.DISMISS}))):he(!0)},[he,Ct,Nn]),zn=Object(s.useCallback)(()=>{ga(),kn&&Ct(Object(T.a)(Object(ee.r)({navigatedFromNuxCoachmark:!0})))},[ga,Ct,kn]),hn=Object(s.useCallback)(nn=>{nn.stopPropagation()},[]);return t.a.createElement(xe,ie({experimentSlackAiCatchUpGroupOn:Qe,isOpenViaMegaphone:kn,nuxWasSeenBefore:!!Oe,isNuxTourVariant:Ma,dismissCoachmark:ga,onClickPrimaryCta:zn,onClickHandler:hn,isOpenViaTour:Nn,experimentSlackaiNfxUpdatesV2GroupOn:st,experimentSlackAiRecapGaGroupOn:Ot,shouldHideCoachmark:Va,hasRecapBeenSetup:Xn,nextDailyDigestTime:Ye},Me))},"ConnectedDigestNuxEducationCoachmark");ze.displayName="ConnectedDigestNuxEducationCoachmark";var mt=y.default=t.a.memo(ze)},OFUT:function(le,y,e){"use strict"},OPHm:function(le,y,e){"use strict";e.d(y,"c",function(){return w}),e.d(y,"a",function(){return T}),e.d(y,"b",function(){return ee});var s=e("q1tI"),t=e.n(s),u=e("SQ0V"),C=e("3l96"),O=e("beVI"),v=e("zb/F"),B=e("JvzI"),P=e("G0eX"),M=e("PIf0"),L=e("/MKj"),z=e("ZobM"),U=e("1jr5"),g=e("E/AO"),J=e("Efzj"),d=e("DneB"),S=e("+CZ0"),F=e("+kJ4"),x=e("vfQU"),Q=e("d/xU"),V=e("nNoG"),X=e("wcBT");const K=new V.b("app_update");function H(){const ne=Object(L.i)(),ue=Object(s.useCallback)(()=>{try{X.a===null||X.a===void 0||X.a.clearAllPermissions()}catch{}Object(x.Nb)()},[]),te=Object(s.useCallback)(()=>{ne(Object(F.a)())},[ne]),D=Object(d.b)(S.x),f=Object(d.b)(S.z),ie=D&&!f;return t.a.createElement(g.a,{title:K.t("Restart and update Slack?",{fallbackHash:"06f318d69ee414f361e8d285cfc116c44e410536",fallbackHashNs:"classic_nav"}),submitButtonText:K.t("Restart Slack"),cancelButtonText:K.t("Not Now"),submitButtonType:"primary",onSubmit:ue,onCancel:te,onClose:te},t.a.createElement("div",null,K.t("Just a quick restart and your Slack app will be all up to date. Curious what\u2019s new? "),t.a.createElement(J.a,{target:"_blank",rel:"noopener noreferrer",href:`https://${Object(Q.p)()}/release-notes`},K.t("View the release notes"))),ie&&t.a.createElement(U.c,{type:"warning",showCloseButton:!1,isFixedPosition:!1,className:"margin_top_75"},t.a.createElement("div",{className:"display_flex align_left"},t.a.createElement(z.a,{name:"warning",size:"20"}),t.a.createElement("span",{className:"margin_left_50"},K.t("You\u2019re currently in a huddle. Restarting Slack will disconnect you from the huddle.")))))}c(H,"AppUpdateDialog");const w=Object(u.c)("Opens the app update dialog",(ne,ue)=>{ne(Object(C.a)({element:t.a.createElement(H),shouldAlwaysOpenInMainWindow:!0}))});w.meta={name:"createThunk",key:"createThunkopenAppUpdateDialog",description:"Opens the app update dialog"};const T=Object(u.c)("Copies a link for help center articles inside the flexpane",(ne,ue,te,D)=>{let{articleId:f}=te;const ie=Object(O.g)(ue()),Z=Object(B.a)(),{window:pe}=D(M.a);Object(v.e)(`https://app.${Object(P.t)(ie)}/slackhelp/${Z}/${f}`,pe)});T.meta={name:"createThunk",key:"createThunkcopyHelpArticleLink",description:"Copies a link for help center articles inside the flexpane"};const ee=Object(u.c)("Copies a link for the Whats New flexpane",(ne,ue,te,D)=>{const f=Object(O.g)(ue()),{window:ie}=D(M.a);Object(v.e)(`https://app.${Object(P.t)(f)}/slackhelp/whats_new`,ie)});ee.meta={name:"createThunk",key:"createThunkcopyWhatsNewLink",description:"Copies a link for the Whats New flexpane"}},P1qF:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseBannerDownloadMobileWithFocusTransitions",function(){return f});var s=e("q1tI"),t=e.n(s),u=e("BHdc"),C=e("Cfcg"),O=e("nNoG"),v=e("WIr4"),B=e("3l96"),P=e("DEph"),M=e("z5hj"),L=e("uVZW"),z=e("69o4"),U=e("eWGC"),g=e("u4cD"),J=e("Trx9"),d=e("ktUG"),S=e("9C2q"),F=e("IiTT"),x=e("qcGm"),Q=e("kBd7"),V=e("HKlo"),X=e("G0eX"),K=e("beVI"),H=e("iRid"),w=e.n(H),T=e("V7Cu"),ee=e("8Wv3");const ne=new O.b("banner_download_native_app");let ue=c(class extends s.PureComponent{componentDidMount(){const{setBannerDownloadMobileAsSeen:Z}=this.props;Z({notificationName:L.h.MOBILE_AWARENESS_BANNER,action:L.f.IMPRESSION,step:"default"})}openDownloadMobileAppModal(){const{recordAndClearBannerDownloadMobile:Z,throttledSendFallbackEmail:pe,openModal:q}=this.props;q({element:t.a.createElement(ee.a,{eventId:d.EventId.EDUCATION_MOBILE_AWARENESS_BANNER})}),Z(L.f.CLICK),pe({reason:M.b.TRIGGER_MOBILE_FALLBACK_EMAIL,eventHandler:M.a.MOBILE_PROMO_FALLBACK_EVENT_HANDLER,subtype:M.c.MOBILE_AWARENESS_BANNER})}openSentMagicLoginConfirmationModal(){const{openModal:Z,dismissExistingHumansBanner:pe,sendFallbackEmail:q}=this.props;Z({element:t.a.createElement(T.a,{eventId:d.EventId.EDUCATION_MOBILE_AWARENESS_BANNER})}),pe({spaceName:L.g.CLIENT_FOOTER}),q({reason:M.b.TRIGGER_MOBILE_MAGIC_LOGIN_EMAIL,eventHandler:M.a.MOBILE_PROMO_MAGIC_LOGIN_EVENT_HANDLER,subtype:M.c.MOBILE_AWARENESS_BANNER})}deferOrDismissReminder(Z){const{recordAndClearBannerDownloadMobile:pe,transitionFocusTo:q}=this.props;pe(Z),q({focusKey:V.c.MESSAGE_PANE_MESSAGE_INPUT})}renderDownloadMobileBanner(){const{onFocus:Z,onBlur:pe,signedInMobileOtherTeam:q,currentTeamName:xe,enableSectionNavigation:ze}=this.props;let mt=ne.rt("Stay up to date from anywhere with the Slack mobile app"),Me=ne.t("Get the Slack Mobile App"),Ct="download_slack";q&&(mt=ne.rt("Stay connected to {currentTeamName}, even when you\u2019re on the go",{currentTeamName:xe}),Me=ne.t("Sign In to the Mobile App"),Ct="sent_magic_login_link"),Me=t.a.createElement("span",{className:"p-workspace_banner__download_content_download_button_text"},Me);const Qe=w.a,st="margin_right_75",Ot="28";return t.a.createElement(F.a,{enableSectionNavigation:ze,className:Object(u.default)("p-workspace_banner__download","p-workspace_banner__download_ia4"),isFixedPosition:!1,onFocus:Z,onBlur:pe,shouldDisableAlertRole:!0,showCloseButton:!0,onClose:()=>{this.deferOrDismissReminder(L.f.DISMISS)}},t.a.createElement("img",{alt:ne.t("mobile icon"),src:Qe,height:Ot,width:Ot,className:st}),t.a.createElement(x.a,{downloadAppButtonLabel:Me,downloadBannerTitle:mt,downloadNativeApp:q?this.openSentMagicLoginConfirmationModal:this.openDownloadMobileAppModal,handleDismissReminder:()=>{this.deferOrDismissReminder(L.f.DISMISS)},isMobileBannerVisible:!0,primaryCtaDataQa:Ct}))}render(){const{signedInMobileOtherTeam:Z}=this.props;let pe=d.UiStep.DOWNLOAD_MOBILE_BANNER;return Z&&(pe=d.UiStep.DOWNLOAD_MOBILE_BANNER_EXISTING_HUMAN),t.a.createElement(J.a,{eventId:d.EventId.EDUCATION_MOBILE_AWARENESS_BANNER,uiStep:pe,clogImpression:!0},t.a.createElement("div",{role:"group","aria-labelledby":"banner-download-title"},this.renderDownloadMobileBanner()))}constructor(Z){super(Z),Object(v.a)(this,["openDownloadMobileAppModal","deferOrDismissReminder","openSentMagicLoginConfirmationModal"])}},"BannerDownloadMobile");ue.displayName="BannerDownloadMobile";const te=c((ie,Z)=>{let{signedInMobileOtherTeam:pe}=Z;const q=Object(K.g)(ie),xe=Object(X.h)(q);return{signedInMobileOtherTeam:pe,currentTeamName:xe}},"mapStateToProps"),D=c(ie=>({openModal:function(){for(var Z=arguments.length,pe=new Array(Z),q=0;q<Z;q++)pe[q]=arguments[q];return ie(Object(B.a)(...pe))},setBannerDownloadMobileAsSeen:function(){for(var Z=arguments.length,pe=new Array(Z),q=0;q<Z;q++)pe[q]=arguments[q];return ie(Object(U.b)(...pe))},recordBannerDownloadMobileEvent:Z=>ie(Object(U.a)({notificationName:L.h.MOBILE_AWARENESS_BANNER,action:Z,step:"default"})),recordAndClearBannerDownloadMobile:Z=>ie(Object(z.a)({spaceName:L.g.CLIENT_FOOTER,action:Z,step:"banner"})),throttledSendFallbackEmail:function(){for(var Z=arguments.length,pe=new Array(Z),q=0;q<Z;q++)pe[q]=arguments[q];return ie(Object(P.a)(...pe))},sendFallbackEmail:function(){for(var Z=arguments.length,pe=new Array(Z),q=0;q<Z;q++)pe[q]=arguments[q];return ie(Object(P.b)(...pe))},dismissExistingHumansBanner:function(){for(var Z=arguments.length,pe=new Array(Z),q=0;q<Z;q++)pe[q]=arguments[q];return ie(Object(g.d)(...pe))},dismissBannerFromDirectDownloadModal:()=>ie(Object(z.a)({spaceName:L.g.CLIENT_FOOTER,action:L.f.CLICK,step:"dialog"}))}),"mapDispatchToProps"),f=Object(Q.a)(ue);y.default=Object(C.a)(te,D)(Object(S.a)(f))},PdLm:function(le,y,e){"use strict";e.d(y,"a",function(){return s});const s="external_connections_browser_organizations"},Pt2y:function(le,y,e){"use strict";e.d(y,"a",function(){return s});const s={ActivityCreatorCoachmark:"tractor_channel_creator_coachmark",ActivityJoinerCoachmark:"tractor_channel_joiner_coachmark",HuddlesCoachmark:"huddles_coachmark",ToolsCoachmark:"tools_coachmark",ThemingCoachmark:"theming_coachmark",GlobalCreateWithHuddlesCoachmark:"global_create_with_huddles_coachmark",GlobalCreateWithoutHuddlesCoachmark:"global_create_without_huddles_coachmark"}},Q1kK:function(le,y,e){le.exports=e.p+"04_Outro_Modal_A_Dark-31f51d9.jpg"},Q3sS:function(le,y,e){le.exports=e.p+"hero-banner-files-large-4e7e097.svg"},QwK2:function(le,y,e){"use strict";e.d(y,"a",function(){return s});const s="CHANNEL-SIDEBAR";var t={LOG_LABEL:s}},R2CY:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-es-ES-90341f7.gif"},RSO0:function(le,y,e){"use strict"},Ry3q:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("hLLj"),O=e("2pJJ"),v=e("I27i"),B=e("BHdc"),P=e("nNoG");const M=new P.b("mentions"),L=c(z=>{let{isDocked:U}=z;return Object(u.c)(J=>!Object(v.d)(J))?t.a.createElement(O.a,{className:Object(B.default)({"p-activity_page__item__offline":!U,"p-activity_page__item__offline--docked":U}),caption:M.t("Go online to load more activity.")}):t.a.createElement(C.a,null)},"ActivityRowLoader");L.displayName="ActivityRowLoader",y.a=L},S0Yg:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("BHdc"),O=e("Trx9"),v=e("/cL/"),B=e("I0j/"),P=e("37+L"),M=e("mQiU"),L=e("UmHn"),z=e("G0eX"),U=e("qDEp"),g=e("ZobM"),J=e("0cEW"),d=e("ktUG"),S=e("nNoG"),F=e("zxER"),x=e("zm5I"),Q=e("48NQ"),V=e("beVI"),X=e("2VFn");const K=new S.b("resurrected_user_welcome"),H={elementName:"resurrected_user_sidebar_upgrade_btn",onClick:{enableClogAction:!0}},w={elementName:"resurrected_user_sidebar_entry_cta",onClick:{enableClogAction:!0}},T=c(()=>{const ne=Object(u.i)(),{activeTab:ue}=Object(s.useContext)(M.a),te=ue===X.f.Home,{getSiblingView:D}=Object(s.useContext)(M.a),f=Object(F.c)(V.g),ie=Object(z.H)(f),Z=Object(F.c)(Q.d),pe=Object(F.c)(mt=>{var Me;return(Me=D(mt,{container:X.k.Primary}))===null||Me===void 0?void 0:Me.id}),q=Object(F.c)(x.a),xe=pe==="Presurrected-user-welcome",ze=Object(s.useCallback)(()=>ne(Object(B.a)(Object(P.X)(L.a.ResurrectedUserWelcome))),[ne]);return!te||!Z?null:t.a.createElement(O.a,{uiComponentName:d.UiComponentName.RESURRECTED_USER_WELCOME_SIDEBAR_ENTRY_CTA,clogImpression:!0},t.a.createElement("div",{className:"p-resurrected_user_welcome_entry_cta__upgrade_wrapper"},t.a.createElement("div",{className:Object(C.default)("p-resurrected_user_welcome_entry_cta__wrapper",{"sk-client-theme--light":q===J.c.Light})},t.a.createElement("div",{className:"p-resurrected_user_welcome_entry_cta__wrapper_text_container"},t.a.createElement(g.a,{size:"20",name:"emoji"}),t.a.createElement("span",{className:"p-resurrected_user_welcome_entry_cta__wrapper_text"},K.t("Welcome back"))),t.a.createElement(U.d,{className:Object(C.default)({"p-resurrected_user_welcome_entry_cta__button dt-hocus:theme-base-pry":!xe,"p-resurrected_user_welcome_entry_cta__button_selected":xe}),"data-qa":"resurrected-user-entry-cta-btn",autoClogProps:w,onClick:ze},t.a.createElement("div",{className:"p-sidebar_trial_badge__button_text_container"},Z?K.t("Top things to check out"):""),t.a.createElement("span",null,t.a.createElement(g.a,{size:"24",name:"caret-right"})))),ie&&t.a.createElement(v.a,{autoClogProps:H,className:Object(C.default)("p-resurrected_user_welcome_entry_cta__upgrade_now_btn",{"sk-client-theme--light":q==="light"}),"data-qa":"resurrected-user-entry-upgrade-button",entryPoint:"resurructed-user-welcome-sidebar-entry",type:"outline"},t.a.createElement(g.a,{size:"20",name:"rocket"}),t.a.createElement("span",null,Z?K.t("Upgrade Plan"):""))))},"ResurrectedUserWelcomeEntryCta");T.displayName="ResurrectedUserWelcomeEntryCta";var ee=y.default=T},S4nU:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("P7By"),O=e("I0j/"),v=e("37+L"),B=e("mQiU"),P=e("UmHn"),M=e("OaiI"),L=e("qDEp"),z=e("0cEW"),U=e("nNoG"),g=e("9zMb"),J=e("zxER"),d=e("zm5I"),S=e("69o4"),F=e("uVZW"),x=e("mNau"),Q=e("da/D"),V=e("2VFn");const X=new U.b("lists"),K=c((T,ee)=>{const ne=c(()=>e.e("lists-heart-outline-light.json").then(e.t.bind(null,"CIWn",3)),"lightAnimationImport"),ue=c(()=>e.e("lists-heart-outline.json").then(e.t.bind(null,"X889",3)),"darkAnimationImport");return T===z.c.Dark||ee?ne:ue},"getAnimationImport"),H=c(()=>{const T=Object(u.i)(),ee=Object(J.c)(d.a),ne=Object(J.f)(x.c),ue=Object(g.B)(ne,ee),te=Object(J.c)(M.isListsTranslationsEnabled),{activeTab:D}=Object(s.useContext)(B.a),f=Object(s.useCallback)(()=>{T(Object(S.a)({spaceName:F.g.SIDEBAR_MENU_HEADER,action:F.f.DISMISS}))},[T]),ie=Object(s.useCallback)(()=>{T(Object(Q.a)({tabName:V.f.Lists,value:!0})),T(Object(O.a)(Object(v.X)(P.a.BrowseLists))),f()},[T,f]);return D===V.f.Home?t.a.createElement("div",{className:"p-lists_welcome_banner"},t.a.createElement(L.e,{onClick:ie,className:"p-lists_welcome_banner__button"},t.a.createElement("div",{className:"p-lists_welcome_banner__description"},t.a.createElement("span",{className:"p-lists_welcome_banner__description_main"},te?X.t("Introducing lists"):"Introducing lists"),t.a.createElement("span",null,te?X.t("Track work in Slack"):"Track work in Slack")),t.a.createElement(C.a,{className:"p-lists_welcome_banner_icon",getAnimationImport:K(ee,ue),autoplay:!0,loop:!0}))):null},"ListsWelcomeToListsHomeBanner");H.displayName="ListsWelcomeToListsHomeBanner";var w=y.default=H},SE44:function(le,y,e){le.exports=e.p+"04_Outro_Modal_A_Light-869108c.jpg"},SFEt:function(le,y,e){le.exports=e.p+"03_Search_Coachmark_Dark-9e88666.jpg"},SHY5:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("I0j/"),O=e("pWYC"),v=e("pQQO"),B=e("pwYS");const P=c(M=>{let{destinationBrowserInstanceId:L,destinationEntityType:z,sourceSearchInputId:U,destinationSearchInputId:g,destination:J}=M;const d=Object(u.i)(),S=Object(B.a)(),F=Object(s.useCallback)(Q=>{let{selectedIndex:V,suggestions:X,userQuery:K,shouldOpenInTile:H}=Q;if(V===null)return;const w=X[V];w.is_type_query_completion?(d(Object(v.c)({query:K,inputId:g})),d(Object(O.a)({browserInstanceId:L,entityType:z,options:{initQuery:K}})),d(Object(C.a)(J)),d(Object(v.c)({query:"",inputId:U}))):S(w,K,H)},[J,L,z,g,d,S,U]),x=Object(s.useCallback)(()=>{d(Object(v.c)({query:"",inputId:U}))},[d,U]);return{onSearch:F,onResetSearch:x}},"useExplorerFilterViewSearch");y.a=P},"SUU+":function(le,y,e){"use strict";e.d(y,"a",function(){return B});var s=e("n3tL"),t=e("SQ0V"),u=e("s4P+"),C=e("Z7Ay"),O=e("sduE"),v=e("H9Gx");const B=Object(t.c)("Starts the signin process for an additional workspace",function(P,M){let{teamId:L}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object(u.b)({label:O.a}).action("Add workspace"),Object(v.a)(L)});B.meta={name:"createThunk",key:"createThunkstartWorkspaceSignIn",description:"Starts the signin process for an additional workspace"},B.propTypes=s.default.shape({teamId:s.default.string}),Object(C.a)("workspacesStoreActions",{startWorkspaceSignIn:B})},SpyO:function(le,y,e){"use strict";e.d(y,"a",function(){return t}),e.d(y,"d",function(){return u}),e.d(y,"b",function(){return C}),e.d(y,"c",function(){return O});var s=e("ZKjC");const t=Object(s.b)(v=>v&&v.telemetry&&v.telemetry.shouldLogAppBootMetrics);t.meta={name:"createSelector",key:"createSelectorshouldLogAppBootMetrics",description:v=>v&&v.telemetry&&v.telemetry.shouldLogAppBootMetrics};const u=Object(s.b)(v=>v&&v.telemetry&&v.telemetry.shouldLogTeamSwitchMetrics);u.meta={name:"createSelector",key:"createSelectorshouldLogTeamSwitchMetrics",description:v=>v&&v.telemetry&&v.telemetry.shouldLogTeamSwitchMetrics};const C=Object(s.b)(v=>v&&v.telemetry&&v.telemetry.shouldLogTTUMetrics);C.meta={name:"createSelector",key:"createSelectorshouldLogTTUMetrics",description:v=>v&&v.telemetry&&v.telemetry.shouldLogTTUMetrics};const O=Object(s.b)(v=>v&&v.telemetry&&v.telemetry.shouldLogTTVMetrics);O.meta={name:"createSelector",key:"createSelectorshouldLogTTVMetrics",description:v=>v&&v.telemetry&&v.telemetry.shouldLogTTVMetrics}},TDca:function(le,y,e){"use strict";e.d(y,"a",function(){return P});var s=e("q1tI"),t=e("zxER"),u=e("7+Lm"),C=e("uVZW"),O=e("RR6E"),v=e("BTOl");function B(M){const L=Object(t.c)(U=>U.setupCreation.currentIA4NUXStep);return{isOpen:Object(t.c)(U=>(Object(v.a)(U)||Object(O.c)(U))&&Object(u.c)(U,C.g.WELCOME_SPACE)===C.h.IA4_NEW_TEAMS_V3_NUX_EDUCATION&&(M!=null&&M.length?!!L&&M.includes(L):!L)),currentStepName:L}}c(B,"useIsNUXStepOpen");function P(M){var L,z,U;const{isOpen:g,currentStepName:J}=B(M),d=Object(t.c)(K=>Object(u.b)(K,C.g.WELCOME_SPACE));var S;const F=(S=(L=d.steps)===null||L===void 0?void 0:L.findIndex(K=>K===J))!==null&&S!==void 0?S:0,x=F>-1?F:0;var Q;const V=(Q=(z=d.steps)===null||z===void 0?void 0:z.length)!==null&&Q!==void 0?Q:0,X=x+1<V?(U=d.steps)===null||U===void 0?void 0:U[x+1]:void 0;return Object(s.useMemo)(()=>({currentStep:x+1,isOpen:g,nextStep:X,totalSteps:V,currentStepName:J,megaphoneStepData:d}),[V,x,g,X,J,d])}c(P,"useNUXData")},THNA:function(le,y,e){"use strict";e.d(y,"a",function(){return t}),e.d(y,"d",function(){return u}),e.d(y,"c",function(){return C}),e.d(y,"b",function(){return O});var s=e("ktUG");function t(v){return{eventId:s.EventId.NEWXP_JOIN_TEAM,uiStep:s.UiStep.NUX_TRACTOR_CHANNEL,uiComponentVariant:v?"team_creator":"team_joiner",elementName:`${s.UiStep.NUX_TRACTOR_CHANNEL}_coachmark`}}c(t,"getNuxTractorChannelCoachmarkAutoClogProps");const u={eventId:s.EventId.NEWXP_JOIN_TEAM,uiStep:s.UiStep.NUX_HUDDLES_CANVAS,elementName:`${s.UiStep.NUX_HUDDLES_CANVAS}_coachmark`},C={eventId:s.EventId.NEWXP_JOIN_TEAM,uiStep:s.UiStep.NUX_CUSTOMIZATION,elementName:`${s.UiStep.NUX_CUSTOMIZATION}_coachmark`},O={eventId:s.EventId.NEWXP_JOIN_TEAM,uiStep:s.UiStep.NUX_GLOBAL_CREATE,elementName:`${s.UiStep.NUX_GLOBAL_CREATE}_coachmark`}},Tb7l:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-home-more-37251a0.gif"},TxyK:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-zh-TW-f46d163.gif"},UPgx:function(le,y,e){le.exports=e.p+"canvas-tab-reveal-coachmark-57ab342.png"},UQe9:function(le,y,e){le.exports=e.p+"hand-holding-phone-74cfcd7.svg"},Uz4Y:function(le,y,e){"use strict";e.d(y,"a",function(){return Ws});var s=e("q1tI"),t=e.n(s),u=e("DneB"),C=e("7xYR"),O=e("+CZ0"),v=e("ueJG"),B=e("9oTK"),P=e("LRa4"),M=e("zxER"),L=e("ifKl"),z=e("68qM"),U=e("lhZz"),g=e("DuRM"),J=e("LZPg"),d=e("vfQU"),S=e("kBpe");function F(Te,Be){return x.apply(this,arguments)}c(F,"setBoundsForWindow");function x(){return x=Object(B.coroutine)(function*(Te,Be){yield Object(d.gc)(Te,Be),Object(S.y)()&&(yield Object(d.gc)(Te,Be))}),x.apply(this,arguments)}c(x,"_setBoundsForWindow");var Q=e("UXvI");const V=c(Te=>{let{store:Be,children:Je}=Te;const qe=Object(s.useMemo)(()=>({...Be,subscribe:mn=>Be.subscribeImmediate(Object(Q.a)(mn,16))}),[Be]);return t.a.createElement(P.b,{store:qe}," ",Je," ")},"BackgroundableProvider");V.displayName="BackgroundableProvider";var X=V,K=e("ygDB"),H=e("/MKj"),w=e("BHdc"),T=e("wKGu"),ee=e("WMzb"),ne=e("qDEp"),ue=e("oEDn"),te=e("qAkX"),D=e("Z3Pq"),f=e("Z0Cl"),ie=e("Kmpi"),Z=e("pFNT"),pe=e("9Gfp"),q=e("E3dU"),xe=e("GNR7"),ze=e("E97Y"),mt=e("Yauy"),Me=e("gVOt"),Ct=e("Enx8"),Qe=e("C3vN"),st=e("3vtZ"),Ot=e("nNoG"),cn=e("XjEU"),Ht=e("FWtP"),Nn=e("Iy/K"),zt=e("VKu5"),Ln=e("qZ3p"),Fn=e("Tsh7");function Ye(){return Ye=Object.assign||function(Te){for(var Be=1;Be<arguments.length;Be++){var Je=arguments[Be];for(var qe in Je)Object.prototype.hasOwnProperty.call(Je,qe)&&(Te[qe]=Je[qe])}return Te},Ye.apply(this,arguments)}c(Ye,"_extends");const dn=new Ot.b("huddles"),vt=2e3;function Xn(Te){let{activeSpeakerMemberId:Be,activeMembersList:Je,joiningMembers:qe}=Te;const[mn,oa]=Object(s.useState)(""),[Un,On]=Object(s.useState)(!1),mo=Je.length,pn=Object(M.c)(pe.a),Jn=mo===1&&pn===Object(Qe.m)(Je[0]),Ja=!Je.find(Ro=>pn===Object(Qe.m)(Ro)),Uo=!!Be,Xa=Object(M.c)(Ro=>qe[0]&&Object(Ct.a)(Ro,qe[0].id)),Oo=Object(s.useRef)(null);return Object(s.useEffect)(()=>{if(Ja||Uo)return;let Ro="";Jn?Ro=dn.t("Just you in the huddle"):qe.length&&mo===qe.length+1?qe.length===1?Ro=dn.t("{memberName} joined",{memberName:Object(cn.b)(Xa)}):Ro=dn.t("Several people joined"):Un||(Ro=dn.t("{memberCount, plural, =1 {# person } other {# people }} in the huddle",{fallbackHash:"a7bcd9ae70083919b75cd166f3fc2eea40d01d82",memberCount:mo})),Ro&&(Oo.current=setTimeout(()=>{oa(Ro),On(!0)},250))},[mo,Jn,qe.length,Xa,Un,Uo,Ja]),Object(s.useEffect)(()=>()=>{Oo.current&&clearTimeout(Oo.current)},[]),t.a.createElement("div",{role:"status",className:"offscreen"},mn)}c(Xn,"HuddleStatus"),Xn.displayName="HuddleStatus";function kn(Te){let{activeSpeakerMemberId:Be,joiningMembers:Je,activeMembersList:qe,isJoinActiveHuddleState:mn}=Te;const oa=Object(te.a)(Je);if(oa)return t.a.createElement("div",{key:oa.id,className:"p-huddle_activity__joining_avatar_container","data-qa":"huddle-activity-icon"},t.a.createElement(Z.c,{className:"p-huddle_activity__joining_avatar",userId:oa.id,size:Z.a.tiny,isInteractive:!1,"data-qa":"huddle-activity-icon-last-joined-member"}));if(Be)return t.a.createElement(t.a.Fragment,null,t.a.createElement(Z.c,{userId:Be,size:Z.a.tiny,isInteractive:!1,"data-qa":"huddle-activity-icon-active-speaker-member-id"}),t.a.createElement("div",{className:"p-huddle_activity__border"}));if(mn&&(qe==null?void 0:qe.length)>0){const Un=qe[0],On=qe.length;return t.a.createElement("div",{key:Un.id,className:Object(w.default)("p-huddle_activity__active_avatar_container",{"p-huddle_activity__active_avatar_container--alone":On===1}),"data-qa":"huddle-activity-icon"},t.a.createElement(Z.c,{className:"p-huddle_activity__joining_avatar",userId:Un.id,size:On===1?Z.a.verySmall:Z.a.tiny,isInteractive:!1,"data-qa":"huddle-activity-icon-member-index-1"}),On>1&&t.a.createElement(Z.c,{className:"p-huddle_activity__second_avatar ",userId:qe[1].id,size:Z.a.tiny,isInteractive:!1,"data-qa":"huddle-activity-icon-member-index-2"}))}return null}c(kn,"HuddleActivityIcon"),kn.displayName="HuddleActivityIcon";function he(Te){let{activeSpeakerMemberId:Be,activeMembersList:Je,joiningMembers:qe,channelId:mn}=Te;const oa=Object(M.c)(st.H),Un=Object(M.c)(pe.a),On=Je.filter(Fe=>{let{id:pt}=Fe;return pt!==Un}),mo=Object(M.c)(Fe=>Object(q.d)(Fe,mn)),pn=Object(u.b)(O.b)===mn,Jn=Object(ze.g)(mo??void 0),Ja=Object(M.c)(Fe=>Object(ie.b)(mo)?Object(mt.t)(Fe,mo,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):null),Uo=Object(M.c)(Fe=>mn&&Object(zt.a)(Fe,mn))||null,Xa=Object(M.c)(Fe=>Be&&Object(Ct.a)(Fe,Be)),Oo=Object(M.c)(Fe=>qe[0]&&Object(Ct.a)(Fe,qe[0].id)),Ro=Object(M.c)(Fe=>Jn&&Object(Ct.a)(Fe,Object(Me.a)(mo))),vs=Object(M.c)(Fe=>On[0]&&Object(Ct.a)(Fe,On[0].id)),Le=Object(M.f)(Fe=>{let pt=[];return On&&On.length&&(pt=On.map(nt=>Object(Ct.a)(Fe,nt.id))),pt});if(!oa)return null;let we;return Uo?we=t.a.createElement(Ln.a,{text:Uo}):Ja?we=t.a.createElement(t.a.Fragment,null,Ja):we=null,pn?qe.length>1?dn.rt("Several people joined"):qe.length===1?dn.rt("{memberName} joined",{memberName:Oo}):Xa?t.a.createElement(t.a.Fragment,null,dn.rt("{speakingMemberName} is talking",{speakingMemberName:Xa})):Jn&&Je.length<=1?dn.rt("Waiting for {memberName}",{memberName:Ro}):we||(vs?On.length>1?t.a.createElement(t.a.Fragment,null,Object(Ot.h)(Le,{noConj:!0})):t.a.createElement(t.a.Fragment,null,vs):dn.rt("Waiting for others\u2026")):we}c(he,"HuddleChannelName"),he.displayName="HuddleChannelName";function Gn(Te){let{activeMembersList:Be,currentUserId:Je,customSubtextLabel:qe}=Te;const mn=Be.length;return qe||(mn===1&&Je===Object(Qe.m)(Be[0])?dn.t("Just you in the huddle"):dn.t("{memberCount, plural, =1 {# person} other {# people}} in the huddle",{fallbackHash:"94cad991b45bc31d94fae44da7974cab46a95019",memberCount:mn}))}c(Gn,"getMemberCountText");function Va(Te){let{className:Be,isInteractive:Je,isActive:qe,channelId:mn,invertColors:oa,customSubtextLabel:Un,isJoinActiveHuddleState:On,isMiniPanel:mo}=Te;const pn=Object(M.c)(st.H),Jn=Object(u.b)(O.b)||mn,Ja=Object(M.c)(Wa=>{const jo=Object(J.q)(Wa);if(jo){if(jo==="self")return Object(pe.a)(Wa);const gs=Object(J.D)(Wa,jo);if(gs)return gs.userId}}),Uo=Object(M.c)(pe.a),Xa=Object(M.f)(Wa=>Jn?Object(xe.g)(Wa,Jn):[]),Oo=Xa.length,vs=Object(s.useRef)(Object(Ht.a)(Wa=>Object(D.a)(Wa,"id"),2)).current(Xa),[Le,we]=Object(s.useState)([]),Fe=Object(s.useRef)(vs),pt=Object(M.c)(Wa=>Jn?Object(st.W)(Wa,Jn):!1),nt=Object(M.c)(Wa=>Object(q.d)(Wa,Jn)),xt=Object(M.c)(Wa=>Object(ie.b)(nt)?Object(mt.t)(Wa,nt,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):null);if(Object(s.useEffect)(()=>{if(!pt)return;const Wa=Object(f.a)(vs,jo=>!Fe.current[jo.id]);Fe.current=vs,Wa.length&&we(jo=>[...jo,...Wa])},[vs,pt]),Object(s.useEffect)(()=>{if(!Le.length)return;const Wa=setTimeout(()=>we([]),vt);return()=>{clearTimeout(Wa)}},[Le]),!pn||!Jn)return null;const An={activeSpeakerMemberId:Ja,channelId:Jn,activeMembersList:Xa,joiningMembers:Le,invertColors:oa,isCurrentUserInHuddle:pt,isJoinActiveHuddleState:On},Hn=Gn({activeMembersList:Xa,currentUserId:Uo,customSubtextLabel:Un}),na=Object(w.default)("p-huddle_activity",{"p-huddle_activity--interactive":Je,"p-huddle_activity--active":qe,"p-huddle_activity--invert":oa,"p-huddle_activity--mini-panel":mo},Be),Ka=Object(w.default)("p-huddle_activity__description",{"p-huddle_activity__description--interactive":Je,"p-huddle_activity__description--active":qe}),Qa=Object(w.default)("p-huddle_activity__chevron",{"p-huddle_activity__chevron--active":qe});let Eo=t.a.createElement(t.a.Fragment,null);Oo>0&&nt&&(Eo=Object(Nn.c)({memberCount:Oo,isHuddlesEnabledOrHasActiveHuddle:pn,channel:nt,channelDisplayName:xt}));const Po=t.a.createElement("div",{className:Object(w.default)("p-huddle_activity__subtext",{"p-huddle_activity__subtext--join_active_huddle":On})},t.a.createElement("span",{className:Object(w.default)("p-huddle_activity__member_count_text"),"data-qa":"huddle-activity-subtext"},Hn),Je&&t.a.createElement(ue.a,{type:"chevron-medium-right",size:"inherit",className:Qa}));return t.a.createElement("div",{className:na,"data-qa":"huddle-activity-group","aria-label":`${Hn}${Je?` ${dn.t("View details",{fallbackHash:"badd385121c5861ac693b59ad8c160fdf7994344",fallbackHashNs:"files"})}`:""}`},t.a.createElement("div",{className:Ka},!mo&&t.a.createElement("div",{className:Object(w.default)("p-huddle_activity__icon")},t.a.createElement(kn,Ye({},An))),t.a.createElement("div",{className:Object(w.default)("p-huddle_activity__text",{"p-huddle_activity__text--join_active_huddle":On}),"data-qa":"huddle-activity-text"},t.a.createElement(he,Ye({},An)))),Hn&&(pt?Po:t.a.createElement(Fn.d,{tip:Eo,position:"top",tipClassName:"p-huddle_toggle_button__tooltip","data-qa":"huddle-activity-tooltip"},Po)),t.a.createElement(Xn,Ye({},An)))}c(Va,"HuddleActivity"),Va.displayName="HuddleActivity";var Oe=Va,Ma=e("nHGf"),ga=e("dKQz"),zn=e("qZdH"),hn=e("Nq3N"),nn=e("Erff"),Xt=e("ktUG"),bn=e("gENi"),Wt=c(Te=>{let{isScreenshareEnabled:Be}=Te;return Be?"screen_share":null},"detectMiniPanelMode"),Yt=e("NZBM"),At=e("VyqW"),Ft=e("sJmF"),sa=e("uslK");const ba=new Ot.b("huddles"),Ha="HUDDLES-MINI-PANEL";function Ba(Te){const{children:Be,hintMessage:Je,setHintMessage:qe}=Te,mn=Object(s.useCallback)(()=>{qe(Je)},[qe,Je]),oa=Object(s.useCallback)(()=>{qe(void 0)},[qe]),Un=Object(s.useCallback)(()=>{qe(Je)},[qe,Je]),On=Object(s.useCallback)(()=>{qe(void 0)},[qe]);return t.a.createElement("div",{onMouseOver:mn,onMouseOut:oa,onFocus:Un,onBlur:On},Be)}c(Ba,"MiniPanelButtonHint"),Ba.displayName="MiniPanelButtonHint";function qn(){var Te,Be;const Je=Object(H.i)(),qe=Object(u.a)(),mn=Object(ee.a)(),oa=Object(u.b)(O.b),Un=Object(u.b)(O.e),On=Object(M.c)(Na=>!!Object(J.U)(Na,"isCameraEnabled")),mo=Object(M.c)(Na=>!!Object(J.U)(Na,"isScreenshareEnabled")),pn=Object(M.c)(Na=>!!Object(J.U)(Na,"isMicrophoneEnabled")),Jn=Object(M.c)(Na=>!!Object(J.U)(Na,"isHostDrawEnabled")),Ja=Object(M.c)(Na=>Object(J.U)(Na,"screens")),Uo=Object(M.c)(Na=>Object(J.U)(Na,"thumbnailIndex")),{videoLabel:Xa}=Object(Yt.a)(),Oo=Ja&&(Uo===0||Uo)?Ja[Uo]:void 0;let Ro=!Object(bn.a)()||(Oo==null||(Te=Oo.mediaSourceId)===null||Te===void 0?void 0:Te.startsWith("window:"));!(Oo==null||(Be=Oo.mediaSourceId)===null||Be===void 0)&&Be.startsWith("window:")&&Object(sa.d)()&&(Ro=!1);const vs=Object(M.c)(Na=>Object(st.S)(Na,oa)),Le=Object(T.a)(),we=Object(M.f)(Na=>oa?Object(st.p)(Na,oa):{}),Fe="huddle-mini-panel-hint",[pt,nt]=Object(s.useState)(void 0),xt=Object(s.useCallback)(()=>{Je(Object(hn.a)(!pn)),Le.track(pn?Xt.EventId.HUDDLES_MUTE:Xt.EventId.HUDDLES_UNMUTE,{contexts:{calls:we,ui_context:{action:Xt.UiAction.CLICK,ui_properties:{element_type:Xt.ElementType.BUTTON,element_name:"huddles_mini_panel_mute_button",ui_component_name:Xt.UiComponentName.HUDDLES_MINI_PANEL}}}})},[we,Le,Je,pn]),An=Object(Ft.a)(),Hn=Object(s.useCallback)(()=>{Je(Object(nn.a)())},[Je]),na=Object(s.useCallback)(()=>{const Na=Object(d.O)();Na?Object(d.w)(Na):mn.warn(Ha,`Skip focusWindow, reason: windowId = ${Na}`)},[mn]),Ka=Object(s.useCallback)(()=>{qe(Object(zn.a)())},[qe]),Qa=Object(s.useCallback)(()=>{qe(Object(ga.k)({teamId:Un,isHostDrawEnabled:!Jn}))},[qe,Jn,Un]),Eo=Object(s.useRef)(null),Po=Object(s.useCallback)((Na,ms)=>{var rs;const es=Eo.current;if(!es)return;const cs=es.querySelectorAll("input,button");if(!cs)return;const hs=Array.prototype.indexOf.call(cs,Na.target),ls=(cs.length+hs+ms)%cs.length;(rs=cs[ls])===null||rs===void 0||rs.focus()},[]),Wa=Object(s.useCallback)(Na=>{switch(Na.key){case"ArrowLeft":Po(Na,-1);break;case"ArrowRight":Po(Na,1);break;default:break}},[Po]),jo=Object(s.useCallback)(()=>Ro?null:t.a.createElement(Ba,{hintMessage:Jn?ba.t("Stop drawing on your own screen"):ba.t("Draw on your own screen"),setHintMessage:nt},t.a.createElement(ne.f,{className:Object(w.default)("p-huddle_mini_panel__button",{"p-huddle_mini_panel__button--active":!!Jn}),onClick:Qa,type:"outline",htmlType:"button","aria-label":ba.t("Draw on your own screen"),"aria-pressed":Jn},Jn&&t.a.createElement(ue.a,{type:"pencil-up"}),!Jn&&t.a.createElement("div",{className:"position_relative inline_block"},t.a.createElement(ue.a,{type:"pencil-up-slashless"}),t.a.createElement(ue.a,{type:"pencil-up-slashonly",className:"p-huddle_mini_panel__icon--slash"})))),[Qa,Jn,Ro]),gs=Wt({isScreenshareEnabled:!!mo});return!oa||!Un||!gs?null:t.a.createElement("div",{ref:Eo,role:"toolbar",className:"p-huddle_mini_panel",onDoubleClick:na,onMouseEnter:Ka,onMouseLeave:void 0,onKeyDown:Wa},pt&&t.a.createElement("div",{id:Fe,className:"p-huddle_mini_panel__hint_message"},pt),!pt&&t.a.createElement(Oe,{className:"p-huddle_mini_panel__activity",isMiniPanel:!0}),t.a.createElement(Ba,{hintMessage:pn?ba.t("Mute microphone"):ba.t("Unmute microphone"),setHintMessage:nt},t.a.createElement(ne.f,{className:Object(w.default)("p-huddle_mini_panel__button p-huddle_mini_panel__button--mute",{"p-huddle_mini_panel__button--active":pn}),onClick:xt,type:"outline",role:"switch","aria-label":ba.t("Microphone",{fallbackHash:"242805378404a310345cf70839197bf474f74005",fallbackHashNs:"calls"}),"aria-checked":pn,"aria-describedby":Fe},t.a.createElement(Ma.a,{peerId:"self",isMicrophoneEnabled:pn,allowMuteIconAnimation:!1}))),vs&&t.a.createElement(Ba,{hintMessage:Xa,setHintMessage:nt},t.a.createElement(ne.f,{className:Object(w.default)("p-huddle_mini_panel__button ",{"p-huddle_mini_panel__button--active":On}),onClick:An,type:"outline",role:"switch","aria-label":ba.t("Video"),"aria-checked":On,"aria-describedby":Fe},t.a.createElement(At.a,{isCameraEnabled:!!On,className:"p-huddle_toolbar__video_button"}))),gs==="screen_share"&&t.a.createElement(t.a.Fragment,null,t.a.createElement(jo,null),t.a.createElement(Ba,{hintMessage:ba.t("Stop sharing your screen"),setHintMessage:nt},t.a.createElement(ne.f,{className:Object(w.default)("p-huddle_mini_panel__button","p-huddle_mini_panel__button--stop-screen-share-updated"),onClick:Hn,type:"danger","aria-label":ba.t("Stop sharing your screen")},t.a.createElement(ue.a,{type:"stop-screen-sharing",className:"margin_right_75"}),ba.t("Stop Sharing")))))}c(qn,"HuddleMiniPanel"),qn.displayName="HuddleMiniPanel";var Mt=qn,da=e("xxxf"),ha=e("Cgcc"),aa=e("SVu1");const fo=60,No=620,fa=100,_a=c(()=>{if(Object(S.x)())return{height:fo,minHeight:fo,maxHeight:fo,width:No,minWidth:No,maxWidth:No,resizable:!0}},"getTemporaryBrowserWindowConfig"),ko=c(Te=>{let{windowTokenRef:Be,width:Je}=Te;Object(S.x)()&&(Object(d.bc)(Be,Je,fo),Object(d.ac)(Be,Je,fo))},"setWindowSizeMinAndMax");function qo(Te){let{teamId:Be,teamStore:Je}=Te;const qe=Object(s.useRef)(L.a),mn=Object(s.useRef)(null),oa=Object(u.b)(O.o);Object(s.useEffect)(()=>!oa&&qe.current!==L.a?qe.current:!oa||!Be||!Object(S.j)("4.13.0")?L.a:(Object(g.e)("",{show:!1,frame:!1,titleBarStyle:"default",acceptFirstMouse:!0,alwaysOnTop:!0,skipTaskbar:!1,fullscreenable:!1,resizable:!1,movable:!0,backgroundColor:"black",type:"huddles-mini-panel",title:"Slack",parentTeamId:Be,..._a()}).then(function(){var Jn=Object(B.coroutine)(function*(Ja){Object(d.qc)(Ja.windowToken,!0),Object(d.fc)(Ja.windowToken,!0,"screen-saver",1),Object(d.ic)(Ja.windowToken,!0),Ja.window.document.body.classList.add(ha.c),Ja.window.document.body.style.background="#1a1d21",Ja.window.document.body.style.overflow="hidden";const Uo=Ja.window.document.createElement("div");Uo.style.height="900px",Uo.classList.add("p-huddle_mini_panel__loader"),Ja.window.document.body.appendChild(Uo),mn.current=Ja.windowToken;const Xa=Object(U.getClientStoreInstance)();qe.current=yield Object(g.f)(Ja.window,t.a.createElement(P.a,{store:Xa},t.a.createElement(aa.a,{teamId:Be,window:Ja.window},t.a.createElement(da.a,null),t.a.createElement(K.a,null)," ",t.a.createElement(Mt,null))))});return function(Ja){return Jn.apply(this,arguments)}}()),()=>{var Jn;(Jn=qe.current)===null||Jn===void 0||Jn.call(qe),qe.current=void 0}),[oa,Be,Je]);const Un=Object(M.c)(Jn=>!!Object(J.U)(Jn,"isScreenshareEnabled")),On=Wt({isScreenshareEnabled:Un}),mo=Object(M.c)(J.r),pn=Object(s.useMemo)(()=>mo&&mo.bounds?mo.bounds:{x:window.screen.availLeft||0,y:window.screen.availTop||0,width:window.screen.availWidth,height:window.screen.availHeight},[mo]);return Object(z.a)(()=>{if(mn.current){if(On==="screen_share"){const Jn=No;ko({windowTokenRef:mn.current,width:Jn}),F(mn.current,{x:pn.x+Math.round((pn.width-Jn)/2),y:pn.y+pn.height-fo-fa,height:fo,width:Jn}),Object(d.yc)(mn.current)}On||Object(d.ab)(mn.current)}},[On]),null}c(qo,"HuddleMiniPanelMounter"),qo.displayName="HuddleMiniPanelMounter";function va(){const Te=Object(u.b)(O.e);if(!Te)return null;const Be=Object(U.getStoreInstanceByTeamId)(Te);return t.a.createElement(X,{store:Be},t.a.createElement(qo,{teamId:Te,teamStore:Be}))}c(va,"XWSHuddleMiniPanelMounter");var Fa=e("Cfcg"),_n=e("+KE1"),Xe=e("WSQ4"),It=e("ZvnG");const $e=c(()=>Object(S.p)()?91:17,"getCtrlOrCmdKeyCode"),In=new It.a,ra=In.subscribe.bind(In),wn=In.unsubscribe.bind(In);function Aa(Te){Te.keyCode===$e()&&In.publish(!0)}c(Aa,"onKeyDown");function Qn(Te){Te.keyCode===$e()&&In.publish(!1)}c(Qn,"onKeyUp");function Bn(){In.publish(!1)}c(Bn,"onBlur");function Tn(Te){Te.addEventListener("keydown",Aa),Te.addEventListener("keyup",Qn),Te.addEventListener("blur",Bn)}c(Tn,"watchForCtrlHeldOnWindow");function it(Te){Te.removeEventListener("keydown",Aa),Te.removeEventListener("keyup",Qn),Te.removeEventListener("blur",Bn)}c(it,"stopWatchingForCtrlHeldOnWindow");var Sa=e("74PA"),dt=e("KciV"),en=e("rGCG"),ua=e("IGJb");const Ao=c(Te=>{var Be,Je;const{containerClass:qe,children:mn,isSharedWindow:oa,targetRect:Un,isHostDrawEnabled:On,updateWindowPositionTimer:mo,updateCursorInDrawWindowCheckTimer:pn}=Te,{window:Jn}=Object(s.useContext)(Xe.a);return t.a.createElement("div",{className:Object(w.default)(qe,"p-calls__host_draw_window_debugger")},t.a.createElement("div",{className:"p-calls__host_draw_window_debugger_details"},t.a.createElement("p",null,"Source type: ",oa?"Window":"Screen"," "),t.a.createElement("p",null,"Target Rect Position: (X: ",Un==null?void 0:Un.left,", Y: ",Un==null?void 0:Un.top,")"),t.a.createElement("p",null,"Target Rect Dimensions: (Width: ",Un==null?void 0:Un.width,", Height:"," ",Un==null?void 0:Un.height,")"),t.a.createElement("p",null,"Host Draw Enabled: ",On?"Yes":"No"),t.a.createElement("p",null,"Screen Bounds: (Width: ",Jn==null||(Be=Jn.screen)===null||Be===void 0?void 0:Be.width,", Height: ",Jn==null||(Je=Jn.screen)===null||Je===void 0?void 0:Je.height,")"),t.a.createElement("p",null,"Window Updater Enabled:"," ",mo===void 0?"Disabled":"Running"," "),t.a.createElement("p",null,"Cursor In Draw Window Updater Enabled:"," ",pn===void 0?"Disabled":"Running"," ")),mn)},"HostDrawWindowDebugger");Ao.displayName="HostDrawWindowDebugger";var yo=e("uxre");const Qt=1e3,Bo=1e3,un=!1;let an=c(class extends s.PureComponent{componentDidMount(){Object(Sa.a)(Xt.EventId.CALLS_HOST_DRAW_ACTIVATED,{}),Object(dt.c)("HOST-DRAW-WINDOW").info("Host draw window mounted"),this.context.window.addEventListener("keydown",this.onKeyDown)}updateIsCursorInWindow(){var Be=this;return Object(B.coroutine)(function*(){const Je=yield Object(d.F)();Be.state.targetWindowRect&&(!Je||!Je.x||!Je.y||(Je.x>Be.state.targetWindowRect.x&&Je.x<Be.state.targetWindowRect.x+Be.state.targetWindowRect.width&&Je.y>Be.state.targetWindowRect.y&&Je.y<Be.state.targetWindowRect.y+Be.state.targetWindowRect.height?Object(d.kc)(Be.context.windowToken,!1):Object(d.kc)(Be.context.windowToken,!0)))})()}updateTargetWindowPosition(){var Be=this;return Object(B.coroutine)(function*(){const Je=(yield Object(ua.b)())||"";if(!Je)return;if(!Be.state.targetWindowRect||Be.state.targetWindowRect.x!==Je.x||Be.state.targetWindowRect.y!==Je.y||Be.state.targetWindowRect.width!==Je.width||Be.state.targetWindowRect.height!==Je.height){if(Object(S.x)()){const On=yield Object(d.K)({x:Je.x,y:Je.y});Be.setState(()=>({targetWindowRect:{x:Je.x/((On==null?void 0:On.scaleFactor)||1),y:Je.y/((On==null?void 0:On.scaleFactor)||1),width:Je.width/((On==null?void 0:On.scaleFactor)||1),height:Je.height/((On==null?void 0:On.scaleFactor)||1)}}))}else Be.setState(()=>({targetWindowRect:Je}));Be.setState(()=>({targetWindowRect:Je}))}const qe={x:Je.x,y:Je.y},mn=yield Object(d.V)(Be.context.windowToken);if(!mn)return;const oa=yield Object(d.K)({x:mn.x,y:mn.y});if(!oa)return;Be.setState(()=>({targetWindowDisplay:oa}));const Un=yield Object(d.K)(qe);Un&&oa&&Un.id!==oa.id&&F(Be.context.windowToken,Un.bounds)})()}setupWindowDrawingWindowTracking(){const{isSharedWindow:Be,isHuddle:Je}=this.props;!Be||!Object(sa.d)()||!Je||this.updateTargetWindowPositionIntervalId||(Object(dt.c)("HOST-DRAW-WINDOW").info("Setting up Window draw target position tracking"),this.updateTargetWindowPositionIntervalId=setInterval(this.updateTargetWindowPosition,Qt))}setupWindowDrawingCursorTracking(){const{isHostDrawEnabled:Be,isSharedWindow:Je,isHuddle:qe}=this.props;!Je||!Object(sa.d)()||!qe||!Be||this.updateCursorInDrawWindowIntervalId||(Object(dt.c)("HOST-DRAW-WINDOW").info("Setting up cursor in draw window tracking"),this.updateCursorInDrawWindowIntervalId=setInterval(this.updateIsCursorInWindow,Bo))}componentDidUpdate(Be){const Je=this.props.isHostScreenShareEnabled&&(this.props.isHostDrawEnabled||this.state.isRendererActive);this.isWindowVisible!==Je&&(Je?this.showWindow():this.hideWindow()),Be.screenBounds!==this.props.screenBounds&&this.setWindowBounds(),Be.isHostDrawEnabled!==this.props.isHostDrawEnabled&&(this.setWindowMouseEvents(),this.props.isHostDrawEnabled?this.setupWindowDrawingCursorTracking():this.tearDownWindowDrawingCursorTracking(),this.props.isHostDrawEnabled&&this.props.isHuddle&&(this.props.isSharedWindow&&Object(dt.c)("HOST-DRAW-WINDOW").info("Presenter enabled drawing for window"),this.props.isSharedWindow||Object(dt.c)("HOST-DRAW-WINDOW").info("Presenter enabled drawing for screen"))),Be.isSharedWindow!==this.props.isSharedWindow&&(this.props.isSharedWindow?(this.setWindowBounds(),this.setupWindowDrawingWindowTracking()):this.tearDownWindowDrawingWindowTracking())}tearDownWindowDrawingWindowTracking(){this.updateTargetWindowPositionIntervalId&&(Object(dt.c)("HOST-DRAW-WINDOW").info("Tearing down Window draw target position tracking"),clearInterval(this.updateTargetWindowPositionIntervalId)),this.updateTargetWindowPositionIntervalId=void 0}tearDownWindowDrawingCursorTracking(){this.updateCursorInDrawWindowIntervalId&&(Object(dt.c)("HOST-DRAW-WINDOW").info("Tearing down cursor in draw window tracking"),clearInterval(this.updateCursorInDrawWindowIntervalId)),this.updateCursorInDrawWindowIntervalId=void 0}componentWillUnmount(){this.context.window.removeEventListener("keydown",this.onKeyDown),this.tearDownWindowDrawingWindowTracking(),this.tearDownWindowDrawingCursorTracking()}onKeyDown(Be){Be.keyCode===27&&this.props.isHostDrawEnabled&&this.props.disableHostDraw()}setWindowMouseEvents(){const{isSharedWindow:Be,isHostDrawEnabled:Je,isHuddle:qe}=this.props;Be&&Object(sa.d)()&&qe&&Object(d.kc)(this.context.windowToken,!0),Object(d.kc)(this.context.windowToken,!Je)}setWindowBoundsForSharedWindow(){var Be=this;return Object(B.coroutine)(function*(){const Je=(yield Object(ua.b)())||"";let qe=Be.context.window.screen.width,mn=Be.context.window.screen.height;if(Je){const Un=yield Object(d.K)({x:Je.x,y:Je.y});Un&&(qe=Un.workAreaSize.width,mn=Un.workAreaSize.height)}const oa={x:0,y:0,width:qe,height:mn};F(Be.context.windowToken,oa)})()}setWindowBounds(){var Be=this;return Object(B.coroutine)(function*(){const{isHuddle:Je}=Be.props;if(!Be.props.screenBounds&&Be.props.isSharedWindow&&Object(sa.d)()&&Je){Be.setWindowBoundsForSharedWindow();return}Be.props.screenBounds&&(F(Be.context.windowToken,Be.props.screenBounds),setTimeout(Object(B.coroutine)(function*(){const qe=Be.props.screenBounds,mn=yield Object(d.V)(Be.context.windowToken);!qe||!mn||(qe.x!==mn.x||qe.y!==mn.y||Math.abs(qe.height-mn.height)>1||Math.abs(qe.width-mn.width)>1)&&(Object(dt.c)("HOST-DRAW-WINDOW").warn("Mismatched screen and hostWindowBounds."),Object(dt.c)("HOST-DRAW-WINDOW").warn(`screenBounds (x, y, width, height) = (${qe.x}, ${qe.y}, ${qe.height}, ${qe.width})`),Object(dt.c)("HOST-DRAW-WINDOW").warn(`hostWindowBounds (x, y, width, height) = (${mn==null?void 0:mn.x}, ${mn==null?void 0:mn.y}, ${mn==null?void 0:mn.height}, ${mn==null?void 0:mn.width})`))}),500))})()}showWindow(){this.isWindowVisible||(this.isWindowVisible=!0,Object(d.yc)(this.context.windowToken),this.setWindowBounds(),this.setWindowMouseEvents(),Tn(this.context.window))}hideWindow(){this.isWindowVisible&&(it(this.context.window),this.isWindowVisible=!1,Object(d.ab)(this.context.windowToken))}renderDrawRendererAndDrawTarget(Be){const{isHuddle:Je,isHostDrawEnabled:qe,isSharedWindow:mn}=this.props;return t.a.createElement(t.a.Fragment,null,t.a.createElement(_n.a,{targetRect:Be,onRendererIsActive:this.onRendererIsActive,ref:this.drawRenderRef,itemId:"self",useHuddlesCursor:Je,isHostDrawWindow:!0,isWindowDrawing:mn}),qe&&t.a.createElement(en.a,{targetRect:Be,itemId:"self",useHuddlesDragTarget:Je}))}render(){const{isHuddle:Be,isSharedWindow:Je,screenBounds:qe,isHostDrawEnabled:mn}=this.props,{targetWindowRect:oa,targetWindowDisplay:Un}=this.state;if(!Je&&!qe)return null;let On;if(On={top:0,left:0,width:(qe==null?void 0:qe.width)||0,height:(qe==null?void 0:qe.height)||0},Je&&oa){On={width:oa.width,height:oa.height,top:oa.y,left:oa.x},Un&&(On.top-=Un.bounds.y,On.left-=Un.bounds.x);const Jn=this.context.window.innerWidth/this.context.window.screen.width,Ja=this.context.window.innerHeight/this.context.window.screen.height;On.left*=Jn,On.width*=Jn,On.top*=Ja,On.height*=Ja}Be&&!Je&&(On.width=this.context.window.innerWidth,On.height=this.context.window.innerHeight);const mo="p-calls__host_draw_window",pn=this.renderDrawRendererAndDrawTarget(On);return un?t.a.createElement(Ao,{containerClass:mo,isSharedWindow:Je,targetRect:On,isHostDrawEnabled:mn,updateWindowPositionTimer:this.updateTargetWindowPositionIntervalId,updateCursorInDrawWindowCheckTimer:this.updateCursorInDrawWindowIntervalId},pn):t.a.createElement("div",{className:mo},pn)}constructor(Be){super(Be),this.isWindowVisible=!1,this.drawRenderRef=t.a.createRef(),this.onRendererIsActive=Je=>{this.setState(()=>({isRendererActive:Je})),this.props.reportHostDrawRendererActivity(Je)},this.onKeyDown=this.onKeyDown.bind(this),this.updateTargetWindowPosition=this.updateTargetWindowPosition.bind(this),this.updateIsCursorInWindow=this.updateIsCursorInWindow.bind(this),this.state={isRendererActive:!1,targetWindowRect:void 0,targetWindowDisplay:void 0}}},"HostDrawWindow");an.displayName="HostDrawWindow",an.contextType=Xe.a;const Zt=c((Te,Be)=>{var Je;const qe=Object(J.T)(Te),mn=Object(J.r)(Te),oa=Object(J.U)(Te,"screens"),Un=Object(J.U)(Te,"thumbnailIndex"),On=mn?mn.bounds:void 0,mo=oa&&(Un===0||Un)?oa[Un]:void 0;return{isSharedWindow:!!(!(mo==null||(Je=mo.mediaSourceId)===null||Je===void 0)&&Je.startsWith("window:")),screenBounds:On,isHostDrawEnabled:!!qe.isHostDrawEnabled,isHostScreenShareEnabled:!!qe.isScreenshareEnabled}},"host_draw_window_mapStateToProps"),ht=c(Te=>({reportHostDrawRendererActivity:Be=>{Te(Object(J.mb)({id:"self",isHostDrawRendererActive:Be}))},disableHostDraw:()=>{Te(Object(J.mb)({id:"self",isHostDrawEnabled:!1}))}}),"host_draw_window_mapDispatchToProps");var jt=Object(Fa.a)(Zt,ht)(an);function Pe(Te){let{teamId:Be,teamStore:Je}=Te;const qe=Object(s.useRef)(L.a),mn=Object(u.b)(O.o);return Object(s.useEffect)(()=>Object(d.db)()?!mn&&qe.current!==L.a?qe.current:!mn||!Be?L.a:(Object(g.e)("",{show:!1,frame:!1,transparent:!0,alwaysOnTop:!0,autoHideMenuBar:!0,resizable:!1,useContentSize:!0,fullscreenable:!1,enableLargerThanScreen:!0,hasShadow:!1,skipTaskbar:!0,type:"huddles-host-draw-window",focusable:!Object(S.x)(),parentTeamId:Be}).then(function(){var oa=Object(B.coroutine)(function*(Un){Object(d.qc)(Un.windowToken,!0),Object(d.fc)(Un.windowToken,!0,"screen-saver"),Object(S.p)()&&Object(d.ic)(Un.windowToken,!0);const On=Object(U.getClientStoreInstance)();qe.current=yield Object(g.f)(Un.window,t.a.createElement(P.a,{store:On},t.a.createElement(aa.a,{teamId:Be,window:Un.window},t.a.createElement(jt,{isHuddle:!0}))))});return function(Un){return oa.apply(this,arguments)}}()),()=>{var oa;(oa=qe.current)===null||oa===void 0||oa.call(qe),qe.current=void 0}):L.a,[mn,Be,Je]),null}c(Pe,"HuddleHostDrawMounter"),Pe.displayName="HuddleHostDrawMounter";function ct(){const Te=Object(u.b)(O.e);if(!Te||!Object(S.i)())return null;const Be=Object(U.getStoreInstanceByTeamId)(Te);return t.a.createElement(X,{store:Be},t.a.createElement(Pe,{teamId:Te,teamStore:Be}))}c(ct,"XWSHuddleHostDrawMounter");var Dn=e("s4P+"),eo=e("FXSi"),Da=c((Te,Be,Je,qe)=>Object(Fa.a)(Te,Be,Je,{...qe,context:eo.a}),"connectToClientStore");const ss={};let uo=0,sr=c(class extends s.Component{componentDidMount(){this.props.storeHuddlesAudioRef({audioOutputRef:this.props.audioOutputRef}),uo>1&&Object(Dn.b)().warn("HuddleAudio was mounted more than once. Please make sure it only is mounted once."),uo+=1}render(){return t.a.createElement("audio",{ref:this.props.audioOutputRef,className:"p-huddle_audio",autoPlay:!0,"data-qa":"p-huddle_audio"})}constructor(Be){super(Be)}},"HuddleAudio");sr.displayName="HuddleAudio";var ia=Da(c(Te=>({}),"huddle_audio_mapStateToProps"),c(Te=>({storeHuddlesAudioRef:Be=>Te(Object(ga.U)(Be))}),"huddle_audio_mapDispatchToProps"))(sr),Rs=e("4tnk"),ea=e("l0nk"),go=e("0dq7"),ta=e("JoR1");function Wo(){const Te=Object(H.i)(),Be=Object(u.b)(Rs.f),Je=Object(M.c)(qe=>Object(ta.u)(qe,"huddles_disconnect_on_lock"));return Object(s.useEffect)(()=>{Je&&Be&&Te(Object(ea.a)({terminalState:go.c.DeviceLocked}))},[Te,Je,Be]),null}c(Wo,"HuddleLocker");function fs(){const Te=Object(u.b)(O.e),Be=Object(u.b)(O.z);if(!Te||Be)return null;const Je=Object(U.getStoreInstanceByTeamId)(Te);return t.a.createElement(P.b,{store:Je},t.a.createElement(Wo,null))}c(fs,"XWSHuddleLocker");var so=e("a2P1"),Yo=e("lpU5");function Ga(Te){let{teamId:Be}=Te;const Je=Object(H.i)(),qe=Object(u.b)(O.o),mn=Object(u.b)(O.m),oa=Object(M.c)(J.w),Un=Object(M.c)(J.x),On=Object(so.a)(window)==="visible";return Object(s.useEffect)(()=>{Be&&(mn||On||!qe||!oa&&!Un||Je(Object(Yo.c)({isAutoPopped:!0})))}),null}c(Ga,"HuddleWindowMounter");function Tr(){const Te=Object(u.b)(O.e);if(!Te)return null;const Be=Object(U.getStoreInstanceByTeamId)(Te);return t.a.createElement(X,{store:Be},t.a.createElement(Ga,{teamId:Te}))}c(Tr,"XWSHuddleWindowMounter");const as=Object(s.createContext)(!1);function Ws(Te){let{children:Be}=Te;const Je=t.a.createRef(),qe=Object(u.b)(C.getFocusedWorkspace),mn=Object(u.b)(O.A);return Object(s.useContext)(as)||!mn?t.a.createElement(t.a.Fragment,null,Be):t.a.createElement(as.Provider,{value:!0},Be,t.a.createElement(v.b,{shouldStopHuddle:!0},t.a.createElement(ia,{teamId:qe??"",audioOutputRef:Je}),t.a.createElement(fs,null)),t.a.createElement(v.b,{shouldStopHuddle:!0},t.a.createElement(ct,null)),t.a.createElement(v.b,{shouldStopHuddle:!0},t.a.createElement(va,null)),t.a.createElement(v.b,{shouldStopHuddle:!0},t.a.createElement(Tr,null)))}c(Ws,"HuddleClientContainer")},V7Cu:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("Cfcg"),C=e("nNoG"),O=e("qDEp"),v=e("+kJ4"),B=e("YUBf"),P=e("kBd7"),M=e("HKlo"),L=e("Trx9"),z=e("ktUG");const U=new C.b("banner_download_native_app"),g={elementName:"close",elementType:z.ElementType.BUTTON,onClick:{enableClogAction:!0}};let J=c(class extends s.PureComponent{render(){const{closeModal:x,transitionFocusTo:Q,eventId:V}=this.props;return t.a.createElement(L.a,{eventId:V,uiStep:z.UiStep.SENT_MAGIC_LOGIN_CONFIRMATION_MODAL},t.a.createElement(B.a,{closeModal:x,isOpen:!0,centered:!0,shouldReturnFocusAfterClose:!1,onAfterClose:()=>{Q({focusKey:M.c.MESSAGE_PANE_MESSAGE_INPUT})}},t.a.createElement(B.i,null,t.a.createElement(B.l,{title:U.t("Check your email from your phone"),"data-qa":"login_confirmation_title_text"})),t.a.createElement(B.d,null,t.a.createElement(B.e,null,t.a.createElement("p",null,U.t("We\u2019ve sent you a message that includes a magic sign-in link. With just a tap, it\u2019ll get you signed in to this workspace on your mobile device.")))),t.a.createElement(B.g,null,t.a.createElement(B.h,null,t.a.createElement(O.f,{autoFocus:!0,onClick:x,"data-qa":"got_it_close_modal",autoClogProps:g},U.t("Got It"))))))}},"SentMagicLoginConfirmationModal");J.displayName="SentMagicLoginConfirmationModal";const d=c(F=>({closeModal:()=>F(Object(v.a)())}),"mapDispatchToProps"),S=Object(P.a)(J);y.a=Object(u.a)(null,d)(S)},VOWE:function(le,y,e){le.exports=e.p+"apps_static-37fb02f.png"},VP3E:function(le,y,e){"use strict";e.d(y,"a",function(){return O});var s=e("q1tI"),t=e.n(s),u=e("WSQ4"),C=e("tcEy");function O(v){let{className:B,highlightPadding:P={},withResizeObserver:M=!1,backgroundClassName:L="p-nux_coachmark"}=v;const{window:z}=Object(s.useContext)(u.a),U=Object(s.useRef)(null),g=Object(s.useRef)(null),J=Object(s.useCallback)(()=>{if(!U.current||!g.current)return;const{bottom:S=0,left:F=0,right:x=0,top:Q=0,all:V}=P,{height:X,left:K,top:H,width:w}=U.current.getBoundingClientRect();g.current.style.left=`${K-(V??F)}px`,g.current.style.top=`${H-(V??Q)}px`,g.current.style.width=`${w+(typeof V=="number"?V*2:F+x)}px`,g.current.style.height=`${X+(typeof V=="number"?V*2:Q+S)}px`},[P]),d=Object(s.useCallback)(S=>{var F,x;if(!(B!=null&&B.length)||!z)return;U.current=S,g.current=z.document.createElement("div"),g.current.classList.add(L),J();const Q=(x=(F=z.document)===null||F===void 0?void 0:F.getElementsByClassName(B))===null||x===void 0?void 0:x[0];if(!Q)return;const V=Q.parentElement;V&&V.insertBefore(g.current,Q)},[B,J,z,L]);return Object(s.useEffect)(()=>{if(!M)return;const S=Object(C.a)(J);return U.current&&S.observe(U.current),()=>{U.current&&S.unobserve(U.current)}},[J,M]),{onAfterOpen:d}}c(O,"useHighlightCoachmark")},VdF0:function(le,y,e){"use strict";e.r(y);var s=e("9oTK"),t=e.n(s),u=e("q1tI"),C=e.n(u),O=e("/MKj"),v=e("vMc3"),B=e("o3gz"),P=e("03PU"),M=e("ktUG"),L=e("nNoG"),z=e("zxER"),U=e("o1ZU"),g=e("q6Tz"),J=e("69o4"),d=e("eWGC"),S=e("uVZW"),F=e("4YJR"),x=e("BPx/"),Q=e("v5z3"),V=e("y8m0");const X=new L.b("setup_page"),K="join_midsize_coachmark_next",H="join_midsize_coachmark_dismiss",w="join_midsize_sidebar_actions",T={eventId:M.EventId.NEWXP_JOIN_TEAM,uiComponentName:M.UiComponentName.SETUP_JOINER_COACHMARK,uiStep:w,megaphoneSpaceName:S.g.WELCOME_SPACE,megaphoneNotificationName:S.h.SETUP_JOINER_COACHMARKS},ee=c(ne=>{let{children:ue,joinerSetupCoachmarkState:te,UNSAFE_parentSelector:D}=ne;var f;const ie=Object(O.i)(),Z=Object(v.a)(te),pe=(te==null?void 0:te.currentStep)===0,q=(te==null||(f=te.steps)===null||f===void 0?void 0:f.length)===1;Object(u.useEffect)(()=>{ie(Object(d.a)({action:S.f.IMPRESSION,notificationName:S.h.SETUP_JOINER_COACHMARKS,step:pe?"step_1":"step_2"}))},[ie,pe]);const xe=Object(u.useCallback)(Object(s.coroutine)(function*(){ie(Object(U.f)({steps:[],currentStep:null})),ie(Object(J.a)({action:S.f.DISMISS,spaceName:S.g.WELCOME_SPACE,step:(te==null?void 0:te.currentStep)===0?"step_1":"step_2"})),yield ie(Object(g.c)({event:{type:S.e.REQUEST_SPACES,spaces:[S.g.PROGRESSIVE_DISCLOSURE]}})),ie(Object(F.z)(!1)),ie(Object(x.a)())}),[ie,te==null?void 0:te.currentStep]),ze=Object(u.useCallback)(()=>{pe?(q?xe():(te==null?void 0:te.currentStep)!==null&&ie(Object(U.f)({...te,currentStep:te.currentStep+1})),ie(Object(d.a)({action:S.f.CLICK,notificationName:S.h.SETUP_JOINER_COACHMARKS,step:"step_1"}))):xe()},[pe,xe,q,te,ie]);if(!Object(z.c)(V.c))return ue;const Me={title:"",body:"",primaryCta:""};switch(Z){case Q.q.DirectMessagesSection:Me.title=X.t("Lovely!"),Me.body=X.t("Now, you can message your teammates with just a click.");break;case Q.q.ChannelsSection:Me.title=pe?X.t("Most conversations happen here"):X.t("\u2026but most conversations happen here"),Me.body=X.t("Channels keep your team\u2019s conversations organized by topic.");break;case Q.q.PagesSection:Me.title=X.t("And this is where you look for stuff."),Me.body=X.t("Find a teammate to message or a channel to join.");break;default:return null}pe&&!q?(Me.primaryCta=X.t("Next"),T.elementName=K):(Me.primaryCta=X.t("Done"),T.elementName=H);const Ct=C.a.createElement(B.b,{isOpen:!0,centerOnArrow:!0,arrowPosition:20,offsetX:Z===Q.q.PagesSection?0:17,offsetY:Z===Q.q.ChannelsSection?0:12,closeCoachmark:xe,onClickPrimaryButton:ze,autoClogProps:T,title:Me.title,bodyText:Me.body,primaryCallToActionText:Me.primaryCta,alignActionsRight:!0,UNSAFE_parentSelector:D});return C.a.createElement(P.c,{coachmarkElement:Ct,orientation:"right-top"},ue)},"SetupJoinerCoachmark");ee.displayName="SetupJoinerCoachmark",y.default=ee},VelS:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("nNoG"),O=e("uC0x"),v=e("/MKj"),B=e("aVYy"),P=e("gl0Z"),M=e("N1BJ"),L=e("7LlD"),z=e("B7Jy"),U=e("ktUG");const g=new C.b("mentions"),J=c(d=>{let{setSelectedChannelId:S}=d;const F=Object(v.i)(),x=Object(u.c)(M.a),Q=Object(B.a)(),V=Object(s.useCallback)(()=>{S&&S(""),x===z.a.UNREAD?F(Object(L.a)(z.a.ALL)):F(Object(L.a)(z.a.UNREAD))},[x,F,S]),X=Object(s.useMemo)(()=>({eventId:U.EventId.DMS_UNREADS,onClick:{enableClogAction:!0},elementName:x===z.a.UNREAD&&Q[P.a.DMS]?"all":"unreads"}),[x,Q]),K=g.t("Filter by unread messages; {n} unread",{n:Q[P.a.DMS]});return t.a.createElement(O.a,{selected:x===z.a.UNREAD,onClick:V,"aria-label":K,label:g.t("Unreads"),dataQa:"dms-unreads-toggle-button",autoClogProps:X})},"DMsUnreadsToggleButton");J.displayName="DMsUnreadsToggleButton",y.a=J},W1Ru:function(le,y,e){"use strict"},W7K7:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseTrialSidebarLinkForHeader",function(){return T});var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("/MKj"),O=e("BHdc"),v=e("nNoG"),B=e("mQiU"),P=e("2VFn"),M=e("7+Lm"),L=e("ifKl"),z=e("ktUG"),U=e("q6Tz"),g=e("AKIH"),J=e("69o4"),d=e("uVZW"),S=e("Trx9"),F=e("oEDn"),x=e("0m9r"),Q=e("sWQV"),V=e("qDEp"),X=e("MgKd"),K=e("bhDs"),H=e("Wn1n");const w=new v.b("paid_onboarding"),T=c(ue=>{let{trialExpirationDate:te,isAdmin:D,loadSidebarMenuMegaphoneNotification:f,paidBenefitsHandler:ie}=ue;const Z=Object(g.b)(te)||0,pe=Object(u.c)(K.f),{getSiblingView:q,shouldUseNavigate:xe}=Object(s.useContext)(B.a),ze=Object(C.i)(),mt={elementType:z.ElementType.X,elementName:"close_sidebar_benefits",action:z.UiAction.CLOSE,onClick:{enableClogAction:!0}},Me=Object(s.useCallback)(function(Fn){let Ye=arguments.length>1&&arguments[1]!==void 0?arguments[1]:L.a;Fn==null||Fn.stopPropagation(),ze(Object(J.a)({spaceName:d.g.SIDEBAR_MENU_HEADER,action:d.f.DISMISS})).then(Ye)},[ze]),Ct=c(function(){let{className:Fn,onDismissCallback:Ye}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const dn=Object(O.default)(Fn,"p-channel_sidebar__close_container","p-ia4_sidebar_header__icon_close");return t.a.createElement(V.d,{onClick:vt=>{Me(vt,Ye)},className:dn,tabIndex:-1,"aria-hidden":!0,"data-qa":"golden-gate-dismiss-cta",autoClogProps:mt},t.a.createElement(F.a,{type:"times"}))},"renderCloseButton");Ct.displayName="renderCloseButton";const Qe=Object(O.default)("p-sidebar_link__icon",{"p-sidebar_link__icon--bold":pe}),st=c(()=>{const Fn=Z/14*100,Ye=Object(O.default)(Qe,"p-sidebar_link__icon--progress","flex_shrink_none");return t.a.createElement(Q.a,{containerClassName:Ye,containerSizeInPixels:22,progressBarWidthInPixels:2,progressPercentage:Fn,progressBarColor:"rgb(255, 255, 255)",progressBarBackgroundColor:"rgb(255, 255, 255)",progressBarBackgroundColorAlpha:.2,progressBarLabel:`${Z}`})},"renderDaysRemainingIcon");st.displayName="renderDaysRemainingIcon";let Ot="",cn=null,Ht="";Z===1?(cn=t.a.createElement(F.a,{type:"exclamation-circle",className:Qe}),Ot=w.t("Free trial ends today")):Z===2?(cn=st(),Ot=w.t("Free trial ending soon")):(Ot=w.t("Free trial in progress"),Z<14?(cn=st(),Ht=`${Ot} ${w.t("You have {trialDaysRemaining, plural, =1 {# day} other {# days}} remaining",{trialDaysRemaining:Z})}`):cn=t.a.createElement(F.a,{type:"hourglass",className:Qe}));const Nn=t.a.createElement(t.a.Fragment,null,cn,t.a.createElement(x.a,{displayName:Ot,qaChannelName:Ot,ariaLabel:Ht})),Ln=Object(u.c)(Fn=>{var Ye;return xe?(Ye=q(Fn,{container:P.k.Primary}))===null||Ye===void 0?void 0:Ye.id:Object(H.a)(Fn)})==="Ppaid-benefits";return t.a.createElement(S.a,{clogImpression:!0},t.a.createElement("div",{className:Object(O.default)("p-ia4_sidebar_header__link_wrapper",{"p-channel_sidebar__link--selected":Ln})},t.a.createElement(V.d,{className:"p-ia4_sidebar_header__link_btn",onClick:ie},Nn),!D&&Ct({onDismissCallback:f})))},"TrialSidebarLinkForHeader");T.displayName="TrialSidebarLinkForHeader";const ee=c(()=>{const ue=Object(C.i)(),{trialExpirationDate:te,isAdmin:D}=Object(u.c)(M.f),f=Object(s.useCallback)(()=>{ue(Object(U.c)({event:{type:d.e.REQUEST_SPACES,spaces:[d.g.SIDEBAR_MENU_HEADER]}}))},[ue]),ie=Object(s.useCallback)(()=>{ue(Object(X.a)())},[ue]);return t.a.createElement(T,{trialExpirationDate:te,isAdmin:D,loadSidebarMenuMegaphoneNotification:f,paidBenefitsHandler:ie})},"ConnectedTrialSidebarLinkForHeader");ee.displayName="ConnectedTrialSidebarLinkForHeader";var ne=y.default=ee},WAGc:function(le,y,e){"use strict"},"X8m/":function(le,y,e){le.exports=e.p+"sales-coachmark@2x-56aca65.png"},Y40X:function(le,y,e){"use strict";e.r(y),e.d(y,"localeToGifMap",function(){return Ha});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("fMmd"),O=e("SQ0V"),v=e("uiBO"),B=e("I0j/"),P=e("37+L"),M=e("lhZz"),L=e("E3dU"),z=e("mHfD"),U=e("beVI"),g=e("2VFn"),J=e("v7mh"),d=e("Zrm2"),S=e("ovW4"),F=e("E97Y"),x=e("3vtZ"),Q=e("G0eX"),V=e("Rf5R"),X=e("9L28");Object(V.b)({channels:X.b});const K=Object(O.c)("Navigate to a channel that supports Huddles",(Mt,da)=>{const ha=da(),aa=Object(J.h)(ha,{container:g.k.Primary,tab:g.f.Home});if((aa==null?void 0:aa.viewType)===v.c.Channel){const va=Object(L.d)(ha,aa.id);if(Mt(Object(d.b)({tab:g.f.Home,reason:d.a.Click})),Object(x.e)(ha,va))return Mt(Object(B.a)(Object(P.n)(aa.id)))}const fo=Object(U.g)(ha),No=Object(Q.n)(fo),fa=Object(M.getStateForClientStore)(),_a=Object(C.a)(fa).find(va=>{if(!va||!Object(S.a)(va)||va.teamId!==No)return!1;const Fa=va[g.a],_n=va[Fa][g.k.Primary];if((_n==null?void 0:_n.viewType)!==v.c.Channel)return!1;const Xe=Object(L.d)(ha,_n.id);return Object(x.e)(ha,Xe)});if(_a){Mt(Object(d.b)({tab:g.f.Home,reason:d.a.Click}));const va=_a[g.a],Fa=_a[va][g.k.Primary],_n=Object(L.d)(ha,Fa==null?void 0:Fa.id);return Mt(Object(B.a)(Object(P.n)(_n.id)))}const ko=Mt(Object(z.a)());if(ko&&Object(x.e)(ha,ko))return Mt(Object(d.b)({tab:g.f.Home,reason:d.a.Click})),Mt(Object(B.a)(Object(P.n)(ko.id)));const qo=Object.values(ha.channels).find(va=>Object(F.g)(va)&&Object(x.e)(ha,va));return qo?(Mt(Object(d.b)({tab:g.f.Home,reason:d.a.Click})),Mt(Object(B.a)(Object(P.n)(qo.id)))):Mt(Object(d.b)({tab:g.f.Home,reason:d.a.Click}))});K.meta={name:"createThunk",key:"createThunknavigateToChannelWithHuddle",description:"Navigate to a channel that supports Huddles"};var H=e("Tb7l"),w=e.n(H),T=e("gHTj"),ee=e.n(T),ne=e("IYUO"),ue=e.n(ne),te=e("o9mU"),D=e.n(te),f=e("R2CY"),ie=e.n(f),Z=e("u0IL"),pe=e.n(Z),q=e("nMOw"),xe=e.n(q),ze=e("c9G7"),mt=e.n(ze),Me=e("i9fg"),Ct=e.n(Me),Qe=e("+l1W"),st=e.n(Qe),Ot=e("17wV"),cn=e.n(Ot),Ht=e("JEWL"),Nn=e.n(Ht),zt=e("Mp1l"),Ln=e.n(zt),Fn=e("TxyK"),Ye=e.n(Fn),dn=e("6I59"),vt=e.n(dn),Xn=e("hHWo"),kn=e.n(Xn),he=e("Dfh+"),Gn=e("zxER"),Va=e("JoR1"),Oe=e("4YJR"),Ma=e("sLRC"),ga=e("uVZW"),zn=e("7+Lm"),hn=e("qDEp"),nn=e("YUBf"),Xt=e("nNoG"),bn=e("Trx9"),sn=e("ktUG"),Wt=e("q0lC"),Yt=e("rZ8V"),At=e("usGY");const Ft=new Xt.b("ia4"),sa={elementName:"explore_on_my_own",onClick:{enableClogAction:!0}},ba={elementName:"see_whats_new",onClick:{enableClogAction:!0}},Ha={"en-US":ee.a,"en-GB":ue.a,"en-IN":D.a,"es-ES":ie.a,"es-LA":pe.a,"de-DE":xe.a,"fr-FR":mt.a,"it-IT":Ct.a,"ko-KR":st.a,"ja-JP":cn.a,"pt-BR":Nn.a,"zh-CN":Ln.a,"zh-TW":Ye.a};function Ba(){const Mt=Object(u.i)(),da=Object(Gn.c)(In=>!!Object(Va.u)(In,"a11y_animations")),{intro:ha}=Object(Gn.c)(In=>Object(zn.b)(In,ga.g.WELCOME_SPACE)),aa=ha===Ma.b.IntroModalHomeMore,fo=aa?Ma.b.IntroModalHomeMore:Ma.b.IntroModal,{closure:No,isOpen:fa,nextStep:_a}=Object(he.a)(fo),ko=Object(Gn.c)(Wt.b),qo=Object(Gn.c)(Yt.r);Object(s.useEffect)(()=>{ha&&Mt(Object(Oe.i)(fo))},[Mt,ha,fo]);const va=Object(s.useCallback)(()=>{Mt(Object(Oe.w)(!0)),Mt(Object(Oe.i)(No))},[No,Mt]),Fa=Object(s.useCallback)(()=>{Mt(K()),setTimeout(()=>Mt(Object(Oe.i)(_a)))},[Mt,_a]);if(!ha)return null;const _n=ko&&qo?Ft.t("Your chance to try the new Slack design"):Ft.t("A fresh, more focused Slack!");var Xe;const It=aa?w.a:(Xe=Ha[Object(Xt.m)()])!==null&&Xe!==void 0?Xe:ee.a,$e=aa?kn.a:vt.a;return t.a.createElement(bn.a,{eventId:sn.EventId.NEWXP_JOIN_TEAM,uiStep:aa?sn.UiStep.NFX_WELCOME_MODAL_HOME_MORE:sn.UiStep.NFX_WELCOME_MODAL,elementType:sn.ElementType.MODAL,clogImpression:!0},t.a.createElement(nn.b,{className:"p-nfx_welcome_modal",isOpen:fa,contentLabel:_n,onClose:va,maxWidth:600},t.a.createElement(nn.d,null,t.a.createElement(nn.j,{"aria-hidden":!0,height:338,width:600,alt:"",src:da?It:$e}),t.a.createElement("h1",{className:"p-nfx_welcome_modal__title"},_n),t.a.createElement(nn.e,{className:"p-nfx_welcome_modal__description"},ko&&qo?Ft.t("Only you and other Org Owners and Org Admins have the new design. Check your email for more info about the rollout to the rest of your organization."):Ft.t("We\u2019ve moved things around to make it easier to get work done."))),t.a.createElement(nn.g,{className:"justify_content_center"},t.a.createElement(nn.h,{className:"margin_left_0"},t.a.createElement(hn.f,{onClick:va,type:"outline",autoClogProps:sa},Ft.t("I\u2019ll Explore on My Own")),t.a.createElement(hn.f,{onClick:Fa,autoClogProps:ba},Ft.t("See What\u2019s New"))))))}c(Ba,"NFXWelcomeModal"),Ba.displayName="NFXWelcomeModal";var qn=y.default=Object(s.memo)(Ba)},YQ9o:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseStraightToPaidSidebarMenuHeaderOfferCta",function(){return H});var s=e("q1tI"),t=e.n(s),u=e("Trx9"),C=e("79wK"),O=e("mQiU"),v=e("G0eX"),B=e("iUFw"),P=e("ZobM"),M=e("Tsh7"),L=e("ktUG"),z=e("nNoG"),U=e("/0Xg"),g=e("zxER"),J=e("AKIH"),d=e("IaLB"),S=e("beVI");function F(){return F=Object.assign||function(ee){for(var ne=1;ne<arguments.length;ne++){var ue=arguments[ne];for(var te in ue)Object.prototype.hasOwnProperty.call(ue,te)&&(ee[te]=ue[te])}return ee},F.apply(this,arguments)}c(F,"_extends");const x=C.a.SIDEBAR_MENU_HEADER_OFFER_CTA,Q=new z.b("setup_straight_to_paid"),V="straight_to_paid_sidebar_menu_header",X={eventId:L.EventId.NEWXP_TEAM_CREATE,uiStep:L.UiStep.SIDEBAR_MENU_HEADER_STRAIGHT_TO_PAID_OFFER,elementName:"sidebar_menu_header_straight_to_paid_offer"},K={eventId:L.EventId.NEWXP_TEAM_CREATE,uiStep:L.UiStep.SIDEBAR_MENU_STRAIGHT_TO_PAID_UPGRADE_PRO_BUTTON,elementName:"sidebar_menu_straight_to_paid_upgrade_pro_button",onClick:{enableClogAction:!0}},H=c(ee=>{let{discountPercent:ne,discountExpirationTs:ue=0,isInSetup:te,onClick:D}=ee;const f=Object(s.useMemo)(()=>Object(J.c)(ue*1e3),[ue]);if(te)return null;const ie=Q.t("Get {discountPercent}% Off Slack Pro",{discountPercent:ne});return t.a.createElement(u.a,F({clogImpression:!0},X),t.a.createElement("div",{className:"p-sidebar_menu_header_offer_cta p-sidebar_menu_header_offer_cta--ia4"},t.a.createElement(B.a,{className:"p-sidebar_menu_header_offer_cta__button",type:"outline",onClick:D,autoClogProps:K},t.a.createElement("span",{className:"p-sidebar_menu_header_offer_cta__button-icon"},t.a.createElement(P.a,{name:"rocket"})),t.a.createElement(M.d,{offsetX:-11,automaticallyPositionTip:!1,delay:M.a,tip:ie,shouldOnlyShowWhenTruncated:!0},t.a.createElement("span",{className:"p-sidebar_menu_header_offer_cta__button-text"},ie))),t.a.createElement("p",{className:"p-sidebar_menu_header_offer_cta__offer-countdown"},Q.t("{daysRemaining, plural, =1 {# day} other {# days}} left on this offer",{daysRemaining:f}))))},"StraightToPaidSidebarMenuHeaderOfferCta");H.displayName="StraightToPaidSidebarMenuHeaderOfferCta";const w=c(ee=>{const{getSiblingView:ne}=Object(s.useContext)(O.a),ue=Object(g.c)(S.g),te=Object(g.c)(f=>!!Object(d.X)(f,{getSiblingView:ne})),D=Object(s.useCallback)(()=>{if(ue){const f=Object(U.w)({entryPoint:V});Object(v.Y)(ue,f,"_self")}},[ue]);return t.a.createElement(H,F({isInSetup:te,onClick:D},ee))},"ConnectedStraightToPaidSidebarMenuHeaderOfferCta");w.displayName="ConnectedStraightToPaidSidebarMenuHeaderOfferCta";var T=y.default=w},"Z/QC":function(le,y,e){le.exports=e.p+"canvas-tab-reveal-coachmark-4ac5b94.gif"},ZgTL:function(le,y,e){"use strict"},a2P1:function(le,y,e){"use strict";e.d(y,"a",function(){return u});var s=e("q1tI"),t=e.n(s);function u(C){const[,O]=Object(s.useState)({}),v=Object(s.useCallback)(()=>O({}),[]);return Object(s.useEffect)(()=>(C==null||C.addEventListener("visibilitychange",v),C==null||C.addEventListener("pagehide",v),()=>{C==null||C.removeEventListener("visibilitychange",v),C==null||C.removeEventListener("pagehide",v)})),C?C.document.visibilityState:null}c(u,"useVisibilityState")},aMUS:function(le,y,e){le.exports=e.p+"huddles_static-1438e50.png"},aQR5:function(le,y,e){le.exports=e.p+"slack_ai_recap_empty_state-c0e7df5.gif"},aVYy:function(le,y,e){"use strict";e.d(y,"a",function(){return U});var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("aNr4"),O=e("yHFC"),v=e("2VFn"),B=e("gl0Z"),P=e("FAoC"),M=e("YEN2"),L=e("rZ8V"),z=e("JoR1");const U=c(g=>{const J=Object(u.c)(L.k),d=Object(u.c)(T=>!Object(z.u)(T,"activity_include_threads_in_badge_count")),S=Object(u.c)(T=>Object(M.a)(T,v.f.DMs)),F=Object(u.c)(C.d),x=Object(u.c)(C.c),Q=Object(u.c)(T=>{var ee;return(ee=Object(O.k)(T))===null||ee===void 0?void 0:ee.uncompletedOverdueCount}),{dmsBadgeCount:V,homeBadgeCount:X}=Object(u.c)(P.a),K=J&&d?F:x;let H=0;return g!=null&&g.length&&(g.includes(v.f.DMs)&&S&&(H+=V),g.includes(v.f.Activity)&&(H+=K),g.includes(v.f.Later)&&(H+=Q)),Object(s.useMemo)(()=>{const T={};return T[B.a.DMS]=V,T[B.a.ACTIVITY]=K,T[B.a.HOME]=X,T[B.a.BROWSE]=H,T[B.a.LATER]=Q,T},[V,K,X,H,Q])},"useViewSwitcherBadgeCounts")},anSg:function(le,y,e){"use strict";e.d(y,"b",function(){return g});var s=e("q1tI"),t=e.n(s),u=e("uVZW");const C=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"/Erz"))),O=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"W7K7"))),v=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"YQ9o"))),B=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"I8IW"))),P=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"bwBO"))),M=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"S0Yg"))),L=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"AfuT"))),z=t.a.lazy(()=>Promise.resolve().then(e.bind(null,"S4nU"))),U={spaceName:u.g.SIDEBAR_MENU_HEADER,notifications:{[u.h.STRAIGHT_TO_PAID_SIDEBAR_MENU_HEADER_OFFER_CTA]:{component:v},[u.h.SIDEBAR_BENEFITS_ACTIVE_TRIAL_TAB_MENU_HEADER]:{component:O},[u.h.SIDEBAR_MENU_HEADER_UPGRADE_CTA]:{component:C},[u.h.SUPPORT_UPGRADE_DECISION_TRIAL_USAGE_SIDEBAR_MENU_HEADER]:{component:B},[u.h.SIDEBAR_MENU_HEADER_SLACK_AI_NFX_CTA]:{component:L},[u.h.GLOBAL_TRIAL_ENTRYPOINT_SIDEBAR_MENU_HEADER_CTA]:{component:P},[u.h.RESURRECTED_USER_WELCOME_SIDEBAR_MENU_HEADER]:{component:M},[u.h.LISTS_WELCOME_TO_LISTS_HOME_BANNER]:{component:z}}},g={spaceName:u.g.IN_PRODUCT_COACHMARK,notifications:{[u.h.THEME_NFX_SIDEBAR_INVERTED_V2_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"gSwd")))}}};y.a=U},b7QB:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("ifKl"),C=e("NZ+B"),O=e("/MKj"),v=e("zxER"),B=e("9V9U"),P=e("Wn1n"),M=e("SQ0V"),L=e("JoR1"),z=e("E3dU"),U=e("Yauy"),g=e("ktUG"),J=e("80lu"),d=e("THtN");const S=Object(M.c)("Clog joining a suggested channel",(et,Ie,Ve)=>{let{channelId:De,clogger:We}=Ve;We.track(g.EventId.NEWXP_JOIN_TEAM,{contexts:{ui_context:{action:g.UiAction.CLICK,ui_component:g.UiComponent.SIDEBAR,element_name:"join_midsize_recommened_channel"}}});const Ze=Ie(),Dt=Object(L.u)(Ze,"suggestions_request_id");if(Dt){const ft=Object(z.d)(Ze,De),at=!!(ft&&!Object(U.db)(ft)&&Object(U.rb)(Ze,ft))?Object(L.r)(Ze).split(",").indexOf(De):0;Object(J.a)({clogger:We,data:{requestId:Dt,selectedItemId:De,selectedPosition:at}})}et(Object(d.a)({channelId:De,reason:"suggested_channels"}))});S.meta={name:"createThunk",key:"createThunkclogJoinSuggestedChannel",description:"Clog joining a suggested channel"};var F=S,x=e("gVOt"),Q=e("ISSR"),V=e("vfvl"),X=e("NK7x"),K=e("C3vN"),H=e("Nnn3"),w=e("xwCZ"),T=e("3dye"),ee=e("4YJR");const ne=Object(M.c)("Clog joining a suggested channel",(et,Ie,Ve)=>{let{channelId:De,clogger:We,index:Ze,sectionChannelIndex:Dt,isSelected:ft,isChannelSectionDirectMessages:on}=Ve;const at=Ie(),Ut=Object(z.d)(at,De),vn=Object(L.u)(at,"suggestions_request_id"),Ne=!!(Ut&&!Object(U.db)(Ut)&&Object(U.rb)(at,Ut)),Zn=Object(L.r)(at);if(Ne&&vn){const xs=Ne?Zn.split(",").indexOf(De):0;Object(J.a)({clogger:We,data:{requestId:vn,selectedItemId:De,selectedPosition:xs,selectedAction:"preview"}})}const jn=Object(x.a)(Ut);let gn=!1;on&&jn&&(gn=Zn.includes(De)),gn&&vn&&jn&&(Object(T.a)({clogger:We,data:{requestId:vn,selectedItemId:jn,selectedPosition:Dt,selectedAction:"preview"}}),et(Object(ee.K)(Dt)));const xo=Object(w.g)(at,jn),Wn=Object(H.a)(at,xo)||void 0,Oa=Object(K.d)(xo)||void 0,Do=Ut?Object(z.c)(at,Ut):0;We.track(g.EventId.SIDEBAR_ITEM_CLICK,{item_type:De[0],item_id:De,index:Ze,is_muted:Object(X.b)(at,De),is_suggested:Ne,is_starred:Object(U.qb)(at,Ut),has_unreads:Object(U.ub)(Ut),is_archived:Object(Q.a)(Ut),is_frozen:Object(V.a)(Ut),is_selected:ft,badge_count:Do,app_id:Oa,bot_id:Wn})});ne.meta={name:"createThunk",key:"createThunkclogChannelClick",description:"Clog joining a suggested channel"};var ue=ne,te=e("t0jf"),D=e("5BbJ"),f=e("dmdh"),ie=e("2/KV"),Z=e("FUEd"),pe=e("bqbz"),q=e("iJ8e"),xe=e("PJbD"),ze=e("bkRm"),mt=e("sXqy"),Me=e("7oBp"),Ct=e("/JQq"),Qe=e("2uWu"),st=e("pZC0"),Ot=e("E97Y"),cn=e("Kn+X"),Ht=e("hjzp"),Nn=e("x6tY"),zt=e("9e9D"),Ln=e("bORL"),Fn=e("3vtZ"),Ye=e("q6Tz"),dn=e("uVZW"),vt=e("G0eX"),Xn=e("Awbm"),kn=e("52Wj"),he=e("K7jq"),Gn=e("ehcD"),Va=e("RcBX"),Oe=e("mzZe"),Ma=e("gCYc"),ga=e("qmhM"),zn=e("n3tL"),hn=e("m5HF"),nn=e("oztq"),Xt=e("GObw");const bn=Object(M.c)("drag and drop: build the DRAG_CHANNEL_SIDEBAR_CHANNELS item",(et,Ie,Ve)=>{let{channelId:De,channelSectionId:We}=Ve;const Ze=Ie(),Dt=Object(pe.b)(Ze),ft={};Object.values(Dt).forEach(jn=>{switch(jn.type){case q.n:ft[q.n]=jn;break;case q.b:ft[q.b]=jn;break;case q.g:ft[q.g]=jn;break;case q.j:ft[q.j]=jn;break;case q.c:ft[q.c]=jn;break;case q.k:ft[q.k]=jn;break;default:break}});const on=!!ft[q.n],at={},Ut=c(jn=>{if(!at[jn.id]){const gn=Object(pe.w)(Ze);at[jn.id]=Object(U.O)({channel:jn,isStarred:Object(U.qb)(Ze,jn),isApp:Object(nn.a)(jn,Object(w.b)(Ze)),shouldSeparateApps:Object(hn.k)(Ze),allowAssignmentToStarredSection:!1,showConnectSection:Object(Xt.a)(Ze)&&gn.some(xo=>xo.type===q.c)})}return at[jn.id]},"getSidebarSectionCategory"),vn=[{channelId:De,channelSectionId:We}];Object(pe.r)(Ze)&&Object(pe.c)(Ze).forEach(gn=>{const xo=Ut(gn),Wn=Object(U.qb)(Ze,gn)&&on?[ft[q.n].id]:Object(pe.e)(Ze,gn.id);Wn.length===0&&(xo===q.r?Wn.push(ft[q.b].id):xo===q.s?Wn.push(ft[q.g].id):xo===q.q?Wn.push(ft[q.j].id):xo===q.k&&Wn.push(ft[q.k].id)),Wn.forEach(Oa=>{vn.push({channelId:gn.id,channelSectionId:Oa})})});const Ne=new Set,Zn=[];return vn.forEach(jn=>{if(!Ne.has(jn.channelId)&&jn.channelSectionId){const gn=Object(z.d)(Ze,jn.channelId);Ne.add(jn.channelId),Zn.push({channel:gn,channelSection:Dt[jn.channelSectionId],sidebarSectionCategory:Ut(gn)})}}),Zn});bn.meta={name:"createThunk",key:"createThunkbuildDragItemsForChannelSidebarChannels",description:"drag and drop: build the DRAG_CHANNEL_SIDEBAR_CHANNELS item"},bn.propTypes={channelId:zn.default.string.isRequired,channelSectionId:zn.default.string};var sn=bn,Wt=e("fZnC"),Yt=e("IaLB"),At=e("v5z3"),Ft=e("ajN0"),sa=e("v7mh"),ba=e("mQiU"),Ha=e("2VFn"),Ba=e("JkcV"),qn=e("+Xah"),Mt=e("BHdc"),da=e("Lgge"),ha=e("nNoG"),aa=e("s4P+"),fo=e("NCd1"),No=e("LpvA"),fa=e("qDEp"),_a=e("oEDn"),ko=e("rq2v"),qo=e("U3SE"),va=e("QwK2"),Fa=e("cvlP"),_n=e("Arwo"),Xe=e("0m9r"),It=e("4unc"),$e=e("Tsh7"),In=e("GNR7"),ra=e("OXvE"),wn=e("/qcS"),Aa=e("ALys"),Qn=e("lCRj");const Bn=new ha.b("channel_sidebar");function Tn(et){let{channelId:Ie}=et;const Ve=Object(v.c)(We=>Object(Ba.a)(We,Ie));return!!Ve&&Object(Aa.a)(Ve)?t.a.createElement(t.a.Fragment,null,t.a.createElement("div",null,Bn.t("Failed to send message")),t.a.createElement("div",{className:"c-tooltip__subtitle",dir:"auto"},Object(Qn.b)(),t.a.createElement(ra.a,{richTextBlock:Ve.blocks[0],emojiSize:wn.a.SMALL,truncateLength:50}),Object(Qn.a)())):t.a.createElement("span",null,Bn.t("Failed to send message"))}c(Tn,"FailedMessagePreview"),Tn.displayName="FailedMessagePreview";var it=Tn,Sa=e("ueJG"),dt=e("jNCy"),en=e("vWR7"),ua=e("DneB"),Ao=e("EkfH"),yo=e("+CZ0");function Qt(et){let{inHuddle:Ie}=et;return t.a.createElement("svg",{className:Object(Mt.default)("p-channel_sidebar__channel_suffix_huddle_fake_mask_svg",{"p-channel_sidebar__channel_suffix_huddle_fake_mask_svg-in-huddle":Ie})},t.a.createElement("path",{d:"M2.98805e-07 20H2.52782V0H0C0.95008 1.06151 1.52779 2.46329 1.52779 4V16C1.52779 17.5367 0.95008 18.9385 2.98805e-07 20Z"}))}c(Qt,"HuddlesBadgeFakeMask"),Qt.displayName="HuddlesBadgeFakeMask";function Bo(et){let{channelId:Ie,hasBadgeCount:Ve,experimentHuddlesStatusUltraGroupOn:De,experimentDesktopIa4GroupOn:We}=et;const Ze=We||De&&!Ve,Dt=We||De&&!Ve,ft=We||De,on=Object(ua.b)(yo.b),at=Object(Ao.a)()?on:void 0;return t.a.createElement(Sa.b,{shouldStopHuddle:!0},t.a.createElement(dt.a,{channelId:Ie,withTooltip:!0,excludeIcon:Ze,excludeMemberOverflowCount:Dt}),ft&&t.a.createElement(Qt,{inHuddle:at===Ie}),ft&&t.a.createElement(en.a,{channelId:Ie,myHuddleChannelId:at||""}))}c(Bo,"ChannelSuffixHuddleIcon"),Bo.displayName="ChannelSuffixHuddleIcon";var un=t.a.memo(Bo),an=e("F294"),Zt=e("mM05"),ht=e.n(Zt),jt=e("9avG");const Pe=new ha.b("channel_sidebar");function ct(et){let{channelId:Ie,hasDraftText:Ve,numDraftFiles:De}=et;const We=Object(v.c)(on=>Object(Ma.k)(on,Ie)),Ze=We?Object(cn.n)(We):[],Dt=new ht.a(Ze.slice()),ft=Object(v.b)(on=>Object(jt.b)({delta:Dt,state:on}));return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",null,t.a.createElement("strong",null,Pe.t("Draft"))),Ve&&t.a.createElement("div",{className:"c-tooltip__subtitle"},Object(Qn.b)(),t.a.createElement(ra.a,{richTextBlock:Object(an.a)(ft==null?void 0:ft.blocks),emojiSize:wn.a.SMALL,truncateLength:50}),Object(Qn.a)()),De>0&&t.a.createElement("div",{className:"c-tooltip__subtitle"},Pe.t("{numFiles, plural, =1 {# file} other {# files}}",{numFiles:De})))}c(ct,"ChannelSuffixDraftIconTooltipContent"),ct.displayName="ChannelSuffixDraftIconTooltipContent";function Dn(et){let{channelId:Ie,hasDraftText:Ve,numDraftFiles:De}=et;return t.a.createElement($e.d,{tip:t.a.createElement(ct,{channelId:Ie,hasDraftText:Ve,numDraftFiles:De})},t.a.createElement(_a.a,{className:"p-channel_sidebar__channel_draft_suffix","data-qa":"sidebar-channel-draft-icon-suffix",inline:!0,size:"inherit",type:"pencil"}))}c(Dn,"ChannelSuffixDraftIcon"),Dn.displayName="ChannelSuffixDraftIcon";var eo=t.a.memo(Dn);const to=new ha.b("channel_sidebar");function Da(){return t.a.createElement(t.a.Fragment,null,t.a.createElement("div",null,t.a.createElement("strong",null,to.t("Pending conversation"))),t.a.createElement("div",{className:"c-tooltip__subtitle"},to.t("Waiting for you to accept")))}c(Da,"ChannelSuffixPendingIconTooltipContent"),Da.displayName="ChannelSuffixPendingIconTooltipContent";function ss(){return t.a.createElement($e.d,{tip:t.a.createElement(Da,null)},t.a.createElement(_a.a,{className:"p-channel_sidebar__channel_pending_suffix",inline:!0,type:"hourglass","data-qa":"sidebar-channel-pending-icon-suffix"}))}c(ss,"ChannelSuffixPendingIcon"),ss.displayName="ChannelSuffixPendingIcon";var uo=t.a.memo(ss),sr=e("JoNs"),vo=e("Z6bF"),rn=e("tWSa"),Ca=e("CkE0"),ia=e("FcR8"),Rs=e("oUrV"),ea=e("Ki3U"),go=e("ZobM"),ta=e("kSe8"),Wo=e("zm5I");function fs(et){let{channelId:Ie,channel:Ve}=et;const De=Object(O.i)(),We=Object(vo.a)(Ve),Ze=We.fileId,Dt=Object(v.c)(vn=>Object(f.e)(vn,Ze||"")),ft=Object(v.c)(Wo.a),on=We.isEmpty===void 0?!0:We.isEmpty,at=Object(s.useCallback)(()=>Ze&&!on?t.a.createElement("div",null,t.a.createElement(rn.a,{fileId:Ze,channelId:Ie,onOpen:()=>De(Object(ea.a)({channelId:Ie,source:Rs.a.PROTOTYPE})),isChannelSidebarCabinetEnabled:!0,lastReadTs:Dt.last_read})):t.a.createElement(Ca.a,{channelId:Ie}),[Ze,on,Ie,Dt.last_read,De]),Ut=Object(s.useCallback)(()=>{Ze&&De(Object(ia.a)({fileId:Ze,source:Rs.a.PROTOTYPE}))},[De,Ze]);return!Ze||on||!Dt.show_badge?null:t.a.createElement(sr.a,{shouldShowContent:!0,customWidth:370,renderContent:at,customTop:200,customLeft:375,fileId:Ze},t.a.createElement(ta.a,{fileId:Ze},t.a.createElement("div",{onClick:Ut,role:"presentation",className:"p-channel_sidebar__channel_canvas_suffix"},t.a.createElement(go.a,{inline:!0,name:"canvas-content",variation:"filled"}),t.a.createElement("div",{className:Object(Mt.default)("p-channel_sidebar__channel_canvas_suffix__update",{"p-channel_sidebar__channel_canvas_suffix__update--dark":ft==="dark"})}))))}c(fs,"ChannelSuffixChannelCanvasIcon");function so(et){let{channelId:Ie,channel:Ve,isIm:De,showPending:We,badgeCount:Ze=0,showDraft:Dt=!1,hasDraftText:ft=!1,numDraftFiles:on=0,hasFailedMessage:at=!1,className:Ut="",experimentHuddlesGroupTreatment:vn=!1,experimentHuddlesStatusUltraGroupOn:Ne=!1,experimentDesktopIa4GroupOn:Zn=!1,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:jn=!1}=et;const gn=Object(v.c)(Wn=>vn?Object(In.e)(Wn,Ie)>0:!1),xo=Ze>0;return!Dt&&!We&&!xo&&!at&&De&&!gn&&Ne?null:t.a.createElement("span",{className:Object(Mt.default)("p-channel_sidebar__channel_suffix",Ut),"data-qa":"sidebar-channel-suffix"},Dt&&t.a.createElement(eo,{channelId:Ie,hasDraftText:ft,numDraftFiles:on}),vn&&gn&&t.a.createElement(un,{channelId:Ie,hasBadgeCount:Ze>0,experimentHuddlesStatusUltraGroupOn:Ne,experimentDesktopIa4GroupOn:Zn}),We&&t.a.createElement(uo,null),jn&&t.a.createElement(fs,{channelId:Ie,channel:Ve}),xo&&t.a.createElement(It.b,{count:Ze,className:"p-channel_sidebar__badge","data-qa":"sidebar-channel-badge-suffix"}),at&&t.a.createElement($e.d,{tip:t.a.createElement(it,{channelId:Ie})},t.a.createElement(_a.a,{inline:!0,type:"exclamation-circle-filled",className:"p-channel_sidebar__message_failure_suffix","data-qa":"sidebar-channel-message-failure-suffix"})))}c(so,"ChannelSuffix"),so.displayName="ChannelSuffix";var Yo=t.a.memo(so),Tr=c(et=>{let{isMpim:Ie,isSlackbot:Ve,isYou:De,isChannelUiSelected:We,isSelected:Ze,isEditMode:Dt,isMuted:ft,isSuggested:on,showSuggestedJoinCta:at,isUnread:Ut,isArchived:vn,showDraft:Ne,showDraftsPageSidebar:Zn,isPending:jn,isTyping:gn,showJoinerSetupCoachmarkHighlight:xo,channelDropIndicatorAbove:Wn,channelDropIndicatorSides:Oa,channelDropIndicatorBelow:Do,channelSectionDropIndicatorAbove:xs,channelSectionDropIndicatorBelow:_o,channelDropIneligible:Vo}=et;return Object(Mt.default)("p-channel_sidebar__channel",{"p-channel_sidebar__channel--mpim":Ie,"p-channel_sidebar__channel--im-slackbot":Ve,"p-channel_sidebar__channel--im-you":De,"p-channel_sidebar__channel--selected":We,"p-channel_sidebar__channel--muted":ft,"p-channel_sidebar__channel--suggested_with_join_cta":at,"p-channel_sidebar__channel--suggested":on,"p-channel_sidebar__channel--unread":Ut&&!vn,"p-channel_sidebar__channel--draft":Ne&&Zn,"p-channel_sidebar__channel--pending":jn,"p-channel_sidebar__channel--typing":gn&&!Ze,"p-channel_sidebar__channel--active_highlight":xo,"p-channel_sidebar__channel--edit-mode":Dt,"p-channel_sidebar__drop_target_indicator--channel_above":Wn,"p-channel_sidebar__drop_target_indicator--channel_sides":Oa,"p-channel_sidebar__drop_target_indicator--channel_below":Do,"p-channel_sidebar__drop_target_indicator--channel_section_above":xs,"p-channel_sidebar__drop_target_indicator--channel_section_below":_o,"p-channel_sidebar__drop_target_indicator--ineligible":Vo})},"calculateChannelEntityClasses"),as=e("qvY4");function Ws(et){let{channel:Ie,isSelected:Ve,isTyping:De}=et;return!(!Ie||!Object(Ot.g)(Ie)||Object(U.pb)(Ie)||De&&!Ve||Object(Q.a)(Ie)&&!Object(V.a)(Ie))}c(Ws,"shouldShowPresenceIcon");function Te(et){let{channel:Ie,isFrozenAndInGracePeriod:Ve,isSuggested:De,isList:We}=et;return We?"bullet-list":Object(Q.a)(Ie)&&!Ve&&(!Object(V.a)(Ie)||!Object(Ot.h)(Ie))?"archived-channel":Object(Ot.k)(Ie,{includeRecordChannels:!0})?"lock-o":Object(Ot.i)(Ie)?`multiparty-dm-${Object(U.G)(Ie)||0}`:Object(U.pb)(Ie)?"heart":De?"plus-small":"channel"}c(Te,"getIconTypeForChannelPrefix");var Be=e("03PU"),Je=e("N0zA"),qe=e("o3gz"),mn=e("RR6E"),oa=e("BTOl"),Un=e("uMnE"),On=e("TDca"),mo=e("Pt2y"),pn=e("rRki"),Jn=e("VP3E"),Ja=e("5oHh"),Uo=e("P7By"),Xa=e("THNA"),Oo=e("E81m"),Ro=e("mBiR"),vs=e.n(Ro),Le=e("OFUT");function we(){return we=Object.assign||function(et){for(var Ie=1;Ie<arguments.length;Ie++){var Ve=arguments[Ie];for(var De in Ve)Object.prototype.hasOwnProperty.call(Ve,De)&&(et[De]=Ve[De])}return et},we.apply(this,arguments)}c(we,"_extends");const Fe=new ha.b("ia4"),pt="p-nux_tractor_channel_coachmark",nt=c(et=>{let{children:Ie,renderCoachmark:Ve,isExperimentEnabled:De,UNSAFE_parentSelector:We,onClose:Ze,tractorChannel:Dt,steps:ft,onClickNextStep:on=c(()=>{},"onClickNextStep"),currentStep:at,totalSteps:Ut,onAfterOpen:vn=c(()=>{},"onAfterOpen"),isCreatorVariant:Ne,hero:Zn}=et;if(!De)return t.a.createElement(t.a.Fragment,null,Ie);const jn=Ne?Fe.t("Meet {tractorChannel}, your team\u2019s first channel",{tractorChannel:Dt}):Fe.t("Meet channels, where the magic happens"),gn=Fe.rt("Channels keep your work focused, by giving each topic, project or team its own space.<steps></steps>",{"<steps>":ft}),xo=Fe.t("Show Me Around"),Wn=Fe.t("Maybe Later"),Oa=Fe.t("Channels keep your work focused, by giving each topic, project or team its own space. {currentStep} of {totalSteps}",{currentStep:at,totalSteps:Ut}),Do=Ve({title:jn,bodyText:gn,centerOnArrow:!0,offsetX:-30,offsetY:0,arrowPosition:30,closeCoachmark:Ze,orientation:Be.a.Right,primaryCallToActionText:xo,secondaryCallToActionText:Wn,ariaLabel:Oa,onClickPrimaryButton:on,onClickSecondaryButton:Ze,className:pt,onAfterOpen:vn,autoClogProps:Object(Xa.a)(Ne),hero:Zn,closeBackgroundStyle:"light",UNSAFE_parentSelector:We});return t.a.createElement(Be.c,{coachmarkElement:Do,orientation:"right"},Ie)},"TractorChannelCoachmark");nt.displayName="TractorChannelCoachmark";const xt=c(et=>{let{channelName:Ie,children:Ve}=et;var De;const We=Object(O.i)(),{closeCoachmark:Ze,renderCoachmark:Dt,isOpen:ft}=Object(Je.a)(dn.h.IA4_NEW_TEAMS_V3_NUX_EDUCATION,dn.g.WELCOME_SPACE),{currentStep:on,isOpen:at,nextStep:Ut,totalSteps:vn,megaphoneStepData:Ne}=Object(On.a)(),Zn=Object(v.c)(oa.a),jn=Object(v.c)(mn.c),gn=Zn||jn,xo=Object(v.c)(ro=>Object(L.u)(ro,"a11y_animations")),Wn=ft&&at,Oa=Ie!=null&&Ie.length?`#${Ie}`:"",Do=(Ne==null||(De=Ne.steps)===null||De===void 0?void 0:De[0])===mo.a.ActivityCreatorCoachmark&&!!(Oa!=null&&Oa.length),xs=Object(s.useCallback)(()=>We(Object(ee.j)(Ut)),[We,Ut]),_o=Object(s.useCallback)(()=>t.a.createElement(Un.a,{currentStep:on,totalSteps:vn}),[on,vn]),{onAfterOpen:Vo}=Object(Jn.a)({className:pt,highlightPadding:{top:4,bottom:4,left:8}}),{clogDismissFromOverlay:ys}=Object(Oo.a)(pt,Object(Xa.a)(Do)),js=Object(s.useCallback)(ro=>{ys(ro),Ze(),We(Object(Ja.a)())},[Ze,We,ys]),is=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-tractor-channel.json").then(e.t.bind(null,"4Cqz",3)),[]),Za=Object(s.useMemo)(()=>xo?t.a.createElement(Uo.a,{autoplay:!0,className:"p-nux_coachmark__hero p-nux_coachmark--rounded",getAnimationImport:is,svgClassName:"p-nux_coachmark--rounded","data-qa":pn.a.TRACTOR_ANIMATION}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:vs.a,"data-qa":pn.a.TRACTOR_IMAGE,className:"p-nux_coachmark__hero p-nux_coachmark--rounded"}),[is,xo]);return!gn||!Wn?Ve:t.a.createElement(nt,{renderCoachmark:Dt,isExperimentEnabled:gn,onClose:js,tractorChannel:Oa,steps:_o,onClickNextStep:xs,currentStep:on,totalSteps:vn,onAfterOpen:Vo,isCreatorVariant:Do,hero:Za},Ve)},"ConnectedTractorChannelCoachmark");xt.displayName="ConnectedTractorChannelCoachmark";const An=c(et=>t.a.createElement(qe.b,we({},et)),"renderCoachmarkForHubble");var Hn=xt,na=e("ykb+"),Ka=e("VXBm"),Qa=e("3uxa"),Eo=e("EAKl"),Po=e("PV82"),Wa=e("+Nj+"),jo=e.n(Wa),gs=e("Lkuf"),Na=e.n(gs);const ms=c(et=>{let{type:Ie}=et,Ve;switch(Ie){case"digest-education":Ve=jo.a;break;case"added-channel":default:Ve=Na.a;break}return t.a.createElement("div",{className:"p-digest_nux_hero_node"},t.a.createElement("img",{className:"p-digest_nux_hero_node__asset",src:Ve,alt:""}))},"DigestNuxHeroNode");ms.displayName="DigestNuxHeroNode";var rs=t.a.memo(ms),es=e("I0j/"),cs=e("37+L"),hs=e("VxuP"),ls=e("jcP5");function rr(){return rr=Object.assign||function(et){for(var Ie=1;Ie<arguments.length;Ie++){var Ve=arguments[Ie];for(var De in Ve)Object.prototype.hasOwnProperty.call(Ve,De)&&(et[De]=Ve[De])}return et},rr.apply(this,arguments)}c(rr,"digest_added_channel_education_coachmark_extends");const pr=new ha.b("assistant"),br={eventId:g.EventId.NATIVE_AI,elementName:Po.a.DIGEST_ADDED_CHANNEL_EDUCATION},tn=c(et=>{let{experimentSlackAiCatchUpGroupOn:Ie,isOpen:Ve,dismissCoachmark:De,onClickManageRecap:We,children:Ze}=et;const[Dt,ft]=Object(s.useState)(null),on=Ie?pr.t("Recapped channels are muted by default"):"",at=Ie?pr.t("With some channels muted, Slack is less cluttered for more focus. You can manage which channels are recapped or muted anytime."):"",Ut=pr.t("Done"),vn=Ie?pr.t("Manage Recap"):"",Ne=Object(s.useMemo)(()=>t.a.createElement(rs,{type:"added-channel"}),[]),Zn=Object(s.useCallback)(Wn=>{var Oa;if(!Wn)return;const Do=(Oa=Wn.parentElement)===null||Oa===void 0?void 0:Oa.getBoundingClientRect();Do&&ft(window.innerHeight-Do.y<390)},[]),{renderOverlayElement:jn,renderCoachmarkChildren:gn}=Object(ls.a)({dismissCoachmark:De,onSetAnchorRef:Zn}),xo=Object(s.useMemo)(()=>t.a.createElement(qe.b,{className:Object(Mt.default)("p-digest_added_channel_education_coachmark",{"p-digest_added_channel_education_coachmark--asset-arrow":!Dt}),isOpen:Ve&&Dt!==null,arrowPosition:Dt?90:30,offsetY:Dt?-187:94,title:on,bodyText:at,hideCloseButton:!1,closeCoachmark:De,isMegaphoneCoachmark:!0,autoClogProps:br,hero:Ne,primaryCallToActionText:Ut,onClickPrimaryButton:De,secondaryCallToActionText:vn,onClickSecondaryButton:We,overlayElement:jn}),[Ve,Dt,on,at,De,Ne,Ut,vn,We,jn]);return!Ie||!Ve?Ze:t.a.createElement(Be.c,{coachmarkElement:xo,orientation:"right"},gn(Ze))},"DigestAddedChannelNuxEducationCoachmark");tn.displayName="DigestAddedChannelNuxEducationCoachmark";const Ri=c(et=>{const Ie=Object(O.i)(),Ve=Object(v.c)(Eo.o),[De,We]=Object(s.useState)(!1),{isOpen:Ze,closeCoachmark:Dt}=Object(Je.a)(dn.h.SLACK_AI_DIGEST_ADDED_CHANNEL_EDUCATION),ft=Object(s.useCallback)(()=>Dt(),[Dt]),on=Object(s.useCallback)(()=>{Dt(),Ie(Object(es.a)(Object(cs.r)({}))),Ie(Object(hs.a)())},[Ie,Dt]);return Object(s.useEffect)(()=>{let at;return Ze?at=setTimeout(()=>{We(!0)},300):We(!1),()=>{at&&clearTimeout(at)}},[Ze]),t.a.createElement(tn,rr({experimentSlackAiCatchUpGroupOn:Ve,isOpen:Ze&&De,dismissCoachmark:ft,onClickManageRecap:on},et))},"ConnectedDigestAddedChannelNuxEducationCoachmark");Ri.displayName="ConnectedDigestAddedChannelNuxEducationCoachmark";var Ci=t.a.memo(Ri);function li(){return li=Object.assign||function(et){for(var Ie=1;Ie<arguments.length;Ie++){var Ve=arguments[Ie];for(var De in Ve)Object.prototype.hasOwnProperty.call(Ve,De)&&(et[De]=Ve[De])}return et},li.apply(this,arguments)}c(li,"channel_extends");const Ur={spaceName:dn.g.WELCOME_SPACE,notifications:{[dn.h.TADA_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"9d7T")))}}},yi=new ha.b("channel_sidebar"),So=[At.f.AddChannels],Mo=Object(aa.b)();let Os=c(class extends No.a{componentDidMount(){const{isSelected:Ie,onItemSelected:Ve}=this.props;Ie&&Ve(this.linkRef.current)}componentDidUpdate(Ie){const{isSelected:Ve}=this.props;!Ie.isSelected&&Ve&&this.props.onItemSelected(this.linkRef.current)}connectLinkRef(Ie){this.linkRef.current=Ie,this.props.connectDragDropRef(Ie)}onClick(Ie){const{channel:Ve,isEditMode:De,isInstantSlackInviteeSession:We,openMemberProfile:Ze}=this.props;Mo.action(va.a,`Selected ${Ve.id}`);const Dt=Object(x.a)(Ve);if(We&&Dt){Ze({memberId:Dt});return}if(De)this.props.onToggleChecked(Ie,{channelId:Ve.id});else{const ft=Object(qo.a)(Ie);this.props.selectItem(Ve.id,{tile:ft}),this.clogClick()}}onClickJoinSuggestedChannel(Ie){const{channel:Ve,clogger:De,clogJoinSuggestedChannel:We}=this.props;Ie.stopPropagation(),We({channelId:Ve.id,clogger:De})}closeChannel(Ie){const{channel:Ve}=this.props;Ie.preventDefault(),Ie.stopPropagation(),Mo.action(va.a,`Closed ${Ve.id}`),this.props.closeChannel({channelId:Ve.id})}closeSuggestedChannel(Ie){const{channel:Ve,index:De,isSelected:We,clogger:Ze,dismissSuggestedChannel:Dt}=this.props;Ie.preventDefault(),Ie.stopPropagation(),Mo.action(va.a,`Closed suggested channel ${Ve.id}`),Dt({channelId:Ve.id,isSelected:We}),Ze.track(g.EventId.SIDEBAR_ITEM_SUGGESTED_CLOSE,{item_type:Ve.id[0],item_id:Ve.id,index:De,is_selected:We})}clogClick(){const{channel:Ie,index:Ve,isSelected:De,clogger:We,isChannelSectionDirectMessages:Ze,sectionChannelIndex:Dt,clogChannelClick:ft}=this.props;ft({channelId:Ie.id,clogger:We,index:Ve,sectionChannelIndex:Dt,isSelected:De,isChannelSectionDirectMessages:Ze})}shouldShowClose(){const{channel:Ie,isStarred:Ve,isSuggested:De,hasDraft:We,hasHuddle:Ze,hideCloseButton:Dt,isPending:ft,isInAnyChannelSection:on,isEditMode:at,isInstantSlackInviteeSession:Ut}=this.props;return!(Dt||Ut||!Object(Ka.a)(Ie)&&!De||Object(U.ub)(Ie)||on||Ve||at||We||Ze||ft)}getIsEditModeSelected(){return this.props.isEditModeSelectedChannelId}getSidebarChannelUiInfo(Ie){const{isYou:Ve,isMuted:De,isSuggested:We,showSuggestedJoinCta:Ze,isSelected:Dt,isTyping:ft,showDraftsPageSidebar:on,channel:at,isEditMode:Ut,showJoinerSetupCoachmarkHighlight:vn,channelDropIndicatorAbove:Ne,channelDropIndicatorSides:Zn,channelDropIndicatorBelow:jn,channelSectionDropIndicatorAbove:gn,channelSectionDropIndicatorBelow:xo,channelDropIneligible:Wn,isPending:Oa,isList:Do}=this.props,xs=Ut?this.getIsEditModeSelected():Dt;return{isMpim:Object(Ot.i)(at),isSlackbot:Object(U.pb)(at),isYou:Ve,isMuted:De,isChannelUiSelected:xs,isSelected:Dt,isEditMode:Ut,isSuggested:We,showSuggestedJoinCta:Ze,isUnread:Object(U.ub)(at)&&!Do,isArchived:Object(Q.a)(at),showDraft:Ie,showDraftsPageSidebar:on,isPending:Oa,isTyping:ft,showJoinerSetupCoachmarkHighlight:vn,channelDropIndicatorAbove:Ne,channelDropIndicatorSides:Zn,channelDropIndicatorBelow:jn,channelSectionDropIndicatorAbove:gn,channelSectionDropIndicatorBelow:xo,channelDropIneligible:Wn}}renderEditModeCheckbox(){const Ie=this.getIsEditModeSelected();return t.a.createElement(_a.a,{className:Object(Mt.default)("p-channel_sidebar__edit_mode_checkbox",{"p-channel_sidebar__edit_mode_checkbox--selected":Ie}),"data-qa":"edit-mode-checkbox-state",size:"inherit",inline:!0,type:Ie?"real-checkbox-checked":"real-checkbox-empty"})}render(){var Ie;const{channelSectionId:Ve,isYou:De,isMuted:We,isStarred:Ze,isSuggested:Dt,showSuggestedJoinCta:ft,isGuestMember:on,externalOrgNameForMember:at,badgeCount:Ut,isSelected:vn,displayName:Ne,qaChannelName:Zn,isTyping:jn,hasDraftText:gn,numDraftFiles:xo,showDraftsPageSidebar:Wn,showDraftIcon:Oa,members:Do,userActive:xs,channel:_o,isEditMode:Vo,showSetupTadaCoachmark:ys,isAppIm:js,hasFailedMessage:is,sectionChannelIndex:Za,showAvatars:ro,shouldShowProgDiscSuccessCoachmark:ji,experimentHuddlesGroupTreatment:mi,experimentHuddlesStatusUltraGroupOn:Hr,channelSharedTooltipState:Qr,isList:ps,memberId:En,hasActiveHuddle:ka,experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:Us,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:Go,shouldShowInviterText:fr,experimentDesktopIa4GroupOn:hi,experimentCanvasSidebarMixGroupOn:Bi,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:Xi,channelTeam:Qi,channelIsCanvasFile:Zi,experimentDesktopIa4NewTeamsV3GroupTreatment:Si,experimentJoinersExperienceHomeAndMoreGroupOn:vr,tractorOrGeneralChannelId:Mr,experimentSlackAiCatchUpGroupOn:ir,isChannelDigested:Hs,showDigestAddedChannelCoachmark:vc,experimentWorkspaceWeaverGroupOn:Ea,showUsecaseOnboardingCoachmark:Fo}=this.props,Es=this.getSidebarChannelUiInfo(Oa),Ls=Tr(Es),ws=Object(x.a)(_o)||((Ie=_o)===null||Ie===void 0?void 0:Ie.user_id),ds=Object(Ot.i)(_o)&&Do?Do[0]:void 0,gc=ds&&ro?Object(U.G)(_o):void 0,Oc=Ws({channel:_o,isSelected:vn,isTyping:jn}),Kc=Te({channel:_o,isList:ps,isFrozenAndInGracePeriod:Qr===Ft.a.ExternallySharedPending,isSuggested:Dt}),Vc=t.a.createElement(_n.a,{memberIdFromIm:ws,isSlackbotChannel:Object(U.pb)(_o),isUnread:!!Object(U.ub)(_o),mpimMemberCount:gc||void 0,isSelected:vn,isTyping:jn,"data-qa":"channel_prefix",isAppIm:js,experimentCanvasSidebarMixGroupOn:Bi,channelNameNormalized:"",showAvatars:ro,showPresence:Oc,mpimMember:ds,iconType:Kc,channelIsCanvasFile:Zi}),Gc=t.a.createElement(Yo,{badgeCount:Ut,channelId:_o.id,channel:_o,isIm:Object(Ot.g)(_o),showPending:Object(Va.a)(_o),showDraft:Wn&&Oa,hasDraftText:gn,numDraftFiles:xo,"data-qa":"channel_suffix",hasFailedMessage:is,className:ka?"p-channel_sidebar__channel_suffix--huddle":"",experimentHuddlesGroupTreatment:mi,experimentHuddlesStatusUltraGroupOn:Hr,experimentDesktopIa4GroupOn:hi,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:Xi}),tl=t.a.createElement(Xe.a,{channelId:_o.id,channelIsIm:Object(Ot.g)(_o),channelIsMpim:Object(Ot.i)(_o),memberIdFromIm:ws,displayName:Ne,qaChannelName:Zn,isYou:De,isGuestMember:on,externalOrgNameForMember:at,members:Do,userActive:xs,"data-qa":"channel_name",experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:Us,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:Go,shouldShowInviterText:fr,hasSharedChannelTooltip:_o&&Qr!==Ft.a.None,experimentDesktopIa4GroupOn:hi,channelTeam:Qi}),qs=ft?t.a.createElement(fa.d,{className:"p-channel_sidebar__channel_suggested_join_cta","data-qa":"suggested_channel_join_cta",onClick:this.onClickJoinSuggestedChannel},yi.t("Join",{fallbackHash:"e0d73143de80d17e82de2e017ac156ca3b9c4e01",fallbackHashNs:"channel_details"})):null,Ec=this.renderEditModeCheckbox();this.props.connectDragPreview(Object(fo.a)(),{captureDraggingState:!0});let pi;switch(Qr){case Ft.a.ExternallySharedPending:pi=Ft.a.ExternallySharedPending;break;case Ft.a.ExternallyShared:pi=Ft.a.ExternallyShared;break;case Ft.a.OrgShared:pi=Ft.a.OrgShared;break;default:break}const Ss=ka?t.a.createElement(as.a,{memberId:En,className:"p-channel_sidebar__channel_custom_status",viewContext:"sidebar",currentChannelId:_o.id}):null,_c=ir&&Hs?t.a.createElement("div",{className:"p-channel_sidebar__channel_digest_icon margin_left_25"},t.a.createElement(go.a,{inline:!0,name:"slack-ai"})):null;let Ra=t.a.createElement("div",{ref:this.connectLinkRef,className:Ls,onClick:this.onClick,"data-user-count":Object(U.G)(_o)||0,"data-section-channel-index":Za,"data-qa":"channel-sidebar-channel","data-qa-channel-sidebar-channel":!0,"data-qa-channel-sidebar-channel-is-selected":vn,"data-qa-channel-sidebar-channel-is-muted":We,"data-qa-channel-sidebar-channel-id":_o&&_o.id,"data-qa-channel-sidebar-channel-section-id":Ve,"data-qa-channel-sidebar-channel-type":Object(Ot.d)(_o),"data-qa-channel-sidebar-is-starred":Ze,"data-qa-channel-sidebar-is-you":De,"data-qa-channel-sidebar-shared-type":pi},Vo&&Ec,Vc,tl,qs,_c,Ss,Gc);if(this.shouldShowClose()){const Pl={className:"p-channel_sidebar__close","data-qa":"channel_item_close","aria-hidden":!0,tabIndex:-1},$i=t.a.createElement(fa.d,li({},Pl,{onClick:Dt?this.closeSuggestedChannel:this.closeChannel}),t.a.createElement(_a.a,{legacy:!0,type:"times"}));Ra=t.a.createElement("div",{className:Object(Mt.default)("p-channel_sidebar__close_container",{"p-channel_sidebar__close_container--selected":vn}),"data-qa":"channel_item_container"},$i,Ra)}ys&&(Ra=t.a.createElement(ko.c,li({},Ur,{forceOpen:!0,channelName:Ne}),Ra)),Fo&&(Ra=t.a.createElement(ko.c,li({},Qa.b,{shouldAlwaysRenderChildren:!0}),Ra));const Wi=Ea&&Object(na.b)()&&Mr===this.props.id,Zr=!Ea&&(vr||Si)&&Mr===this.props.id&&this.props.isSelected;return(Wi||Zr)&&(Ra=t.a.createElement(Hn,{channelName:Ne},Ra)),ji&&(Ra=t.a.createElement(Fa.c,{tips:So},Ra)),vc&&(Ra=t.a.createElement(Ci,null,Ra)),Ra}constructor(Ie){super(Ie),this.onClick=this.onClick.bind(this),this.closeChannel=this.closeChannel.bind(this),this.connectLinkRef=this.connectLinkRef.bind(this),this.closeSuggestedChannel=this.closeSuggestedChannel.bind(this),this.linkRef=t.a.createRef()}},"Channel");Os.displayName="Channel",Os.defaultProps={isSelected:!1,isYou:!1,isMuted:!1,isStarred:!1,isGuestMember:!1,isSuggested:!1,showSuggestedJoinCta:!1,hasDraft:!1,hasDraftText:!1,numDraftFiles:0,hasHuddle:!1,hideCloseButton:void 0,isChannelSectionDirectMessages:!1,displayName:"",qaChannelName:"",badgeCount:0,userActive:!0,selectItem:u.a,closeChannel:()=>da.a.resolve(),dismissSuggestedChannel:u.a,isTyping:!1,members:null,index:void 0,sectionChannelIndex:void 0,showDraftsPageSidebar:!1,showDraftIcon:!1,onItemSelected:u.a,onToggleChecked:u.a,isEditMode:!1,isEditModeSelectedChannelId:!1,connectDragDropRef:qn.a,connectDragPreview:qn.a,channelDropIndicatorAbove:!1,channelDropIndicatorSides:!1,channelDropIndicatorBelow:!1,channelSectionDropIndicatorAbove:!1,channelSectionDropIndicatorBelow:!1,channelDropIneligible:!1,showSetupTadaCoachmark:!1,showJoinerSetupCoachmarkHighlight:!1,hasFailedMessage:!1,externalOrgNameForMember:void 0,isPending:!1,shouldShowProgDiscSuccessCoachmark:!1,clogJoinSuggestedChannel:u.a,clogChannelClick:u.a,isList:!1,isInstantSlackInviteeSession:!1,openMemberProfile:u.a,experimentHuddlesGroupTreatment:!1,experimentHuddlesStatusUltraGroupOn:!1,experimentCanvasSidebarMixGroupOn:!1,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:!1,showSuccessToast:()=>da.a.resolve(),triggerChannelOpenMegaphoneEvent:u.a,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:!1,experimentDesktopIa4GroupOn:!1,channelTeam:void 0,channelIsCanvasFile:!1,tractorOrGeneralChannelId:"",experimentDesktopIa4NewTeamsV3GroupTreatment:!1,experimentJoinersExperienceHomeAndMoreGroupOn:!1,experimentSlackAiCatchUpGroupOn:!1,isChannelDigested:!1,showDigestAddedChannelCoachmark:!1,experimentWorkspaceWeaverGroupOn:!1};var xi=Os,Li=e("tg2r"),Ho=e("lpXb"),di=e("uNaj"),ui=e("beVI"),wi=e("djjd"),Nt=e("CaVW"),kt=e("RVJP"),Et=e("+gmx"),Pt=e("aHgF");const Kt={channelSection:void 0},ln={memberId:void 0,botId:void 0,appId:void 0,externalOrgNameForMember:void 0,isGuestMember:void 0,huddleChannelId:void 0,userActive:!1,isTyping:!1,realNameLc:void 0,channelIsSelfIm:!1,showAvatars:void 0,isEditMode:void 0};function wt(et){let{id:Ie,isSelected:Ve,channelSection:De,selectItem:We=u.a,onItemSelected:Ze=u.a,onToggleChecked:Dt=u.a,index:ft=void 0,sectionChannelIndex:on=void 0,rowPosition:at,priorDisplayedChannelSectionId:Ut,finalDisplayedChannelSectionId:vn,isInstantSlackInviteeSession:Ne,listsEnabled:Zn,experimentHuddlesGroupTreatment:jn,experimentHuddlesStatusUltraGroupOn:gn,experimentDesktopIa4GroupOn:xo,experimentCanvasSidebarMixGroupOn:Wn,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:Oa,experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:Do,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:xs,clogger:_o,isChannelSectionsAPIOperational:Vo,suggestedJoinCtaEligible:ys,isEditMode:js,showAvatars:is,tractorOrGeneralChannelId:Za,experimentDesktopIa4NewTeamsV3GroupTreatment:ro,experimentJoinersExperienceHomeAndMoreGroupOn:ji,countInternalSelfTeamIds:mi,experimentWorkspaceWeaverGroupOn:Hr,digestAddedChannelCoachmarkChannelId:Qr,workspaceIsFiltered:ps}=et;var En;const ka=Object(O.i)(),Us=Object(v.c)($t=>Object(pe.s)($t,Ie)),Go=Object(v.c)($t=>Object(z.d)($t,Ie)),fr=Object(v.c)($t=>!!(!Object(U.db)(Go)&&Object(U.rb)($t,Go))),hi=Object(v.c)($t=>Wn?Object(Qe.a)($t,Go):void 0),{connectDropTarget:Bi,channelDropIndicatorAbove:Xi,channelDropIndicatorSides:Qi,channelDropIndicatorBelow:Zi,channelSectionDropIndicatorAbove:Si,channelSectionDropIndicatorBelow:vr,channelDropIneligible:Mr}=Object(Wt.a)({rowPosition:at,priorDisplayedChannelSectionId:Ut,finalDisplayedChannelSectionId:vn,channelSection:De,isChannelSectionsAPIOperational:Vo}),ir=Object(s.useRef)(void 0),Hs=Object(v.c)($t=>Object(Nt.a)($t,Go)),[,vc,Ea]=Object(B.a)(()=>({type:Me.a,item:$t=>{var er;return ka(Object(mt.s)({channelSection:De})),js&&!Us&&Dt(void 0,{channelId:Ie}),{type:Me.a,boundingClientRect:(er=ir.current)===null||er===void 0?void 0:er.getBoundingClientRect(),initialClientOffset:$t.getInitialClientOffset(),channelSidebarItems:ka(sn({channelId:Ie,channelSectionId:De==null?void 0:De.id}))}},end:()=>{ka(Object(mt.s)(Kt))},canDrag:()=>Vo&&(De==null?void 0:De.type)!==q.p.ExternalWorkspace&&!Hs}),[ka,De,js,Us,Ie,Dt,Vo,Hs]),Fo=Object(s.useCallback)($t=>{ir.current=$t,Bi($t),vc($t)},[ir,Bi,vc]),Es=Object(s.useCallback)(()=>ka(Object(Ye.c)({event:{type:dn.e.CHANNEL_OPEN,channelId:Ie}})),[ka,Ie]),Ls=Object(Ot.g)(Go),ws=Object(Ot.i)(Go),ds=Object(v.c)($t=>{if(!Zn||!Object(st.a)(Go))return!1;const er=Object(f.e)($t,Object(Ht.b)(Ie));return er&&Object(Nn.o)(er)}),{memberId:gc,appId:Oc,externalOrgNameForMember:Kc,isGuestMember:Vc,huddleChannelId:Gc,userActive:tl,isTyping:qs,realNameLc:Ec,channelIsSelfIm:pi}=Object(v.f)($t=>{if(!Ls)return ln;const er=Object(x.a)(Go),Ui=Object(w.g)($t,er),jc=Object(he.a)(Ui)&&Object(Gn.e)(Ui),Sc=jc&&Object(ui.s)($t,jc),Yc=Object(L.u)($t,"show_typing");return{memberId:er,appId:Object(K.d)(Ui)||void 0,externalOrgNameForMember:Sc?Object(vt.h)(Sc):void 0,isGuestMember:Object(Xn.a)(Ui),huddleChannelId:Object(Ho.a)($t,er||""),userActive:Object(Z.c)($t,er)==="active",isTyping:!!(Yc&&Object(ie.f)($t,Ie)),realNameLc:Object(kn.f)(Ui),channelIsSelfIm:Object(Ct.a)($t,Go)}}),Ss=Object(v.f)($t=>ws&&Object(U.I)($t,Go)),_c=Object(v.c)($t=>Object(Yt.pb)($t,Go)),Ra=Object(v.c)($t=>Object(Pt.g)($t,{sectionType:De==null?void 0:De.type,channel:Go})),Wi=Object(v.c)($t=>!(Ls||ws)||_c?Object(U.t)($t,Go,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):null);let Zr;Wi&&(Zr=Wi),Ls&&(Zr=Ec),ws&&(Zr=Go.name_normalized);const Pl=Object(v.c)(Ma.q),$i=Object(v.c)($t=>Object(Ma.k)($t,Object(zt.a)($t,Ie))),{shouldUseNavigate:qi,activeTab:dd}=Object(s.useContext)(ba.a),Fs=Object(v.c)($t=>{if(qi){var er;return((er=Object(sa.h)($t,{tab:dd,container:Ha.k.Primary}))===null||er===void 0?void 0:er.id)===Ie}const Ui=Object(P.a)($t),{canvasOpenedFromId:jc}=Object(di.a)().params;return jc?jc===Ie:Ui===Ie}),bi=Object(v.c)($t=>Vo?Object(pe.u)($t):void 0),cr=Object(v.c)($t=>Vo?Object(pe.v)($t):void 0),Ml=Object(v.c)($t=>Object(X.b)($t,Ie)),ud=Object(v.c)($t=>Object(U.qb)($t,Go)),gr=fr&&ys,md=Object(v.c)($t=>Object(Ln.a)($t,$i)),ec=Object(v.c)($t=>Object(Fn.d)($t,Ie)),nl=Object(v.c)($t=>Go?Object(z.c)($t,Go):0),Dl=Object(C.a)(Ve)?Ve:Fs,Ks=Object(v.c)($t=>!$i||Dl?!1:!!Object(Oe.a)($t,Go)),Ys=Object(v.c)($t=>Object(pe.f)($t,Ie)),Cc=Object(v.c)($t=>Object(ga.f)($t,De==null?void 0:De.type)),Rl=Object(v.c)($t=>!!Object(Ba.a)($t,Ie)),yc=Object(v.c)($t=>Object(Yt.kb)($t,gc)),Ii=Object(v.c)($t=>Go&&Object(Ft.b)($t,{channel:Go})),al=Object(v.c)($t=>Object(ga.d)($t)&&!!Object(U.gb)($t,Go)&&Object(Yt.ob)($t,{tip:At.f.AddChannels})),ol=Object(v.c)($t=>Object(te.a)($t,{channel:Go})&&Object(kt.d)($t,"shouty_workspace_name_pref")==="on"&&mi>1),xl=Object(v.c)($t=>Object(wi.a)(Object(z.a)($t),Go));let Dr=Object(v.c)($t=>Object(D.a)($t,{channel:Go,xwsAlpha:ol}));Dr=(xl||ol)&&!Hs&&!ps?Dr:void 0;const xa=Object(v.c)(Eo.o),hd=Object(v.c)(Eo.u),zc=Object(v.c)($t=>xa?Object(Et.N)($t,{channelId:Ie}):!1);return t.a.createElement(xi,{id:Ie,channel:Go,channelSectionId:De==null?void 0:De.id,isEditMode:js,isEditModeSelectedChannelId:Us,connectDragDropRef:Fo,connectDragPreview:Ea,channelDropIndicatorAbove:Xi,channelDropIndicatorSides:Qi,channelDropIndicatorBelow:Zi,channelSectionDropIndicatorAbove:Si,channelSectionDropIndicatorBelow:vr,channelDropIneligible:Mr,selectItem:We,onItemSelected:Ze,onToggleChecked:Dt,index:ft,sectionChannelIndex:on,isList:ds,isSelected:Dl,isYou:pi,isMuted:Ml,isStarred:ud,isSuggested:fr,isChannelSectionDirectMessages:(De==null?void 0:De.type)==="direct_messages",showSuggestedJoinCta:gr,hasDraft:!!$i,hasDraftText:Object(cn.x)($i),numDraftFiles:md,hasHuddle:ec,displayName:Wi,qaChannelName:Zr,badgeCount:nl,userActive:tl,isAppIm:Ls&&!!Oc,isTyping:qs,showDraftIcon:Ks,members:Ss||null,showDraftsPageSidebar:!!Pl,clogger:_o,isDropTargetOfChannelDrag:(bi==null||(En=bi.channelSection)===null||En===void 0?void 0:En.id)===(De==null?void 0:De.id),isDropTargetOfChannelSectionDragAfter:(cr==null?void 0:cr.channelSectionId)===(De==null?void 0:De.id)&&!!(cr!=null&&cr.isAfter),isInAnyChannelSection:Ys,showSetupTadaCoachmark:_c,showUsecaseOnboardingCoachmark:Ra,showJoinerSetupCoachmarkHighlight:Cc,isGuestMember:Vc,showAvatars:!!is,externalOrgNameForMember:Kc,hasFailedMessage:Rl,isPending:Object(Va.a)(Go),shouldShowProgDiscSuccessCoachmark:al,closeChannel:Object(s.useCallback)($t=>ka(Object(xe.a)($t)),[ka]),dismissSuggestedChannel:Object(s.useCallback)($t=>ka(Object(ze.a)($t)),[ka]),clogJoinSuggestedChannel:Object(s.useCallback)($t=>ka(F($t)),[ka]),clogChannelClick:Object(s.useCallback)($t=>ka(ue($t)),[ka]),channelSharedTooltipState:Ii,isInstantSlackInviteeSession:Ne,openMemberProfile:Object(s.useCallback)($t=>ka(Object(Li.a)($t)),[ka]),memberId:gc,hasActiveHuddle:!!Gc,experimentHuddlesGroupTreatment:jn,experimentHuddlesStatusUltraGroupOn:gn,experimentDesktopIa4GroupOn:xo,experimentJoinerLaunchpadShouldUseNewUserSortingTreatment:Do,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:xs,experimentCanvasSidebarMixGroupOn:Wn,experimentCanvasOrgProtoHomeSidebarChanvasGroupOn:Oa,shouldShowInviterText:yc,triggerChannelOpenMegaphoneEvent:Es,channelTeam:Dr,channelIsCanvasFile:hi,tractorOrGeneralChannelId:Za,experimentDesktopIa4NewTeamsV3GroupTreatment:ro,experimentJoinersExperienceHomeAndMoreGroupOn:ji,experimentSlackAiCatchUpGroupOn:xa,isChannelDigested:zc,showDigestAddedChannelCoachmark:!hd&&Ie===Qr,experimentWorkspaceWeaverGroupOn:Hr})}c(wt,"ConnectedChannel"),wt.displayName="ConnectedChannel";var fn=y.a=t.a.memo(wt)},bfzM:function(le,y,e){"use strict";e.r(y),e.d(y,"DataQA",function(){return x}),e.d(y,"BaseConnectableContactsSyncAwarenessCoachmark",function(){return H});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("nNoG"),v=e("Trx9"),B=e("ktUG"),P=e("uVZW"),M=e("69o4"),L=e("stxl"),z=e("zlyu"),U=e("RUo5"),g=e("+c8D"),J=e("Ton/"),d=e("/o9J"),S=e("zedC");function F(){return F=Object.assign||function(T){for(var ee=1;ee<arguments.length;ee++){var ne=arguments[ee];for(var ue in ne)Object.prototype.hasOwnProperty.call(ne,ue)&&(T[ue]=ne[ue])}return T},F.apply(this,arguments)}c(F,"_extends");const x={ConnectInviteCoachmark:"connect_invite_coachmark"},Q=new O.b("connectable-contacts"),{IN_PRODUCT_COACHMARK:V}=P.g,{DISMISS:X}=P.f,K=B.UiComponentName.CONNECTABLE_CONTACTS_SYNC_AWARENESS_COACHMARK,H=c(T=>{let{children:ee,showCoachmark:ne,handleCta:ue,handleDismiss:te,autoClogProps:D,anchorRef:f,UNSAFE_parentSelector:ie}=T;if(!ne)return ee;const Z=t.a.createElement(z.a,{qa:x.ConnectInviteCoachmark,coachmarkClassNames:"p-connectable_contacts__sync_awareness_coachmark",isOpen:ne,primaryCallToActionText:Q.t("Got it"),onClickPrimaryButton:ue,closeCoachmark:te,orientation:"right-bottom",offsetX:-35,offsetY:60,arrowPosition:20,UNSAFE_parentSelector:ie},t.a.createElement("h3",{className:"margin_bottom_25 p-connectable_contacts__subtitle"},Q.t("Find more people you know on Slack")),t.a.createElement("p",{className:"p-connectable_contacts__body"},Q.t("Now you can search for individuals by email to see if they\u2019re on Slack.")));return t.a.createElement(v.a,F({},D,{clogImpression:!0}),t.a.createElement(U.b,{coachmarkElement:Z,orientation:"right"},t.a.createElement("div",{ref:f},ee)))},"ConnectableContactsSyncAwarenessCoachmark");H.displayName="ConnectableContactsSyncAwarenessCoachmark";const w=c(T=>{let{children:ee}=T;const ne=Object(u.i)(),ue=Object(s.useRef)(null),te=Object(C.c)(L.c),D=Object(C.c)(pe=>Object(d.i)(pe)&&!te),f=Object(s.useCallback)(()=>{ne(Object(M.a)({spaceName:V,action:X})),ne(Object(J.e)(!1))},[ne]),ie=Object(s.useCallback)(()=>{f()},[f]);Object(s.useEffect)(()=>{var pe;D&&(ne(Object(g.a)()),ue==null||(pe=ue.current)===null||pe===void 0||pe.scrollIntoView())},[D,ue,ne]);const Z=Object(s.useMemo)(()=>({entryPoint:"external_invite",uiEvent:B.EventId.SLACK_CONNECT_HUB_PAGE,uiComponentName:K,elementName:"connectable_contacts_sync_awareness_coachmark",onClick:{enableClogAction:!0}}),[]);return!D&&!te&&ne(Object(J.e)(!1)),t.a.createElement(H,{showCoachmark:D,handleCta:ie,handleDismiss:f,autoClogProps:Z,anchorRef:ue},ee)},"ConnectedConnectableContactsSyncAwarenessCoachmark");w.displayName="ConnectedConnectableContactsSyncAwarenessCoachmark",y.default=w},bwBO:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("nNoG"),O=e("9oTK"),v=e("SQ0V"),B=e("/0Xg"),P=e("3l96"),M=e("ktUG"),L=e("zxER"),z=e("Trx9"),U=e("G4VB"),g=e("dHXs"),J=e("JCJh"),d=e("+kJ4"),S=e("zjWg"),F=e("gJbv"),x=e("q6Tz"),Q=e("uVZW");const V=new C.b("trials"),X={elementName:"trial_start",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},K=c(ie=>{let{promoType:Z,uiStep:pe}=ie;const q=Object(u.i)(),xe=Object(s.useCallback)(()=>{q(Object(d.a)())},[q]),ze=Object(s.useCallback)(()=>{q(Object(d.a)()),q(Object(x.c)({event:{type:Q.e.REQUEST_SPACES,spaces:[Q.g.SIDEBAR_MENU_HEADER]}}))},[q]),mt=Object(L.c)(Ct=>Object(F.b)(Ct,!0)),Me=c(()=>t.a.createElement("div",{className:"p-free_teams_showcase_all_features_modal__ctas"},t.a.createElement(g.a,{autoClogProps:X,reason:"all_features_modal",onRequestComplete:ze,promoType:Z},V.t("Start Pro Trial")),t.a.createElement(J.a,{buttonType:"outline",entryPoint:"global_trial_entrypoint",openInNewTab:!0,planLevel:B.k.standard.name})),"getCustomFooter");return t.a.createElement(z.a,{eventId:M.EventId.UPGRDEXP_TRIAL,uiComponentName:M.UiComponentName.FREE_TEAMS_SHOWCASE_ALL_FEATURES_MODAL,uiStep:pe},t.a.createElement(U.a,{featureList:Object(S.b)(),modalTitle:V.t("Do even more with Slack Pro"),modalSubtitle:V.rt("Explore the premium features of our most popular plan with a free {trialDuration}-day trial. No credit card required.",{trialDuration:mt}),customFooter:Me(),onRequestClose:xe,maxWidth:832,videoTitle:V.t("Comparison of free vs. paid Slack Video for users on free teams",{fallbackHash:"9398938f8b7049969c93c2f18f103f217bd68228"})}))},"FreeTeamsAllFeaturesModal");K.displayName="FreeTeamsAllFeaturesModal";var H=K;const w=Object(v.c)("Open Global Trial All Features modal",function(){var ie=Object(O.coroutine)(function*(Z){const pe=B.q.GlobalEntrypointTrial;return Z(Object(P.a)({element:t.a.createElement(H,{promoType:pe,uiStep:M.UiStep.GLOBAL_TRIAL_ENTRY_POINT})}))});return function(Z){return ie.apply(this,arguments)}}());w.meta={name:"createThunk",key:"createThunkopenGlobalTrialAllFeaturesModal",description:"Open Global Trial All Features modal"};var T=w,ee=e("qDEp"),ne=e("ZobM");const ue=new C.b("trials"),te={clogImpression:!0,elementType:M.ElementType.BUTTON,isPrimaryCTA:!0,action:M.UiAction.CLICK,elementName:"global_trial_entry_cta",onClick:{enableClogAction:!0}},D=c(()=>{const ie=Object(u.i)(),Z=Object(s.useCallback)(()=>{ie(T())},[ie]);return t.a.createElement(ee.a,{className:"p-global_trial_entry_cta",onClick:Z,type:"primary",autoClogProps:te},t.a.createElement(ne.a,{name:"emoji-celebration"}),t.a.createElement("div",{className:"p-global_trial_entry_cta__text"},ue.t("Try Slack Pro for Free")))},"GlobalTrialEntryCTA");D.displayName="GlobalTrialEntryCTA";var f=y.default=D},"c+zA":function(le,y,e){le.exports=e.p+"celebration-4627772.png"},c6aF:function(le,y,e){le.exports=e.p+"safe-0eb2752.svg"},c9G7:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-fr-FR-d1c0633.gif"},cD3f:function(le,y,e){"use strict";e.d(y,"a",function(){return U});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("Z6bF"),O=e("FcR8"),v=e("oUrV"),B=e("zxER"),P=e("E3dU"),M=e("3VfY"),L=e("IaLB"),z=e("HzDh");function U(){const g=Object(u.i)(),J=Object(B.c)(L.p),d=Object(B.c)(Q=>Object(P.d)(Q,J)),S=Object(B.c)(Q=>Object(z.f)(Q,{teamId:d.team_id})),{fileId:F}=Object(C.a)(d),x=Object(s.useCallback)(()=>{F&&g(Object(O.a)({fileId:F,source:v.a.TRACTOR_CHANNEL_FOREWORD})),S&&setTimeout(()=>{g(Object(M.a)({channel:d.id}))},6e4)},[g,F,d.id,S]);return{fileId:F,openChannelCanvas:x}}c(U,"useChannelCanvas")},cDjR:function(le,y,e){"use strict";e.d(y,"a",function(){return U}),e.d(y,"b",function(){return J});var s=e("9oTK"),t=e.n(s),u=e("Lgge"),C=e("SQ0V"),O=e("blur"),v=e("sjOx"),B=e("AJT1"),P=e("48P6"),M=e("4tFG"),L=e("Mtna");const z=45,U=Object(C.c)("Fetch and upsert recent files from search.modules.files",function(){var d=Object(s.coroutine)(function*(S,F){const{files:x}=Object(M.b)(F());x||S(Object(P.b)({files:!0}));try{const{items:Q}=yield S(Object(O.c)({module:"files",query:"-type:videos -type:audio -type:images",sort:v.e.lastEngaged,reason:"browse-recent-files",count:z,include_files_shares:!1,context:L.a.FilesBrowser}));return S(Object(P.c)(Q)),S(Object(P.b)({files:!1})),S(Object(P.a)({files:!0})),u.a.resolve(Q)}catch{S(Object(P.b)({files:!1}))}return u.a.resolve([])});return function(S,F){return d.apply(this,arguments)}}());U.meta={name:"createThunk",key:"createThunkfetchAndUpsertRecentFiles",description:"Fetch and upsert recent files from search.modules.files"};const g=Object(C.c)("Fetch and upsert recent media from search.modules.files",function(){var d=Object(s.coroutine)(function*(S,F){const{media:x}=Object(M.b)(F());x||S(Object(P.b)({media:!0}));try{const{items:Q}=yield S(Object(O.c)({module:"files",query:"type:videos type:audio type:images",sort:v.e.lastEngaged,reason:"browse-recent-media",count:z,include_files_shares:!1,context:L.a.FilesBrowser}));S(Object(P.d)(Q)),S(Object(P.b)({media:!1})),S(Object(P.a)({media:!0}))}catch{S(Object(P.b)({media:!1}))}});return function(S,F){return d.apply(this,arguments)}}());g.meta={name:"createThunk",key:"createThunkfetchAndUpsertRecentMedia",description:"Fetch and upsert recent media from search.modules.files"};const J=Object(C.c)("Fetch and upsert the result of workflows.triggers.listRecentlyRunForUser",function(){var d=Object(s.coroutine)(function*(S,F){const{workflows:x}=Object(M.b)(F());x||S(Object(P.b)({workflows:!0}));try{const Q=yield S(Object(B.a)());return S(Object(P.b)({workflows:!1})),S(Object(P.a)({workflows:!0})),u.a.resolve(Q)}catch{S(Object(P.b)({workflows:!1}))}return u.a.resolve([])});return function(S,F){return d.apply(this,arguments)}}());J.meta={name:"createThunk",key:"createThunkfetchAndUpsertRecentWorkflows",description:"Fetch and upsert the result of workflows.triggers.listRecentlyRunForUser"}},cx3r:function(le,y,e){"use strict";e.d(y,"e",function(){return s}),e.d(y,"a",function(){return t}),e.d(y,"b",function(){return u}),e.d(y,"g",function(){return C}),e.d(y,"d",function(){return O}),e.d(y,"f",function(){return v}),e.d(y,"c",function(){return B});const s=28,t="presentation",u="treeitem",C={id:null,type:"spacer",height:12,role:null},O={id:null,type:"divider",height:17,role:null},v={id:null,type:"sectionHeading",name:"",height:36,role:u},B={id:null,type:"channel",index:null,height:s,role:u}},dJM2:function(le,y,e){"use strict"},dZcA:function(le,y,e){"use strict";e.r(y),e.d(y,"removeWorkspaceFromPreviousWorkspaces",function(){return P});var s=e("n3tL"),t=e("OtLZ"),u=e("SQ0V"),C=e("s4P+"),O=e("j77i"),v=e("LqbL"),B=e("sduE");const P=Object(u.c)("Removes a workspace from the list of previously-known workspaces",(M,L,z)=>{Object(C.b)({label:B.a}).info("removeWorkspaceFromPreviousWorkspaces",z);const U="prevTeams",g="orderedTeamIds",J=Object(O.g)(U)||{},d=Object(O.g)(g);delete J[z],Object(O.v)(U,J),Object(O.v)(g,Object(t.a)(d,z)),M(Object(v.internalRemoveWorkspace)(z))});P.meta={name:"createThunk",key:"createThunkremoveWorkspaceFromPreviousWorkspaces",description:"Removes a workspace from the list of previously-known workspaces"},P.propTypes=s.default.string},dgxy:function(le,y,e){"use strict";e.d(y,"a",function(){return H}),e.d(y,"d",function(){return w}),e.d(y,"g",function(){return T}),e.d(y,"f",function(){return ee}),e.d(y,"c",function(){return ne}),e.d(y,"b",function(){return ue}),e.d(y,"e",function(){return te});var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("/MKj"),O=e("nNoG"),v=e("o3gz"),B=e("03PU"),P=e("N0zA"),M=e("uVZW"),L=e("R8IC"),z=e("ie1g"),U=e("bHpg"),g=e("Y3/F"),J=e("ktUG");const d=new O.b("help"),S={eventId:J.EventId.HELP_FLEXPANE_TOUR,uiComponentName:J.UiComponentName.HELP_FLEXPANE_TOUR_COACHMARK,elementName:"got_a_question"},F={eventId:J.EventId.HELP_FLEXPANE_TOUR,uiComponentName:J.UiComponentName.HELP_FLEXPANE_TOUR_COACHMARK,elementName:"find_answers_quickly"},x={eventId:J.EventId.HELP_FLEXPANE_TOUR,uiComponentName:J.UiComponentName.HELP_FLEXPANE_TOUR_COACHMARK,elementName:"discover_more"},Q={eventId:J.EventId.HELP_FLEXPANE_TOUR,uiComponentName:J.UiComponentName.HELP_FLEXPANE_TOUR_COACHMARK,elementName:"explore_help"},V={eventId:J.EventId.HELP_FLEXPANE_TOUR,uiComponentName:J.UiComponentName.HELP_FLEXPANE_TOUR_COACHMARK,elementName:"whats_new"},X={eventId:J.EventId.HELP_FLEXPANE_TOUR,uiComponentName:J.UiComponentName.HELP_FLEXPANE_TOUR_COACHMARK,elementName:"final"},{HELP_TOUR_COACHMARK:K}=M.h,H=c(D=>{let{arrowPosition:f,width:ie,isOpen:Z,title:pe,bodyText:q,onClickPrimaryButton:xe,onClickSecondaryButton:ze,closeCoachmark:mt,autoClogProps:Me,offsetX:Ct,offsetY:Qe,centerOnArrow:st,icon:Ot,primaryCallToActionText:cn,orientation:Ht,children:Nn,UNSAFE_parentSelector:zt}=D;const Ln=t.a.createElement(v.b,{arrowPosition:f,width:ie,isOpen:Z,title:pe,bodyText:q,offsetX:Ct,offsetY:Qe,alignActionsRight:!0,onClickPrimaryButton:xe,onClickSecondaryButton:ze,closeCoachmark:mt,autoClogProps:Me,isMegaphoneCoachmark:!1,centerOnArrow:st,icon:Ot,primaryCallToActionText:cn,UNSAFE_parentSelector:zt});return t.a.createElement(B.c,{coachmarkElement:Ln,orientation:Ht},Nn)},"BaseHelpTourCoachmarkStep");H.displayName="BaseHelpTourCoachmarkStep";const w=c(D=>{let{children:f}=D;const ie=Object(C.i)(),{closeCoachmark:Z}=Object(P.a)(K),pe=Object(u.c)(z.g),q=Object(u.c)(g.g),xe=Object(s.useCallback)(()=>{ie(Object(U.h)(null)),Z()},[ie,Z]),ze=Object(s.useCallback)(()=>{ie(Object(L.a)()),ie(Object(U.h)(2)),Z()},[ie,Z]);return t.a.createElement(H,{arrowPosition:90,width:310,isOpen:pe===1&&q,title:d.t("Got a question?"),bodyText:d.t("Help is never more than a few clicks away in Slack. How about a quick tour?"),offsetX:-5,onClickPrimaryButton:ze,closeCoachmark:xe,autoClogProps:S,orientation:"bottom-left"},f)},"HelpTourCoachmarkStepOne");w.displayName="HelpTourCoachmarkStepOne";const T=c(D=>{let{children:f}=D;const ie=Object(C.i)(),{closeCoachmark:Z}=Object(P.a)(K),pe=Object(u.c)(z.g),q=Object(u.c)(g.g),xe=Object(s.useCallback)(()=>{ie(Object(U.h)(null)),Z()},[ie,Z]);return t.a.createElement(H,{arrowPosition:50,width:310,centerOnArrow:!0,isOpen:pe===2&&q,title:d.t("Find answers quickly"),bodyText:d.t("Search the Help Center for answers, articles, and more."),offsetY:30,onClickPrimaryButton:()=>ie(Object(U.h)(3)),onClickSecondaryButton:()=>ie(Object(U.h)(1)),closeCoachmark:xe,autoClogProps:F,orientation:"left"},f)},"HelpTourCoachmarkStepTwo");T.displayName="HelpTourCoachmarkStepTwo";const ee=c(D=>{let{onClickPrimaryButton:f,onClickSecondaryButton:ie,onClose:Z,children:pe}=D;const q=Object(u.c)(z.g),xe=Object(u.c)(g.g);return t.a.createElement(H,{arrowPosition:50,width:310,centerOnArrow:!0,isOpen:q===3&&xe,title:d.t("Discover more"),bodyText:d.t("Learn about new features or helpful tips you might have missed."),offsetY:20,onClickPrimaryButton:f,onClickSecondaryButton:ie,closeCoachmark:Z,autoClogProps:x,orientation:"left"},pe)},"HelpTourCoachmarkStepThree");ee.displayName="HelpTourCoachmarkStepThree";const ne=c(D=>{let{onClickPrimaryButton:f,onClickSecondaryButton:ie,onClose:Z,children:pe}=D;const q=Object(u.c)(z.g),xe=Object(u.c)(g.g);return t.a.createElement(H,{arrowPosition:50,width:310,centerOnArrow:!0,isOpen:q===4&&xe,title:d.t("Explore help topics"),bodyText:d.t("Read these handy articles or browse all of our help topics below."),offsetY:-120,onClickPrimaryButton:f,onClickSecondaryButton:ie,closeCoachmark:Z,autoClogProps:Q,orientation:"left"},pe)},"HelpTourCoachmarkStepFour");ne.displayName="HelpTourCoachmarkStepFour";const ue=c(D=>{let{children:f}=D;const ie=Object(C.i)(),{closeCoachmark:Z}=Object(P.a)(K),pe=Object(u.c)(z.g),q=Object(u.c)(g.g),xe=Object(s.useCallback)(()=>{ie(Object(U.h)(null)),Z()},[ie,Z]);return t.a.createElement(H,{arrowPosition:90,width:310,isOpen:pe===5&&q,title:d.t("What\u2019s new?"),bodyText:d.t("See a full list of what\u2019s new in Slack or gradually rolling out."),offsetX:-13,onClickPrimaryButton:()=>ie(Object(U.h)(6)),onClickSecondaryButton:()=>ie(Object(U.h)(4)),closeCoachmark:xe,autoClogProps:V,orientation:"bottom-left"},f)},"HelpTourCoachmarkStepFive");ue.displayName="HelpTourCoachmarkStepFive";const te=c(D=>{let{children:f}=D;const ie=Object(C.i)(),{closeCoachmark:Z}=Object(P.a)(K),pe=Object(u.c)(z.g),q=Object(u.c)(g.g),xe=Object(s.useCallback)(()=>{ie(Object(U.h)(null)),Z()},[ie,Z]);return t.a.createElement(H,{arrowPosition:90,width:310,isOpen:pe===6&&q,icon:"/img/help/star-icon.svg",title:d.t("There you have it!"),bodyText:d.t("Come back any time to search, browse, and learn in Slack."),offsetX:-5,onClickPrimaryButton:xe,onClickSecondaryButton:()=>ie(Object(U.h)(5)),primaryCallToActionText:d.t("Done"),closeCoachmark:xe,autoClogProps:X,orientation:"bottom-left"},f)},"HelpTourCoachmarkStepSix");te.displayName="HelpTourCoachmarkStepSix"},eytI:function(le,y,e){le.exports=e.p+"03_Search_Coachmark_Light-1dd1365.jpg"},"f+eM":function(le,y,e){le.exports=e.p+"bell-peek-light-2ec609d.svg"},fZnC:function(le,y,e){"use strict";e.d(y,"a",function(){return g});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("pMk8"),v=e("bqbz"),B=e("sXqy"),P=e("Yauy"),M=e("VU9B"),L=e("+vFE"),z=e("7oBp"),U=e("mtSz");function g(J){let{rowPosition:d,priorDisplayedChannelSectionId:S,finalDisplayedChannelSectionId:F,channelSection:x,isChannelSectionsAPIOperational:Q}=J;const V=Object(u.i)(),X=Object(C.c)(v.u),K=Object(C.c)(v.v),H=x&&F===x.id,w=d&&d.position===U.a.Middle,T=d&&d.position===U.a.TopHalf,ee=d&&d.position===U.a.BottomHalf,ne=!!(d&&d.isFirstInSection),ue=!!(d&&d.isLastInSection),te=x&&(X==null?void 0:X.channelSection)===x,D=ne&&x&&((K==null?void 0:K.channelSectionId)===(x==null?void 0:x.id)&&!(K!=null&&K.isAfter)||(K==null?void 0:K.channelSectionId)===S&&(K==null?void 0:K.isAfter)),f=H&&ue&&x&&(K==null?void 0:K.channelSectionId)===(x==null?void 0:x.id)&&(K==null?void 0:K.isAfter),ie=Object(s.useRef)(null),[Z,pe]=Object(s.useState)(void 0),q=Object(s.useRef)(void 0),[{dragIsOverDropTarget:xe,dragItem:ze,dragItemType:mt},Me]=Object(O.a)(()=>({accept:[z.a,z.b],collect:Ht=>({dragItemType:Ht.getItemType(),dragItem:Ht.getItem(),dragIsOverDropTarget:Ht.isOver()}),hover:(Ht,Nn)=>{q.current||(q.current=requestAnimationFrame(()=>{if(q.current=void 0,Ht.type===z.b&&w&&ie.current){const zt=ie.current.getBoundingClientRect(),Ln=Nn.getClientOffset(),Fn=Ln&&Ln.y>=zt.top&&Ln.y<zt.top+zt.height,Ye=Ln&&Fn?Ln.y<zt.top+zt.height/2:void 0;pe(Ye)}}))}}),[w,pe,q]),Ct=Object(s.useCallback)(Ht=>(ie.current=Ht,Me(Ht)),[ie,Me]),Qe=mt===z.a,st=mt===z.b;Object(s.useEffect)(()=>{x&&Q&&xe&&Qe&&!te&&V(Object(B.s)({channelSection:x}))},[V,xe,Qe,te,x,Q]),Object(s.useEffect)(()=>{x&&Q&&xe&&st&&Object(L.c)(x)&&((w?Z===!0:T)&&K&&(K.channelSectionId!==x.id||K.isAfter!==!1)&&V(Object(B.t)({channelSectionId:x.id,isAfter:!1})),(w?Z===!1:ee)&&K&&(K.channelSectionId!==x.id||K.isAfter!==!0)&&V(Object(B.t)({channelSectionId:x.id,isAfter:!0})))},[V,xe,st,w,T,ee,Z,Q,x,K]);const Ot=x&&te&&Qe&&ze.channelSidebarItems.some(Ht=>Object(P.U)(Ht.channel)&&Object(M.d)(Ht,x)),cn=x&&Qe&&!ze.channelSidebarItems.some(Ht=>Object(P.U)(Ht.channel)&&Object(M.d)(Ht,x));return{connectDropTarget:Ct,channelDropIndicatorAbove:Ot&&ne,channelDropIndicatorSides:Ot,channelDropIndicatorBelow:Ot&&ue,channelDropIneligible:!!cn,channelSectionDropIndicatorAbove:!!(st&&D),channelSectionDropIndicatorBelow:!!(st&&f)}}c(g,"useSidebarDropIndicator")},fk6o:function(le,y,e){"use strict"},fwgq:function(le,y,e){"use strict";e.d(y,"b",function(){return d});var s=e("q1tI"),t=e.n(s),u=e("lE2N"),C=e("OtLZ"),O=e("BeL+"),v=e("HiDb"),B=e("SQ0V"),P=e("L/3P"),M=e("9Gfp"),L=e("UIhb"),z=e("YBS9"),U=e("B+uu"),g=e("m9nJ");const J=c(S=>{let{items:F,isLoading:x}=S;return Object(s.useMemo)(()=>{const V=F.map(H=>{if(!(H.type==="xws-education"||H.type==="education"||H.type===P.a))return H.type==="unread_divider"?{key:"unread-divider",type:"unread_divider"}:H.type==="unread_group"?{key:H.thread_ts?`unread_group-${H.channel}-${H.thread_ts}`:`unread_group-${H.channel}`,type:"unread_group",activityItem:H,threadTs:H.thread_ts,channelId:H.channel}:{key:`${H.type}-${H.ts}`,type:H.type,channelId:H.channelId,ts:H.ts,threadTs:H.threadTs,activityItem:H}}),X={key:"top-anchor-hack",type:"top-anchor-hack"},K={key:"loader",type:"loader"};return[X,...Object(u.a)(V,"key"),...x?[K]:[]]},[x,F])},"useRows"),d=Object(B.c)("check if activity row can handle keyboard focus",(S,F,x)=>{if(!x)return!1;const{channelId:Q,activityItem:V,type:X}=x;if(!Q||!V)return!1;const K=F(),{messageTs:H}=V,w=Object(L.b)(K,Q,H);if(!["message_reaction","reaction"].includes(X))return!Object(g.a)(w);const T=Object(U.a)(w),ee=Object(z.a)(K,T),ne=Object(M.a)(K);return Object(C.a)(Object(O.a)(Object(v.a)(ee,"users")),ne).length>0});d.meta={name:"createThunk",key:"createThunkisActivityRowReadyToTakeFocus",description:"check if activity row can handle keyboard focus"},y.a=J},gHTj:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-en-US-1e6e411.gif"},gSwd:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("nNoG"),v=e("9zMb"),B=e("uVZW"),P=e("idAh"),M=e("9Rsq"),L=e("N0zA"),z=e("03PU"),U=e("P7By"),g=e("ktUG"),J=e("1iOx"),d=e.n(J),S=e("JoR1");const F=new O.b("ia4"),x={eventId:g.EventId.NFX_THEME_COACHMARK,uiStep:g.UiStep.THEME_NFX_SIDEBAR_INVERTED_V2_COACHMARK,elementType:g.ElementType.COACHMARK,onChange:{enableClogAction:!0},elementName:"nfx-sidebar-inverted-v2-coachmark"},Q=c(()=>{const X=Object(u.i)(),K=Object(C.c)(ze=>Object(S.u)(ze,"a11y_animations")),H=Object(C.c)(v.v),[w,T]=Object(s.useState)(!1),{closeCoachmark:ee,renderCoachmark:ne}=Object(L.a)(B.h.THEME_NFX_SIDEBAR_INVERTED_V2_COACHMARK),ue=Object(s.useCallback)(()=>e.e("sidebar-inverted-v2-theming.json").then(e.t.bind(null,"T2kl",3)),[]),te=Object(s.useCallback)(()=>{ee()},[ee]),D=Object(s.useCallback)(()=>{X(Object(P.a)({activeSection:M.a.themes,themeTab:"custom-theme"})),ee()},[ee,X]),f=H?F.t("We\u2019ve freshened up your favorite themes"):"",ie=H?F.t("With better readability and more precise customization, they\u2019re feeling pretty good. Like, slipping into your favorite t-shirt straight out of the dryer good.",{fallbackHash:"d4411fcc1a7a7cdeab26c6ac116a22edbd57205e"}):"",Z=H?F.t("Customize your theme"):"",pe=Object(s.useMemo)(()=>t.a.createElement(U.a,{getAnimationImport:ue,autoplay:!0,loop:!0}),[ue]),q=Object(s.useMemo)(()=>K?pe:d.a,[K,pe]),xe=ne({ariaLabel:ie,title:f,bodyText:ie,linkText:Z,onClickLink:D,closeCoachmark:te,offsetX:-20,offsetY:-215,arrowPosition:95,hero:q,autoClogProps:x,linkClogElementName:"customize-your-theme-link",className:"p-nfx_sidebar_inverted_v2_coachmark"});return Object(s.useEffect)(()=>{const ze=setTimeout(()=>{T(!0)},2e3);return()=>clearTimeout(ze)},[]),t.a.createElement("span",{className:"position_absolute_right"},w&&t.a.createElement(z.c,{coachmarkElement:xe,orientation:"right-bottom"}))},"NFXSidebarInvertedV2Coachmark");Q.displayName="NFXSidebarInvertedV2Coachmark";var V=y.default=Q},h0lx:function(le,y,e){le.exports=e.p+"access-limited-de86731.svg"},hHWo:function(le,y,e){le.exports=e.p+"nfx-welcome-home-more-modal-e34dee3.png"},hQHb:function(le,y,e){le.exports=e.p+"tabs-reveal-coachmark-42ca71f.png"},i3jN:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseProLockinClientFooterBanner",function(){return V});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("ktUG"),O=e("nNoG"),v=e("/0Xg"),B=e("69o4"),P=e("uVZW"),M=e("AKIH"),L=e("IiTT"),z=e("Trx9"),U=e("/cL/"),g=e("Tevt"),J=e("1jr5");function d(){return d=Object.assign||function(K){for(var H=1;H<arguments.length;H++){var w=arguments[H];for(var T in w)Object.prototype.hasOwnProperty.call(w,T)&&(K[T]=w[T])}return K},d.apply(this,arguments)}c(d,"_extends");const S=new O.b("pro_price_change"),F={isPrimaryCTA:!0,onClick:{enableClogAction:!0}},x={elementName:"admin_billing",...F},Q={elementName:"pricing",...F},V=c(K=>{let{enableSectionNavigation:H,hasFutureSwitch:w,isOnTrial:T,proLockinWindowEndDate:ee,productId:ne,productTerm:ue,onDismissBanner:te}=K;const D=c(q=>{let{text:xe}=q;return t.a.createElement(g.a,{"data-qa":"pro_lockin_client_footer_admin_billing_link",autoClogProps:x,onClick:te,href:"/admin/billing"},xe)},"renderAdminBillingPageLink"),f=c(q=>{let{text:xe}=q;return t.a.createElement(U.a,{"data-qa":"pro_lockin_client_footer_plans_link",useLink:!0,autoClogProps:Q,onClick:te,action:v.t.CHECKOUT,productId:ne},xe)},"renderCheckoutPageLink"),ie=Object(M.a)(ee,!1,{shortenDay:!0});let Z,pe;return T?w?(Z=S.rt("You\u2019re scheduled to upgrade to the Pro monthly plan. Switch to a yearly plan by {priceLockInDate} to lock in the current price for one year. <a>Switch plans</a>",{priceLockInDate:ie,"<a>":D}),pe=C.UiComponentVariant.TRIAL_FUTURE_SWITCH):(Z=S.rt("The price of the Pro plan is increasing. You can lock in the current price for one year by upgrading to a yearly plan by {priceLockInDate}. <a>Upgrade now</a>",{priceLockInDate:ie,"<a>":f}),pe=C.UiComponentVariant.TRIAL_NO_FUTURE_SWITCH):ue===v.m.monthly?(Z=S.rt("The price of the Pro plan is increasing. Lock in the current price by switching to a yearly plan by {priceLockInDate}. <a>Switch plans</a>",{priceLockInDate:ie,"<a>":D}),pe=C.UiComponentVariant.PAID_MONTHLY):(Z=S.rt("The price of the Pro plan is increasing. Renew your plan by {priceLockInDate} to lock in your current price for one year. <a>Renew now</a>",{priceLockInDate:ie,"<a>":f}),pe=C.UiComponentVariant.PAID_YEARLY),t.a.createElement(z.a,{clogImpression:!0,eventId:C.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:C.UiComponentName.PRO_LOCKIN_CLIENT_FOOTER_BANNER,uiComponentVariant:pe,enableClogImpressionOffScreen:!0},t.a.createElement(L.a,{className:"align_center","data-qa":"pro_price_change_client_footer_banner",type:J.b.info,preventTypeOverride:!0,isFixedPosition:!1,onClose:te,enableSectionNavigation:H},Z))},"ProLockinClientFooterBanner");V.displayName="ProLockinClientFooterBanner";const X=c(K=>{const H=Object(u.i)(),w=Object(s.useCallback)(()=>{H(Object(B.a)({spaceName:P.g.CLIENT_FOOTER,action:P.f.DISMISS}))},[H]);return t.a.createElement(V,d({onDismissBanner:w},K))},"ConnectedProLockinClientFooterBanner");X.displayName="ConnectedProLockinClientFooterBanner",y.default=X},i9fg:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-it-IT-cb1f10d.gif"},iBBx:function(le,y,e){le.exports=e.p+"workspaces-a1e2405.svg"},iRid:function(le,y,e){le.exports=e.p+"download_mobile_app-3c2f9b6.svg"},j7RM:function(le,y,e){le.exports=e.p+"bell-peek-dark-310b096.svg"},jYNI:function(le,y,e){le.exports=e.p+"nfx-salesforce-coachmark-d8503ad.svg"},jZRf:function(le,y,e){"use strict";e.r(y),e.d(y,"MOBILE_SOCIAL_PROOF_LINK",function(){return T}),e.d(y,"BaseMobileSocialProofBanner",function(){return ne});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("Trx9"),O=e("z5hj"),v=e("DEph"),B=e("8Wv3"),P=e("zSvI"),M=e("IiTT"),L=e("nFQW"),z=e("Tevt"),U=e("c+dP"),g=e("ktUG"),J=e("nNoG"),d=e("69o4"),S=e("eWGC"),F=e("uVZW"),x=e("3l96"),Q=e("sPF+"),V=e.n(Q),X=e("usxz"),K=e.n(X);function H(){return H=Object.assign||function(D){for(var f=1;f<arguments.length;f++){var ie=arguments[f];for(var Z in ie)Object.prototype.hasOwnProperty.call(ie,Z)&&(D[Z]=ie[Z])}return D},H.apply(this,arguments)}c(H,"_extends");const w=new J.b("mobile_app_promos"),T="mobile_social_proof_link",ee={elementName:T,onClick:{enableClogAction:!0}},ne=c(D=>{let{onMobileAppLinkClick:f,renderDismissalMenu:ie,onClose:Z}=D;const pe=t.a.createElement("img",{"aria-hidden":!0,alt:w.t("lightbulb image"),className:"p-mobile_social_proof_banner_lightbulb_image",srcSet:`${V.a}, ${K.a} 2x`}),q=w.rt("Your coworkers use the mobile app to stay connected on the go. <a>Give it a try</a>",{fallbackHash:"0366bb9e2fe4b41e8b04269e2cac3e9d67033190"},xe=>{let{text:ze,tag:mt}=xe;return mt==="a"?t.a.createElement(z.a,{"data-qa":T,onClick:f,autoClogProps:ee},ze):null});return t.a.createElement(C.a,{eventId:g.EventId.EDUCATION_MOBILE_SOCIAL_PROOF_BANNER,uiStep:g.UiStep.MOBILE_SOCIAL_PROOF_BANNER,clogImpression:!0},t.a.createElement("div",{role:"presentation"},t.a.createElement(M.a,{onClose:Z,type:"info",showCloseButton:!1,isFixedPosition:!1,"data-qa":"mobile_social_proof_banner",className:"p-mobile_social_proof_banner",enableSectionNavigation:!0},t.a.createElement("div",null,pe,q),t.a.createElement(U.e,{renderMenu:ie,position:"top"},t.a.createElement(L.a,{icon:"times-medium","data-qa":"mobile_social_proof_banner_close_icon",className:"p-mobile_social_proof_banner__close_icon","aria-label":w.t("Dismiss")})))))},"MobileSocialProofBanner");ne.displayName="MobileSocialProofBanner";const ue=c(()=>{const D=Object(u.i)(),f=Object(s.useCallback)(()=>D(Object(S.a)({notificationName:F.h.MOBILE_SOCIAL_PROOF_BANNER,action:F.f.IMPRESSION,step:"default"})),[D]),ie=Object(s.useCallback)(mt=>D(Object(d.a)({spaceName:F.g.CLIENT_FOOTER,action:mt,step:"default"})),[D]),Z=Object(s.useCallback)(function(){for(var mt=arguments.length,Me=new Array(mt),Ct=0;Ct<mt;Ct++)Me[Ct]=arguments[Ct];return D(Object(x.a)(...Me))},[D]);Object(s.useEffect)(()=>{f()},[f]);const pe=Object(s.useCallback)(()=>{Z({element:t.a.createElement(B.a,{eventId:g.EventId.EDUCATION_MOBILE_SOCIAL_PROOF_BANNER})}),D(Object(v.a)({reason:O.b.TRIGGER_MOBILE_FALLBACK_EMAIL,eventHandler:O.a.MOBILE_PROMO_FALLBACK_EVENT_HANDLER,subtype:O.c.MOBILE_SOCIAL_PROOF_BANNER})),ie(F.f.CLICK)},[D,Z,ie]),q=Object(s.useCallback)(()=>ie(F.f.DISMISS),[ie]),xe=Object(s.useCallback)(mt=>t.a.createElement(P.a,H({onDismiss:q},mt)),[q]),ze=Object(s.useCallback)(()=>ie(F.f.DISMISS),[ie]);return t.a.createElement(ne,{onMobileAppLinkClick:pe,renderDismissalMenu:xe,onClose:ze})},"ConnectedMobileSocialProofBanner");ue.displayName="ConnectedMobileSocialProofBanner";var te=y.default=ue},jfcS:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("Trx9"),C=e("IiTT"),O=e("1jr5"),v=e("Tevt"),B=e("ktUG"),P=e("A/mR"),M=e("kBpe"),L=e("nNoG");const z=new L.b("enterprise"),U=3e4,g=c(J=>{let{experimentWarnUsersBeforeLogoutGroupOn:d,expiry:S,show15MinuteWarning:F,handleSignOutReauth:x,handleDismissBanner:Q}=J;const[V,X]=Object(s.useState)(new Date),K=Object(s.useRef)(),H=Object(P.c)(new Date(S*1e3),V,{units:"minutes"}),w=H<=0,T=F?B.EventId.IDSC_USER_SESSION_EXPIRE_SHOWN_15:B.EventId.IDSC_USER_SESSION_EXPIRE_SHOWN_120,ee=F?B.UiComponentName.USER_SESSION_EXPIRATION_BANNER_SHOWN_15:B.UiComponentName.USER_SESSION_EXPIRATION_BANNER_SHOWN_120;Object(s.useEffect)(()=>(w?clearInterval(K.current):F&&!K.current&&(K.current=window.setInterval(()=>{X(new Date)},U)),()=>clearInterval(K.current)),[w,F]);const ne=Object(s.useCallback)(te=>{let{key:D,text:f}=te;return t.a.createElement(v.a,{key:D,onClick:x},f)},[x]);if(!d)return null;let ue;if(w)ue=z.rt("Your session expired. <Link>Sign back in</Link>.",null,ne);else if(F)Object(M.s)()?ue=z.rt("It\u2019s time to <Link>reauthenticate</Link> \u2014 your session expires in {minutes, plural, =1 {# minute} other {# minutes}}.",{minutes:H},ne):ue=z.rt("It\u2019s time to <Link>sign out and reauthenticate</Link> \u2014 your session expires in {minutes, plural, =1 {# minute} other {# minutes}}.",{minutes:H},ne);else{const te=Object(P.g)(S,"{time}");Object(M.s)()?ue=z.rt("Your session expires at {expirationTimestamp}. <Link>Reauthenticate now</Link> to avoid interruption.",{expirationTimestamp:te},ne):ue=z.rt("Your session expires at {expirationTimestamp}. <Link>Sign out and reauthenticate now</Link> to avoid interruption.",{expirationTimestamp:te},ne)}return t.a.createElement(u.a,{clogImpression:!0,enableClogImpressionOffScreen:!0,eventId:T,uiComponentName:ee},t.a.createElement(C.a,{className:"align_center","data-qa":"user_session_expiration_client_footer_banner",type:F||w?O.b.warning:O.b.info,preventTypeOverride:!0,isFixedPosition:!1,onClose:Q},ue))},"UserSessionExpirationBanner");g.displayName="UserSessionExpirationBanner",y.a=g},luKW:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseHuddleTrialStartCoachmark",function(){return S});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("nNoG"),O=e("ktUG"),v=e("uVZW"),B=e("eWGC"),P=e("Trx9"),M=e("qlBN"),L=e("aBhT"),z=e("qDEp"),U=e("qWaS");function g(){return g=Object.assign||function(Q){for(var V=1;V<arguments.length;V++){var X=arguments[V];for(var K in X)Object.prototype.hasOwnProperty.call(X,K)&&(Q[K]=X[K])}return Q},g.apply(this,arguments)}c(g,"_extends");const J=new C.b("trials"),d={elementName:"learn_more",onClick:{enableClogAction:!0},isPrimaryCTA:!0},S=c(Q=>{let{clogContext:V,dismissTrialCard:X,isEligibleForTrial:K,openHuddleTrialEntryPointModal:H}=Q;const w=t.a.createElement(L.a,{lines:9,withTooltip:!0,breakWords:!1},K?J.t("Wait \u2018til you try it with more people. Get even more done together in a group huddle with a free, {trialDuration}-day trial.",{trialDuration:30}):J.t("Wait \u2018til you try it with more people. Upgrade to a paid plan to get even more done together in group huddles \u2014 whether at your desk or on the go.")),T=t.a.createElement("div",{className:"p-huddle_trial_card__footer_button_container"},t.a.createElement(z.f,{type:"primary",onClick:H,"data-qa":"huddle_trial_start_coachmark_learn_more_button",autoClogProps:d,size:"small"},J.t("Learn More")));return t.a.createElement(P.a,g({},V,{uiComponentName:O.UiComponentName.HUDDLE_TRIAL_START_COACHMARK,eventId:O.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0}),t.a.createElement(U.a,{className:"p-huddle_trial_card--refresh",headerText:J.t("Enjoying huddles?"),body:w,footer:T,onClose:X}))},"HuddleTrialStartCoachmark");S.displayName="HuddleTrialStartCoachmark";const F=c(Q=>{const{dismissTrialCard:V,shouldRenderCurrentActiveHuddle:X}=Q,K=Object(u.i)();Object(s.useEffect)(()=>{K(Object(B.a)({notificationName:v.h.HUDDLE_TRIAL_START_COACHMARK,action:"impression"}))},[K]);const H=Object(s.useCallback)(()=>{V(),K(Object(M.a)({uiComponentVariant:O.UiComponentVariant.HUDDLES_TRIAL_START_COACHMARK}))},[K,V]);return X&&V(),t.a.createElement(S,g({},Q,{openHuddleTrialEntryPointModal:H}))},"ConnectedHuddleTrialStartCoachmark");F.displayName="ConnectedHuddleTrialStartCoachmark";var x=y.default=F},m9nJ:function(le,y,e){"use strict";e.d(y,"a",function(){return s});const s=c(t=>!(t!=null&&t.text)&&!(t!=null&&t.blocks)&&!(t!=null&&t.files)&&!(t!=null&&t.attachments),"isActivityItemLoading")},mZyw:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("V3OF"),C=e("cDjR"),O=e("zoYt"),v=e("/MKj"),B=e("4tFG"),P=e("zxER"),M=e("/lKr"),L=e("xfem"),z=e("SHY5"),U=e("0Xjs"),g=e("sjOx"),J=e("37+L"),d=e("nNoG"),S=e("rZ8V"),F=e("oUrV");const x=new d.b("search"),Q=c(function(){let{groupRowsByDate:V=!0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const X=Object(v.i)(),K=[],H=Object(P.c)(B.a),{files:w}=Object(P.c)(B.c),{onSearch:T,onResetSearch:ee}=Object(z.a)({destinationBrowserInstanceId:U.d.FILES,destinationEntityType:U.r.FILES,sourceSearchInputId:g.x.FILES_FILTER_VIEW,destinationSearchInputId:g.x.FILE_EXPLORER,destination:Object(J.D)()}),ne=Object(P.c)(S.t);Object(u.a)(()=>{X(Object(C.a)())});const ue=Object(s.useCallback)((D,f,ie,Z)=>({key:D.id,type:O.c.FileResult,data:{fileId:D.id,isFirst:f,isLast:ie},onListItemSelect:pe=>{X(Object(M.a)({e:pe,fileId:D.id,source:F.a.FILES_EXPORER}))},role:O.b.ListItem,autoClogProps:{elementName:"file_result",elementIndex:Z}}),[X]);if(w&&K.push({key:"list-loading",type:O.c.ListLoading,role:O.b.Presentation}),!w&&H.length)if(V){const D=Object(L.a)({items:H,propertyToCheck:"last_read",rowItemGenerator:ue,conversionFactor:1e3,titleVerb:x.t("Viewed",{fallbackHash:"f357562267187a09a657ee77d7c9194e8fafb291",fallbackHashNs:"comms_impact"}),experimentDesktopIa4NewTeamsStringsGroupOn:ne});K.push(...D)}else H.forEach((D,f)=>{const ie=f===0,Z=f===H.length-1;K.push(ue(D,ie,Z,f))});!w&&!H.length&&K.push({key:"zero-empty",type:O.c.EmptyState,data:{title:ne?x.t("No recent files"):"",description:ne?x.t("You haven\u2019t viewed a file recently, but you can search for the one you\u2019re looking for."):""},role:O.b.Presentation});const te=Object(s.useMemo)(()=>({allowEmptyQuery:!0,tiered:!0,entities:{files:{runaway:!0}},limit:30,returnMetadata:!0,sort:{frecency:!0}}),[]);return{rows:K,onSearch:T,onResetSearch:ee,searcherOptions:te}},"useRecentFilesExplorer");y.a=Q},mtSz:function(le,y,e){"use strict";e.d(y,"a",function(){return u});var s=e("Muja"),t=e("yxNq");const u={TopHalf:"top-half",Middle:"middle",BottomHalf:"bottom-half"},C=(()=>{let O={rowPosition:{},priorDisplayedChannelSectionId:{},finalDisplayedChannelSectionId:void 0};const v=c(L=>(Object(t.a)(L,O.rowPosition)||(O.rowPosition=L),O.rowPosition),"getMemoizedRowPosition"),B=c((L,z)=>(Object(s.a)(z,O.rowPosition[L])||(O.rowPosition[L]=z),O.rowPosition[L]),"getMemoizedRowPositionItem"),P=c(L=>(Object(s.a)(L,O.priorDisplayedChannelSectionId)||(O.priorDisplayedChannelSectionId=L),O.priorDisplayedChannelSectionId),"getMemoizedPriorDisplayedChannelSectionId"),M=c(L=>(Object(t.a)(O,L)||(O=L),O),"getMemoizedResult");return L=>{const z={},U={};let g,J;const d={};return L.forEach(S=>{if(!("channelSection"in S)||!S.channelSection)return;const F=S.channelSection.id;d[F]||(d[F]=[]),d[F].push(S),J!==F&&(U[F]=J,J=F,g=F)}),Object.values(d).forEach(S=>{S.forEach((F,x)=>{const Q=x===0,V=x===S.length-1;let X;x<(S.length-1)/2?X=u.TopHalf:x>(S.length-1)/2?X=u.BottomHalf:X=u.Middle,z[F.key]=B(F.key,{isFirstInSection:Q,position:X,isLastInSection:V})})}),M({rowPosition:v(z),priorDisplayedChannelSectionId:P(U),finalDisplayedChannelSectionId:g})}})();y.b=C},my9F:function(le,y,e){"use strict";e.d(y,"a",function(){return M});var s=e("ZKjC"),t=e("NgZ7"),u=e("JoR1"),C=e("SpKr"),O=e("PZNx"),v=e("h+C0"),B=e("Qrj/");const P=30,M=Object(s.b)(function(L,z){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P;if(!B.a.isAnyTreatment(L)||Object(u.u)(L,"onboarding_complete"))return!1;var J;return!((J=Object(t.a)(L,z))!==null&&J!==void 0?J:!0)||Object(C.a)(L)>=U?!1:Object(v.a)(L)?!0:!Object(O.a)(L)});M.meta={name:"createSelector",key:"createSelectorshouldPreselectItem",description:function(L,z){let U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P;if(!B.a.isAnyTreatment(L)||Object(u.u)(L,"onboarding_complete"))return!1;var J;return!((J=Object(t.a)(L,z))!==null&&J!==void 0?J:!0)||Object(C.a)(L)>=U?!1:Object(v.a)(L)?!0:!Object(O.a)(L)}}},nJZ4:function(le,y,e){le.exports=e.p+"sidebar-light-c7d5c7f.gif"},nMOw:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-de-DE-02c7477.gif"},nVdj:function(le,y,e){"use strict";e.d(y,"a",function(){return x});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("o3gz"),O=e("03PU"),v=e("N0zA"),B=e("ktUG"),P=e("nNoG"),M=e("RfqP"),L=e("zxER"),z=e("RVJP"),U=e("eWGC"),g=e("uVZW");function J(){return J=Object.assign||function(V){for(var X=1;X<arguments.length;X++){var K=arguments[X];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(V[H]=K[H])}return V},J.apply(this,arguments)}c(J,"_extends");const d=new P.b("edit_profile"),S={COACHMARK_USER_PROFILE_FILE_UPLOAD:"coachmark_user_profile_file_upload"},F={eventId:B.EventId.EDUCATION_UPLOAD_PROFILE_PHOTO_COACHMARK,elementType:B.ElementType.COACHMARK,elementName:"user_profile_photo_coachmark",onClick:{enableClogAction:!0}},x=c(V=>{let{children:X,isOpen:K,handleOnCloseCoachmark:H,onChange:w,fileInputRef:T,onFileInputClick:ee,onPrimaryClick:ne,trackClog:ue,UNSAFE_parentSelector:te}=V;const D=d.t("Add a profile photo"),f=t.a.createElement(C.b,{arrowPosition:95,width:308,isOpen:K,closeCoachmark:H,ariaLabel:D,title:D,bodyText:d.t("Help your coworkers know they\u2019re talking to the right person.",{fallbackHash:"e408700e65f5b7dc352bdedf7888ee2c16afb625"}),primaryCallToActionText:t.a.createElement(t.a.Fragment,null,t.a.createElement("input",{accept:"image/*;capture=camera","aria-hidden":"true",className:"hidden",onChange:w,ref:T,tabIndex:-1,type:"file",onClick:ee,"data-qa":S.COACHMARK_USER_PROFILE_FILE_UPLOAD}),d.t("Upload Photo")),onClickPrimaryButton:ne,autoClogProps:{...F,trackClogRef:ie=>{ue.current=ie}},UNSAFE_parentSelector:te});return t.a.createElement(O.c,{coachmarkElement:f,orientation:"bottom-left"},X)},"UserProfilePhotoCoachmark");x.displayName="UserProfilePhotoCoachmark";const Q=c(V=>{const X=Object(s.useRef)(null),K=Object(L.c)(f=>Object(z.d)(f,"onbrd_1252_feat")==="on"),{isOpen:H,closeCoachmark:w}=Object(v.a)(g.h.UPLOAD_PROFILE_PHOTO_ONBOARDING_COACHMARK),T=Object(u.i)(),ee=Object(s.useRef)(null),ne=c(f=>{var ie,Z;const pe=(ie=f.target)===null||ie===void 0||(Z=ie.files)===null||Z===void 0?void 0:Z[0];pe&&(T(Object(M.a)({file:pe})),w())},"onChange"),ue=c(()=>{var f;w(),X==null||(f=X.current)===null||f===void 0||f.call(X,{action:B.UiAction.CLOSE,elementName:"close_user_profile_photo_coachmark"})},"handleOnCloseCoachmark"),te=c(()=>{var f;ee==null||(f=ee.current)===null||f===void 0||f.click()},"onPrimaryClick"),D=c(f=>{f==null||f.stopPropagation()},"onFileInputClick");return Object(s.useEffect)(()=>{K&&H&&T(Object(U.a)({notificationName:g.h.UPLOAD_PROFILE_PHOTO_ONBOARDING_COACHMARK,action:g.f.IMPRESSION}))},[T,K,H]),t.a.createElement(x,J({isOpen:H&&K,handleOnCloseCoachmark:ue,onChange:ne,fileInputRef:ee,onFileInputClick:D,onPrimaryClick:te,trackClog:X},V))},"ConnectedUserProfilePhotoCoachmark");Q.displayName="ConnectedUserProfilePhotoCoachmark",y.b=Q},nxXk:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("BHdc");function C(O){let{className:v=void 0}=O;const B=Object(u.default)("p-channel_sidebar__channel_icon_prefix--typing",v);return t.a.createElement("div",{"data-qa":"sidebar-channel-icon-prefix",className:B},t.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t.a.createElement("circle",{cx:"4",cy:"12",r:"3",opacity:"1",fill:"currentColor"},t.a.createElement("animate",{id:"spinner_qYjJ",begin:"0;spinner_t4KZ.end-0.25s",attributeName:"opacity",dur:"0.75s",values:"1;.2"})),t.a.createElement("circle",{cx:"12",cy:"12",r:"3",opacity:".4",fill:"currentColor"},t.a.createElement("animate",{begin:"spinner_qYjJ.begin+0.15s",attributeName:"opacity",dur:"0.75s",values:"1;.2"})),t.a.createElement("circle",{cx:"20",cy:"12",r:"3",opacity:".3",fill:"currentColor"},t.a.createElement("animate",{id:"spinner_t4KZ",begin:"spinner_qYjJ.begin+0.3s",attributeName:"opacity",dur:"0.75s",values:"1;.2"}))))}c(C,"ChannelPrefixTyping"),C.displayName="ChannelPrefixTyping",y.a=t.a.memo(C)},o9mU:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-en-IN-3551638.gif"},oHyA:function(le,y,e){"use strict";e.d(y,"a",function(){return K});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("YUBf"),O=e("SQ0V"),v=e("3l96"),B=e("eBYm"),P=e("3K9K"),M=e("nNoG"),L=e("Lgge"),z=e("zxER"),U=e("beVI"),g=e("+kJ4"),J=e("3S9f"),d=e("9+Yh"),S=e("rarT"),F=e("i454"),x=e("EN2b");function Q(){return Q=Object.assign||function(w){for(var T=1;T<arguments.length;T++){var ee=arguments[T];for(var ne in ee)Object.prototype.hasOwnProperty.call(ee,ne)&&(w[ne]=ee[ne])}return w},Q.apply(this,arguments)}c(Q,"_extends");const V=new M.b("shared_workspaces"),X=c(w=>{let{id:T}=w;const ee=Object(u.i)(),ne=Object(z.c)(U.g),ue=Object(s.useCallback)(()=>{ee(Object(g.a)())},[ee]),[te,D]=Object(s.useState)([]),[f,ie]=Object(s.useState)(!1),[Z,pe]=Object(s.useState)(null);var q;const xe=(q=T||(ne==null?void 0:ne.id))!==null&&q!==void 0?q:"",ze=Object(z.c)(Ct=>Object(J.a)(Ct,xe)),mt=Object(s.useCallback)(()=>{ie(!0),pe(null),L.a.all(te.map(Qe=>{var st,Ot;if(!(Qe==null||(st=Qe.entity)===null||st===void 0)&&st.isEmail){var cn;return ee(Object(d.a)({reason:"invite-to-shared-workspace",workspaceId:xe,email:Qe==null||(cn=Qe.entity)===null||cn===void 0?void 0:cn.id}))}return ee(Object(S.a)({reason:"invite-to-shared-workspace",workspaceId:xe,userId:Qe==null||(Ot=Qe.entity)===null||Ot===void 0?void 0:Ot.id}))})).then(()=>{ee(Object(x.a)({workspaceId:xe,entities:te}))}).catch(Qe=>pe({name:(Qe==null?void 0:Qe.name)||null,method:(Qe==null?void 0:Qe.method)||null})).finally(()=>{ie(!1)})},[te,ee,xe]),Me=Object(s.useCallback)(Ct=>{D(Ct),Z&&te.length>Ct.length&&pe(null)},[Z,te.length]);return ze?t.a.createElement(C.a,{isOpen:!0,centered:!0,showCloseButton:!0,shouldCloseOnOverlayClick:!0,closeModal:ue},t.a.createElement(C.i,null,t.a.createElement(C.l,{title:V.t("Add people to this shared workspace")})),t.a.createElement(C.d,null,t.a.createElement(C.e,null,Z&&t.a.createElement(F.b,{error:Z}),t.a.createElement("div",{className:"padding_top_50 padding_bottom_50"},t.a.createElement(P.a,{selectedEntities:te,onSelectedItemsChange:Me})))),t.a.createElement(C.g,null,t.a.createElement(C.h,null,t.a.createElement(C.c,{type:"outline",onClick:ue},V.t("Close")),t.a.createElement(B.a,{type:"primary",onClick:mt,disabled:te.length===0||!!Z,loading:f},V.t("Add People To This Workspace"))))):null},"InviteToSharedWorkspaceModal");X.displayName="InviteToSharedWorkspaceModal";const K=Object(O.c)("Opens the Slack Connect Workspace Invite Modal",(w,T,ee)=>{w(Object(v.a)({element:t.a.createElement(X,Q({},ee)),isStackable:!1}))});K.meta={name:"createThunk",key:"createThunkopenInviteToSharedWorkspaceModal",description:"Opens the Slack Connect Workspace Invite Modal"};var H=X},pLaY:function(le,y,e){"use strict";e.d(y,"a",function(){return T});var s=e("9oTK"),t=e("SQ0V"),u=e("s4P+"),C=e("xNz/"),O=e("FroQ"),v=e("q1tI"),B=e.n(v),P=e("/MKj"),M=e("zxER"),L=e("g3a/"),z=e("dLAD"),U=e("nNoG"),g=e("EAKl"),J=e("qDEp"),d=e("aBhT"),S=e("VxuP");const F=new U.b("assistant"),x={name:"slack-ai"},Q=c(ee=>{let{addedChannelIds:ne,hasApiErrors:ue,channelSectionName:te}=ee;const D=Object(v.useRef)(null),f=Object(P.i)(),ie=Object(M.c)(g.u);let Z,pe="";const q=Object(v.useCallback)(()=>{var ze;f(Object(S.a)()),(ze=D.current)===null||ze===void 0||ze.hideToast()},[f]);ie&&(ue?ne?Z=ie?F.t("Some channels in {channelSectionName} not added to future recaps. Please try again in a bit.",{channelSectionName:te}):"":Z=ie?F.t("{channelSectionName} not added to future recaps. Please try again in a bit.",{channelSectionName:te}):"":(Z=ie?F.t("{channelSectionName} added to future recaps and muted.",{channelSectionName:te}):"",pe=ie?F.t("Manage muting"):""));const xe=Object(v.useMemo)(()=>B.a.createElement(J.d,{className:"p-ai_summary_ready_toast__item",onClick:q},B.a.createElement("span",{className:"p-ai_summary_ready_toast__subtitle"},B.a.createElement(d.a,{lines:1},pe))),[q,pe]);return ie?pe?B.a.createElement(z.b,{svgIconProps:x,svgIconClassName:"p-ai_summary_ready_toast__icon",customButton:xe,ref:D,duration:3e3},B.a.createElement("div",{className:"flex_one overflow_hidden"},B.a.createElement("div",{className:"bold"},Z))):B.a.createElement(L.a,{duration:3e3,svgIconProps:x},B.a.createElement("span",null,Z)):null},"AddSectionToRecapToast");Q.displayName="AddSectionToRecapToast";var V=B.a.memo(Q);const X=c(ee=>{let{addedChannelIds:ne,hasApiErrors:ue,channelSectionName:te}=ee;return B.a.createElement(Q,{addedChannelIds:ne,hasApiErrors:ue,channelSectionName:te})},"AddSectionToRecapToastFactory");var K=e("oY18"),H=e("IVkC"),w=e("RBcp");const T=Object(t.c)("Adds a list of channels to digest",function(){var ee=Object(s.coroutine)(function*(ne,ue,te){let{channelIds:D,triggerAddedChannelCoachmark:f,channelSectionName:ie}=te,Z=!1,pe;ne(Object(O.a)({channelIds:D})),f&&ne(Object(H.a)({targetChannelId:D[0]}));try{const q=yield ne(Object(C.a)({reason:"add-to-daily-digest",channels:D,unmutedChannels:[]}));q.ok||(Object(u.a)({label:"daily-digest"}).error(new Error("failed to add channels to digest")),ne(Object(O.k)({channelIds:D})),Z=!0),q.ok&&(pe=q.added_channel_ids,pe&&pe.forEach(xe=>{ne(Object(w.a)({id:xe,muted:!0}))}))}catch{Object(u.a)({label:"daily-digest"}).error(new Error("error adding channel to digest")),ne(Object(O.k)({channelIds:D})),Z=!0}finally{if(ie&&pe){const q=X({addedChannelIds:pe,channelSectionName:ie,hasApiErrors:Z});ne(Object(K.a)({element:q}))}}});return function(ne,ue,te){return ee.apply(this,arguments)}}());T.meta={name:"createThunk",key:"createThunkaddChannelsToDigest",description:"Adds a list of channels to digest"}},pf5X:function(le,y,e){"use strict";var s=e("2IFS"),t=e("zxER"),u=e("bqbz"),C=e("y8m0"),O=e("+vFE"),v=e("q1tI"),B=e.n(v),P=e("/MKj");const M=c((L,z)=>{const U=Object(P.i)(),g=Object(v.useContext)(s.a),J=Object(t.c)(C.d),d=Object(t.c)(F=>{const x=Object(u.g)(F,L);return Object(O.b)(x)}),S=((g==null?void 0:g.layout.isCollapsed)||(g==null?void 0:g.layout.isForcedCollapsed))&&!J;return Object(v.useEffect)(()=>{var F;z==null||(F=z.current)===null||F===void 0||F.scrollIntoView()},[z,U,d]),S},"useIsSidebarHidden");y.a=M},"pjB+":function(le,y,e){"use strict";e.d(y,"a",function(){return mt});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("Trx9"),O=e("RBHu"),v=e("ykb+"),B=e("nNoG");const P=new B.b("setup_page"),M=15e3,L=3e4,z=c(Qe=>{let{renderSwitchOffExplainer:st}=Qe;return Object(s.useEffect)(()=>{const Ot=setTimeout(()=>{st()},Object(v.b)()?M:L);return()=>{clearTimeout(Ot)}},[st]),P.rt("<strong>No one here yet?</strong> Try sending them a message to let them know you\u2019re here.")},"HuddlesNobodyJoinsExplainerCopy");var U=Object(s.memo)(z),g=e("4YJR"),J=e("v5z3");const d=new B.b("setup_page"),S=c(Qe=>{let{explainerState:st,setSwitchOnExplainerAsSeen:Ot}=Qe;const cn=Object(u.i)();return Object(s.useEffect)(()=>(Ot(),cn(Object(g.A)(!0)),()=>{cn(Object(g.A)(!1))}),[Ot,cn]),st===J.d.SwitchOnWelcomeBack?d.rt("\u{1F44B} <strong>Welcome back!</strong> If you\u2019ve granted microphone access, flip the switch to start."):d.rt("<strong>Hop on a huddle to talk it out in real time.</strong> Plus, you can share your screen. Flip the switch to start.")},"HuddlesSwitchOnExplainerCopy");var F=Object(s.memo)(S),x=e("+QGB"),Q=e("zonX"),V=e("vSLz"),X=e("Yauy"),K=e("nFQW"),H=e("c+dP"),w=e("Atq3"),T=e("ktUG"),ee=e("zxER"),ne=e("E3dU"),ue=e("B4rO");function te(){return te=Object.assign||function(Qe){for(var st=1;st<arguments.length;st++){var Ot=arguments[st];for(var cn in Ot)Object.prototype.hasOwnProperty.call(Ot,cn)&&(Qe[cn]=Ot[cn])}return Qe},te.apply(this,arguments)}c(te,"_extends");const D=new B.b("setup_page"),f=c(Qe=>{let{explainerState:st,renderSwitchOffExplainer:Ot,huddlesTipUiComponentName:cn,setSwitchOnExplainerAsSeen:Ht,huddleChannelId:Nn}=Qe;const zt=Object(ee.c)(he=>Object(ne.d)(he,Nn)),Ln=Object(ee.c)(he=>Object(X.t)(he,zt)),Fn=Ln==null?void 0:Ln.slice(1),Ye=Object(s.useCallback)(he=>t.a.createElement(x.a,te({},he)),[]);Object(Q.a)(J.f.Huddles,J.g.Explainer);let dn;switch(st){case J.d.NobodyJoins:dn=t.a.createElement(U,{renderSwitchOffExplainer:Ot});break;case J.d.StartedHuddlesOverview:dn=D.rt("<strong>You started a huddle</strong> \u2014 a lightweight way to chat over audio. We sent {otherUserName} a notification to join.",{otherUserName:Fn});break;case J.d.StartedNotificationSent:dn=D.rt("<strong>You started a huddle.</strong> We sent {otherUserName} a notification, so feel free to poke around Slack in the meantime.",{otherUserName:Fn});break;case J.d.SwitchOff:dn=D.rt("When you\u2019re done, toggle the switch off to leave the huddle.");break;case J.d.SwitchOnHuddlesOverview:dn=t.a.createElement(F,{explainerState:J.d.SwitchOnHuddlesOverview,setSwitchOnExplainerAsSeen:Ht});break;case J.d.SwitchOnWelcomeBack:dn=t.a.createElement(F,{explainerState:J.d.SwitchOnWelcomeBack,setSwitchOnExplainerAsSeen:Ht});break;default:Object(w.a)(st)}const vt=t.a.createElement("div",{className:"p-setup_prog_disc_huddles_explainer_tip","data-qa":"explainer_tip--huddles","data-explainer-state":st},t.a.createElement("div",{className:"p-setup_prog_disc_huddles_explainer_tip_text_and_dismissal"},t.a.createElement("div",{id:O.k,className:"p-setup_prog_disc_huddles_explainer_tip_text"},dn),t.a.createElement("div",{className:"p-setup_prog_disc_huddles_explainer_tip_dismissal"},t.a.createElement(H.e,{renderMenu:Ye,position:"left"},t.a.createElement(K.a,{size:"small",icon:"times-medium","aria-label":D.t("Dismiss tips"),className:"p-setup_prog_disc_huddles_explainer_tip_dismissal_icon"}))))),Xn=Object(s.useMemo)(()=>({eventId:T.EventId.NEWXP_TEAM_CREATE,uiStep:T.UiStep.PROG_DISC_TIP,stepVariant:J.f.Huddles,elementName:J.g.Explainer,uiComponentVariant:`huddles_${st}`,clogImpression:!0}),[st]);return Object(ee.c)(ue.a)?t.a.createElement(V.a,{className:"p-setup_prog_disc_huddles_explainer_tip_container p-setup_prog_disc_huddles_explainer_tip_container--ia4",autoClogProps:Xn},vt):t.a.createElement(C.a,{eventId:T.EventId.NEWXP_TEAM_CREATE,uiStep:T.UiStep.PROG_DISC_TIP,stepVariant:J.f.Huddles,elementName:J.g.Explainer,uiComponentName:cn,uiComponentVariant:`huddles_${st}`,clogImpression:!0},t.a.createElement("div",{className:"p-setup_prog_disc_huddles_explainer_tip_container p-setup_prog_disc_huddles_explainer_tip_container--ia4"},vt))},"ProgressiveDisclosureHuddlesAvPaneExplainer");f.displayName="ProgressiveDisclosureHuddlesAvPaneExplainer";var ie=f,Z=e("DneB"),pe=e("3vtZ"),q=e("+CZ0"),xe=e("0dq7");function ze(){return ze=Object.assign||function(Qe){for(var st=1;st<arguments.length;st++){var Ot=arguments[st];for(var cn in Ot)Object.prototype.hasOwnProperty.call(Ot,cn)&&(Qe[cn]=Ot[cn])}return Qe},ze.apply(this,arguments)}c(ze,"progressive_disclosure_huddles_explainer_tip_extends");const mt=c(Qe=>{let{explainerState:st,huddleChannelId:Ot,huddlesTipUiComponentName:cn,renderSwitchOffExplainer:Ht,setSwitchOnExplainerAsSeen:Nn}=Qe;return t.a.createElement(ie,{explainerState:st,huddleChannelId:Ot,renderSwitchOffExplainer:Ht,huddlesTipUiComponentName:cn,setSwitchOnExplainerAsSeen:Nn})},"ProgressiveDisclosureHuddlesExplainerTip"),Me=c(Qe=>{const{children:st,hasSeenHuddlesFlag:Ot,recordHuddlesNotificationEvent:cn}=Qe,Ht=Object(u.i)(),Nn=Object(Z.b)(q.g),zt=Object(Z.b)(q.h),[Ln,Fn]=Object(s.useState)(!1),Ye=Object(s.useCallback)(()=>{Fn(!0)},[Fn]),[dn,vt]=Object(s.useState)(!1),Xn=Object(s.useCallback)(()=>{vt(!0)},[vt]);if(Object(s.useEffect)(()=>{Ht(Object(g.p)(!0))},[Ht]),Object(s.useEffect)(()=>{cn==null||cn(J.g.Explainer)},[cn]),zt===xe.d.IN_PROGRESS_TOGETHER||zt===xe.d.IN_PROGRESS_ALONE)return t.a.createElement(t.a.Fragment,null,st);let kn;return Object(pe.E)(Nn)?(kn=J.d.StartedHuddlesOverview,Ln&&(kn=J.d.StartedNotificationSent),zt===xe.d.INITIAL_ALONE_NOTICE_ACTIVE&&(kn=J.d.NobodyJoins),(zt===xe.d.IN_PROGRESS_ALONE_NOTICE_ACTIVE||dn)&&(kn=J.d.SwitchOff)):(kn=J.d.SwitchOnHuddlesOverview,Ot||(kn=J.d.SwitchOnWelcomeBack)),t.a.createElement(mt,ze({},Qe,{explainerState:kn,setSwitchOnExplainerAsSeen:Ye,renderSwitchOffExplainer:Xn}))},"ConnectedProgressiveDisclosureHuddlesExplainerTip");Me.displayName="ConnectedProgressiveDisclosureHuddlesExplainerTip";var Ct=y.b=Object(s.memo)(Me)},qISS:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("VP3E"),O=e("P7By"),v=e("VOWE"),B=e.n(v),P=e("1z69"),M=e("cD3f"),L=e("Jq9w"),z=e("03PU"),U=e("N0zA"),g=e("ktUG"),J=e("nNoG"),d=e("zxER"),S=e("eWGC"),F=e("uVZW"),x=e("JoR1"),Q=e("aHgF"),V=e("W1Ru");const X=new J.b("usecase_onboarding"),K={eventId:g.EventId.NEWXP_TEAM_CREATE,elementName:F.h.USECASE_ONBOARDING_APPS_COACHMARK,elementType:g.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:F.g.WELCOME_SPACE,megaphoneNotificationName:F.h.USECASE_ONBOARDING_APPS_COACHMARK,clogImpression:!0},H=c(w=>{let{children:T}=w;const ee=Object(u.i)(),ne=Object(d.c)(Qe=>!!Object(x.u)(Qe,"a11y_animations")),ue=Object(d.c)(Q.e),te=P.c[F.h.USECASE_ONBOARDING_APPS_COACHMARK],{openChannelCanvas:D}=Object(M.a)(),f=Object(s.useCallback)(()=>t.a.createElement(L.a,{currentStep:te,totalSteps:P.d}),[te]),ie=Object(s.useCallback)(()=>e.e("gantry-v2-async-lottie-apps-coachmark.json").then(e.t.bind(null,"sXZ0",3)),[]),Z=Object(s.useCallback)(()=>t.a.createElement("div",{className:"p-usecase_onboarding_coachmark_loading p-usecase_onboarding_coachmark_loading__apps"}),[]),pe=Object(s.useMemo)(()=>ne?t.a.createElement(O.a,{getAnimationImport:ie,autoplay:!0,loop:!0,svgClassName:"p-usecase_onboarding_coachmark_lottie",renderLoading:Z}):t.a.createElement("img",{alt:"","aria-hidden":!0,src:B.a,className:"p-usecase_onboarding_coachmark_gif"}),[ie,ne,Z]);Object(s.useEffect)(()=>{ee(Object(S.a)({notificationName:F.h.USECASE_ONBOARDING_APPS_COACHMARK,action:F.f.IMPRESSION}))},[ee]);const{onAfterOpen:q}=Object(C.a)({className:P.a,highlightPadding:{left:10,right:10,top:0,bottom:0}}),{isOpen:xe,closeCoachmark:ze,renderCoachmark:mt}=Object(U.a)(F.h.USECASE_ONBOARDING_APPS_COACHMARK,F.g.WELCOME_SPACE),Me=Object(s.useCallback)(()=>{ue&&D(),ze(!0)},[ze,D,ue]);if(!xe)return null;const Ct=mt({arrowPosition:30,hero:pe,title:X.t("Manage projects without leaving Slack"),bodyText:X.rt("Already using other project management tools? Connect them to Slack to make updating tasks or staying in the loop a breeze. <steps></steps>",{"<steps>":f}),closeCoachmark:Me,onClickPrimaryButton:Me,className:`p-usecase_onboarding_coachmark p-usecase_onboarding_coachmark--apps ${P.a}`,primaryCallToActionText:X.t("Done"),ariaLabel:X.t("Already using other project management tools? Connect them to Slack to make updating tasks or staying in the loop a breeze. {currentStep} of {totalSteps}",{currentStep:te,totalSteps:P.d}),autoClogProps:K,width:P.b,offsetX:-10,offsetY:74,closeBackgroundStyle:"dark",onAfterOpen:q});return t.a.createElement(z.c,{coachmarkElement:Ct,orientation:"right"},T)},"UsecaseOnboardingAppsCoachmark");H.displayName="UsecaseOnboardingAppsCoachmark",y.default=H},qWaS:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("BHdc"),C=e("nFQW"),O=e("nNoG"),v=e("aBhT"),B=e("ZobM"),P=e("ktUG");const M=new O.b("huddles"),L="huddle_base_card__header",z="huddle_base_card__body",U={elementName:"dismiss_button",action:P.UiAction.CLOSE,onClick:{enableClogAction:!0}},g=c(d=>{let{className:S,headerText:F,body:x,footer:Q,onClose:V,unmountFocusCallback:X}=d;const K=Object(s.useRef)(null);Object(s.useEffect)(()=>(K.current&&K.current.focus(),()=>{X&&X()}),[K,X]);const H=M.t("Close huddle help tooltip ");return t.a.createElement("div",{className:Object(u.default)("p-huddle_base_card",S),role:"group","aria-labelledby":L,"aria-describedby":z},t.a.createElement("div",{className:"p-huddle_base_card__header_container"},t.a.createElement("div",null,t.a.createElement(v.a,{lines:4,withTooltip:!0,breakWords:!1},t.a.createElement("div",{id:L,className:"p-huddle_base_card__header"},F)),t.a.createElement("div",{id:z,className:"p-huddle_base_card__body"},x)),t.a.createElement(C.a,{className:"p-huddle_base_card__close_button","data-qa":"huddle_base_card__close_button",onClick:V,"aria-label":H,autoClogProps:U},t.a.createElement(B.a,{name:"close",size:"20"}))),Q)},"HuddleBaseCard");g.displayName="HuddleBaseCard";var J=y.a=g},qdNi:function(le,y,e){"use strict"},qmhM:function(le,y,e){"use strict";e.d(y,"c",function(){return O}),e.d(y,"a",function(){return v}),e.d(y,"b",function(){return z}),e.d(y,"f",function(){return U}),e.d(y,"d",function(){return g}),e.d(y,"e",function(){return J});var s=e("ZKjC"),t=e("iJ8e"),u=e("v5z3"),C=e("vMc3");const O=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.jumperCoachmark);O.meta={name:"createSelector",key:"createSelectorgetJumperCoachmarkState",description:d=>d&&d.channelSidebar&&d.channelSidebar.jumperCoachmark};const v=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.appLinkImpressionClogged);v.meta={name:"createSelector",key:"createSelectorgetAppLinkImpressionClogged",description:d=>d&&d.channelSidebar&&d.channelSidebar.appLinkImpressionClogged};const B=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.appLinkPromptIsHidden);B.meta={name:"createSelector",key:"createSelectorgetAppLinkIsHidden",description:d=>d&&d.channelSidebar&&d.channelSidebar.appLinkPromptIsHidden};const P=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.aboutChannelsCoachmarkIsVisible);P.meta={name:"createSelector",key:"createSelectorgetAboutChannelsCoachmarkIsVisible",description:d=>d&&d.channelSidebar&&d.channelSidebar.aboutChannelsCoachmarkIsVisible};const M=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.mainMenuForceOpen);M.meta={name:"createSelector",key:"createSelectorgetMainMenuForceOpen",description:d=>d&&d.channelSidebar&&d.channelSidebar.mainMenuForceOpen};const L=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.showSetupTadaCoachmark);L.meta={name:"createSelector",key:"createSelectorgetShowSetupTadaCoachmark",description:d=>d&&d.channelSidebar&&d.channelSidebar.showSetupTadaCoachmark};const z=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.joinerSetupCoachmarkState);z.meta={name:"createSelector",key:"createSelectorgetJoinerSetupCoachmarkState",description:d=>d&&d.channelSidebar&&d.channelSidebar.joinerSetupCoachmarkState};const U=Object(s.b)((d,S)=>{if(!d||!d.channelSidebar)return!1;const F=Object(C.a)(z(d));return S===t.b?F===u.q.ChannelsSection:S===t.g?F===u.q.DirectMessagesSection:!1});U.meta={name:"createSelector",key:"createSelectorshouldHighlightSidebarSectionForJoinerSetupCoachmark",description:(d,S)=>{if(!d||!d.channelSidebar)return!1;const F=Object(C.a)(z(d));return S===t.b?F===u.q.ChannelsSection:S===t.g?F===u.q.DirectMessagesSection:!1}};const g=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.showProgDiscSuccessCoachmark);g.meta={name:"createSelector",key:"createSelectorgetShowProgDiscSuccessCoachmark",description:d=>d&&d.channelSidebar&&d.channelSidebar.showProgDiscSuccessCoachmark};const J=Object(s.b)(d=>d&&d.channelSidebar&&d.channelSidebar.showSectionMenuCoachmark||!1);J.meta={name:"createSelector",key:"createSelectorgetShowSectionMenuCoachmark",description:d=>d&&d.channelSidebar&&d.channelSidebar.showSectionMenuCoachmark||!1}},rCFu:function(le,y,e){"use strict";e.d(y,"c",function(){return z}),e.d(y,"b",function(){return U}),e.d(y,"a",function(){return g}),e.d(y,"g",function(){return S}),e.d(y,"h",function(){return F}),e.d(y,"f",function(){return x}),e.d(y,"d",function(){return X}),e.d(y,"e",function(){return H});var s=e("5IZy"),t=e("G5NC"),u=e("vfQU"),C=e("Pw4T"),O=e("lhZz"),v=e("U28S"),B=e("Z7Ay"),P=e("rIJ2"),M=e("ktUG"),L=e("nNoG");const z=0,U=1,g=2;function J(w,T,ee,ne,ue,te,D,f){if(!H(ue,te,M.EventId.PRQ_CHANNEL_SWITCH_USABLE))return;let ie,Z;switch(ne){case z:default:ie=M.TimingStatus.COMPLETED,Z=!1;break;case U:ie=M.TimingStatus.ABANDONED,Z=!0;break;case g:ie=M.TimingStatus.COMPLETED,Z=!0;break}const q={elapsed_time:Object(v.b)(w*1e3*1e3,0),target_channel_id:ee,required_sync:Z,end_state:ie,...Q(D,T,f)},xe={userId:f,teamId:ue,enterpriseId:te,locale:Object(L.m)()};Object(s.a)(xe).track(M.EventId.PRQ_CHANNEL_SWITCH_USABLE,q);const ze=Object(O.getStoreInstanceByTeamId)(ue),mt=ze&&ze.getState(),Me=Object(t.a)()?"channel_switch_usable_sonic":"channel_switch_usable_legacy";Object(C.d)({state:mt}).store(Me,Math.round(w))}c(J,"trackChannelSwitchUsable");function d(w,T,ee,ne,ue,te,D,f){if(!H(ue,te,M.EventId.PRQ_CHANNEL_SWITCH_VISIBLE))return;let ie,Z;switch(ne){case z:default:ie=M.TimingStatus.COMPLETED,Z=!1;break;case U:ie=M.TimingStatus.ABANDONED,Z=!0;break;case g:ie=M.TimingStatus.COMPLETED,Z=!1;break}const q={elapsed_time:Object(v.b)(w*1e3*1e3,0),target_channel_id:ee,required_sync:Z,end_state:ie,...Q(D,T,f)},xe={userId:f,teamId:ue,enterpriseId:te,locale:Object(L.m)()};Object(s.a)(xe).track(M.EventId.PRQ_CHANNEL_SWITCH_VISIBLE,q);const ze=Object(O.getStoreInstanceByTeamId)(ue),mt=ze&&ze.getState(),Me=Object(t.a)()?"channel_switch_visible_sonic":"channel_switch_visible_legacy";Object(C.d)({state:mt}).store(Me,Math.round(w))}c(d,"trackChannelSwitchVisible");function S(w,T,ee,ne,ue,te,D,f){if(!H(ne,ue,M.EventId.PRQ_TIME_TO_USABLE))return;const ie=Object(v.b)(w*1e3*1e3,0),Z=V(),pe={elapsed_time:ie+Z,desktop_elapsed_time:Z,required_sync:ee,end_state:f,start_type:M.MetricStartType.COLD,target_type:M.MetricTargetType.CHANNEL,...Q(te,T,D)},q={userId:D,teamId:ne,enterpriseId:ue,locale:Object(L.m)()};Object(s.a)(q).track(M.EventId.PRQ_TIME_TO_USABLE,pe)}c(S,"trackTimeToUsable");function F(w,T,ee,ne,ue,te,D){if(!H(ne,ue,M.EventId.PRQ_TIME_TO_VISIBLE))return;const f=Object(v.b)(w*1e3*1e3,0),ie=V(),Z={elapsed_time:f+ie,desktop_elapsed_time:ie,required_sync:ee,end_state:M.TimingStatus.COMPLETED,start_type:M.MetricStartType.COLD,target_type:M.MetricTargetType.CHANNEL,...Q(te,T,D)},pe={userId:D,teamId:ne,enterpriseId:ue,locale:Object(L.m)()};Object(s.a)(pe).track(M.EventId.PRQ_TIME_TO_VISIBLE,Z)}c(F,"trackTimeToVisible");function x(w,T,ee,ne,ue,te,D){if(!H(ne,ue,M.EventId.PRQ_SESSION_FRAME_STATS))return;const f={duration_ms:w,sample_filter:"entire_session",hist_frame_render_time:T,hist_janky_windows:ee,...Q(te,void 0,D)},ie={userId:D,teamId:ne,enterpriseId:ue,locale:Object(L.m)()};Object(s.a)(ie).track(M.EventId.PRQ_SESSION_FRAME_STATS,f)}c(x,"trackSessionFrameStats");function Q(w,T,ee){const ne=typeof ee=="string"&&ee.startsWith("W"),ue={device:{id:"",make:navigator.platform,model:navigator.platform,os:Object(u.db)()?"electron":"webapp",os_version:u.Zb||""}};let te;if(T)switch(ue.ui_context={action:T==="QUICK_SWITCH"?"keydown":"click",ui_component:T},T.toUpperCase()){case"APP_ICON":te=M.MetricTrigger.APP_ICON;break;case"MSG_PANE":te=M.MetricTrigger.MSG_PANE;break;case"SIDE_BAR":te=M.MetricTrigger.SIDE_BAR;break;case"QUICK_SWITCH":te=M.MetricTrigger.QUICK_SWITCH;break;default:te=M.MetricTrigger.UNKNOWN;break}const D={contexts:ue,session_id:w,time:Date.now(),app_id:Object(t.a)()?"web_sonic":"web",is_tablet:!1,user_id:ne?void 0:ee,external_id:ne?ee:void 0,...K()};return T&&(D.trigger=te),D}c(Q,"getCommonMetadata");function V(){if(Object(u.db)()){const w=Object(u.Hc)();if(w!==void 0)return w*1e6;const T=Object(u.l)();if(T&&T.numTeamsAtLaunch!==void 0&&T.isInitialTeamBooted!==void 0&&T.numTeamsAtLaunch>0&&T.isInitialTeamBooted){const ee=T.BOOT,ne=T.PRELOAD_READY,ue=Object(u.j)(ee,ne);return ue>0?ue*1e6:0}}return 0}c(V,"getDesktopElapsedTime");function X(){if(Object(u.db)()){const w=Object(u.Gc)();if(w!==void 0)return w;const T=Object(u.l)();if(T&&T.numTeamsAtLaunch!==void 0&&T.isInitialTeamBooted!==void 0&&T.numTeamsAtLaunch>0){const ee=T.PRELOAD_STARTED,ne=T.PRELOAD_READY,ue=Object(u.j)(ee,ne);return Math.floor(ue)}}return 0}c(X,"getDesktopPreloadTime");function K(){if(Object(u.db)()){const w=Object(u.B)();if(w){const T=w.prerelease?` (${w.prerelease})`:"",ee=typeof w.prerelease=="string"?w.prerelease.match(/(alpha|beta|electron3|sonic)/i)&&w.prerelease.match(/(alpha|beta|electron3|sonic)/i)[1]:"production";let ne;switch(ee){case"alpha":case"electron3":ne=M.ClientBuildType.ALPHA;break;case"beta":ne=M.ClientBuildType.BETA;break;default:ne=M.ClientBuildType.PRODUCTION;break}return{app_version:`${w.major}.${w.minor}.${w.patch}${T}`,release_version:`${w.major}.${w.minor}.${w.patch}`,build_type:ne}}}return{app_version:"",release_version:"",build_type:M.ClientBuildType.PRODUCTION}}c(K,"getElectronInfo");function H(w,T,ee){return["E12KS1G65"].includes(T)||["T024BE7LD","T5J4Q04QG"].includes(w)||["E27SFGS2W","E655JKQRX","E7RBBBXHB","E23RHNDU5","E5BRU6WAE","E4XV0NYS0","E7AN7J5RP","E3T9KQULR","E23RE8G4F","E46RWAPHC","E6GDLMBCM","E3U2DUYG4","E783C7HT4","E8YCM8N9L","E30MTJF0C","E4BGDDU1H","E56KHGV6G","E7U335QS3","E8RLKB40H","E61V1AN6R","E7SV3P9PU","E3ZLD3D42"].includes(T)&&Object(P.a)(10)||["E27SFGS2W"].includes(T)&&[M.EventId.PRQ_TIME_TO_USABLE,M.EventId.PRQ_TIME_TO_VISIBLE].includes(ee)||[M.EventId.PRQ_TIME_TO_USABLE,M.EventId.PRQ_TIME_TO_VISIBLE].includes(ee)?!0:(ee===M.EventId.PRQ_SESSION_FRAME_STATS,Object(P.a)(10))}c(H,"isPRQEnabled"),Object(B.a)("prq",{getDesktopElapsedTime:V,getDesktopPreloadTime:X,getElectronInfo:K})},rJ0N:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseDiscountSeatPromoReminderCoachmark",function(){return V});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("ktUG"),O=e("zxER"),v=e("nNoG"),B=e("/0Xg"),P=e("uVZW"),M=e("69o4"),L=e("RVJP"),z=e("8RdJ"),U=e("03PU"),g=e("o3gz"),J=e("pf5X"),d=e("j21I"),S=e.n(d);function F(){return F=Object.assign||function(H){for(var w=1;w<arguments.length;w++){var T=arguments[w];for(var ee in T)Object.prototype.hasOwnProperty.call(T,ee)&&(H[ee]=T[ee])}return H},F.apply(this,arguments)}c(F,"_extends");const x=new v.b("promotions"),Q={eventId:C.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:C.UiComponentName.DISCOUNT_SEAT_PROMO_REMINDER_COACHMARK,elementType:C.ElementType.COACHMARK,onClick:{enableClogAction:!0},promoType:B.g.DiscountSeatPromo,clogImpression:!0,megaphoneSpaceName:P.g.IN_PRODUCT_COACHMARK,megaphoneNotificationName:P.h.DISCOUNT_SEAT_PROMO_REMINDER_COACHMARK},V=c(H=>{let{anchorRef:w,children:T,discountDurationMonths:ee,dismissCoachmark:ne,experimentSeatExpansionDiscountPromoGroupTreatment:ue,tiers:te,UNSAFE_parentSelector:D}=H;if(!ue)return T;const[f,ie]=te,Z=t.a.createElement("div",{className:"p-discount_seat_promo_reminder_coachmark__hero_container"},t.a.createElement("img",{src:S.a,alt:x.t("gift box")})),pe=t.a.createElement(g.b,{autoClogProps:Q,arrowPosition:90,centerOnArrow:!0,hero:Z,isOpen:!0,closeBackgroundStyle:"light",closeCoachmark:ne,offsetX:-20,title:x.t("Don\u2019t forget: Save on your entire bill by adding new people by February 28"),bodyText:x.rt("Add {numUsers1, plural, =1 {# person} other {# people}} and get {discountPercent1}% off your bill for {numMonths, plural, =1 {# month} other {# months}}. Or even better, add {numUsers2} to get {discountPercent2}% off. <a>Learn more</a>",{numUsers1:f.usersAdded,discountPercent1:f.discount,numUsers2:ie.usersAdded,discountPercent2:ie.discount,numMonths:ee,"<a>":q=>{let{text:xe}=q;return Object(z.a)(xe)}}),UNSAFE_parentSelector:D});return t.a.createElement(U.c,{coachmarkElement:pe,orientation:"right"},t.a.createElement("div",{ref:w},T))},"DiscountSeatPromoReminderCoachmark");V.displayName="DiscountSeatPromoReminderCoachmark";const X=c(H=>{const w=Object(u.i)(),[T,ee]=Object(s.useState)(!1),ne=Object(s.useRef)(null),ue=Object(J.a)(H.channelSectionId,ne),te=Object(O.c)(f=>Object(L.d)(f,"seat_expansion_discount_promo"))==="treatment",D=Object(s.useCallback)(()=>{w(Object(M.a)({spaceName:P.g.IN_PRODUCT_COACHMARK,action:P.f.DISMISS})),ee(!0)},[w]);return T||!H.tiers||H.tiers.length<2||ue?H.children:t.a.createElement(V,F({},H,{anchorRef:ne,dismissCoachmark:D,experimentSeatExpansionDiscountPromoGroupTreatment:te}))},"ConnectedDiscountSeatPromoReminderCoachmark");X.displayName="ConnectedDiscountSeatPromoReminderCoachmark";var K=y.default=X},rQl4:function(le,y,e){"use strict";e.d(y,"a",function(){return t}),e.d(y,"b",function(){return u});var s=e("ZKjC");const t=Object(s.b)(C=>{var O;return(O=C.canvasRecentlyViewedStore)===null||O===void 0?void 0:O.fileIds});t.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedCanvases",description:C=>{var O;return(O=C.canvasRecentlyViewedStore)===null||O===void 0?void 0:O.fileIds}};const u=Object(s.b)(C=>{var O;return(O=C.canvasRecentlyViewedStore)===null||O===void 0?void 0:O.isStoreHydrated});u.meta={name:"createSelector",key:"createSelectorisRecentlyViewedStoreHydrated",description:C=>{var O;return(O=C.canvasRecentlyViewedStore)===null||O===void 0?void 0:O.isStoreHydrated}}},rRki:function(le,y,e){"use strict";e.d(y,"a",function(){return s});const s={TRACTOR_ANIMATION:"nux_coachmark_tractor_channel_animation",TRACTOR_IMAGE:"nux_coachmark_tractor_channel_img",TOOLS_ANIMATION:"nux_coachmark_tools_animation",TOOLS_IMAGE:"nux_coachmark_tools_img",GLOBAL_CREATE_ANIMATION:"nux_coachmark_global_create_animation",GLOBAL_CREATE_IMAGE:"nux_coachmark_global_create_img"}},rTtr:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("BHdc"),O=e("o3gz"),v=e("uVZW"),B=e("eWGC"),P=e("G0eX"),M=e("zxER"),L=e("0cEW"),z=e("zm5I"),U=e("beVI"),g=e("N0zA"),J=e("nNoG"),d=e("RVJP"),S=e("03PU"),F=e("ktUG"),x=e("Cgcc"),Q=e("ZgTL");const V=new J.b("classic_nav"),X={zIndex:1054},K=c(()=>({eventId:F.EventId.USERPROFILE_OUT_OF_OFFICE,elementName:v.h.PROFILES_INTRODUCING_OUT_OF_OFFICE_COACHMARK,elementType:F.ElementType.COACHMARK,onClick:{enableClogAction:!0},megaphoneSpaceName:v.g.USER_MENU_COACHMARKS,megaphoneNotificationName:v.h.PROFILES_INTRODUCING_OUT_OF_OFFICE_COACHMARK}),"getCoachmarkAutoClogProps"),H=c(()=>({offsetX:2,offsetY:-18,orientation:S.a.Right}),"getCoachmarkPosition"),w=c(ee=>{let{isOpen:ne,onClose:ue,clientTheme:te,experimentPnpOooGroupOn:D,experimentPnpIntroOooCoachmarkGroupOn:f}=ee;const ie=f?V.t("New! Let people know when you\u2019ll be out of office"):"",Z=f?V.t("Automatically alert your colleagues of coverage docs, key channels, and everything they need so you can totally unplug while OOO."):"",pe=H(),q=Object(C.default)("p-ia__main_menu__custom_status_item__coachmark",{[x.c]:te===L.c.Light,[x.d]:te===L.c.Dark}),xe=Object(s.useMemo)(()=>t.a.createElement(O.b,{isOpen:ne,title:ie,ariaLabel:ie,bodyText:Z,offsetX:pe.offsetX,offsetY:pe.offsetY,centerOnArrow:!0,closeCoachmark:ue,isMegaphoneCoachmark:!0,overlayStyle:X,className:q,orientation:pe.orientation,autoClogProps:K()}),[ie,ne,Z,pe,q,ue]);return!f||!D?null:t.a.createElement(S.c,{coachmarkElement:xe,orientation:pe.orientation})},"CustomStatusOooIntroCoachmark");w.displayName="CustomStatusOooIntroCoachmark";const T=c(()=>{const ee=Object(u.i)(),ne=Object(M.c)(U.g),ue=Object(P.z)(ne),te=Object(M.c)(z.a),D=Object(M.c)(q=>Object(d.d)(q,"pnp_intro_ooo_coachmark")==="on"),f=Object(M.c)(q=>Object(d.d)(q,"pnp_ooo")==="on"),{isOpen:ie,closeCoachmark:Z}=Object(g.a)(v.h.PROFILES_INTRODUCING_OUT_OF_OFFICE_COACHMARK,v.g.USER_MENU_COACHMARKS),pe=f&&D&&ue&&ie;return Object(s.useEffect)(()=>{pe&&ee(Object(B.a)({notificationName:v.h.PROFILES_INTRODUCING_OUT_OF_OFFICE_COACHMARK,action:v.f.IMPRESSION}))},[ee,pe]),t.a.createElement(w,{onClose:Z,isOpen:pe,clientTheme:te,experimentPnpOooGroupOn:f,experimentPnpIntroOooCoachmarkGroupOn:D})},"ConnectedCustomStatusOooIntroCoachmark");T.displayName="ConnectedCustomStatusOooIntroCoachmark",y.default=T},sEVn:function(le,y,e){"use strict"},sj3v:function(le,y,e){"use strict";e.r(y),e.d(y,"renderClient",function(){return B}),e.d(y,"test",function(){return P});var s=e("MXQz"),t=e("GS4q"),u=e("ykb+"),C=e("xvpf");function O(){const M=".p-client_container";return document.querySelector(M)}c(O,"getClientRootElement");function v(){let{contextualInfo:M}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var L;const z=O();if(!z)throw new Error("Failed to find root to mount client.");const U=M==null?void 0:M.getTraceMeta(),g=(L=U==null?void 0:U.getTrace())===null||L===void 0?void 0:L.startSpan(C.a.BOOT_TIME_TO_MOUNT_CLIENT,{tags:U==null?void 0:U.tags});Object(t.a)(z,()=>{g&&(g.close(),U==null||U.getTracer().reportSpans([g])),(Object(u.b)()||Object(u.f)())&&window.postMessage("bootEnd",window.location.origin)})}c(v,"renderClientInner");const B=Object(s.a)(v),P={};Object.defineProperty(P,"getClientRootElement",{get:()=>O,set:M=>{O=M}}),Object.defineProperty(P,"renderClientInner",{get:()=>v,set:M=>{v=M}})},smEu:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseHuddleEducationCoachmark",function(){return X});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("nNoG"),v=e("Trx9"),B=e("ktUG"),P=e("G0eX"),M=e("WAPM"),L=e("aBhT"),z=e("uVZW"),U=e("69o4"),g=e("eWGC"),J=e("s9Q6"),d=e("beVI"),S=e("qWaS");function F(){return F=Object.assign||function(w){for(var T=1;T<arguments.length;T++){var ee=arguments[T];for(var ne in ee)Object.prototype.hasOwnProperty.call(ee,ne)&&(w[ne]=ee[ne])}return w},F.apply(this,arguments)}c(F,"_extends");const x=new O.b("huddles"),Q={elementName:"learn_more",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},V=4402059015315,X=c(w=>{let{clogContext:T,shouldRenderCurrentActiveHuddle:ee,unmountFocusCallback:ne,learnMoreLinkRef:ue,isTeamFree:te,isTeamOnTrial:D,isTrialInfoFetching:f,dismissCoachmark:ie}=w;if(f)return null;ee&&ie();const Z=x.t("Hop on a huddle to talk it out in real time"),pe=t.a.createElement("div",{className:"p-huddle_education_coachmark__footer_button_container"},t.a.createElement(M.a,{ref:ue,className:"p-huddle_education_coachmark__learn_more_link",articleId:V,autoClogProps:Q,onClick:ie,"data-qa":"huddle_onboarding_coachmark_help_link"},x.t("Get huddles tips and tricks")));let q,xe;D?(xe=B.UiComponentVariant.TRIAL_TEAM,q=x.t("Brainstorm, make decisions or catch up with who\u2019s online. During your free trial, try huddles with a group to get even more done together.")):te?(xe=B.UiComponentVariant.FREE_TEAM,q=x.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online.")):(xe=B.UiComponentVariant.PAID_TEAM,q=x.t("Hold a team brainstorm, make decisions together or have a lightweight catch-up with whoever\u2019s online."));const ze=t.a.createElement("div",null,t.a.createElement(L.a,{lines:9,withTooltip:!0,breakWords:!1},q));return t.a.createElement(v.a,F({eventId:B.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:B.UiComponentName.HUDDLE_EDUCATION_COACHMARK,uiComponentVariant:xe,clogImpression:!0},T),t.a.createElement(S.a,{className:"p-huddle_education_coachmark",headerText:Z,body:ze,footer:pe,onClose:ie,unmountFocusCallback:ne}))},"HuddleEducationCoachmark");X.displayName="HuddleEducationCoachmark";const K=c(w=>{const T=Object(u.i)(),ee=Object(s.useRef)(null),ne=Object(C.c)(d.g),ue=Object(P.H)(ne),te=Object(C.c)(J.i),D=Object(C.c)(J.j);Object(s.useEffect)(()=>{T(Object(g.a)({notificationName:z.h.HUDDLE_ONBOARDING_COACHMARK,action:z.f.IMPRESSION}))},[T]),Object(s.useEffect)(()=>{var ie;ee==null||(ie=ee.current)===null||ie===void 0||ie.focus()},[ee]);const f=Object(s.useCallback)(()=>T(Object(U.a)({spaceName:z.g.IN_PRODUCT_COACHMARK,action:z.f.DISMISS})),[T]);return t.a.createElement(X,F({learnMoreLinkRef:ee,isTeamFree:ue,isTeamOnTrial:te,isTrialInfoFetching:D,dismissCoachmark:f},w))},"ConnectedHuddleEducationCoachmark");K.displayName="ConnectedHuddleEducationCoachmark";var H=y.default=K},tfFU:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("fujP"),C=e("yIs4"),O=e("zxER"),v=e("0w4Q"),B=e("/MKj"),P=e("JoR1"),M=e("T1zM"),L=e("Trx9"),z=e("snel");function U(){return U=Object.assign||function(d){for(var S=1;S<arguments.length;S++){var F=arguments[S];for(var x in F)Object.prototype.hasOwnProperty.call(F,x)&&(d[x]=F[x])}return d},U.apply(this,arguments)}c(U,"_extends");const g={elementName:"education_primary_cta",onClick:{enableClogAction:!0}},J=c(d=>{let{prefName:S,prefType:F="view_once",viewCountPrefName:x,onCloseBanner:Q,...V}=d;if(F==="view_count"&&Object(u.a)(x))throw new Error("When using prefType view_count, viewCountPrefName is required.");const X=Object(B.i)(),[K,H]=Object(s.useState)(!1),w=Object(O.c)(ee=>x&&Object(P.u)(ee,x)),T=Object(s.useCallback)(()=>{H(!0),S&&X(Object(M.f)({pref:S,value:!0})),Q==null||Q()},[X,S,Q]);return Object(s.useEffect)(()=>()=>{S&&F==="view_once"&&X(Object(M.f)({pref:S,value:!0})),S&&F==="view_count"&&Object(C.a)(w)&&x&&X(Object(M.f)({pref:x,value:w+1}))},[X,S,F,w,x]),K?null:t.a.createElement(L.a,{uiComponentName:"explorer_education",clogImpression:!0},t.a.createElement("div",{className:"p-explorer__banner"},t.a.createElement(v.a,U({showBanner:!0,backgroundColor:"lagoon",onCloseBanner:T,primaryCTAAutoClogProps:g},V))))},"ExplorerEducationBanner");J.displayName="ExplorerEducationBanner",y.a=J},u0IL:function(le,y,e){le.exports=e.p+"nfx-welcome-modal-es-LA-cff2817.gif"},uC0x:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("BHdc"),C=e("qDEp");const O=c(B=>{let{selected:P,"aria-label":M,autoClogProps:L,dataQa:z,label:U,onClick:g}=B;return t.a.createElement(C.d,{className:Object(u.default)("p-unreads_toggle",{"p-unreads_toggle--selected":P}),onClick:g,autoClogProps:L,"aria-pressed":P,"aria-label":M,"data-qa":z},!!U&&t.a.createElement("div",{className:"p-unreads_toggle__label"},U),t.a.createElement("div",{className:"p-unreads_toggle__switch"},t.a.createElement("div",{className:"p-unreads_toggle__switch__handle"})))},"UnreadsToggleButton");O.displayName="UnreadsToggleButton";var v=y.a=O},uJ28:function(le,y,e){le.exports=e.p+"coachmark_activity_static-1b38d5f.png"},"uZS/":function(le,y,e){le.exports=e.p+"clock-eaf8850.svg"},"us/z":function(le,y,e){"use strict"},us8H:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("rZ8V"),v=e("ktUG"),B=e("nNoG"),P=e("ymtc"),M=e("aNr4"),L=e("tcoA"),z=e("uC0x"),U=e("aVYy"),g=e("gl0Z");const J=new B.b("mentions"),d=c(()=>{const S=Object(u.i)(),F=Object(C.c)(M.f),x=Object(C.c)(M.l),Q=Object(U.a)(),V=Object(C.c)(O.c),X=Object(s.useCallback)(()=>{S(Object(P.g)(!F)),!V&&x!==L.o.ALL&&S(Object(P.k)(L.o.ALL))},[S,x,F,V]),K=Object(s.useMemo)(()=>({eventId:v.EventId.ACTIVITY_UNREADS,onClick:{enableClogAction:!0},elementName:F?"all":"unreads"}),[F]),H=J.t("Filter by unread messages; {n} unread",{n:Q[g.a.ACTIVITY]});return t.a.createElement(z.a,{selected:F,onClick:X,autoClogProps:K,"aria-label":H,label:J.t("Unreads")})},"ActivityUnreadsToggleButton");d.displayName="ActivityUnreadsToggleButton",y.a=d},usGY:function(le,y,e){"use strict"},vAfS:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseHuddleScheduleNux",function(){return F});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("nNoG"),O=e("Trx9"),v=e("ktUG"),B=e("sgFo"),P=e("uVZW"),M=e("69o4"),L=e("eWGC"),z=e("1jr5"),U=e("aBhT"),g=e("zxER"),J=e("LqER");function d(){return d=Object.assign||function(V){for(var X=1;X<arguments.length;X++){var K=arguments[X];for(var H in K)Object.prototype.hasOwnProperty.call(K,H)&&(V[H]=K[H])}return V},d.apply(this,arguments)}c(d,"_extends");const S=new C.b("huddles"),F=c(V=>{let{clogContext:X,experimentHuddlesLaterGroupOn:K,shouldRenderCurrentActiveHuddle:H,dismissCoachmark:w}=V;return H&&w(),K?t.a.createElement(O.a,d({eventId:v.EventId.HUDDLES_SCHEDULED,elementName:J.a.HUDDLES_SCHEDULED_NUX,uiStep:P.h.HUDDLE_SCHEDULE_NUX,uiComponentName:v.UiComponentName.HUDDLES_SCHEDULED_NUX,clogImpression:!0},X),t.a.createElement("div",null,t.a.createElement(z.c,{type:"info",showCloseButton:!0,isFixedPosition:!1,onClose:w,className:"p-huddle_schedule_nux"},t.a.createElement(U.a,{lines:1,breakWords:!1,withTooltip:!0},S.rt("\u2728Try scheduling a huddle for later"))))):null},"HuddleScheduleNux");F.displayName="HuddleScheduleNux";const x=c(V=>{const X=Object(u.i)(),K=Object(g.c)(B.I);Object(s.useEffect)(()=>{X(Object(L.a)({notificationName:P.h.HUDDLE_SCHEDULE_NUX,action:P.f.IMPRESSION}))},[X]);const H=Object(s.useCallback)(()=>X(Object(M.a)({spaceName:P.g.IN_PRODUCT_COACHMARK,action:P.f.DISMISS})),[X]);return!K||V.isHuddlesComposer?null:t.a.createElement(F,d({dismissCoachmark:H,experimentHuddlesLaterGroupOn:K},V))},"ConnectedHuddleScheduleNux");x.displayName="ConnectedHuddleScheduleNux";var Q=y.default=x},vDDd:function(le,y,e){le.exports=e.p+"tabs-customization-nux-coachmark-10acb55.png"},vMc3:function(le,y,e){"use strict";e.d(y,"a",function(){return s});function s(t){return(t==null?void 0:t.currentStep)!==null&&(t==null?void 0:t.steps[t.currentStep])||null}c(s,"getCurrentJoinerCoachmarkStep")},vmiY:function(le,y,e){le.exports=e.p+"gov-slack-tile-eb7a443.svg"},wOK1:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("ktUG"),O=e("69o4"),v=e("15H6"),B=e("uVZW"),P=e("Trx9"),M=e("IiTT"),L=e("1jr5"),z=e("RVJP"),U=e("zxER"),g=e("Tevt"),J=e("7+Lm"),d=e("nNoG");const S=new d.b("setup_page"),F={isPrimaryCTA:!0,onClick:{enableClogAction:!0}},x={elementName:"ru_depracation_banner_link",...F},Q={elementName:"ru_depracation_workspace_banner_link",...F},V=c(()=>{const X=Object(u.i)(),K=Object(s.useCallback)(()=>{X(Object(O.a)({spaceName:B.g.CLIENT_FOOTER,action:B.f.DISMISS}))},[X]),H=Object(s.useCallback)(()=>{X(Object(v.a)({spaceName:B.g.CLIENT_FOOTER,action:B.f.DISMISS}))},[X]),w=Object(U.c)(D=>Object(z.d)(D,"ru_locale_deprecation_banners")==="on"),T=Object(U.c)(D=>Object(J.c)(D,B.g.CLIENT_FOOTER)),ee=c(D=>{let{text:f}=D;return t.a.createElement(g.a,{"data-qa":"ru_depracation_banner_link",autoClogProps:x,onClick:K,href:"account/settings#locale"},f)},"renderSwitchLanguageLink"),ne=c(D=>{let{text:f}=D;return t.a.createElement(g.a,{"data-qa":"ru_depracation_workspace_banner_link",autoClogProps:Q,onClick:H,href:"admin/settings#locale"},f)},"renderSwitchWorkspaceLanguageLink");if(!w)return null;const ue=T===B.h.RUSSIAN_LOCALE_USER_DEPRECATION_NOTICE,te=ue?S.rt("Starting June 28, Slack will no longer be translated into Russian, but you can continue to send messages in the language of your choice. <a>Change your language preference</a>",{"<a>":ee}):S.rt("Starting June 28, Slack will no longer be translated into Russian, but users can continue to send messages in the language of their choice. <a>Set a new workspace language</a>",{"<a>":ne});return t.a.createElement(P.a,{elementType:C.ElementType.BANNER,elementName:T,clogImpression:!0,enableClogImpressionOffScreen:!0,uiComponentName:C.UiComponentName.RU_DEPRECATION_BANNER},t.a.createElement(M.a,{type:L.b.info,preventTypeOverride:!0,isFixedPosition:!1,onClose:ue?K:H,"data-qa":"ru_depracation_banner",className:"align_center"},te))},"BannerRuDeprecationNotice");V.displayName="BannerRuDeprecationNotice",y.default=V},wQWF:function(le,y,e){le.exports=e.p+"grid-migration-complete-dc3a8bc.svg"},wuvV:function(le,y,e){"use strict";e.d(y,"a",function(){return v});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("uVZW"),O=e("eWGC");function v(B){const P=Object(u.i)();Object(s.useEffect)(()=>{P(Object(O.a)({action:C.f.IMPRESSION,notificationName:B}))},[P,B])}c(v,"useRecordMegaphoneImpressionOnMount")},x1ew:function(le,y,e){le.exports=e.p+"sidebar-dark-ab7253d.gif"},xGfe:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("Cfcg"),C=e("ifKl"),O=e("+Xah"),v=e("BHdc"),B=e("NCd1"),P=e("pQ8y"),M=e("RVJP"),L=e("beVI"),z=e("G0eX"),U=e("VNYY"),g=e("nZ0E"),J=e("Cy/8"),d=e("Dtu2"),S=e("o6rR"),F=e("qcoW"),x=e("oHyA"),Q=e("zrDx"),V=e("KYMJ"),X=e("cOHG"),K=e("AdTA"),H=e("oY18"),w=e("o1ZU"),T=e("bqbz"),ee=e("sXqy"),ne=e("iJ8e"),ue=e("SvML"),te=e("qN/r"),D=e("s4P+"),f=e("nNoG"),ie=e("qDEp"),Z=e("4unc"),pe=e("E3dU"),q=e("NK7x"),xe=e("Yauy"),ze=e("+vFE"),mt=e("28Q5"),Me=e("T1zM"),Ct=e("zlyu"),Qe=e("Tsh7"),st=e("oEDn"),Ot=e("RUo5"),cn=e("ktUG"),Ht=e("qmhM"),Nn=e("v5z3"),zt=e("Wn1n"),Ln=e("YpEo"),Fn=e("/qcS"),Ye=e("VdF0"),dn=e("ZE3X"),vt=e("tOT8"),Xn=e("QwK2"),kn=e("F0YV"),he=e("VU9B"),Gn=e("c+dP"),Va=e("nWdO"),Oe=e("aBhT");function Ma(){return Ma=Object.assign||function(_n){for(var Xe=1;Xe<arguments.length;Xe++){var It=arguments[Xe];for(var $e in It)Object.prototype.hasOwnProperty.call(It,$e)&&(_n[$e]=It[$e])}return _n},Ma.apply(this,arguments)}c(Ma,"_extends");let ga=c(class extends s.Component{onContextMenu(Xe){Xe.stopPropagation(),Xe.preventDefault()}renderSectionMenu(Xe){return t.a.createElement("div",{onContextMenu:this.onContextMenu},t.a.createElement(Gn.a,Ma({menuClassNames:"p-section_menu"},Xe,{template:this.props.getTemplate()})))}render(){const{className:Xe,ariaHidden:It,tooltipText:$e,displayAsHovered:In,label:ra,labelTruncationRef:wn,isSectionMenuCoachmarkVisible:Aa,displayCoachmarkOnSection:Qn,qaLabel:Bn}=this.props,Tn=t.a.createElement(ie.d,{tabIndex:-1,className:Xe,"data-qa":`section_heading_button__${Bn}`,"aria-hidden":It},t.a.createElement(Oe.a,{lines:1},t.a.createElement("div",{className:"overflow_ellipsis",ref:wn},ra)),t.a.createElement(st.a,{type:"chevron-down",inline:!0,className:Object(v.default)("p-channel_sidebar__section_heading_chevron",{"p-channel_sidebar__section_heading_chevron_section-menu--open":In||Aa&&Qn})}));return t.a.createElement(Gn.e,{renderMenu:this.renderSectionMenu,onClick:this.props.onSectionMenuOpen,position:"bottom-left",tryOppositePosition:!0,offsetX:-4,offsetY:4,"data-qa":"channel_section_menu_trigger",onClose:this.props.onSectionMenuClose},$e?t.a.createElement(Va.c,{tip:$e,position:"top",delay:Va.a,key:"options-button-tooltip"},Tn):Tn)}constructor(Xe){super(Xe),this.renderSectionMenu=this.renderSectionMenu.bind(this)}},"SectionMenu");ga.displayName="SectionMenu",ga.defaultProps={className:"",getTemplate:()=>[],isChannelsSection:!1,isSectionMenuCoachmarkVisible:!1,onSectionMenuOpen:C.a,onSectionMenuClose:C.a,displayAsHovered:!1,tooltipText:"",label:"",ariaHidden:"true",labelTruncationRef:null,displayCoachmarkOnSection:!1,qaLabel:""};var zn=ga,hn=e("rq2v"),nn=e("uVZW"),Xt=e("tUlc"),bn=e("Tevt"),sn=e("BfA7"),Wt=e("vMc3"),Yt=e("Te+D"),At=e("kBpe"),Ft=e("nFQW"),sa=e("ZobM"),ba=e("SQ0V"),Ha=e("xueD"),Ba=e("E97Y"),qn=e("0mlZ");const Mt=Object(ba.c)("Open share dialog modal for sections",(_n,Xe,It)=>{let{channelSection:$e,channelIds:In}=It;const ra=Xe(),wn=In==null?void 0:In.filter(Aa=>{const Qn=Object(pe.d)(ra,Aa);return!Object(Ba.h)(Qn)});_n(Object(Ha.a)({channelSetName:_n(Object(ue.a)({channelSection:$e})),channelSectionChannels:wn,shareType:qn.b.CHANNEL_SET}))});Mt.meta={name:"createThunk",key:"createThunkopenSectionShareDialog",description:"Open share dialog modal for sections"};const da=new f.b("channel_browser_coachmark"),ha={backgroundColor:"rgba(0, 0, 0, 0.3)"},aa=Object(D.b)(),fo=["\u2318"],No={[nn.h.UNREADS_SIMPLIFICATION_COACHMARK]:{component:t.a.lazy(()=>Promise.resolve().then(e.bind(null,"8JrE")))}};var fa;let _a=c(class extends(fa=t.a.PureComponent){onCollapseToggleClick(Xe){const{channelSection:It}=this.props;if(Object(ze.c)(It)&&this.isChannelSectionConfigurable()){if(Xe!=null&&Xe.altKey){Xe.preventDefault(),this.props.onChannelSectionCollapseToggle({channelSection:It,toggleAll:!0,reason:"section-heading-alt-click"});return}this.props.onChannelSectionCollapseToggle({channelSection:It,reason:"section-heading-click"})}}onPlusClick(Xe){var It;Xe.preventDefault(),aa.action(Xn.a,`Clicked plus button for ${this.props.qaLabel}`),this.setState(()=>({displayAsHovered:!0})),this.props.openComposerPage({}),Object(Qe.e)(),(It=this.props.clogger)===null||It===void 0||It.track(cn.EventId.SIDEBAR_PLUS_CLICK,{label:this.props.qaLabel})}onSectionMenuOpen(){const{clogger:Xe}=this.props;this.setState(()=>({isSectionMenuOpen:!0})),this.setIsHovered(!0),Xe==null||Xe.track(cn.EventId.CONTEXT_MENU_ACTION,{contexts:{ui_context:{action:cn.UiAction.CLICK,ui_component:cn.UiComponent.SIDEBAR,ui_element:cn.UiElement.SIDEBAR_CHANNEL_SECTION_ITEM,ui_component_name:"SectionMenu"}},label:"open",is_iap1:!0})}onSectionMenuClose(){this.setState(()=>({isSectionMenuOpen:!1})),this.setIsHovered(!1)}onJumpToAllUnreads(){const{channelSection:Xe}=this.props;Xe&&this.props.setUserPrefByApi({pref:"all_unreads_section_filter",value:Xe.id}),this.props.openUnreadsView()}setIsHovered(Xe){this.setState(()=>({displayAsHovered:Xe}))}shouldShowPlusButton(){return this.props.channelSection.type===ne.g}handleMouseEnter(){this.shouldShowPlusButton()&&this.setIsHovered(!0)}handleMouseLeave(){this.shouldShowPlusButton()&&this.setIsHovered(!1)}isChannelSectionConfigurable(){return this.props.isChannelSectionsAPIOperational}isEmpty(){const{isCollapsed:Xe,channelIds:It,isPrimaryViewInSection:$e,isEditMode:In}=this.props;return Xe&&(In||!$e)||!!It&&(It==null?void 0:It.length)===0}determineLabelTruncation(){this.setState(()=>({isTruncated:!!this.labelTruncationRef.current&&this.labelTruncationRef.current.offsetWidth<this.labelTruncationRef.current.scrollWidth}))}renderCollapseToggle(){const{channelSection:Xe,emoji:It,isEditMode:$e}=this.props;if(!this.isChannelSectionConfigurable()||!Object(ze.c)(Xe))return null;const In=!!It||Xe.type===ne.p.ExternalWorkspace;return t.a.createElement("span",{className:Object(v.default)("p-channel_sidebar__section_heading_expand_container",{"p-channel_sidebar__section_heading_expand_container--has_emoji":In,"p-channel_sidebar__section_heading_expand_container--edit-mode":$e}),onClick:this.onCollapseToggleClick,"aria-hidden":!0},In&&this.renderIconPrefix(),t.a.createElement(st.a,{"data-qa":"channel-section-collapse",className:"p-channel_sidebar__section_heading_expand",type:"caret-right",size:"inherit",inline:!0}))}renderIconPrefix(){if(!this.isChannelSectionConfigurable())return null;const{emoji:Xe,hasUnmutedUnreads:It,isCollapsed:$e,channelSectionHasAllMutedHiddenChannels:In,channelSection:ra}=this.props,wn=Object(v.default)("p-channel_sidebar__emoji",{"p-channel_sidebar__emoji--active":!$e||It||this.state.displayAsHovered,"p-channel_sidebar__emoji--muted":$e&&In});return ra.type===ne.p.UserGroup?t.a.createElement("div",{className:wn},t.a.createElement(sa.a,{variation:"filled",name:"user-groups"})):ra.type===ne.p.ExternalWorkspace?t.a.createElement(kn.b,{id:Object(he.f)(ra.id),size:20,className:Object(v.default)(wn,"p-channel_sidebar__team_icon"),allowTeamInitials:!0}):Xe?t.a.createElement(Fn.b,{text:Xe,shouldFallbackOnLoadError:!0,stopAnimations:!0,emojiSize:Fn.a.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,className:wn,renderEmojiFallback:!0}):null}getPlusButton(){const{showPlus:Xe,qaLabel:It}=this.props;if(!Xe||this.state.isSectionMenuOpen)return null;const{displayAsHovered:$e}=this.state;if(!this.shouldShowPlusButton())return null;const In=t.a.createElement(ie.d,{className:Object(v.default)("p-channel_sidebar__section_heading_right_item","p-channel_sidebar__section_heading_plus","p-channel_sidebar__section_heading_plus__nudge",{"p-channel_sidebar__section_heading_plus--showing":$e}),onClick:this.onPlusClick,"aria-hidden":!0,tabIndex:-1,"data-qa":`channel_sidebar__plus__${It}`,key:"plus-button"}),ra=Object(At.p)()?t.a.createElement(Yt.a,{mainKey:"N",modifiers:fo}):t.a.createElement(Yt.a,{mainKey:"N",modifier:da.t("Ctrl")}),wn=da.rt("Open a direct message<br></br>{dmBrowserShortcut}",{dmBrowserShortcut:ra});return t.a.createElement(Qe.d,{tip:wn,position:"top",delay:Qe.a,key:"plus-button-tooltip"},In)}shouldShowSectionShareButton(){const{showPlus:Xe,experimentShareableSectionsGroupTreatment:It,channelIds:$e,channelSection:In}=this.props,ra=!$e||$e.length<1,wn=(In==null?void 0:In.type)===ne.m;return!(Xe||!It||ra||!wn)}handleSectionShareClick(){const{channelSection:Xe,channelIds:It,openSectionShareDialog:$e}=this.props;return $e({channelSection:Xe,channelIds:It})}renderShareSectionButtonMaybe(){const{experimentShareableSectionsGroupTreatment:Xe}=this.props;if(!this.shouldShowSectionShareButton())return null;const It=Xe?da.t("Share this set of channels"):"",$e=t.a.createElement(Ft.a,{className:Object(v.default)("p-channel_sidebar__section_heading_right_item","p-channel_sidebar__section_heading_share","p-channel_sidebar__section_heading_share__nudge"),onClick:this.handleSectionShareClick,key:"share-button","aria-label":It},t.a.createElement(sa.a,{name:"share-message"}));return t.a.createElement(Qe.d,{tip:It,position:"top",delay:Qe.a,key:"share-button-tooltip",maxWidth:"small"},$e)}renderSectionHeadingRightMaybe(){const{isCollapsed:Xe,badgeCount:It,isBadgeForAllMuted:$e,channelSection:In,experimentSidebarSectionsUnreadsOnlyPromptGroupTreatment:ra,unreadsOnlyCoachmarkVisible:wn,joinerSetupCoachmarkState:Aa,shouldShowSetupJoinerCoachmark:Qn,isInstantSlackInviteeSession:Bn}=this.props;if(Bn)return null;const{isSectionMenuOpen:Tn}=this.state,it=Xe&&It,Sa=it||this.shouldShowPlusButton()||this.shouldShowSectionShareButton(),dt=200,en=100,ua=t.a.createElement(P.a,{in:!!Sa,classNames:Object(v.default)("p-channel_sidebar__section_heading_ellipsis_transition",{"p-channel_sidebar__section_heading_ellipsis_transition--hide_plus_button":!this.shouldShowPlusButton()}),timeout:dt+en,key:"section-menu-transition",unmountOnExit:!0},t.a.createElement("div",{className:"p-channel_sidebar__section_heading_right"},t.a.createElement("div",{className:Object(v.default)("p-channel_sidebar__section_heading_right_item p-channel_sidebar__badge_ellipsis_container",{"p-channel_sidebar__badge_plus_container":!0})},t.a.createElement("div",{className:Object(v.default)("p-channel_sidebar__badge_wrapper",{"p-channel_sidebar__badge_wrapper__nudge":!1,"p-channel_sidebar__badge_wrapper--hide_plus_button":!this.shouldShowPlusButton()})},t.a.createElement(Z.b,{className:Object(v.default)("p-channel_sidebar__badge",{"p-channel_sidebar__badge--showing":it&&!this.state.displayAsHovered,"p-channel_sidebar__badge--muted":it&&!this.state.displayAsHovered&&$e,"p-channel_sidebar__badge--section_menu-open":Tn,"p-channel_sidebar__badge--hide_plus_button":!this.shouldShowPlusButton()}),style:Z.a.red,count:Xe?It:0,key:"badge"})),this.getPlusButton(),this.renderShareSectionButtonMaybe())));return Qn&&(In.type===ne.g||In.type===ne.b)&&Aa?this.renderJoinerSetupCoachmarkMaybe(ua):ra&&wn.channelSectionId===In.id?this.renderUnreadsOnlyCoachmarkMaybe(ua):ua}renderJoinerSetupCoachmarkMaybe(Xe){const{channelSection:It,joinerSetupCoachmarkState:$e}=this.props,In=Object(Wt.a)($e),ra=It.type===ne.g&&In===Nn.q.DirectMessagesSection,wn=It.type===ne.b&&In===Nn.q.ChannelsSection;return ra||wn?t.a.createElement("div",null,t.a.createElement(Ye.default,{joinerSetupCoachmarkState:$e},Xe)):Xe}onContextMenu(Xe){this.state.isSectionMenuOpen&&Xe.stopPropagation()}renderUnreadsOnlyCoachmarkMaybe(Xe){const{isAPaidTeam:It,unreadsOnlyCoachmarkVisible:$e,experimentSidebarSectionsUnreadsOnlyPromptGroupTreatment:In,unreadsOnlyPromptCoachmarkRef:ra}=this.props;if(!It||!In)return Xe;const wn=c(()=>{this.props.setSidebarSectionsUnreadsOnlyCoachmarkVisible({isVisible:!1})},"handleDismiss"),Aa=t.a.createElement(Ct.a,{isOpen:!!$e.isVisible,orientation:"right",closeCoachmark:wn,coachmarkClassNames:"p-channel_sidebar__advanced_education_coachmark__unreads_only",offsetX:13,overlayStyle:ha,primaryCallToActionText:da.t("Got It"),onClickPrimaryButton:wn,ref:ra,isMegaphoneCoachmark:!1},t.a.createElement("h3",{className:"p-channel_sidebar__advanced_education_coachmark__unreads_only_title margin_bottom_25"},da.t("Only see unread messages")),t.a.createElement("div",{className:"p-channel_sidebar__advanced_education_coachmark__unreads_only_content sk_foreground_max_solid"},da.rt("To tidy up your sidebar a bit, click on <strong>Section options</strong> to show unread conversations only. We\u2019ll hide the rest until you need them.")));return t.a.createElement(Ot.b,{orientation:"right",coachmarkElement:Aa,coachmarkAnchorClassNames:"overflow_ellipsis"},Xe)}renderStaticSectionLabel(){const{hasUnmutedUnreads:Xe,isCollapsed:It,qaLabel:$e,label:In,channelSection:ra,badgeCount:wn,isAPaidTeam:Aa}=this.props,Qn=It&&wn,Bn=this.isChannelSectionConfigurable()&&(Aa||ra.type===ne.n)&&this.state.displayAsHovered,Tn=Qn||Bn;return t.a.createElement("span",{onMouseEnter:this.determineLabelTruncation,className:Object(v.default)("p-channel_sidebar__section_heading_label",{"p-channel_sidebar__section_heading_label--unreads":It&&Xe,"p-channel_sidebar__section_heading_label--ellipsis-or-badge":Tn}),"data-qa":`channel_sidebar__section_heading_label__${$e}`},t.a.createElement("span",{ref:this.labelTruncationRef,className:"p-channel_sidebar__section_heading_label_overflow"},this.renderIconPrefix()," ",In))}renderSectionMenuCoachmarkMaybe(Xe){const{setSectionMenuCoachmarkVisible:It,isSectionMenuCoachmarkVisible:$e,isFirstVisibleSection:In,openPrefsModal:ra,sidebarBehavior:wn}=this.props,Aa=c(()=>{It(!1)},"handleDismiss");if(!In)return Xe;const Qn=da.t("You updated your sidebar!"),Bn=da.t("Take control of your sidebar"),Tn=da.rt("To see all your channels and manage <t>Preferences</t>, select the name of any sidebar section.",{"<t>":dt=>{let{text:en}=dt;return t.a.createElement(bn.a,{onClick:()=>{ra({activeSection:"sidebar",activeSubsection:"sidebar_show_pref"})}},en)}}),it=da.rt("To customize your sidebar, select the name of any sidebar section or visit <t>Preferences</t>.",{"<t>":dt=>{let{text:en}=dt;return t.a.createElement(bn.a,{onClick:()=>{ra({activeSection:"sidebar",activeSubsection:"sidebar_show_pref"})}},en)}}),Sa=t.a.createElement(Ct.a,{isOpen:$e,orientation:"right",closeCoachmark:Aa,coachmarkClassNames:"p-channel_sidebar__section_heading__coachmark",offsetX:13,isMegaphoneCoachmark:!1},t.a.createElement("div",{className:"p-channel_sidebar__section_heading__coachmark__title"},wn===vt.c?Qn:Bn),t.a.createElement("div",{className:"p-channel_sidebar__section_heading__coachmark__description"},wn===vt.c?Tn:it));return t.a.createElement(Ot.b,{orientation:"right",coachmarkElement:Sa,coachmarkAnchorClassNames:"overflow_ellipsis"},Xe)}renderClickableSectionLabel(Xe){const{hasUnmutedUnreads:It,isCollapsed:$e,qaLabel:In,label:ra,channelSection:wn,badgeCount:Aa,isAPaidTeam:Qn,getContextMenuTemplateForSectionHeading:Bn,channelSectionHasAllMutedHiddenChannels:Tn,isSectionMenuCoachmarkVisible:it,isFirstVisibleSection:Sa}=this.props,dt=$e&&Aa,en=this.isChannelSectionConfigurable()&&(Qn||wn.type===ne.n)&&this.state.displayAsHovered,ua=dt||en,Ao=void 0,yo=t.a.createElement("div",{onMouseEnter:this.determineLabelTruncation,className:Object(v.default)("p-channel_sidebar__section_heading_label","p-channel_sidebar__section_heading_label--clickable",{"p-channel_sidebar__section_heading_label--unreads":$e&&It,"p-channel_sidebar__section_heading_label--muted":$e&&Tn,"p-channel_sidebar__section_heading_label--ellipsis-or-badge":ua}),onClick:Ao,onContextMenu:this.onContextMenu,"data-qa":`channel_sidebar__section_heading_label__${In}`},this.renderSectionMenuCoachmarkMaybe(t.a.createElement(zn,{className:Object(v.default)("p-channel_sidebar__section_heading_button",{"p-channel_sidebar__section_heading_button--coachmark-open":it&&Sa}),isSectionMenuCoachmarkVisible:it,getTemplate:()=>Bn==null?void 0:Bn({isHovered:this.state.displayAsHovered}),key:"section-menu",isChannelsSection:Object(he.c)(wn),onSectionMenuOpen:this.onSectionMenuOpen,onSectionMenuClose:this.onSectionMenuClose,displayAsHovered:this.state.displayAsHovered,label:ra,ariaHidden:"false",labelTruncationRef:this.labelTruncationRef,displayCoachmarkOnSection:Sa,qaLabel:In})));return Xe?Object(Ln.a)(yo,Xe):yo}renderSectionLabel(Xe){const{onCollapseToggleClick:It,label:$e,tooltipClassName:In}=this.props,{isTruncated:ra}=this.state,wn=this.isChannelSectionConfigurable()&&!!this.props.getContextMenuTemplateForSectionHeading,Qn=It!==C.a||wn?this.renderClickableSectionLabel(Xe):this.renderStaticSectionLabel();return t.a.createElement(Qe.d,{tip:$e,tipClassName:Object(v.default)(In,{hidden:!ra}),position:"top",delay:Qe.a,"data-qa":"channel_section_label_overflow_tooltip",tipAnchorRef:this.labelTruncationRef},Qn)}render(){const{qaLabel:Xe,isSelected:It,isCollapsed:$e=!1,hasUnmutedUnreads:In,channelDropIndicatorAbove:ra,channelDropIndicatorSides:wn,channelDropIndicatorBelow:Aa,channelSectionDropIndicatorAbove:Qn,channelSectionDropIndicatorBelow:Bn,channelDropIneligible:Tn,showJoinerSetupCoachmarkHighlight:it,isFirstVisibleSection:Sa}=this.props,dt={};if(this.isChannelSectionConfigurable()){this.props.connectDragPreview(Object(B.a)(),{captureDraggingState:!0});const ua=this.isEmpty();dt["p-channel_sidebar__section_heading--collapsed"]=$e,dt["p-channel_sidebar__section_heading--empty"]=ua,dt["p-channel_sidebar__section_heading--unreads"]=In&&$e}const en=t.a.createElement("div",{className:Object(v.default)("p-channel_sidebar__section_heading p-channel_sidebar__section_heading_channels","p-channel_sidebar__drop_target_indicator",{"p-channel_sidebar__section_heading--selected":It,"p-channel_sidebar__drop_target_indicator--channel_above":ra,"p-channel_sidebar__drop_target_indicator--channel_sides":wn,"p-channel_sidebar__drop_target_indicator--channel_below":Aa,"p-channel_sidebar__drop_target_indicator--channel_section_above":Qn,"p-channel_sidebar__drop_target_indicator--channel_section_below":Bn,"p-channel_sidebar__drop_target_indicator--ineligible":Tn,"p-channel_sidebar__section_heading--active_highlight":it,...dt}),ref:this.props.connectDragDropRef,"data-qa-channel-sidebar-section-heading":Xe,"data-qa-channel-section-collapsed":$e,"data-qa":Xe,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},this.renderCollapseToggle(),this.renderSectionLabel(),this.renderSectionHeadingRightMaybe());return Sa?t.a.createElement(hn.c,{spaceName:nn.g.IN_PRODUCT_COACHMARK,notifications:No,shouldAlwaysRenderChildren:!0},en):en}constructor(Xe){super(Xe),this.onCollapseToggleClick=this.onCollapseToggleClick.bind(this),this.onPlusClick=this.onPlusClick.bind(this),this.determineLabelTruncation=this.determineLabelTruncation.bind(this),this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.onSectionMenuOpen=this.onSectionMenuOpen.bind(this),this.setIsHovered=this.setIsHovered.bind(this),this.renderUnreadsOnlyCoachmarkMaybe=this.renderUnreadsOnlyCoachmarkMaybe.bind(this),this.renderJoinerSetupCoachmarkMaybe=this.renderJoinerSetupCoachmarkMaybe.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onSectionMenuClose=this.onSectionMenuClose.bind(this),this.handleSectionShareClick=this.handleSectionShareClick.bind(this),this.labelTruncationRef=t.a.createRef(),this.state={isTruncated:!1,displayAsHovered:!1,isSectionMenuOpen:!1}}},"SectionHeading");_a.displayName="SectionHeading",_a.defaultProps={label:"",qaLabel:"",emoji:"",tooltipClassName:"",onCollapseToggleClick:C.a,showPlus:!1,isSelected:!1,connectDragDropRef:O.a,connectDragPreview:O.a,channelDropIndicatorAbove:!1,channelDropIndicatorSides:!1,channelDropIndicatorBelow:!1,channelSectionDropIndicatorAbove:!1,channelSectionDropIndicatorBelow:!1,channelDropIneligible:!1,transitionFocusTo:C.a,unreadsOnlyPromptCoachmarkRef:null,onChannelSectionCollapseToggle:C.a,isFirstVisibleSection:!1,isInstantSlackInviteeSession:!1};const ko=c((_n,Xe)=>{let{channelSection:It,channelIds:$e,shouldUseNavigate:In,getPrimaryView:ra,isCollapsed:wn}=Xe;var Aa;const Qn=In?(Aa=ra(_n))===null||Aa===void 0?void 0:Aa.id:Object(zt.a)(_n);let Bn=!1,Tn=0,it=0;wn&&$e&&$e.length>0&&wn&&$e.forEach(en=>{const ua=Object(pe.d)(_n,en);if(ua&&Qn!==en){const Ao=Object(pe.c)(_n,ua)||0;Object(q.b)(_n,ua.id)?Tn+=Ao:(!Bn&&(Object(xe.R)(ua)||0)>0&&(Bn=!0),it+=Ao)}});const Sa=!!$e&&($e==null?void 0:$e.indexOf(Qn))>=0,dt=Object(L.g)(_n);return It.id==="canvases"&&(Bn=!!($e!=null&&$e.length)),{hasUnmutedUnreads:Bn,badgeCount:Tn+it,isBadgeForAllMuted:Tn>0&&it===0,isPrimaryViewInSection:Sa,isAPaidTeam:Object(z.L)(dt),experimentSidebarSectionsUnreadsOnlyPromptGroupTreatment:Object(M.d)(_n,"sidebar_sections_unreads_only_prompt")==="treatment",experimentShareableSectionsGroupTreatment:Object(M.d)(_n,"shareable_sections")==="treatment",unreadsOnlyCoachmarkVisible:Object(T.z)(_n),shouldShowSetupJoinerCoachmark:Object(U.a)(_n),joinerSetupCoachmarkState:Object(Ht.b)(_n),showJoinerSetupCoachmarkHighlight:Object(Ht.f)(_n,It.type),isSectionMenuCoachmarkVisible:Object(Ht.e)(_n),sidebarBehavior:Object(Xt.a)(_n)}},"mapStateToProps"),qo=c(_n=>({openChannelBrowser:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(g.a)(...It))},openChannelCreateModal:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(J.a)(...It))},openSharedChannelCreateModal:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(d.a)(...It))},goToExternalConnections:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(K.a)(...It))},openSlackConnectDmInviteModal:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(Q.a)(...It))},openInviteToSharedWorkspaceModal:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(x.a)(...It))},openDmBrowserModal:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(S.a)(...It))},openSlackConnectTrialEntryPointModal:Xe=>_n(Object(V.a)(Xe)),enqueueToast:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(H.a)(...It))},openPrefsModal:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(te.a)(...It))},getChannelSectionName:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(ue.a)(...It))},setSidebarSectionsUnreadsOnlyCoachmarkVisible:Xe=>_n(Object(ee.w)(Xe)),openSearchWithEntity:function(){for(var Xe=arguments.length,It=new Array(Xe),$e=0;$e<Xe;$e++)It[$e]=arguments[$e];return _n(Object(dn.c)(...It))},setOnboardingPrefByApi:Xe=>_n(Object(mt.h)(Xe)),setUserPrefByApi:Xe=>_n(Object(Me.f)(Xe)),openUnreadsView:()=>_n(Object(X.a)({})),setSectionMenuCoachmarkVisible:Xe=>_n(Object(w.h)(Xe)),openComposerPage:()=>_n(Object(F.a)({})),openSectionShareDialog:Xe=>_n(Mt(Xe))}),"mapDispatchToProps"),va=Object(sn.a)(Object(u.a)(ko,qo)(_a));var Fa=y.a=va},xWZc:function(le,y,e){"use strict";e.r(y),e.d(y,"BaseHuddleSidebarEntrypointCoachmark",function(){return d});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("68qM"),O=e("nNoG"),v=e("Trx9"),B=e("ktUG"),P=e("uVZW"),M=e("69o4"),L=e("eWGC"),z=e("1jr5"),U=e("WAPM");const g=new O.b("huddles"),J=8810358407955,d=c(F=>{let{shouldRenderCurrentActiveHuddle:x,dismissCoachmark:Q,onClickShowMore:V}=F;const X=Object(s.useMemo)(()=>({eventId:B.EventId.HUDDLES_NUX_TOOLTIP,uiAction:B.UiAction.CLICK,uiElement:B.UiElement.NUX_HELPDESK,uiStep:P.h.HUDDLE_ENTRYPOINT,onClick:{enableClogAction:!0}}),[]);return x&&Q(),t.a.createElement(v.a,{eventId:B.EventId.HUDDLES_NUX_TOOLTIP,uiStep:P.h.HUDDLE_ENTRYPOINT,clogImpression:!0},t.a.createElement("div",null,t.a.createElement(z.c,{type:"info",showCloseButton:!0,isFixedPosition:!1,onClose:Q,className:"p-huddle_education__entrypoint"},g.rt("\u2728Use huddles to meet with your team. <a>Learn more.</a>",{"<a>":K=>{let{text:H}=K;return t.a.createElement(U.a,{autoClogProps:X,onClick:V,articleId:J},t.a.createElement("b",null,H))},fallbackHash:"cfeeb65aa2091a3a5edf1ce6fa87d47901c76fd4"}))))},"HuddleSidebarEntrypointCoachmark");d.displayName="HuddleSidebarEntrypointCoachmark";const S=c(F=>{let{shouldRenderCurrentActiveHuddle:x}=F;const Q=Object(u.i)();Object(C.a)(()=>{Q(Object(L.a)({notificationName:P.h.HUDDLE_ENTRYPOINT,action:P.f.IMPRESSION}))},[]);const V=Object(s.useCallback)(()=>Q(Object(M.a)({spaceName:P.g.IN_PRODUCT_COACHMARK,action:P.f.DISMISS})),[Q]),X=Object(s.useCallback)(()=>{V()},[V]);return t.a.createElement(d,{shouldRenderCurrentActiveHuddle:x,dismissCoachmark:V,onClickShowMore:X})},"ConnectedHuddleSidebarEntrypointCoachmark");S.displayName="ConnectedHuddleSidebarEntrypointCoachmark",y.default=S},xaOx:function(le,y,e){"use strict";e.d(y,"a",function(){return Tn});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("6DQg"),O=e("zxER"),v=e("JoR1"),B=e("bhDs"),P=e("uVZW"),M=e("7+Lm");const L=c(it=>{const Sa=Object(M.c)(it,P.g.SIDEBAR_POPOUT);return Sa===P.h.SIDEBAR_POPOUT_SOLUTION_GUIDE||Sa===P.h.SIDEBAR_POPOUT_QUESTION_AND_RECOMMENDATION_TIP},"isSidebarPopoutSpaceShowing");var z=e("Wn1n"),U=e("v5z3"),g=e("IaLB"),J=e("ITkT"),d=e("RVJP"),S=e("bqbz"),F=e("v7mh"),x=e("2vQQ"),Q=e("gq0b"),V=e("iJ8e"),X=e("SFTG"),K=e("nNoG"),H=e("TiPP"),w=e("cx3r"),T=e("VU9B");const ee=28,ne=10,ue=84,te=61,D=100,f=new K.b("channel_sidebar"),ie={drafts:()=>f.t("Drafts"),starred:()=>f.t("Starred"),channels:()=>f.t("Channels"),sharedChannels:()=>f.t("Shared Channels"),ims:()=>f.t("Messages",{fallbackHash:"f1b1f5c277f7954dfbed1eddb8517dad1651b04b"}),apps:()=>f.t("Recent apps",{fallbackHash:"eb537ca7589d275fa9d031a9a211ad476b691e63"}),slack_connect:()=>f.t("Slack Connect",{fallbackHashNs:"slack_connect_hub",fallbackHash:"e21da9e565b1e32162650ed549e03eaf5b4364e5"}),canvases:()=>f.t("Canvases")},Z={id:null,type:"pagesListSpacer",height:12,role:null},pe={id:"Vall_threads",type:"allThreadsLink",height:ee,key:"Vall_threads",role:w.b},q={id:"addMoreChannels",type:"addMoreChannels",dim:!0,height:w.e,key:"addMoreChannels",role:w.b,"aria-level":2},xe={id:"addMoreDM",type:"addMoreDM",dim:!0,height:w.e,key:"addMoreDM",role:w.b,"aria-level":2},ze={id:"connectLink",type:"connectLink",dim:!0,height:w.e,key:"connectLink",role:w.b,"aria-level":2},mt={id:"addMoreApps",type:"addMoreApps",dim:!0,height:w.e,key:"addMoreApps",role:w.b,"aria-level":2},Me={id:null,type:"discountOfferCTA",height:te,key:"discountOfferCTA",role:w.b,"aria-level":1},Ct={id:null,type:"goldenGateCTA",height:w.e,key:"goldenGateCTA",role:w.b,"aria-level":1},Qe={id:null,type:"instantSlackYouSection",height:ue,key:"instantSlackYouSection",role:w.b,"aria-level":1},st={id:null,type:"emptyState",height:w.e,index:null,role:w.a},Ot={id:null,type:"spacer",height:D,role:null},cn={type:"externalWorkspaceLink",height:w.e,role:w.b};function Ht(it,Sa){const dt=Object(Q.b)(it&&it.id),en=dt.sidebar&&dt.sidebar.rowHeight||ee,ua={id:it.id,key:it.id,type:"pageLink",height:en,scrollTop:Sa,scrollBottom:Sa+en,role:w.b};return ua["aria-level"]=1,ua}c(Ht,"getRowForPage");const Nn=c(it=>{let{sidebarSectionsOrdered:Sa=[],sidebarSections:dt={},visiblePageLinks:en=[],pages:ua=[],hasGoldenGateCTA:Ao=!1,hasBenefitsPageFooterCTA:yo=!1,hasSidebarDiscountOffer:Qt=!1,primaryView:Bo="",showAvatars:un=!1,isEditMode:an=!1,hasConnectLink:Zt=!1,canUserSeeInviteModal:ht=!1,showProgressiveDisclosureAddChannelsSidebarFlag:jt=!1,showProgressiveDisclosureAddTeammatesSidebarFlag:Pe=!1,isFiltering:ct=!1,isInstantSlackInviteeSession:Dn=!1,experimentInsetDesignGroupOn:eo=!1,showDesktopUpdateBanner:to=!1,getChannelSectionPref:Da,isSidebarPopoutSpaceVisible:ss=!1,digestAddedChannelCoachmarkChannelId:uo=null,onItemSelect:sr}=it;const vo=[];let rn=0;if(to&&vo.push({...w.g,id:"desktop-update-section-top-spacer",key:"desktop-update-section-top-spacer",scrollTop:rn,scrollBottom:rn+=w.g.height},{type:"desktopUpdate",id:"desktop-update-section-banner",key:"desktop-update-section-banner",role:"",height:78,scrollTop:rn,scrollBottom:rn+=78},{...Z,id:"desktop-update-section-bottom-spacer",key:"desktop-update-section-bottom-spacer",scrollTop:rn,scrollBottom:rn+=Z.height}),Dn&&(vo.push({...w.g,id:"instant-slack-you-section-top-spacer",key:"instant-slack-you-section-top-spacer",scrollTop:rn,scrollBottom:rn+=w.g.height}),vo.push({...Qe,height:Qe.height,scrollTop:rn,scrollBottom:rn+=Qe.height,role:Qe.role}),vo.push({...Z,id:"instant-slack-you-section-bottom-spacer",key:"instant-slack-you-section-bottom-spacer",scrollTop:rn,scrollBottom:rn+=Z.height})),!Dn&&!ct){vo.push({...w.g,id:"top-padding-spacer",key:"top-padding-spacer",height:12,scrollTop:rn,scrollBottom:rn+=12});const go={};ua.forEach(ta=>{go[ta.id]=ta}),en.forEach(ta=>{let Wo;ta==="Vall_threads"?Wo={...pe,scrollTop:rn,scrollBottom:rn+=pe.height,role:pe.role}:Wo=Ht(go[ta],rn),Wo["aria-level"]=1,vo.push(Wo),rn=Wo.scrollBottom}),en.length>0&&!eo&&vo.push({...Z,scrollTop:rn,scrollBottom:rn+=Z.height,key:"pagesListSpacer"})}let Ca=0;const ia=eo?42:w.e;if(Sa.forEach(go=>{var ta,Wo,fs,so,Yo;const Ga=dt[go]||{},Tr=Ga.isCollapsed;let as=0;const Ws=Ga.channelSectionSidebarBehavior===X.f,Te=((ta=Ga.channelSection)===null||ta===void 0?void 0:ta.type)===V.b&&!Ga.isCollapsed&&Ws,Be=!Dn&&((Wo=Ga.channelSection)===null||Wo===void 0?void 0:Wo.type)===V.g&&!Ga.isCollapsed&&Ws,Je=Be&&(Ga==null||(fs=Ga.channelsOrdered)===null||fs===void 0?void 0:fs.length)>ne,qe=ht,mn=Be&&(Je||qe),oa=Zt&&!Ga.isCollapsed&&((so=Ga.channelSection)===null||so===void 0?void 0:so.type)===V.c&&Ws,Un=((Yo=Ga.channelSection)===null||Yo===void 0?void 0:Yo.type)===V.j&&!Ga.isCollapsed&&Ws;let On;if(Ga.channelSection){const{emoji:Oo,name:Ro}=Ga.channelSection;On=Oo?`${Oo} ${Ro}`:Ro}else On=ie[go]();const mo=`externalWorkspaceAbout-${go}`,pn=Ga.channelSection.type===V.p.ExternalWorkspace&&(!Ga.isCollapsed||Bo===Object(T.f)(go));let Jn=[];Ga.isCollapsed||(Jn=[...Ga.channelsOrdered],Te&&Jn.push(q.id),mn&&Jn.push(xe.id),Un&&Jn.push(mt.id),oa&&Jn.push(ze.id),pn&&Jn.push(mo)),vo.push({...w.g,height:10,scrollTop:rn,scrollBottom:rn+=10,key:`spacer-sectionHeading-${go}`});const Ja=`sectionHeading-${go}`,Uo=Ga.channelsOrdered.length,Xa={...w.f,"aria-label":On,name:go,scrollTop:rn,height:ia,scrollBottom:rn+=ia,key:Ja,id:Ja,isEditMode:an,channelIds:Ga.channelsOrdered,channelSection:Ga.channelSection,channelSectionReadHiddenChannels:Ga.readHiddenChannelsOrdered,channelSectionMutedHiddenChannels:Ga.mutedHiddenChannelsOrdered,channelSectionUnreadWithNoMentionsHiddenChannels:Ga.unreadWithNoMentionsHiddenChannelsOrdered,channelSectionHasAllMutedHiddenChannels:Ga.hasAllMutedHiddenChannels,getChannelSectionPref:Da};Xa["aria-level"]=1,Xa["aria-expanded"]=!Tr,Xa["aria-owns"]=Jn.join(" "),vo.push(Xa),pn&&vo.push({...cn,id:mo,key:mo,channelSection:Ga.channelSection,workspaceId:Object(T.f)(go),scrollTop:rn,scrollBottom:rn+=cn.height,pageId:"aboutEventsView",onItemSelect:sr}),Ga.channelsOrdered.forEach((Oo,Ro)=>{if(!Ga.isCollapsed||Bo===Oo&&!an||Oo===uo){const vs={...w.c,id:Oo,index:Ca,sectionChannelIndex:as,scrollTop:rn,scrollBottom:rn+=w.c.height,channelSection:Ga.channelSection,showAvatars:un,isEditMode:an,key:Oo};vs["aria-level"]=2,vs["aria-posinset"]=Ro+1,vs["aria-setsize"]=Uo,uo&&(vs.showDigestChannelCoachmarkChannelId=!0),vo.push(vs)}Ca+=1,as+=1}),!an&&Te&&vo.push({...q,height:jt?q.height*2:q.height,scrollTop:rn,scrollBottom:rn+=q.height,channelSection:Ga.channelSection,showProgressiveDisclosureAddChannelsSidebarFlag:jt,role:q.role}),!an&&mn&&vo.push({...xe,height:Pe?xe.height*2:xe.height,scrollTop:rn,scrollBottom:rn+=xe.height,channelSection:Ga.channelSection,shouldShowInviteModalInAddMoreDMsLink:qe,shouldShowDmBrowserInAddMoreDMsLink:Je,showProgressiveDisclosureAddTeammatesSidebarFlag:Pe,role:xe.role}),!an&&oa&&vo.push({...ze,height:ze.height,scrollTop:rn,scrollBottom:rn+=ze.height,channelSection:Ga.channelSection,role:ze.role}),!an&&Un&&vo.push({...mt,height:mt.height,scrollTop:rn,scrollBottom:rn+=mt.height,channelSection:Ga.channelSection,role:mt.role})}),!Dn){const go=ua.find(ta=>ta.id===H.a);if(go&&yo){vo.push({...st,scrollTop:rn,scrollBottom:rn+=st.height,key:"benefits-page-empty-state-1"});const ta=Ht(go,rn);ta&&(vo.push(ta),rn=ta.scrollBottom)}Qt&&(vo.push({...st,scrollTop:rn,scrollBottom:rn+=st.height,key:"discount-offer-empty-state-1"}),vo.push({...Me,height:Me.height,scrollTop:rn,scrollBottom:rn+=Me.height,role:Me.role})),Ao&&(vo.push({...st,scrollTop:rn,scrollBottom:rn+=st.height,key:"golden-gate-cta-empty-state-1"}),vo.push({...Ct,height:Ct.height,scrollTop:rn,scrollBottom:rn+=Ct.height,role:Ct.role}))}vo.push({...w.g,scrollTop:rn,scrollBottom:rn+=w.g.height,key:"spacer-footer-1"}),vo.push({...w.g,scrollTop:rn,scrollBottom:rn+=w.g.height,key:"spacer-footer-2"}),vo.push({...w.g,scrollTop:rn,scrollBottom:rn+=w.g.height,key:"spacer-footer-3"}),vo.push({...w.g,scrollTop:rn,scrollBottom:rn+=w.g.height,key:"spacer-footer-4"}),ss&&vo.push({...Ot,scrollTop:rn,scrollBottom:rn+=Ot.height,key:"spacer-footer-5"});const Rs=vo.filter(go=>go["aria-level"]===1),ea=Rs.length;return Rs.forEach((go,ta)=>{go["aria-setsize"]=ea,go["aria-posinset"]=ta+1}),vo},"getChannelListRows");var zt=e("Zdzc"),Ln=e("QcWC"),Fn=e("JUEh"),Ye=e("ie1g"),dn=e("vfQU"),vt=e("On6p"),Xn=e("mQiU"),kn=e("2VFn"),he=e("rdha"),Gn=e("m5HF"),Va=e("eVCY"),Oe=e("rZ8V"),Ma=e("p/ji"),ga=e("I3z+"),zn=e("OaiI"),hn=e("DnI3"),nn=e("E6Du"),Xt=e("UdG6"),bn=e("y/ou"),sn=e("ZKjC"),Wt=e("ELVW");const Yt=Object(sn.b)(it=>!!(Object(Wt.a)(it)&&Object(v.u)(it,"enable_app_browser_view")));Yt.meta={name:"createSelector",key:"createSelectorgetSidebarEnableAppBrowserView",description:it=>!!(Object(Wt.a)(it)&&Object(v.u)(it,"enable_app_browser_view"))};var At=e("FaiB"),Ft=e("p0gK"),sa=e("sgFo");const ba=Object(he.f)((it,Sa)=>{let{primaryView:dt,shouldUseNavigate:en,getSiblingView:ua}=Sa;const Ao=["Pjoiner-launchpad","Pnotifications","Pcatch-up","Punreads","Vall_threads","Plater","Pdms","Pactivity","Pbrowse-huddles","Preactions","Pdaily-digest","Pdrafts","Poffline-outbox","Pbrowse-quip-files","Pbrowse-lists","Psales-home","Psaved","Pslack-connect","Pbrowse-channels","Pbrowse-files","Pbrowse-people","Papps","Pshortcuts","Pasync-modals","Pasync-modals",H.a],yo=Object(Oe.q)(it),Qt=Object(sa.J)(it);return Ao.filter(un=>un==="Vall_threads"?en?Object(Gn.x)(it,en,ua):Object(Gn.x)(it):yo&&un==="Punreads"&&(dt==="Punreads"||Object(Gn.j)(it))||yo&&Object(Ft.a)(it)&&un==="Pcatch-up"||yo&&un==="Pdrafts"&&(dt==="Pdrafts"||dt==="Pscheduled-messages"||dt==="Psent"||Object(Gn.n)(it))||yo&&un==="Pjoiner-launchpad"&&(dt==="Pjoiner-launchpad"||Object(Ma.i)(it))||yo&&un==="Pdaily-digest"&&Object(Gn.v)(it)||Qt&&un==="Pbrowse-huddles"&&Object(Gn.p)(it)?!0:yo||!Object(x.c)(it).map(ht=>ht.id).includes(un)?!1:!!(dt===un&&un!==H.a||un==="Preactions"||un==="Pasync-modals"||un==="Pnotifications"&&Object(v.m)(it)||un==="Punreads"&&Object(Gn.j)(it)||un==="Plater"&&Object(ga.c)(it)&&Object(Gn.q)(it)||un==="Pdms"&&Object(Gn.i)(it)||un==="Pactivity"&&Object(Gn.s)(it)||un==="Pbrowse-lists"&&Object(zn.isListsEnabled)(it)&&Object(Gn.r)(it)||un==="Psales-home"&&Object(Va.r)(it)||un==="Pdrafts"&&(dt==="Pdrafts"||dt==="Pscheduled-messages"||dt==="Psent"||Object(Gn.n)(it))||un==="Poffline-outbox"&&Object(hn.a)(it)&&Object(At.a)(it).length>0||un==="Psaved"&&Object(Gn.w)(it)||un==="Pslack-connect"&&Object(nn.a)(it)&&Object(Xt.a)(it)||un==="Pbrowse-channels"&&Object(Gn.m)(it)||un==="Pbrowse-files"&&Object(Gn.o)(it)||un==="Pbrowse-quip-files"&&Object(Gn.u)(it)||un==="Pbrowse-people"&&(dt==="Pbrowse-people"||dt==="Pbrowse-external-contacts"||dt==="Pbrowse-user-groups"||Object(Gn.t)(it)||Object(bn.a)(it))||un==="Papps"&&Yt(it)||un==="Pshortcuts"&&Object(Gn.l)(it)&&Object(Gn.h)(it)||un===H.a&&dt===H.a&&Object(B.j)(it)))});var Ba=c(it=>{let{calculateSidebarSectionsResult:Sa,getChannelSectionPref:dt,digestAddedChannelCoachmarkChannelId:en}=it;const{shouldUseNavigate:ua,activeTab:Ao,getSiblingView:yo}=Object(s.useContext)(Xn.a),Qt=Object(O.c)(B.h),Bo=Object(O.c)(B.d),un=Object(O.c)(B.i),an=Object(O.c)(x.c),Zt=Object(O.c)(zt.c),ht=Object(O.c)(J.e),jt=Object(O.c)(as=>Object(g.mb)(as,{tip:U.f.AddTeammates})),Pe=Object(O.c)(as=>Object(g.mb)(as,{tip:U.f.AddChannels})),ct=Object(O.c)(Object(s.useCallback)(as=>{if(ua){var Ws;return(Ws=Object(F.h)(as,{tab:Ao,container:kn.k.Primary}))===null||Ws===void 0?void 0:Ws.id}return Object(z.a)(as)},[Ao,ua])),Dn=Object(O.c)(as=>!!Object(v.u)(as,"show_sidebar_avatars")),eo=Object(O.c)(S.r),to=Object(O.c)(Object(s.useCallback)(as=>ba(as,{primaryView:ct,shouldUseNavigate:ua,getSiblingView:yo}),[ct,ua,yo])),Da=Object(O.c)(S.t),ss=Object(O.c)(Ln.a),uo=Object(O.c)(as=>Object(d.d)(as,"inset_design")==="on"),sr=Object(O.c)(Ye.j)!==null,vo=Object(dn.S)(),rn=Object(dn.db)()&&sr&&vo===vt.a,Ca=Object(O.c)(L),{sidebarSections:ia,sidebarSectionsOrdered:Rs,sidebarSummary:ea,mutedChannels:go,unreadChannels:ta,channelBadgeCount:Wo}=Sa,fs=Object(Fn.a)(),so=Rs.length===0||!1;return{rows:Object(s.useMemo)(()=>so?[]:Nn({visiblePageLinks:to,sidebarSectionsOrdered:Rs,sidebarSections:ia,pages:an,hasConnectLink:Zt,canUserSeeInviteModal:ht,showProgressiveDisclosureAddChannelsSidebarFlag:Pe,showProgressiveDisclosureAddTeammatesSidebarFlag:jt,hasGoldenGateCTA:Qt,hasBenefitsPageFooterCTA:Bo,hasSidebarDiscountOffer:un,primaryView:ct,showAvatars:Dn,isEditMode:eo,isFiltering:Da,isInstantSlackInviteeSession:ss,experimentInsetDesignGroupOn:uo,showDesktopUpdateBanner:rn,getChannelSectionPref:dt,isSidebarPopoutSpaceVisible:Ca,digestAddedChannelCoachmarkChannelId:en,onItemSelect:fs}),[to,so,Rs,ia,an,Zt,ht,Pe,jt,Qt,Bo,un,ct,Dn,eo,Da,ss,uo,rn,dt,Ca,en,fs]),placeholderType:so?"edit-mode-filter-empty":void 0,isEditModeFilterEmpty:so,visibleSidebarSectionsOrdered:Rs,sidebarSummary:ea,mutedChannels:go,unreadChannels:ta,channelBadgeCount:Wo,sidebarSections:ia}},"useHomeChannelSidebarVisibleRows"),qn=e("NV6F"),Mt=e("1t+N"),da=e("hbEN"),ha=e("SQ0V"),aa=e("II0w"),fo=e("DYc5"),No=e("Vy29");const fa=Object(da.a)((it,Sa,dt)=>{let{channelSectionId:en,isCollapsed:ua,reason:Ao}=dt;const yo=Sa(),Qt=Object(v.u)(yo,"channel_sections"),Bo=Object(aa.a)(Qt)||{};Bo[en]||(Bo[en]={}),Bo[en][X.a]=ua?"1":"0",it(Object(fo.g)({pref:"channel_sections",value:JSON.stringify(Bo),reason:Ao})).catch(()=>{it(Object(No.b)({pref:"channel_sections",value:Qt}))})},3e3),_a=Object(ha.c)("Channel Sections: UI action when the collapsed state of a custom section is toggled",(it,Sa,dt)=>{let{channelSectionId:en,isCollapsed:ua,reason:Ao}=dt;const yo=Sa(),Qt=Object(v.u)(yo,"channel_sections"),Bo=Object(aa.a)(Qt)||{};Bo[en]||(Bo[en]={}),Bo[en][X.a]=ua?"1":"0",it(Object(No.b)({pref:"channel_sections",value:JSON.stringify(Bo)})),fa.cancel(),fa(it,Sa,{channelSectionId:en,isCollapsed:ua,reason:Ao})});_a.meta={name:"createThunk",key:"createThunksetChannelSectionCollapsed",description:"Channel Sections: UI action when the collapsed state of a custom section is toggled"};var ko=e("Q93d"),qo=e("NDvm"),va=e("e/b2"),Fa=e("AOHV"),_n=e("s4P+"),Xe=e("O86Y"),It=e("Iprt"),$e=e("+c8D"),In=e("RWGU");const ra=Object(ha.c)("prefetch and cache the result of sharedInvites.canGetLink",function(it,Sa){let{reason:dt="slack-connect-dm-eligibility-pre-fetch"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return it(Object(It.a)({reason:dt})).then(en=>en.ok?(it(Object(In.c)({isEligible:en.is_eligible})),Object($e.b)(Object(Xe.g)(Sa())),en.is_eligible):(Object(_n.a)({getState:Sa}).error("preFetchSlackConnectDmEligibility sharedInvites.canGetLink not ok"),!1)).catch(en=>(Object(_n.a)({getState:Sa}).error("preFetchSlackConnectDmEligibility sharedInvites.canGetLink rejected",en),!1))});ra.meta={name:"createThunk",key:"createThunkpreFetchSlackConnectDmEligibility",description:"prefetch and cache the result of sharedInvites.canGetLink"};var wn=e("nZ0E"),Aa=e("wKGu"),Qn=e("ktUG"),Bn=e("+gmx");const Tn=c(it=>{let{onOverflow:Sa}=it;const dt=Object(u.i)(),en=Object(Aa.a)(),ua=Object(s.useCallback)(Pe=>dt(Object(qn.b)(Pe)),[dt]),Ao=Object(s.useCallback)(()=>{en.track(Qn.EventId.CHANNEL_BROWSER_OPEN,{contexts:{ui_context:{entry_point:"sidebar_section_menu"}}}),dt(Object(wn.a)({initialBrowsePageFilter:{filter:"channelType",value:"all"}}))},[dt,en]),yo=Object(s.useCallback)(Pe=>dt(Object(qo.a)({...Pe,onBrowserChannelsClick:Ao})),[dt,Ao]),Qt=Object(O.c)(Bn.k),Bo=Object(O.f)(S.w),un=Object(Fa.a)(),an=Object(va.b)({getChannelSectionPref:un,orderedChannelSections:Bo,digestAddedChannelCoachmarkChannelId:Qt}),Zt=Ba({calculateSidebarSectionsResult:an,getChannelSectionPref:un,digestAddedChannelCoachmarkChannelId:Qt}),ht=Object(s.useCallback)(Pe=>{let{channelSectionId:ct,pref:Dn,value:eo}=Pe;return Dn===X.a?_a({channelSectionId:ct,isCollapsed:Object(ko.a)(eo),reason:"set channel section collapse in home sidebar"}):Object(Mt.a)({channelSectionId:ct,pref:Dn,value:eo})},[]),jt=Object(s.useCallback)(function(){for(var Pe=arguments.length,ct=new Array(Pe),Dn=0;Dn<Pe;Dn++)ct[Dn]=arguments[Dn];return dt(ra(...ct))},[dt]);return t.a.createElement(C.a,{channelSidebarVisibleRows:Zt,getContextMenuTemplateForChannel:ua,getContextMenuTemplateForSectionHeading:yo,setChannelSectionPref:ht,getChannelSectionPref:un,orderedChannelSections:Bo,preFetchSlackConnectDmEligibility:jt,showChannelSectionsEduCoachmark:!0,onOverflow:Sa,digestAddedChannelCoachmarkChannelId:Qt})},"ConnectedHomeChannelSidebar");Tn.displayName="ConnectedHomeChannelSidebar"},xc9X:function(le,y,e){"use strict";e.r(y);var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("zlyu"),v=e("5yBE"),B=e("nNoG"),P=e("69o4"),M=e("zm5I"),L=e("uVZW"),z=e("P7By"),U=e("ktUG"),g=e("ap5V");const J=new B.b("channel_sidebar"),d={elementType:U.ElementType.COACHMARK,uiComponentName:U.UiComponentName.SIDEBAR_SIMPLIFICATION_COACHMARK,eventId:U.EventId.CLIENT_GENERAL},S=t.a.memo(x=>{let{anchorElement:Q}=x;const V=Object(u.i)(),X=Object(C.c)(M.a),K=Object(s.useCallback)(()=>{V(Object(P.a)({spaceName:L.g.IN_PRODUCT_COACHMARK,action:L.f.DISMISS}))},[V]),H=Object(s.useCallback)(()=>{K(),V(Object(g.a)({articleId:5509711831827}))},[V,K]),w=Object(s.useCallback)(()=>X==="dark"?e.e("gantry-v2-async-lottie-sidebar-simplification-coachmark-animation-dark.json").then(e.t.bind(null,"cFwY",3)):e.e("gantry-v2-async-lottie-sidebar-simplification-coachmark-animation-light.json").then(e.t.bind(null,"LeA5",3)),[X]);return Q?t.a.createElement(O.a,{coachmarkClassNames:"p-sidebar_simplification_coachmark",anchorElement:Q,closeCoachmark:K,isOpen:!0,arrowPosition:80,offsetY:300,offsetX:-8,centerOnArrow:!0,orientation:"right-top",forceCoachmarkRefurbish:!0,autoClogProps:d},t.a.createElement("div",{className:"p-sidebar_simplification_coachmark__wrapper"},t.a.createElement("div",{className:"p-sidebar_simplification_coachmark__hero_container"},t.a.createElement(z.a,{getAnimationImport:w,className:"p-sidebar_simplification_coachmark__hero",autoplay:!0,loop:!0})),t.a.createElement("div",{className:"p-sidebar_simplification_coachmark__content"},t.a.createElement("h2",{className:"margin_bottom_25"},J.t("A simpler sidebar")),t.a.createElement("p",null,J.rt("We\u2019ve tidied up icons and reorganized menus, but all your conversations are right where you left them.")),t.a.createElement("p",{className:"margin_bottom_0"},t.a.createElement(v.a,{onClick:H},J.rt("Learn more")))))):null});var F=y.default=S},xfem:function(le,y,e){"use strict";var s=e("zoYt"),t=e("XxnT"),u=e("nNoG");const C=new u.b("search");function O(v){let{items:B,propertyToCheck:P,rowItemGenerator:M,titleVerb:L="",conversionFactor:z=1,propertyFallback:U="created",experimentDesktopIa4NewTeamsStringsGroupOn:g=!1}=v;const J=[];let d=null;return B.forEach((S,F,x)=>{var Q;const V=(Q=S[P])!==null&&Q!==void 0?Q:S[U],X=Object(t.a)(V*z);let K=!1,H=!1;if(X.isValid()){if(!d||!X.isSame(d,"day")){let T=!1;d||(T=!0),d=X.clone(),J.push({key:X.toString(),type:s.c.SectionLabel,data:{title:X.calendar(null,{sameDay:`[${L} ${g?C.t("today"):""}]`,lastDay:`[${L} ${g?C.t("yesterday"):""}]`,lastWeek:`[${L}] dddd`,sameElse:`[${L}] MMMM Do`}),isFirst:T},role:s.b.Presentation}),K=!0}if(F===x.length-1)H=!0;else if(F<x.length-1){var w;const T=(w=x[F+1][P])!==null&&w!==void 0?w:x[F+1][U];Object(t.a)(T*z).isSame(X,"day")||(H=!0)}J.push(M(S,K,H,F))}}),J}c(O,"getExplorerRowsGroupedByDay"),y.a=O},xtxb:function(le,y,e){le.exports=e.p+"external_connection_static-7bdb59f.png"},xuAo:function(le,y,e){"use strict"},xyeU:function(le,y,e){"use strict";e.d(y,"a",function(){return H});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("3IUx"),O=e.n(C),v=e("hQHb"),B=e.n(v),P=e("79wK"),M=e("o3gz"),L=e("03PU"),z=e("N0zA"),U=e("zxER"),g=e("q6Tz"),J=e("eWGC"),d=e("uVZW"),S=e("JoR1"),F=e("nNoG"),x=e("Qrj/"),Q=e("ktUG");const V=new F.b("ia4"),X={clogImpression:!0,elementName:"tabs_reveal_coachmark",elementType:Q.ElementType.COACHMARK,eventId:Q.EventId.TAB_RAIL,uiStep:Q.UiStep.TABS_REVEAL_COACHMARK},K=P.a.TABS_REVEAL_COACHMARK;function H(ee){let{areAnimationsEnabled:ne,children:ue,experimentIa4NewTeamsV2GroupAnyTreatment:te,experimentIa4NewTeamsV2GroupTreatmentHome:D,isOpen:f,onClose:ie,UNSAFE_parentSelector:Z}=ee,pe="",q="";te&&(pe=D?V.t("You\u2019re on a roll \u2014 say hello to DMs, Activity and More"):V.t("You\u2019re on a roll \u2014 say hello to DMs and Activity"),q=D?V.t("Easily jump into DMs, catch up on your notifications, and browse all of the time-saving tools in More."):V.t("Easily jump into DMs and catch up on your notifications."));const xe=Object(s.useMemo)(()=>t.a.createElement("img",{alt:"","aria-hidden":!0,className:"p-tabs_reveal_coachmark__hero",src:ne?O.a:B.a,width:"100%"}),[ne]),ze=Object(s.useMemo)(()=>t.a.createElement(M.b,{ariaLabel:q,arrowPosition:20,autoClogProps:X,bodyText:q,centerOnArrow:!0,className:"p-tabs_reveal_coachmark",closeCoachmark:ie,hero:xe,isMegaphoneCoachmark:!1,isOpen:f,offsetX:12,offsetY:68,title:pe,width:400,UNSAFE_parentSelector:Z}),[Z,q,xe,f,ie,pe]);return t.a.createElement(L.c,{coachmarkElement:ze,orientation:"right-top"},ue)}c(H,"BaseTabsRevealCoachmark"),H.displayName="BaseTabsRevealCoachmark";function w(ee){let{children:ne}=ee;const ue=Object(u.i)(),te=Object(U.c)(q=>!!Object(S.u)(q,"a11y_animations")),D=Object(U.c)(x.a.isAnyTreatment),f=Object(U.c)(x.a.isTreatmentHome),{closeCoachmark:ie,isOpen:Z}=Object(z.a)(d.h.TAB_RAIL_TABS_REVEAL_COACHMARK),pe=Object(s.useCallback)(()=>{ie(),ue(Object(g.c)({event:{spaces:[d.g.PROGRESSIVE_DISCLOSURE],type:d.e.REQUEST_SPACES}}))},[ie,ue]);return Object(s.useEffect)(()=>{D&&Z&&ue(Object(J.a)({action:d.f.IMPRESSION,notificationName:d.h.TAB_RAIL_TABS_REVEAL_COACHMARK}))},[ue,D,Z]),D?t.a.createElement(H,{areAnimationsEnabled:te,experimentIa4NewTeamsV2GroupAnyTreatment:D,experimentIa4NewTeamsV2GroupTreatmentHome:f,isOpen:Z,onClose:pe},ne):t.a.createElement(t.a.Fragment,null,ne)}c(w,"TabsRevealCoachmark"),w.displayName="TabsRevealCoachmark";var T=y.b=w},y7tO:function(le,y,e){le.exports=e.p+"add_external_workspace_to_home_illustration_temp-d6fe215.svg"},yaP9:function(le,y,e){"use strict";e.d(y,"a",function(){return S});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("Trx9"),O=e("vS+A"),v=e("zonX"),B=e("ktUG"),P=e("nNoG"),M=e("zxER"),L=e("eWGC"),z=e("uVZW"),U=e("4YJR"),g=e("IaLB"),J=e("v5z3");const d=new P.b("setup_page"),S=c(Q=>{let{tip:V,children:X,uiComponentVariant:K,onClick:H}=Q;const T={[J.f.AddTeammates]:d.t("\u{1F914} Anyone missing?"),[J.f.AddChannels]:d.t("\u{1F446} Try this")}[V];return t.a.createElement(C.a,{eventId:B.EventId.NEWXP_TEAM_CREATE,uiStep:B.UiStep.PROG_DISC_TIP,stepVariant:V,elementName:J.g.Flag,uiComponentVariant:K,clogImpression:!0},t.a.createElement("div",{className:"p-setup_prog_disc_sidebar_tip",role:"presentation",onClick:H,"data-qa":`flag_tip--${V}`},t.a.createElement("div",{className:"p-setup_prog_disc_sidebar_tip__enclose p-setup_prog_disc_sidebar_tip__enclose--ia4"},X),t.a.createElement("div",{className:"p-setup_prog_disc_sidebar_tip__content p-setup_prog_disc_sidebar_tip__content--ia4"},T,t.a.createElement(O.a,{optOutIconClass:"p-opt_out_button_icon--add-teammates p-opt_out_button_icon--ia4",optOutButtonClass:"p-opt_out_button--add-teammates"}))))},"ProgressiveDisclosureSidebarFlagTip");S.displayName="ProgressiveDisclosureSidebarFlagTip";const F=c(Q=>{let{tip:V,onFlagClick:X,children:K}=Q;const H=Object(u.i)(),w=Object(M.c)(g.K),T=Object(M.c)(g.i);Object(v.a)(V,J.g.Flag);const ee=Object(s.useCallback)(()=>{J.h[V]&&H(Object(L.a)({notificationName:J.h[V],action:z.f.CLICK,step:J.g.Flag})),(T==null?void 0:T.tip)===J.f.AddTeammates&&H(Object(U.m)({state:J.g.Explainer,tip:J.f.AddTeammates})),typeof X=="function"&&X()},[H,X,V,T]);return t.a.createElement(S,{uiComponentVariant:w,tip:V,onClick:ee,onFlagClick:X},K)},"ConnectedProgressiveDisclosureSidebarFlagTip");F.displayName="ConnectedProgressiveDisclosureSidebarFlagTip";var x=y.b=F},ygq4:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("zxER"),O=e("ifKl"),v=e("Yauy"),B=e("y/Pn"),P=e("Iwbv"),M=e("s4P+"),L=e("E3dU"),z=e("9oTK"),U=e("SQ0V"),g=e("dyMV"),J=e("8gAR"),d=e("GW96"),S=e("vOnh");const F={reason:"dms-tab-populate"},x=Object(U.c)("get all dms for dms page",function(){var Nt=Object(z.coroutine)(function*(kt,Et){let Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:F;const Kt=c(ln=>{const{ims:wt=[],mpims:fn=[]}=ln,et=[],Ie=[],Ve=[],De=c(We=>{const{id:Ze,channel:Dt,latest:ft,message:on}=We??{};Dt&&on&&ft&&Ze&&(et.push(Dt),Ie.push({...on,channel:Dt.id}),Ve.push({id:Ze,latest:ft??""}))},"getChannelsToUpsert");return(fn!=null&&fn.length||wt!=null&&wt.length)&&(wt==null||wt.forEach(De),fn==null||fn.forEach(De),kt(Object(J.a)({channels:et})),kt(Object(d.a)({messages:Ie})),kt(Object(S.a)(Ve))),wt.concat(fn)},"hydrateTheChannels");return kt(Object(g.a)({...F,...Pt})).then(Kt)});return function(kt,Et){return Nt.apply(this,arguments)}}());x.meta={name:"createThunk",key:"createThunkgetAllDmsForDmsPage",description:"get all dms for dms page"};var Q=e("Kmpi"),V=e("xwCZ"),X=e("vfvl"),K=e("gVOt"),H=e("RcBX"),w=e("C3vN"),T=e("BHdc"),ee=e("W29z"),ne=e("mQiU"),ue=e("2VFn"),te=e("nNoG"),D=e("es5r"),f=e("oWj6"),ie=e("qr0+"),Z=e("N8ug"),pe=e("qMw6"),q=e("Enx8"),xe=e("fdv1"),ze=e("N3JQ"),mt=e("JoR1");const Me=new te.b("a11y");var Qe=c(Nt=>{let{senderName:kt,recipients:Et,date:Pt,time:Kt,includeDateTimeFirst:ln,unreadCount:wt,message:fn}=Nt;const et=kt?Object(te.k)(kt):void 0,Ie=Object(te.k)(Et),Ve=Pt?Object(te.k)(Pt):void 0,De=Object(te.k)(Kt),We=Object(te.k)(fn);return wt>0?ln?Pt?et?Me.t("{unreadCount, plural, =1 {# unread} other {# unread}}, {senderName} to {recipients} {date} at {time}: {message}",{unreadCount:wt,recipients:Ie,date:Ve,time:De,senderName:et,message:We}):Me.t("{unreadCount, plural, =1 {# unread} other {# unread}}, to {recipients} {date} at {time}: {message}",{unreadCount:wt,recipients:Ie,date:Ve,time:De,message:We}):et?Me.t("{unreadCount, plural, =1 {# unread} other {# unread}}, {senderName} to {recipients} at {time}: {message}",{unreadCount:wt,recipients:Ie,time:De,senderName:et,message:We}):Me.t("{unreadCount, plural, =1 {# unread} other {# unread}}, to {recipients} at {time}: {message}",{unreadCount:wt,recipients:Ie,time:De,message:We}):Pt?et?Me.t("{unreadCount, plural, =1 {# unread} other {# unread}}, {senderName} to {recipients}: {message} {date} at {time}.",{unreadCount:wt,recipients:Ie,date:Ve,time:De,senderName:et,message:We}):Me.t("{unreadCount, plural, =1 {# unread} other {# unread}}, to {recipients}: {message} {date} at {time}.",{unreadCount:wt,recipients:Ie,date:Ve,time:De,message:We}):et?Me.t("{unreadCount, plural, =1 {# unread} other {# unread}}, {senderName} to {recipients}: {message} At {time}.",{unreadCount:wt,recipients:Ie,time:De,senderName:et,message:We}):Me.t("{unreadCount, plural, =1 {# unread} other {# unread}}, to {recipients}: {message} At {time}.",{unreadCount:wt,recipients:Ie,time:De,message:We}):ln?Pt?et?Me.t("{senderName} to {recipients} {date} at {time}: {message}",{recipients:Ie,date:Ve,time:De,senderName:et,message:We}):Me.t("To {recipients} {date} at {time}: {message}",{recipients:Ie,date:Ve,time:De,message:We}):et?Me.t("{senderName} to {recipients} at {time}: {message}",{recipients:Ie,time:De,senderName:et,message:We}):Me.t("To {recipients} at {time}: {message}",{recipients:Ie,time:De,message:We}):Pt?et?Me.t("{senderName} to {recipients}: {message} {date} at {time}.",{recipients:Ie,date:Ve,time:De,senderName:et,message:We}):Me.t("To {recipients}: {message} {date} at {time}.",{recipients:Ie,date:Ve,time:De,message:We}):et?Me.t("{senderName} to {recipients}: {message} At {time}.",{recipients:Ie,time:De,senderName:et,message:We}):Me.t("To {recipients}: {message} At {time}.",{recipients:Ie,time:De,message:We})},"formatAriaLabelForDmsListListItem"),st=e("HBMi"),Ot=e("rEgV"),cn=e("tqVr"),Ht=e("rsVu"),Nn=e("E97Y"),zt=e("UIhb");const Ln=new te.b("a11y"),Fn=/[^a-zA-Z0-9]$/g,Ye=c((Nt,kt)=>{let{channel:Et,senderIsYou:Pt}=kt;const Kt=Object(K.a)(Et);return Kt?Object(w.kb)(Object(V.g)(Nt,Kt))?Ln.t("You"):Pt?Object(q.a)(Nt,Kt):Ln.t("You"):void 0},"getIMRecipient"),dn=c((Nt,kt)=>{let{channel:Et,senderId:Pt,senderIsYou:Kt}=kt;const ln=Object(v.F)(Nt,Et,{memberToExclude:Pt});if(ln)return Kt?ln:[Ln.t("You")].concat(ln).join(", ")},"getMPIMRecipients"),vt=c((Nt,kt)=>{let{channel:Et,senderId:Pt,senderIsYou:Kt}=kt;return Object(Nn.g)(Et)?Ye(Nt,{channel:Et,senderIsYou:Kt}):dn(Nt,{channel:Et,senderId:Pt,senderIsYou:Kt})},"getRecipients"),Xn=Object(U.c)("Build aria-label for ListItem in the DMs list",(Nt,kt,Et)=>{let{ts:Pt,channelId:Kt}=Et;const ln=kt(),wt=Kt&&Pt?Object(zt.b)(ln,Kt,Pt):null;if(!wt)return;const fn=Object(L.d)(ln,Kt);if(!fn)return;const et=Object(xe.a)(ln,{channelId:Kt,ts:Pt,viewContext:pe.a.ALL_DMS});if(!et)return;const Ie=Object(ze.a)({text:(et==null?void 0:et.text)||"",attachmentCount:et==null?void 0:et.attachmentCount,attachmentTexts:et==null?void 0:et.attachmentTexts,reminderText:et==null?void 0:et.reminderText,files:et==null?void 0:et.files,includeDate:!1,hideTimestamp:!0});if(!Ie)return;const Ve=Fn.test(Ie),De=!!Object(mt.u)(ln,"a11y_screen_reader_message_label_date_time_first"),We=Object(st.a)(Pt,{returnMoment:!0}),Ze=Object(Ot.a)(Pt)?void 0:Object(cn.a)(We,{shortenMonth:!0}),Dt=Object(mt.u)(ln,"time24"),ft=Object(Ht.a)(We,{do24hrTime:Dt}),on=Object(v.R)(fn),at=wt.user,Ut=Object(V.g)(ln,at),vn=Object(w.kb)(Ut),Ne=vn?Ln.t("You"):Object(q.a)(ln,at),Zn=vt(ln,{channel:fn,senderId:at,senderIsYou:vn});return Qe({senderName:Ne,recipients:Zn,date:Ze,time:ft,includeDateTimeFirst:De,unreadCount:on||0,message:Ve?Ie:`${Ie}.`})});Xn.meta={name:"createThunk",key:"createThunkmakeAriaLabelForDmsListListItem",description:"Build aria-label for ListItem in the DMs list"};var kn=Xn,he=e("pu3F"),Gn=e("tOKv"),Va=e("MrH2"),Oe=e("1rQd"),Ma=e("J+56"),ga=e("ptA3"),zn=e("uZL6"),hn=e("ktUG"),nn=e("ZKjC"),Xt=e("Dp0a");const bn=new te.b("messages_action_items"),{DMS_TAB:sn}=pe.a,Wt=Object(nn.b)((Nt,kt)=>{let{ts:Et,channelId:Pt,messageContainerType:Kt}=kt;if(!(Kt===sn))return null;const wt=Object(zt.b)(Nt,Pt,Et);if(!wt)return null;const fn=Object(L.d)(Nt,Pt);return Object(v.z)(Nt,fn)===wt.ts||!Object(Xt.a)({message:wt,channel:fn,viewContext:Kt})?null:{id:he.X.markDmsTabMessageRead,name:bn.t("Mark as read",{fallbackHash:"c1ee860bc3a94be1ae96eaa05833713b79c6634b",fallbackHashNs:"activity"}),"data-qa":"dms_tab__context_menu_mark_message_read",frecencyId:"dms_tab__context_menu_mark_message_read",uiElement:hn.UiElement.DMS_TAB_CONTEXT_MENU_MARK_READ}});Wt.meta={name:"createSelector",key:"createSelectordmsTabMarkMessageRead",description:(Nt,kt)=>{let{ts:Et,channelId:Pt,messageContainerType:Kt}=kt;if(!(Kt===sn))return null;const wt=Object(zt.b)(Nt,Pt,Et);if(!wt)return null;const fn=Object(L.d)(Nt,Pt);return Object(v.z)(Nt,fn)===wt.ts||!Object(Xt.a)({message:wt,channel:fn,viewContext:Kt})?null:{id:he.X.markDmsTabMessageRead,name:bn.t("Mark as read",{fallbackHash:"c1ee860bc3a94be1ae96eaa05833713b79c6634b",fallbackHashNs:"activity"}),"data-qa":"dms_tab__context_menu_mark_message_read",frecencyId:"dms_tab__context_menu_mark_message_read",uiElement:hn.UiElement.DMS_TAB_CONTEXT_MENU_MARK_READ}}};var Yt=Wt,At=e("NK7x");const Ft=new te.b("messages_action_items"),sa=Object(nn.b)((Nt,kt)=>{let{channelId:Et}=kt;if(!Object(L.d)(Nt,Et))return null;const{muteConversation:Kt,unmuteConversation:ln}=he.X,wt=Object(At.b)(Nt,Et),fn=wt?ln:Kt,et=wt?Ft.t("Unmute conversation",{fallbackHash:"2c24b9505706f4aefd6517f8f387393af0af821c",fallbackHashNs:"activity"}):Ft.t("Mute conversation",{fallbackHash:"d261547e001c2521216f8219feebb2ac2b53709e",fallbackHashNs:"activity"});return{id:fn,name:et,"data-qa":"dms_tab_context_menu_mark_dms_tab_toggle_mute",frecencyId:"dms_tab_context_menu_mark_dms_tab_toggle_mute",uiElement:hn.UiElement.DMS_TAB_CONTEXT_MENU_MUTE_CONVERSATION}});sa.meta={name:"createSelector",key:"createSelectortoggleMute",description:(Nt,kt)=>{let{channelId:Et}=kt;if(!Object(L.d)(Nt,Et))return null;const{muteConversation:Kt,unmuteConversation:ln}=he.X,wt=Object(At.b)(Nt,Et),fn=wt?ln:Kt,et=wt?Ft.t("Unmute conversation",{fallbackHash:"2c24b9505706f4aefd6517f8f387393af0af821c",fallbackHashNs:"activity"}):Ft.t("Mute conversation",{fallbackHash:"d261547e001c2521216f8219feebb2ac2b53709e",fallbackHashNs:"activity"});return{id:fn,name:et,"data-qa":"dms_tab_context_menu_mark_dms_tab_toggle_mute",frecencyId:"dms_tab_context_menu_mark_dms_tab_toggle_mute",uiElement:hn.UiElement.DMS_TAB_CONTEXT_MENU_MUTE_CONVERSATION}}};var ba=sa,Ha=e("UMwZ"),Ba=e("rdha");const qn=new te.b("messages_action_items");var da=Object(Ba.c)((Nt,kt)=>{let{channelId:Et}=kt;const Pt=Object(L.d)(Nt,Et);if(!Pt)return null;const Kt=he.X.showDetails,ln=Object(Nn.h)(Pt)?qn.t("View conversation details",{fallbackHash:"2c07fc70e155d2ece84d09ee9ccbcf2360aa3e8f",fallbackHashNs:"activity"}):qn.t("View channel details",{fallbackHash:"fa4fe5f6ebd939a3f0478bc80b4bcc1890ef936e",fallbackHashNs:"menu"});return{id:Kt,name:ln,"data-qa":"dms_tab_context_menu_open_channel_details",frecencyId:"dms_tab_context_menu_open_channel_details",uiElement:hn.UiElement.DMS_TAB_CONTEXT_MENU_CONVERSATION_DETAILs}});const ha=new te.b("messages_action_items");var fo=Object(Ba.c)((Nt,kt)=>{let{ts:Et,channelId:Pt}=kt;if(!Object(L.d)(Nt,Pt)||!Object(zt.b)(Nt,Pt,Et))return null;const wt=he.X.copySubmenu,fn=ha.t("Copy",{fallbackHash:"af74f7c5362aaee985bf8cda3dd75fc80751ce51",fallbackHashNs:"activity"});return{id:wt,name:fn,"data-qa":"dms_tab_context_menu_copy_submenu",frecencyId:"dms_tab_context_menu_copy_submenu",uiElement:hn.UiElement.DMS_TAB_CONTEXT_MENU_COPY_SUBMENU}}),No=e("I3z+"),fa=e("+l5E"),_a=e("/35D"),ko=e("QcWC"),qo=e("ZobM");const va=new te.b("saved_for_later"),Fa=t.a.createElement(qo.a,{name:"bookmark"}),_n=t.a.createElement(qo.a,{name:"bookmark",variation:"filled"});var It=Object(Ba.c)((Nt,kt)=>{let{ts:Et,channelId:Pt}=kt;if(Object(ko.a)(Nt)||!Object(No.c)(Nt))return null;const ln=Object(zt.b)(Nt,Pt,Et);if(!ln||Object(fa.cb)(ln))return null;const wt=Object(fa.xb)(ln),fn=wt?va.t("Remove from Later"):va.t("Save for later"),et=wt?_n:Fa,Ie=wt?"p-saved_item__action--saved":void 0,Ve=he.X.later,{disabled:De,showOfflineIcon:We}=Object(_a.a)(Nt,Ve);return{id:Ve,name:fn,icon:et,className:Ie,"data-qa":"later",frecencyId:"later",disabled:De,showOfflineIcon:We,isSaved:wt}}),$e=e("IE7h"),In=e("HVk8"),ra=e("n2GJ"),wn=e("+gmx");const Aa=new te.b("messages_action_items");var Bn=Object(Ba.f)((Nt,kt)=>{let{channelId:Et}=kt;return Object(wn.M)(Nt,Object(L.d)(Nt,Et))?{id:he.X.summarizeSubmenu,name:Aa.t("Summarize",{fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c",fallbackHashNs:"assistant"}),"data-qa":"summarize_submenu",frecencyId:Object(ra.c)("summarize_submenu"),uiElement:hn.UiElement.SUMMARIZE_DM_SUBMENU}:null});const Tn=Object(zn.a)((Nt,kt)=>{let{channelId:Et,ts:Pt}=kt;return It(Nt,{ts:Pt,channelId:Et})},(Nt,kt)=>{let{channelId:Et,ts:Pt,messageContainerType:Kt}=kt;return Object($e.a)(Nt,{ts:Pt,channelId:Et,messageContainerType:Kt})},(Nt,kt)=>{let{channelId:Et,ts:Pt}=kt;return Object(Ha.a)(Nt,{ts:Pt,channelId:Et})},(Nt,kt)=>{let{channelId:Et}=kt;return da(Nt,{channelId:Et})},(Nt,kt)=>{let{channelId:Et,ts:Pt}=kt;return fo(Nt,{ts:Pt,channelId:Et})},(Nt,kt)=>{let{channelId:Et,ts:Pt,messageContainerType:Kt}=kt;return Yt(Nt,{ts:Pt,channelId:Et,messageContainerType:Kt})},(Nt,kt)=>{let{channelId:Et}=kt;return ba(Nt,{channelId:Et})},(Nt,kt)=>{let{channelId:Et}=kt;return Bn(Nt,{channelId:Et})},(Nt,kt,Et,Pt,Kt,ln,wt,fn)=>[[Nt,Et].filter(In.a),[Pt,Kt].filter(In.a),[kt].filter(In.a),[fn].filter(In.a),[ln,wt].filter(In.a)]);var it=e("uP2H"),Sa=e("lBK/");const dt=new te.b("contextmenu"),en=c(Nt=>{let{ts:kt,threadTs:Et,channelId:Pt,messageContainerType:Kt,rollup:ln,onSelectAction:wt,targetBounds:fn,onCloseRequested:et}=Nt;const Ie=Object(s.useMemo)(()=>({uiComponentName:hn.UiComponentName.DMS_TAB_CONTEXT_MENU,uiPage:Kt}),[Kt]),Ve=Object(s.useCallback)(Dt=>t.a.createElement(it.a,{channelId:Pt,menuProps:Dt,isDmTabItem:!0}),[Pt]),De=Object(s.useCallback)(Dt=>{const{id:ft,name:on,className:at,shortcut:Ut,disabled:vn,showOfflineIcon:Ne,iconClassName:Zn,action:jn,dispatchMessageAction:gn,"data-qa":xo,frecencyId:Wn,uiElement:Oa}=Dt;return ft===he.X.copySubmenu?t.a.createElement(Ma.a,{key:ft,label:on,ts:kt,threadTs:Et,channelId:Pt,messageContainerType:Kt,rollup:ln,onSelectAction:wt}):ft===he.X.summarizeSubmenu?t.a.createElement(Sa.a,{key:ft,renderSubmenu:Ve,label:dt.t("Summarize",{fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c",fallbackHashNs:"assistant"})}):ft===he.X.remindLater?t.a.createElement(ga.a,{key:"remind_submenu",label:on,"data-qa":xo,frecencyId:Wn,actionId:ft,uiElement:Oa,messageContainerType:Kt,disabled:vn,showOfflineIcon:Ne,onSelectAction:gn}):t.a.createElement(Oe.a,{key:ft,className:at,action:jn,onSelected:gn,disabled:vn,showOfflineIcon:Ne,shortcut:Ut,iconClassName:Zn})},[kt,Et,Pt,Kt,ln,wt,Ve]),We=dt.t("Message actions"),Ze=Object(C.c)(Dt=>Tn(Dt,{ts:kt,channelId:Pt,messageContainerType:Kt}));return t.a.createElement(Gn.a,{targetBounds:fn,onCloseRequested:et},t.a.createElement(Va.a,{"aria-label":We,ts:kt,threadTs:Et,channelId:Pt,messageContainerType:Kt,rollup:ln,onSelectAction:wt,actions:Ze,targetBounds:fn,renderMenuItem:De,autoClogProps:Ie}))},"DmsPreviewContextMenu");en.displayName="DmsPreviewContextMenu";var ua=en,Ao=e("QYqd"),yo=e("jB41"),Qt=e("6CnZ"),Bo=e("JQ3U");const un={},an=c(Nt=>{let{state:kt,dispatch:Et,channelId:Pt,msgTs:Kt,index:ln=2}=Nt;const wt=!1,fn=Object(zt.b)(kt,Pt,Kt,wt);if(Object(Bo.l)(fn)){const{timestamps:Ie,reachedStart:Ve}=Object(Qt.j)(kt,Pt,Kt);if((Ie==null?void 0:Ie.length)===0&&!Ve&&!un[Pt])return un[Pt]=!0,Et(Object(yo.a)({channelId:Pt,reason:"dms-tab-fetch-non-deleted-timestamp/fetchHistory"})).finally(()=>{delete un[Pt]}),"";var et;const De=((et=Ie==null?void 0:Ie.length)!==null&&et!==void 0?et:0)-ln;if(De<0)return"";const We=Ie[De];return De>0?an({state:kt,dispatch:Et,channelId:Pt,msgTs:We,index:ln+1}):""}return Kt},"getLatestNonDeletedMessageTs"),Zt="channel";var ht=e("RVJP"),Pe=c(Nt=>{let{channelIds:kt,unreadChannelIds:Et,skipSorting:Pt,compactDisplay:Kt,selfDmId:ln,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:wt,inviterChannelId:fn,hasSentFirstMessage:et,useNewUserSorting:Ie,shouldShowAllDms:Ve}=Nt;const De=Object(u.i)(),We=Object(C.f)(at=>Object(ht.d)(at,"ia4_dms_tab_hydration")==="on"),Ze=Object(C.f)(at=>Object(M.a)({state:at})),Dt=Object(C.f)(at=>{const Ut={};for(const vn of kt){const Ne=Object(Ao.b)(at,vn)||"",Zn=an({state:at,channelId:vn??"",msgTs:Ne,dispatch:De});Zn&&vn&&(Ut[vn]=Zn)}return Ut}),ft=Object(s.useMemo)(()=>{const at=kt.map(Zn=>{const jn=!Dt[Zn??""]||Dt[Zn??""]==="0000000000.000000";return Zn!==ln&&!Pt&&!(wt&&Ie)&&!Ve&&jn||!Zn?null:{type:Zt,key:Zn,id:Zn,ts:Dt[Zn??""],isUnread:Et&&Et.includes(Zn??"")}}).filter(In.a),Ut={key:"Xtop-anchor",type:"top-anchor"},vn=Kt?[]:[{key:"Xbottom-padding",type:"bottom-padding"}];if(Pt)return[Ut,...at,...vn];let Ne=at.sort((Zn,jn)=>jn.ts-Zn.ts);if(wt&&!et&&Ie){const Zn=Ne.find(jn=>{let{id:gn}=jn;return gn===fn});Zn&&(Ne=Ne.filter(jn=>{let{id:gn}=jn;return gn!==fn}),Ne=[Zn,...Ne])}return Ze.info("DMS TAB",`hydration: ${We?"on":"off"}; messages loaded from boot ${We?"and client.dms":""}: ${Ne==null?void 0:Ne.length}`),[Ut,...Ne,...vn]},[We,Ze,Dt,kt,Et,Pt,Kt,ln,wt,fn,et,Ie,Ve]),on=Object(s.useMemo)(()=>{const at={};for(const Ut of ft)Ut!=null&&Ut.key&&(at[Ut.key]=Ut);return at},[ft]);return{rows:ft,rowsMap:on}},"useRows"),ct=e("i9jZ"),Dn=e("O9Jz"),eo=e("37+L"),to=e("I0j/"),Da=e("HgTo");const ss=Object(U.c)("Navigate to DMs list row",(Nt,kt,Et)=>{let{e:Pt,channelId:Kt}=Et;const ln=(Pt==null?void 0:Pt.id)||Kt;if(!ln)return;const wt=kt();if(Object(L.d)(wt,ln))if(Object(ct.d)(Pt))Nt(Object(Dn.a)({viewId:ln}));else{var et;(et=Nt(Object(to.a)(Object(eo.n)(ln))))===null||et===void 0||et.then(()=>{Nt(Object(Da.a)({channelId:ln}))})}});ss.meta={name:"createThunk",key:"createThunknavigateToRow",description:"Navigate to DMs list row"};var uo=ss,sr=e("9Gfp"),vo=e("LvvF"),rn=e("2/KV"),Ca=e("aBhT"),ia=e("pTFQ"),Rs=e("pFNT"),ea=e("wRRE"),go=e("CTEJ"),ta=e("nxXk"),Wo=e("XVAJ"),fs=e("IaLB"),so=e("9068");const Yo=new te.b("recent_page"),Ga={CHANNEL_SIDEBAR_NAME_YOU:"channel_sidebar_name_you",CHANNEL_SIDEBAR_NAME_INVITER:"channel_sidebar_name_inviter"},Tr=c(Nt=>{let{channelId:kt,msg:Et}=Nt;const Pt=Object(C.c)(wt=>Object(L.d)(wt,kt)),Kt=Object(C.c)(sr.a);if(Object(Nn.i)(Pt)){const fn=(Object(v.C)(Pt)||[]).filter(Ve=>Ve!==Kt),et=Et!=null&&Et.user&&(Et==null?void 0:Et.user)!==Kt?Et==null?void 0:Et.user:fn[0],Ie=fn.find(Ve=>Ve!==et);return t.a.createElement(ea.a,{"data-qa":"avatar",primaryMemberId:et,secondaryMemberId:Ie})}const ln=Object(K.a)(Pt);return t.a.createElement(Rs.c,{size:36,userId:ln,isInteractive:!1,showBadge:!0,showPresence:!0,"data-qa":"dms-channel-sender-avatar"})},"DmsChannelAvatar");Tr.displayName="DmsChannelAvatar";const as=c(Nt=>{let{selfDmId:kt,channelId:Et,inviterChannelId:Pt,shouldShowInviterLabel:Kt,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:ln}=Nt;const wt=kt===Et,fn=Et===Pt;return t.a.createElement(t.a.Fragment,null,wt&&t.a.createElement("span",{"data-qa":Ga.CHANNEL_SIDEBAR_NAME_YOU,className:"p-dms_channel__sub_text"},"\xA0",Yo.t("(you)",{fallbackHash:"8af56de68279cb6f5ed022f31af18b9fcdcc2e92",fallbackHashNs:"channel_sidebar"})),ln&&fn&&Kt&&t.a.createElement("span",{"data-qa":Ga.CHANNEL_SIDEBAR_NAME_INVITER,className:"p-dms_channel__sub_text"},"\xA0",Yo.t("(invited you)",{fallbackHash:"ca94206017b191854144e5100a3d6e33c242a9ca",fallbackHashNs:"channel_sidebar"})))},"SubText");as.displayName="SubText";const Ws=c(Nt=>{let{channelId:kt,ts:Et,isActive:Pt,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:Kt,isAccountEligibleForDmPreviewHiding:ln,selfDmId:wt,selectedChannelId:fn,inviterChannelId:et,hasFocus:Ie,renderActionsOffscreen:Ve,isPeekView:De=!1}=Nt;var We,Ze;const Dt=Object(C.c)(ro=>Object(M.a)({state:ro})),ft=Object(C.c)(ro=>Object(zt.b)(ro,kt,Et)),on=Object(C.c)(ro=>Object(L.d)(ro,kt)),at=Object(C.c)(ro=>Object(L.c)(ro,on)),Ut=!!(at&&at>0),vn=Object(C.c)(ro=>Object(v.v)(ro,kt)),Ne=Et!=="0000000000.000000",Zn=Object(C.c)(ro=>Object(fs.kb)(ro,Object(K.a)(on))),jn=kt===wt&&(!ft||ft.ts==="0000000000.000000"),gn=!!ft&&(Object(fa.nb)(ft)||Object(so.d)(ft))&&!jn&&ln&&(!at||at<=1),xo=Object(C.c)(ro=>Object(mt.u)(ro,"show_typing")),Wn=Object(C.c)(ro=>Object(rn.f)(ro,kt)),Oa=xo&&Wn&&fn!==kt,Do=Object(C.c)(ro=>Object(v.t)(ro,on,{imIncludeAtSign:!1})||void 0),xs=Object(C.c)(ro=>Object(vo.b)(ro,Object(K.a)(on))),_o=Object(C.c)(ro=>Object(At.b)(ro,kt)),Vo=Object(s.useMemo)(()=>t.a.createElement(Tr,{channelId:kt,msg:ft}),[kt,ft]);if(!ft)return Dt.error(`[DMS_CHANNEL]: No {msg}, typeof msg ${typeof ft}`),null;let ys,js=Object(Nn.g)(on);xs?(ys=Yo.t("Name hidden"),js=!1):ys=t.a.createElement(t.a.Fragment,null,Do,t.a.createElement(as,{channelId:kt,selfDmId:wt,shouldShowInviterLabel:Zn,inviterChannelId:et,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:Kt}))||t.a.createElement(go.a,{size:"random"});const is=!!ft&&!gn&&!jn,Za=ft.text||ft.blocks||(ft==null||(We=ft.files)===null||We===void 0?void 0:We[0])||((Ze=ft.attachments)===null||Ze===void 0?void 0:Ze.length);return t.a.createElement("div",{"data-qa":"dms_channel",className:"p-dms_channel"},t.a.createElement(ia.n,{msg:ft,isSelected:Pt,userMessagesTheme:"light",theme:"dm",showMessageActions:!De,className:Object(T.default)({"p-dms_channel__hide_preview":gn}),hasFocus:Ie,renderActionsOffscreen:Ve,isDmTab:!0},t.a.createElement(ia.a,{message:ft,avatar:Vo},t.a.createElement(ia.j,null,t.a.createElement(ia.k,null,t.a.createElement(Ca.a,{lines:3,breakWords:!1},t.a.createElement("span",{"data-qa":"dms-channel-sender-name",className:Object(T.default)("p-dms_channel__name",{"p-dms_channel__name--unread":Ut,"p-dms_channel__name--muted":_o})},ys),js&&t.a.createElement(Wo.b,{memberId:Object(K.a)(on)}))),!!Et&&Ne&&t.a.createElement(ia.l,{className:"p-dms_channel__item-secondary"},t.a.createElement("div",{className:"p-dms_channel__meta"},t.a.createElement("span",{"data-qa":"dms-channel-timestamp",className:Object(T.default)("p-dms_channel__timestamp",{invisible:Oa||gn,"p-dms_channel__timestamp--unread":Ut&&!_o,"p-dms_channel__timestamp--muted":_o})},t.a.createElement(ia.m,{activityTs:Et})),vn&&t.a.createElement("div",{className:Object(T.default)("p-dms_channel__draft_icon",{invisible:Oa})},t.a.createElement(qo.a,{name:"edit",size:"16","data-qa":"dms-channel-draft"})),Oa&&t.a.createElement(ta.a,{"data-qa":"dms-typing-indicator",className:Object(T.default)("p-dms_channel__typing_indicator",{invisible:!Oa})})),Ut&&t.a.createElement("div",{className:"p-dms_channel__unread_badge"},t.a.createElement(ia.f,{count:at})))),is&&Za&&t.a.createElement(ia.g,{message:ft,isDmTab:!0,isMuted:_o}),is&&!Za&&t.a.createElement(go.a,{size:"medium"}),jn&&t.a.createElement("div",null,Yo.t("This is your space. Draft messages, list your to-dos, or keep links and files handy.")),Ne&&!ft&&t.a.createElement(go.a,{size:"random"}))))},"DmsChannel");Ws.displayName="DmsChannel";var Te=Ws;const Be=c(()=>t.a.createElement("div",{className:"p-top_anchor"}),"TopAnchor");Be.displayName="TopAnchor";var Je=t.a.memo(Be);const qe=c(()=>t.a.createElement("div",{className:"p-bottom_padding"}),"BottomPadding");qe.displayName="BottomPadding";var mn=t.a.memo(qe),oa=e("790+"),Un=e("E4u3"),On=e("O86Y"),mo=e("7LlD"),pn=e("B7Jy"),Jn=e("GJt6"),Ja=e("IJCU"),Uo=e("wd/R"),Xa=e.n(Uo),Oo=e("qDEp"),Ro=e("G0eX"),vs=e("beVI"),Le=e("rZ8V"),we=e("/qcS"),Fe=e("A/mR"),pt=e("ptfs"),nt=e("+l+1"),xt=e("sjOx"),An=e("NgZ7"),Hn=e("Trx9"),na=e("x2hM");const Ka=new te.b("recent_page"),Qa=14,Eo=5,Po=c(Nt=>{let{visibleDMsCount:kt=0}=Nt;const Et=Object(u.i)(),Pt=Object(C.c)(vs.g),Kt=Object(Ro.h)(Pt),ln=Object(C.c)(Le.t),wt=Object(C.c)(P.a),fn=Object(C.c)(at=>Object(mt.u)(at,"has_invited")),et=Object(C.c)(at=>Object(w.i)(Object(V.c)(at)))||0,Ie=Object(Fe.c)(Xa()(),Xa()(new Date(et*1e3)),{units:"days"}),Ve=Object(C.c)(at=>Object(An.a)(at,"user_onboarding_team_size_category")),De=Object(s.useCallback)(()=>{Et(Ve==="large_team"?Object(na.a)({filters:{accountType:xt.l.all}}):Object(pt.a)({source:nt.f.DmUserInviteSection}))},[Et,Ve]);let We,Ze,Dt,ft="";Ve==="large_team"?(We=ln?Ka.t("Browse everyone in {workspaceName} and strike up a new conversation.",{workspaceName:Kt}):"",Ze=ln?Ka.t("Browse All People"):"",Dt="speech_balloon",ft="Browse All People"):(fn?We=ln?Ka.rt("<b>Anyone missing?</b> Add your whole team and get the conversation started."):"":ln?We=wt?Ka.rt("<b>Get to know other event attendees.</b> When you start a direct message, it\u2019ll appear here.",{fallbackHash:"492a0f2c5053d4ac41d69037d8c5caff66cf6682"}):Ka.rt("<b>Slack is better when everyone\u2019s here.</b> Add your team and get the conversation started."):We="",Ze=ln?Ka.t("Add Coworkers"):"",Dt="whale",ft="Add Coworkers");const on=Object(s.useMemo)(()=>({elementName:ft,onClick:{enableClogAction:!0}}),[ft]);return Ie>Qa||kt>=Eo?null:t.a.createElement(Hn.a,{uiStep:ft==="Add Coworkers"?hn.UiStep.ADD_COWORKERS:hn.UiStep.BROWSE_ALL_PEOPLE,uiComponentName:hn.UiComponentName.DM_USER_INVITE_SECTION,uiComponentVariant:Ve,clogImpression:!0},t.a.createElement("div",{className:"p-dms_list__add_coworker"},t.a.createElement("div",{className:"p-dms_list__add_coworker_emoji"},t.a.createElement(we.b,{text:Dt,emojiSize:we.a.MEDIUM})),t.a.createElement("div",{className:"display_flex flex_direction_column"},t.a.createElement("span",null,We),!wt&&t.a.createElement(Oo.f,{onClick:De,type:"outline",pillarClassName:"p-dms_list__add_coworker_cta",autoClogProps:on},Ze))))},"UserInviteSection");Po.displayName="UserInviteSection";var Wa=Po,jo=e("zm5I"),gs=e("LzG2"),Na=e("x5Wd"),ms=e("nzWX"),rs=e("UmHn"),es=e("d/xU"),cs=e("uiBO"),hs=e("p/ji"),ls=e("Qrj/"),rr=e("SpKr");const pr=30,br=Object(nn.b)(Nt=>!ls.a.isAnyTreatment(Nt)||!!Object(mt.u)(Nt,"onboarding_complete")?!1:Object(rr.a)(Nt)<pr);br.meta={name:"createSelector",key:"createSelectorshouldShowAllDms",description:Nt=>!ls.a.isAnyTreatment(Nt)||!!Object(mt.u)(Nt,"onboarding_complete")?!1:Object(rr.a)(Nt)<pr};var tn=e("g3+L"),Ri=e("HKlo"),Ci=e("my9F"),li=e("83nZ"),Ur=e("LtOI");const yi=new te.b("recent_page"),So="joiner-inviter-active-convo",Mo="should_preselect_dms_item",Os=c(Nt=>{let{channelIds:kt,unreadChannelIds:Et,skipSorting:Pt=!1,shouldTrackScroll:Kt=!0,compactDisplay:ln=!1,timestampOverrides:wt,selectedChannelId:fn,isPeekView:et=!1,queryTerms:Ie,scrollToKey:Ve,setSelectedChannelId:De}=Nt;var We,Ze;const Dt=Object(u.i)(),{maybeClosePeek:ft}=Object(s.useContext)(gs.a),on=Object(s.useRef)(null),{getSiblingView:at}=Object(s.useContext)(ne.a),{transitionFocusTo:Ut}=Object(s.useContext)(tn.a),vn=Object(s.useContext)(Na.a),Ne=Object(C.c)(ee.g),Zn=Object(C.c)(Ea=>{var Fo;return(Fo=Object(L.m)(Ea,Object(sr.a)(Ea)))===null||Fo===void 0?void 0:Fo.id}),jn=Object(C.c)(jo.a),gn=Object(C.c)(fs.P),xo=Object(C.c)(fs.q)||"",Wn=Object(C.c)(Ea=>Object(L.n)(Ea,xo)),Oa=Object(C.c)(Ea=>Object(An.a)(Ea,"has_sent_first_message")),Do=Object(C.c)(hs.o),xs=Object(ms.h)(So),_o=Object(C.c)(br),Vo=Object(s.useMemo)(()=>new f.a,[]),ys=Object(C.c)(Ea=>{var Fo;return(Fo=at(Ea,{container:ue.k.Primary}))===null||Fo===void 0?void 0:Fo.id}),js=Object(s.useRef)(ys!==rs.a.Empty),is=Object(C.c)(ls.a.isAnyTreatment),Za=Object(C.c)(Ea=>Object(mt.u)(Ea,"onboarding_complete"));var ro;const ji=Object(C.c)(Ea=>(ro=Object(An.a)(Ea,Mo))!==null&&ro!==void 0?ro:!0),mi=Object(C.c)(Ea=>Object(Ci.a)(Ea,Mo)),Hr=Object(C.c)(Ea=>Object(mt.u)(Ea,"preferred_skin_tone"))||"1",Qr=Object(C.c)(On.g),{rows:ps,rowsMap:En}=Pe({channelIds:kt,unreadChannelIds:Et,skipSorting:Pt,compactDisplay:ln,selfDmId:Zn,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:gn,inviterChannelId:Wn,hasSentFirstMessage:Oa,useNewUserSorting:Do,shouldShowAllDms:_o}),ka=Object(s.useMemo)(()=>ps.map(Ea=>Ea.key),[ps]),Us=Object(s.useMemo)(()=>ka.filter(Ea=>!["Xtop-anchor","Xbottom-padding"].includes(Ea)),[ka]),Go=Object(s.useCallback)(()=>{var Ea;if(!Us.length)return Ut({focusKey:Ri.c.VIEW_HEADER,focusMetadata:{container:ue.k.Sidebar}}),!0;const Fo=fn&&fn!==rs.a.Empty?fn:ka[1];return(Ea=on.current)===null||Ea===void 0?void 0:Ea.focusOnKey(Fo)},[Us,ka,fn,Ut]);Object(Jn.a)(cs.c.DmsList,Go);const fr=Object(s.useCallback)((Ea,Fo)=>{const Es=(Ea==null?void 0:Ea.id)||Fo;Es&&(ft(),Dt(uo({e:Ea,channelId:Fo})),De(Es??""))},[Dt,ft,De]);Object(s.useEffect)(()=>{ys===rs.a.Empty&&Wn&&!Oa&&!xs&&gn&&(Object(ms.d)(So,!0,365*10,Object(es.n)()),fr(void 0,Wn))},[gn,Oa,xs,Wn,fr,ys]),Object(s.useEffect)(()=>{if(Ve&&(ka!=null&&ka.includes(Ve))){var Ea;(Ea=on.current)===null||Ea===void 0||Ea.scrollToKey(Ve,{lazy:!0})}},[Ve,ka]);const hi=Object(s.useCallback)(Ea=>{let{index:Fo}=Ea;const Es=[Zt],Ls=ps[Fo].type;return Es.indexOf(Ls||"")!==-1},[ps]),Bi=Object(s.useCallback)(Ea=>{let{index:Fo,key:Es}=Ea;const Ls=ps[Fo],{type:ws,ts:ds}=Ls;if(ws!==Zt)return{"aria-hidden":!0};if(ds&&vn)return{"aria-label":Dt(kn({channelId:Es,ts:ds}))}},[Dt,ps,vn]),Xi=Object(s.useCallback)((Ea,Fo)=>{var Es,Ls;const{targetBounds:ws,onCloseRequested:ds}=Fo;return t.a.createElement(ua,{ts:((Es=En[Ea])===null||Es===void 0?void 0:Es.ts)||"",channelId:((Ls=En[Ea])===null||Ls===void 0?void 0:Ls.id)||"",messageContainerType:pe.a.DMS_TAB,targetBounds:ws,onCloseRequested:ds})},[En]),Qi=Object(C.c)(fs.M),Zi=Object(s.useCallback)((Ea,Fo)=>{let{key:Es,hasFocus:Ls}=Fo;const ws=ps[Ea];return ws.type==="top-anchor"?t.a.createElement(Je,null):ws.type==="bottom-padding"?t.a.createElement(mn,null):t.a.createElement(Te,{key:Es,channelId:Es,ts:(wt==null?void 0:wt[Es])||ws.ts||"",isActive:ys===ws.id&&!et,experimentIA4JoinerOnboardingSuggestionsGroupTreatment:gn,isAccountEligibleForDmPreviewHiding:Qi,selfDmId:Zn,selectedChannelId:fn,inviterChannelId:Wn,hasFocus:!!Ls,renderActionsOffscreen:!1,isPeekView:et,queryTerms:Ie})},[ps,wt,ys,et,gn,Qi,Zn,fn,Wn,Ie]),Si=Object(s.useCallback)(()=>{if(!ka.length||kt.length===0)return;const Ea=ka[1];on!=null&&on.current&&on.current.focusOnKey(Ea)},[ka,on,kt]);Object(s.useEffect)(()=>{mi&&!et&&ys===rs.a.Empty&&Us.length>0&&!js.current&&(fr(void 0,Us[0]),Si(),js.current=!0)},[kt,Us,is,et,ka,fr,ys,Si,mi]),Object(s.useEffect)(()=>{is&&!mi&&!Za&&ji&&Dt(Object(li.a)({pref:Mo,value:!1}))},[Dt,is,Za,ji,mi]);const vr=Object(s.useCallback)(Ea=>{Ea.preventDefault()},[]);Object(Ja.a)({keys:ka,unreadKeys:Et,currentKey:ys,isFocusableItem:hi,onSelect:fr,enabled:!et});const Mr=Object(T.default)("p-recent_page"),ir=Object(Un.b)(Hr,Qr,!0),Hs=Object(s.useMemo)(()=>Math.floor(Math.random()*ir.length),[ir.length]),vc=Object(s.useCallback)(()=>{Dt(Object(mo.a)(pn.a.ALL))},[Dt]);return t.a.createElement("div",{className:Mr,tabIndex:-1},t.a.createElement(Wa,{visibleDMsCount:Us.length}),kt.length>0&&t.a.createElement(Z.a,null,Ea=>{let{width:Fo,height:Es,measureRef:Ls}=Ea;return t.a.createElement("div",{className:`p-dms_list__list p-dms_list--${jn}`,ref:Ls},t.a.createElement(ie.b,{ref:on,autoScrollmarkTrackingId:Kt?D.a.ALL_DMS:void 0,width:Fo,height:Es,keys:ka,rowRenderer:Zi,layout:Vo,isFocusableItem:hi,getPropsForItem:Bi,onItemClick:fr,"aria-label":gn?yi.t("Recent conversations",{fallbackHash:"2eff3a41e4f64a1489d3bdc931a0c6fac8dac0c6",fallbackHashNs:"im_browser"}):yi.t("Direct messages"),disableKeyboardShortcuts:Ne,useGlobalKeyboardShortcuts:!0,onItemContextMenu:vr,renderContextMenuForItem:Xi}))}),kt.length===0&&t.a.createElement(oa.a,{description:(We=ir[Hs])===null||We===void 0?void 0:We.description,isExtended:!0,title:(Ze=ir[Hs])===null||Ze===void 0?void 0:Ze.title,secondaryActionText:yi.t("Show all DMs",{fallbackHash:"e7596a09868814d3384a5cce56034222fa0e615c"}),onClickSecondaryAction:vc,className:"p-activity_ia4_page__empty_unreads_container"}))},"DmsList");Os.displayName="DmsList";var xi=Os,Li=e("Ry3q"),Ho=e("N1BJ");const di=Object(nn.b)((Nt,kt)=>{let{dms:Et,queryTerms:Pt}=kt;const Kt=[];if(!(Et!=null&&Et.length))return Kt;if(!(Pt!=null&&Pt.length))return Et;for(const Ze of Et){var ln,wt,fn,et;const Dt=(ln=Object(v.E)(Nt,Ze))===null||ln===void 0?void 0:ln.toLowerCase(),ft=(wt=Object(v.J)(Nt,Ze))===null||wt===void 0?void 0:wt.toLowerCase(),on=Object(V.g)(Nt,Object(K.a)(Ze)),at=on==null||(fn=on.name)===null||fn===void 0?void 0:fn.toLowerCase(),Ut=on==null||(et=on.real_name)===null||et===void 0?void 0:et.toLowerCase();for(const vn of Pt){const Ne=vn==null?void 0:vn.toLowerCase();var Ie,Ve,De,We;if(((Ie=at==null?void 0:at.indexOf(Ne))!==null&&Ie!==void 0?Ie:-1)>-1||((Ve=Ut==null?void 0:Ut.indexOf(Ne))!==null&&Ve!==void 0?Ve:-1)>-1||((De=Dt==null?void 0:Dt.indexOf(Ne))!==null&&De!==void 0?De:-1)>-1||((We=ft==null?void 0:ft.indexOf(Ne))!==null&&We!==void 0?We:-1)>-1){Kt.push(Ze);break}}}return Kt});di.meta={name:"createSelector",key:"createSelectorgetDmsFromSearchByUserName",description:(Nt,kt)=>{let{dms:Et,queryTerms:Pt}=kt;const Kt=[];if(!(Et!=null&&Et.length))return Kt;if(!(Pt!=null&&Pt.length))return Et;for(const Ze of Et){var ln,wt,fn,et;const Dt=(ln=Object(v.E)(Nt,Ze))===null||ln===void 0?void 0:ln.toLowerCase(),ft=(wt=Object(v.J)(Nt,Ze))===null||wt===void 0?void 0:wt.toLowerCase(),on=Object(V.g)(Nt,Object(K.a)(Ze)),at=on==null||(fn=on.name)===null||fn===void 0?void 0:fn.toLowerCase(),Ut=on==null||(et=on.real_name)===null||et===void 0?void 0:et.toLowerCase();for(const vn of Pt){const Ne=vn==null?void 0:vn.toLowerCase();var Ie,Ve,De,We;if(((Ie=at==null?void 0:at.indexOf(Ne))!==null&&Ie!==void 0?Ie:-1)>-1||((Ve=Ut==null?void 0:Ut.indexOf(Ne))!==null&&Ve!==void 0?Ve:-1)>-1||((De=Dt==null?void 0:Dt.indexOf(Ne))!==null&&De!==void 0?De:-1)>-1||((We=ft==null?void 0:ft.indexOf(Ne))!==null&&We!==void 0?We:-1)>-1){Kt.push(Ze);break}}}return Kt}};const ui=c(Nt=>{let{shouldTrackScroll:kt=!0,compactDisplay:Et=!1,isPeekView:Pt=!1,queryTerms:Kt,selectedChannelId:ln,scrollToKey:wt,setChannelIds:fn,setSelectedChannelId:et=O.a}=Nt;const Ie=Object(u.i)(),Ve=Object(C.c)(Ho.a),De=Object(C.c)(Wn=>Object(ht.d)(Wn,"ia4_dms_tab_search_capability_inline_results")==="on"),We=Object(C.c)(Wn=>Object(ht.d)(Wn,"ia4_dms_tab_hydration")==="on"),Ze=Object(C.c)(Ho.b),Dt=We&&!Ze,[ft,on]=Object(s.useState)(Dt),at=Object(C.f)(Wn=>Kt!=null&&Kt.length&&De?di(Wn,{dms:Object(L.o)(Wn),queryTerms:Kt}):Object(L.o)(Wn)),Ut=Object(C.f)(Wn=>Kt!=null&&Kt.length&&De?di(Wn,{dms:Object(L.r)(Wn),queryTerms:Kt}):Object(L.r)(Wn)),vn=Object(C.c)(Wn=>Object(M.a)({state:Wn})),Ne=Object(C.c)(Wn=>Object(ht.d)(Wn,"client_dms_count")==="on");Object(s.useEffect)(()=>{if(!We)return;if(Ze){on(!1);return}Ie(x({count:Ne?250:100,include_closed:!0,include_channel:!0,exclude_bots:!0})).then(Oa=>{Oa!=null&&Oa.length&&Ie(Object(mo.b)(!0)),on(!1)}).catch(Oa=>{vn.error(`[DMS TAB]: error loading API client.dms; e: ${Oa}`),on(!1)})},[Ie,vn,Ze,We,Ne]);const Zn=Object(C.f)(Wn=>at.reduce((Oa,Do)=>{const xs=Object(K.a)(Do),_o=Object(V.g)(Wn,xs);return!Object(Q.c)(_o)&&!Object(w.W)(_o)&&!Object(X.a)(Do)&&!Object(H.a)(Do)&&!(Object(v.ab)({member:_o,channel:Do})&&!Object(P.a)(Wn))&&!(Ve===pn.a.EXTERNAL&&!Object(B.a)(Do))&&!(Ve===pn.a.INTERNAL&&Object(B.a)(Do))&&!(Ve===pn.a.UNREAD&&!Object(v.ub)(Do)&&Do.id!==ln)&&Oa.push(Do.id),Oa},[])),jn=Object(s.useMemo)(()=>Ut.reduce((Wn,Oa)=>(!Object(Q.c)(Oa)&&!(Ve===pn.a.EXTERNAL&&!Object(B.a)(Oa))&&!(Ve===pn.a.INTERNAL&&Object(B.a)(Oa))&&!(Ve===pn.a.UNREAD&&!Object(v.ub)(Oa)&&Oa.id!==ln)&&Wn.push(Oa.id),Wn),[]),[Ut,Ve,ln]),gn=Object(s.useMemo)(()=>at.concat(Ut).filter(Wn=>Object(v.ub)(Wn)).map(Wn=>Wn.id),[at,Ut]),xo=Object(s.useMemo)(()=>{const Wn=Zn.concat(jn);return fn&&fn(Wn),Wn},[fn,Zn,jn]);return ft?t.a.createElement(Li.a,{isDocked:!0}):t.a.createElement(xi,{channelIds:xo,unreadChannelIds:gn,compactDisplay:Et,skipSorting:!1,shouldTrackScroll:kt,selectedChannelId:ln,isPeekView:Pt,queryTerms:Kt,scrollToKey:wt,setSelectedChannelId:et})},"DmsListAll");ui.displayName="DmsListAll";var wi=y.a=t.a.memo(ui)},yw4l:function(le,y,e){"use strict";e.r(y),e.d(y,"SolutionGuidePocketGuide",function(){return xe});var s=e("q1tI"),t=e.n(s),u=e("/MKj"),C=e("BHdc"),O=e("uiBO"),v=e("Trx9"),B=e("P7By"),P=e("nKZz"),M=e("6Z1K"),L=e("2dSg"),z=e.n(L),U=e("CrmJ"),g=e("79wK"),J=e("I0j/"),d=e("37+L"),S=e("UmHn"),F=e("HKlo"),x=e("g3+L"),Q=e("somW"),V=e("qDEp"),X=e("UL37"),K=e("ZobM"),H=e("HkGY"),w=e("nNoG"),T=e("zxER"),ee=e("RVJP"),ne=e("+4XL"),ue=e("2VFn"),te=e("v7mh");function D(){return D=Object.assign||function(ze){for(var mt=1;mt<arguments.length;mt++){var Me=arguments[mt];for(var Ct in Me)Object.prototype.hasOwnProperty.call(Me,Ct)&&(ze[Ct]=Me[Ct])}return ze},D.apply(this,arguments)}c(D,"_extends");const f=new w.b("solution_guide"),ie=P.g,Z=g.a.SOLUTION_GUIDE,pe={[M.f.Projects]:F.c.PAGE_SOLUTION_GUIDE_TAB_PROJECTS,[M.f.Meetings]:F.c.PAGE_SOLUTION_GUIDE_TAB_MEETINGS,[M.f.WorkWithClients]:F.c.PAGE_SOLUTION_GUIDE_TAB_CLIENTS},q={FULLY_COLLAPSED:0,PARTIALLY_COLLAPSED:40,FULLY_OPEN:128},xe=c(ze=>{var mt;const Me=Object(u.i)(),{transitionFocusTo:Ct}=Object(s.useContext)(x.a),[Qe,st]=Object(s.useState)(!1),[Ot,cn]=Object(s.useState)(!0),Ht=Object(T.c)(At=>Object(ee.d)(At,"solution_guide_translations")==="on"),Nn=Object(T.c)(ne.a),zt=Object(T.c)(ne.h),[Ln,Fn]=Object(s.useState)(zt),Ye=Object(s.useMemo)(()=>!Ln&&zt,[Ln,zt]),dn=Object(T.c)(ne.e),vt=Object(s.useRef)(dn),Xn=Object(T.c)(te.a),kn=Object(T.c)(At=>Object(te.i)(At,{tab:Xn})),[he,Gn]=Object(s.useState)(0),Va=Object(T.c)(ne.d),Oe=Object(T.c)(ne.g),Ma=Object(s.useCallback)(At=>At===Va&&!Ot,[Va,Ot]),ga=Object(s.useCallback)(()=>{cn(Qe),st(!Qe)},[Qe]),zn=Object(s.useCallback)(At=>{Me(Object(J.a)({...Object(d.X)(S.a.SolutionGuide),params:{targetTab:At}})),Ct({focusKey:pe[At]})},[Me,Ct]);Object(s.useEffect)(()=>{st(!1),Va&&cn(!1)},[Va]),Object(s.useEffect)(()=>{Nn&&(!Qe&&Ot?Gn(q.FULLY_COLLAPSED):!Qe&&!Ot?Gn(q.PARTIALLY_COLLAPSED):Qe&&Gn(q.FULLY_OPEN))},[Qe,Ot,Nn]),Object(s.useEffect)(()=>{dn&&!vt.current&&st(!0)},[dn,vt]),Object(s.useEffect)(()=>{let At;return Ye&&(At=setTimeout(()=>{Fn(!0)},1e3)),()=>{At&&clearTimeout(At)}},[Ye]);const hn=Object(s.useMemo)(()=>Nn?{height:`${he}px`}:{},[he,Nn]),nn=Ht?f.t("Get work done with Slack tools"):"",Xt=Object(U.c)(Ht,M.f.Projects),bn=Object(U.c)(Ht,M.f.Meetings),sn=Ht?f.t("Work with clients"):"",Wt=Object(s.useMemo)(()=>[{buttonLinkTitle:Xt,onButtonLinkClick:()=>zn(M.f.Projects),buttonLinkIcon:"rocket",buttonLinkTab:M.f.Projects},{buttonLinkTitle:bn,onButtonLinkClick:()=>zn(M.f.Meetings),buttonLinkIcon:"calendar",buttonLinkTab:M.f.Meetings},{buttonLinkTitle:sn,onButtonLinkClick:()=>zn(M.f.WorkWithClients),buttonLinkIcon:"message",buttonLinkTab:M.f.WorkWithClients}],[zn,Xt,bn,sn]),Yt=Object(s.useCallback)(()=>e.e("solution-guide-clipboard.json").then(e.t.bind(null,"GRaE",3)),[]);return Xn!==ue.f.Home||(kn==null||(mt=kn.primary)===null||mt===void 0?void 0:mt.viewType)===O.c.Setup?null:t.a.createElement(Q.a,{id:"PocketGuide",index:X.a.POCKET_GUIDE,role:"group"},t.a.createElement(v.a,D({},ie,{clogImpression:!0,disableAutoReferringUiContext:!0}),t.a.createElement(H.b,{orientation:H.a.Vertical,"aria-label":Ht?f.t("Pocket guide actions"):""},t.a.createElement("div",{className:Object(C.default)("p-solution_guide_pocket_guide__container",{"p-solution_guide_pocket_guide__container--open":!Ot})},t.a.createElement(V.d,{className:"p-solution_guide_pocket_guide__toggle_expand_button",onClick:ga,title:nn},t.a.createElement("div",{className:"display_flex flex_direction_row align_items_center margin_right_25"},Ye&&t.a.createElement(B.a,{className:"p-solution_guide_pocket_guide_clipboard display_none",getAnimationImport:Yt}),Ln?t.a.createElement(B.a,{className:"p-solution_guide_pocket_guide_clipboard",getAnimationImport:Yt,autoplay:!0}):t.a.createElement("img",{src:z.a,alt:"",className:Object(C.default)("p-solution_guide_pocket_guide_clipboard","p-solution_guide_pocket_guide_clipboard--static")}),t.a.createElement("span",{className:"p-solution_guide_pocket_guide_title"},nn)),t.a.createElement(K.a,{name:`caret-${Qe?"up":"down"}`,size:"20",inline:!0})),t.a.createElement("div",{style:hn,className:Object(C.default)({"p-solution_guide_pocket_guide_button__animation_container":Nn,margin_bottom_100:!Ot||Qe})},Wt.map(At=>{let{buttonLinkTitle:Ft,onButtonLinkClick:sa,buttonLinkIcon:ba,buttonLinkTab:Ha}=At;return t.a.createElement(V.f,{key:Ft,type:"outline",className:Object(C.default)("p-solution_guide_pocket_guide__link_button",{"p-solution_guide_pocket_guide__link_button--is_selected":Ma(Ha)&&Oe,display_none:!Ma(Ha)&&!Qe}),onClick:sa,autoClogProps:Object(P.d)(Ha)},t.a.createElement("span",{className:"p-solution_guide_pocket_guide__button_link_icon"},t.a.createElement(K.a,{name:ba,size:"20",inline:!0})),t.a.createElement("span",{className:"p-solution_guide_pocket_guide__button_link_text"},Ft))}))))))},"SolutionGuidePocketGuide");xe.displayName="SolutionGuidePocketGuide"},zKio:function(le,y,e){"use strict";var s=e("q1tI"),t=e.n(s),u=e("zxER"),C=e("zoYt"),O=e("0Xjs"),v=e("/MKj"),B=e("/lKr"),P=e("nNoG"),M=e("Cv6v"),L=e("wWBL"),z=e("Pf08"),U=e("ue3M"),g=e("pwYS"),J=e("rZ8V"),d=e("3mLu"),S=e("F0b/"),F=e("tfFU"),x=e("FFIf"),Q=e("puq3"),V=e("1gcd"),X=e("PcD+"),K=e("oUrV"),H=e("Q3sS"),w=e.n(H),T=e("L9/u"),ee=e("yR0/"),ne=e("GAAG"),ue=e("V3OF");const te=new P.b("browsers"),D=c(()=>{const f=[],ie=Object(v.i)(),Z=Object(u.c)(J.t),pe=O.d.FILES,q=Object(g.a)({canvasSource:K.a.FILES_EXPORER}),xe=`${Object(S.a)()}${Object(d.a)("/apps/category/At0EFRCDPW-file-management")}`,{handlePageSelect:ze,handleSortSelect:mt,results:Me,page:Ct,pageCount:Qe,sort:st,isLoading:Ot,isZeroState:cn,metadata:Ht,query:Nn,totalCount:zt,viewType:Ln}=Object(M.a)(pe,O.r.FILES),Fn=Object(u.c)(zn=>Object(x.q)(zn,pe));Object(ue.a)(()=>{ie(Object(ne.a)({browserInstanceId:pe}))});const Ye=Object(s.useCallback)(()=>{Object(Q.a)(xe)},[xe]),dn=Object(s.useMemo)(()=>t.a.createElement(F.a,{prefName:O.B.SEEN_INITIAL_FILES_BROWSER_EDUCATION,title:te.t("See all your team\u2019s files"),content:te.t("Any files shared in Slack can be found right here. You can add files from your computer, or connect to a service like Google Drive, Box, or OneDrive.",{fallbackHash:"19be32d42adf0e11230a57e5ffbdcddb77d256dd",fallbackHashNs:"setup_page"}),primaryImgSrc:w.a,primaryCTAButtonText:te.t("Learn more",{fallbackHash:"824d76b124e6289f372e2ff6bcba91e8939343bd",fallbackHashNs:"channel_invite"}),primaryCTAOnClick:Ye}),[Ye]);Fn&&f.push({key:"education-banner",type:C.c.GenericFullWidthComponent,data:{component:dn},role:C.b.Presentation,fullWidth:!0});const vt=Object(s.useMemo)(()=>[{label:te.t("Newest file"),value:O.x.NEWEST},{label:te.t("Oldest file"),value:O.x.OLDEST},{label:te.t("A to Z"),value:O.x.NAME_ALPHA},{label:te.t("Z to A"),value:O.x.NAME_ALPHA_REVERSE}],[]),Xn=Object(s.useMemo)(()=>[{label:te.t("Recently viewed",{fallbackHash:"fd316b7c502381bae53b74d8cf9d7c7df621b0d0",fallbackHashNs:"search"}),value:O.x.LAST_ENGAGED},...vt],[vt]),kn=Object(s.useMemo)(()=>[{label:te.t("Most relevant",{ns:"browsers"}),value:O.x.RELEVANT},...vt],[vt]),he=Object(s.useCallback)(zn=>{ie(Object(z.V)({browserInstanceId:pe,value:zn}))},[ie,pe]);let Gn=vt;cn&&(Gn=Xn),Nn&&(Gn=kn),f.push({key:"controls",type:C.c.Controls,data:{customFilterUi:t.a.createElement(V.a,{browserInstanceId:pe,entity:O.r.FILES}),selects:[{id:"sort",title:Z?te.t("Sort",{fallbackHash:"adc4e96a478be02a8147b100bd68113f38b89f80",fallbackHashNs:"quip-files-browser"}):"",value:st,onChange:mt,options:Gn,position:"right"}],viewType:Ln,onViewTypeChange:he},role:C.b.Presentation}),Ot&&(Ln===C.a.Grid?f.push({key:"grid-loading",type:C.c.FileGridLoading,role:C.b.Presentation,scrollToTop:!0}):f.push({key:"list-loading",type:C.c.ListLoading,role:C.b.Presentation,scrollToTop:!0}));const Va=Object(s.useMemo)(()=>Me.map((zn,hn)=>{var nn,Xt,bn;return{key:zn,type:C.c.FileResult,data:{fileId:zn,isFirst:hn===0,isLast:hn===Me.length-1,filePropertyOverride:Nn&&(Ht!=null&&Ht[zn])?{title:Ht==null||(nn=Ht[zn])===null||nn===void 0?void 0:nn.title,name:Ht==null||(Xt=Ht[zn])===null||Xt===void 0?void 0:Xt.name,iid:Ht==null||(bn=Ht[zn])===null||bn===void 0?void 0:bn.iid}:void 0},onListItemSelect:sn=>{ie(Object(T.a)({browserInstanceId:pe,fileId:zn})),ie(Object(B.a)({e:sn,fileId:zn,source:K.a.FILES_EXPORER}))},autoClogProps:{elementName:"file_result",elementIndex:hn},role:C.b.ListItem}}),[ie,Ht,Nn,Me,pe]);!Ot&&Me.length&&Ln!=="grid"&&f.push(...Va),!Ot&&Me.length&&Ln==="grid"&&f.push({key:"grid",type:C.c.Grid,data:{items:Va},role:C.b.Presentation}),!Ot&&!Me.length&&cn&&f.push({key:"zero-empty",type:C.c.EmptyState,data:{title:Z?te.t("See all your team\u2019s files"):"",description:Z?te.t("Any files shared in Slack can be found right here. You can add files from your computer, or connect to a service like Google Drive, Box, or OneDrive.",{fallbackHash:"19be32d42adf0e11230a57e5ffbdcddb77d256dd",fallbackHashNs:"setup_page"}):"",actionHref:xe,actionText:Z?te.t("Learn more",{fallbackHash:"824d76b124e6289f372e2ff6bcba91e8939343bd",fallbackHashNs:"channel_invite"}):""},role:C.b.Presentation}),!Ot&&!zt&&!cn&&f.push({key:"zero-empty",type:C.c.EmptyState,data:{title:te.t("No results"),description:te.t("You may want to try adjusting your filters.")},role:C.b.Presentation}),Qe>1&&f.push({key:"pagination",type:C.c.Pagination,data:{currentPage:Ct,pageCount:Qe,onPageSelect:ze},role:C.b.Presentation});const Oe=Object(s.useMemo)(()=>({allowEmptyQuery:!0,tiered:!0,entities:{files:!0},limit:30,returnMetadata:!0,sort:{frecency:!0,model:Object(L.b)(),source:"omniswitcher:suggestions-from-searcher"}}),[]),Ma=Object(s.useCallback)(zn=>{let{selectedIndex:hn,suggestions:nn,userQuery:Xt,shouldOpenInTile:bn}=zn;if(hn===null)return;const sn=nn[hn];ie(Object(ee.a)({browserInstanceId:pe,selectedIndex:hn,suggestion:sn,suggestions:nn,userQuery:Xt})),sn.is_type_query_completion?(ie(Object(z.K)({browserInstanceId:pe,value:Xt})),ie(Object(z.U)({browserInstanceId:pe,value:O.x.RELEVANT})),ie(Object(U.a)({browserInstanceId:pe}))):q(sn,Xt,bn)},[pe,ie,q]),ga=Object(s.useCallback)(()=>{ie(Object(X.a)({browserInstanceId:pe}))},[pe,ie]);return{rows:f,onSearch:Ma,onResetSearch:ga,searcherOptions:Oe,isZeroState:cn}},"useFileExplorer");D.displayName="useFileExplorer",y.a=D}}]);})();
